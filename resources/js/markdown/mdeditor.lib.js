/*! zybuluo */
function QiniuJsSDK() {
    this.detectIEVersion = function () {
        for (var a = 4, b = document.createElement("div"), c = b.getElementsByTagName("i"); b.innerHTML = "<!--[if gt IE " + a + "]><i></i><![endif]-->", c[0];)a++;
        return a > 4 ? a : !1
    }, this.isImage = function (a) {
        var b, c = "", d = ["png", "jpg", "jpeg", "gif", "bmp"], e = /\.([a-zA-Z0-9]+)(\?|\@|$)/;
        if (!a || !e.test(a))return !1;
        b = e.exec(a), c = b[1].toLowerCase();
        for (var f = 0, g = d.length; g > f; f++)if (c === d[f])return !0;
        return !1
    }, this.getFileExtension = function (a) {
        var b, c = a.split(".");
        return b = 1 === c.length || "" === c[0] && 2 === c.length ? "" : c.pop().toLowerCase()
    }, this.utf8_encode = function (a) {
        if (null === a || "undefined" == typeof a)return "";
        var b, c, d = a + "", e = "", f = 0;
        b = c = 0, f = d.length;
        for (var g = 0; f > g; g++) {
            var h = d.charCodeAt(g), i = null;
            if (128 > h)c++; else if (h > 127 && 2048 > h)i = String.fromCharCode(h >> 6 | 192, 63 & h | 128); else if (63488 & h ^ !0)i = String.fromCharCode(h >> 12 | 224, h >> 6 & 63 | 128, 63 & h | 128); else {
                if (64512 & h ^ !0)throw new RangeError("Unmatched trail surrogate at " + g);
                var j = d.charCodeAt(++g);
                if (64512 & j ^ !0)throw new RangeError("Unmatched lead surrogate at " + (g - 1));
                h = ((1023 & h) << 10) + (1023 & j) + 65536, i = String.fromCharCode(h >> 18 | 240, h >> 12 & 63 | 128, h >> 6 & 63 | 128, 63 & h | 128)
            }
            null !== i && (c > b && (e += d.slice(b, c)), e += i, b = c = g + 1)
        }
        return c > b && (e += d.slice(b, f)), e
    }, this.base64_encode = function (a) {
        var b, c, d, e, f, g, h, i, j = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", k = 0, l = 0, m = "", n = [];
        if (!a)return a;
        a = this.utf8_encode(a + "");
        do b = a.charCodeAt(k++), c = a.charCodeAt(k++), d = a.charCodeAt(k++), i = b << 16 | c << 8 | d, e = i >> 18 & 63, f = i >> 12 & 63, g = i >> 6 & 63, h = 63 & i, n[l++] = j.charAt(e) + j.charAt(f) + j.charAt(g) + j.charAt(h); while (k < a.length);
        switch (m = n.join(""), a.length % 3) {
            case 1:
                m = m.slice(0, -2) + "==";
                break;
            case 2:
                m = m.slice(0, -1) + "="
        }
        return m
    }, this.URLSafeBase64Encode = function (a) {
        return a = this.base64_encode(a), a.replace(/\//g, "_").replace(/\+/g, "-")
    }, this.createAjax = function () {
        var a = {};
        return a = window.XMLHttpRequest ? new XMLHttpRequest : new ActiveXObject("Microsoft.XMLHTTP")
    }, this.parseJSON = function (a) {
        return window.JSON && window.JSON.parse ? window.JSON.parse(a) : null === a ? a : "string" == typeof a && (a = this.trim(a), a && /^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g, "@").replace(/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) ? function () {
            return a
        }() : void 0
    }, this.trim = function (a) {
        return null === a ? "" : this.trim.call(a)
    };
    var a = this;
    this.uploader = function (b) {
        if (!b.domain)throw"uptoken_url or domain is required!";
        if (!b.browse_button)throw"browse_button is required!";
        var c = {}, d = b.init && b.init.Error, e = b.init && b.init.FileUploaded;
        b.init.Error = function () {
        }, b.init.FileUploaded = function () {
        }, a.uptoken_url = b.uptoken_url, a.token = "", a.key_handler = "function" == typeof b.init.Key ? b.init.Key : "", this.domain = b.domain;
        var f = "", g = {isResumeUpload: !1, resumeFilesize: 0, startTime: "", currentTime: ""}, h = function () {
            var c, d, e, f = a.detectIEVersion(), g = "Safari" === mOxie.Env.browser && mOxie.Env.version <= 5 && "Windows" === mOxie.Env.os && "7" === mOxie.Env.osVersion || "Safari" === mOxie.Env.browser && "iOS" === mOxie.Env.os && "7" === mOxie.Env.osVersion;
            f && 9 >= f && b.chunk_size && b.runtimes.indexOf("flash") >= 0 ? b.chunk_size = 0 : g ? b.chunk_size = 0 : (c = 20, d = 4 << c, e = plupload.parseSize(b.chunk_size), e > d && (b.chunk_size = d))
        };
        h();
        var i = function () {
            if (b.uptoken)a.token = b.uptoken; else {
                var c = a.createAjax();
                c.open("GET", a.uptoken_url, !0), c.setRequestHeader("If-Modified-Since", "0"), c.onreadystatechange = function () {
                    if (4 === c.readyState && 200 === c.status) {
                        var b = a.parseJSON(c.responseText);
                        a.token = b.uptoken
                    }
                }, c.send()
            }
        }, j = function (c, d, e) {
            var f = "", g = !1;
            if (!b.save_key)if (g = c.getOption && c.getOption("unique_names"), g = g || c.settings && c.settings.unique_names) {
                var h = a.getFileExtension(d.name);
                f = h ? d.id + "." + h : d.id
            } else f = "function" == typeof e ? e(c, d) : d.name;
            return f
        };
        plupload.extend(c, b, {url: "https://up.qbox.me", multipart_params: {token: ""}});
        var k = new plupload.Uploader(c);
        return k.bind("Init", function () {
            i()
        }), k.init(), k.bind("FilesAdded", function (a, b) {
            var c = a.getOption && a.getOption("auto_start");
            c = c || a.settings && a.settings.auto_start, c && plupload.each(b, function () {
                a.start()
            }), a.refresh()
        }), k.bind("BeforeUpload", function (c, d) {
            d.speed = d.speed || 0, f = "";
            var e = function (c, d, e) {
                g.startTime = (new Date).getTime();
                var f;
                f = b.save_key ? {token: a.token} : {key: j(c, d, e), token: a.token};
                var h = b.x_vars;
                if (void 0 !== h && "object" == typeof h)for (var i in h)h.hasOwnProperty(i) && ("function" == typeof h[i] ? f["x:" + i] = h[i](c, d) : "object" != typeof h[i] && (f["x:" + i] = h[i]));
                c.setOption({url: "https://up.qbox.me/", multipart: !0, chunk_size: void 0, multipart_params: f})
            }, h = c.getOption && c.getOption("chunk_size");
            if (h = h || c.settings && c.settings.chunk_size, "html5" === k.runtime && h)if (d.size < h)e(c, d, a.key_handler); else {
                var i = localStorage.getItem(d.name), l = h;
                if (i) {
                    i = JSON.parse(i);
                    var m = (new Date).getTime(), n = i.time || 0, o = 864e5;
                    o > m - n ? 100 !== i.percent ? d.size === i.total ? (d.percent = i.percent, d.loaded = i.offset, f = i.ctx, g.isResumeUpload = !0, g.resumeFilesize = i.offset, i.offset + l > d.size && (l = d.size - i.offset)) : localStorage.removeItem(d.name) : localStorage.removeItem(d.name) : localStorage.removeItem(d.name)
                }
                g.startTime = (new Date).getTime(), c.setOption({
                    url: "https://up.qbox.me/mkblk/" + l,
                    multipart: !1,
                    chunk_size: h,
                    required_features: "chunks",
                    headers: {Authorization: "UpToken " + a.token},
                    multipart_params: {}
                })
            } else e(c, d, a.key_handler)
        }), k.bind("UploadProgress", function (a, b) {
            g.currentTime = (new Date).getTime();
            var c = g.currentTime - g.startTime, d = b.loaded || 0;
            g.isResumeUpload && (d = b.loaded - g.resumeFilesize), b.speed = (d / c * 1e3).toFixed(0) || 0
        }), k.bind("ChunkUploaded", function (b, c, d) {
            var e = a.parseJSON(d.response);
            f = f ? f + "," + e.ctx : e.ctx;
            var g = d.total - d.offset, h = b.getOption && b.getOption("chunk_size");
            h = h || b.settings && b.settings.chunk_size, h > g && b.setOption({url: "https://up.qbox.me/mkblk/" + g}), localStorage.setItem(c.name, JSON.stringify({
                ctx: f,
                percent: c.percent,
                total: d.total,
                offset: d.offset,
                time: (new Date).getTime()
            }))
        }), k.bind("Error", function (b) {
            return function (c, d) {
                var e = "", f = d.file;
                if (f) {
                    switch (d.code) {
                        case plupload.FAILED:
                            e = "上传失败。请稍后再试。";
                            break;
                        case plupload.FILE_SIZE_ERROR:
                            var g = c.getOption && c.getOption("max_file_size");
                            g = g || c.settings && c.settings.max_file_size, e = "浏览器最大可上传" + g + "。更大文件请使用命令行工具。";
                            break;
                        case plupload.FILE_EXTENSION_ERROR:
                            e = "文件验证失败。请稍后重试。";
                            break;
                        case plupload.HTTP_ERROR:
                            var h = a.parseJSON(d.response), i = h.error;
                            switch (d.status) {
                                case 400:
                                    e = "请求报文格式错误。";
                                    break;
                                case 401:
                                    e = "客户端认证授权失败。请重试或提交反馈。";
                                    break;
                                case 405:
                                    e = "客户端请求错误。请重试或提交反馈。";
                                    break;
                                case 579:
                                    e = "资源上传成功，但回调失败。";
                                    break;
                                case 599:
                                    e = "网络连接异常。请重试或提交反馈。";
                                    break;
                                case 614:
                                    e = "文件已存在。";
                                    try {
                                        h = a.parseJSON(h.error), i = h.error || "file exists"
                                    } catch (j) {
                                        i = h.error || "file exists"
                                    }
                                    break;
                                case 631:
                                    e = "指定空间不存在。";
                                    break;
                                case 701:
                                    e = "上传数据块校验出错。请重试或提交反馈。";
                                    break;
                                default:
                                    e = "未知错误。"
                            }
                            e = e + "(" + d.status + "：" + i + ")";
                            break;
                        case plupload.SECURITY_ERROR:
                            e = "安全配置错误。请联系网站管理员。";
                            break;
                        case plupload.GENERIC_ERROR:
                            e = "上传失败。请稍后再试。";
                            break;
                        case plupload.IO_ERROR:
                            e = "上传失败。请稍后再试。";
                            break;
                        case plupload.INIT_ERROR:
                            e = "网站配置错误。请联系网站管理员。", k.destroy();
                            break;
                        default:
                            e = d.message + d.details
                    }
                    b && b(c, d, e)
                }
                c.refresh()
            }
        }(d)), k.bind("FileUploaded", function (c) {
            return function (d, e, g) {
                var h = function (d, e, f) {
                    if (b.downtoken_url) {
                        var g = a.createAjax();
                        g.open("POST", b.downtoken_url, !0), g.setRequestHeader("Content-type", "application/x-www-form-urlencoded"), g.onreadystatechange = function () {
                            if (4 === g.readyState)if (200 === g.status) {
                                var b;
                                try {
                                    b = a.parseJSON(g.responseText)
                                } catch (h) {
                                    throw"invalid json format"
                                }
                                var i = {};
                                plupload.extend(i, a.parseJSON(f), b), c && c(d, e, JSON.stringify(i))
                            } else k.trigger("Error", {
                                status: g.status,
                                response: g.responseText,
                                file: e,
                                code: plupload.HTTP_ERROR
                            })
                        }, g.send("key=" + a.parseJSON(f).key + "&domain=" + b.domain)
                    } else c && c(d, e, f)
                }, i = a.parseJSON(g.response);
                if (f = f ? f : i.ctx) {
                    var l = "";
                    b.save_key || (l = j(d, e, a.key_handler), l = l ? "/key/" + a.URLSafeBase64Encode(l) : "");
                    var m = b.x_vars, n = "", o = "";
                    if (void 0 !== m && "object" == typeof m)for (var p in m)m.hasOwnProperty(p) && ("function" == typeof m[p] ? n = a.URLSafeBase64Encode(m[p](d, e)) : "object" != typeof m[p] && (n = a.URLSafeBase64Encode(m[p])), o += "/x:" + p + "/" + n);
                    var q = "https://up.qbox.me/mkfile/" + e.size + l + o, r = a.createAjax();
                    r.open("POST", q, !0), r.setRequestHeader("Content-Type", "text/plain;charset=UTF-8"), r.setRequestHeader("Authorization", "UpToken " + a.token), r.onreadystatechange = function () {
                        if (4 === r.readyState)if (localStorage.removeItem(e.name), 200 === r.status) {
                            var a = r.responseText;
                            h(d, e, a)
                        } else k.trigger("Error", {status: r.status, response: r.responseText, file: e, code: -200})
                    }, r.send(f)
                } else h(d, e, g.response)
            }
        }(e)), k
    }, this.getUrl = function (a) {
        if (!a)return !1;
        a = encodeURI(a);
        var b = this.domain;
        return "/" !== b.slice(b.length - 1) && (b += "/"), b + a
    }, this.imageView2 = function (a, b) {
        var c = a.mode || "", d = a.w || "", e = a.h || "", f = a.q || "", g = a.format || "";
        if (!c)return !1;
        if (!d && !e)return !1;
        var h = "imageView2/" + c;
        return h += d ? "/w/" + d : "", h += e ? "/h/" + e : "", h += f ? "/q/" + f : "", h += g ? "/format/" + g : "", b && (h = this.getUrl(b) + "?" + h), h
    }, this.imageMogr2 = function (a, b) {
        var c = a["auto-orient"] || "", d = a.thumbnail || "", e = a.strip || "", f = a.gravity || "", g = a.crop || "", h = a.quality || "", i = a.rotate || "", j = a.format || "", k = a.blur || "", l = "imageMogr2";
        return l += c ? "/auto-orient" : "", l += d ? "/thumbnail/" + d : "", l += e ? "/strip" : "", l += f ? "/gravity/" + f : "", l += h ? "/quality/" + h : "", l += g ? "/crop/" + g : "", l += i ? "/rotate/" + i : "", l += j ? "/format/" + j : "", l += k ? "/blur/" + k : "", b && (l = this.getUrl(b) + "?" + l), l
    }, this.watermark = function (a, b) {
        var c = a.mode;
        if (!c)return !1;
        var d = "watermark/" + c;
        if (1 === c) {
            var e = a.image || "";
            if (!e)return !1;
            d += e ? "/image/" + this.URLSafeBase64Encode(e) : ""
        } else {
            if (2 !== c)return !1;
            var f = a.text ? a.text : "", g = a.font ? a.font : "", h = a.fontsize ? a.fontsize : "", i = a.fill ? a.fill : "";
            if (!f)return !1;
            d += f ? "/text/" + this.URLSafeBase64Encode(f) : "", d += g ? "/font/" + this.URLSafeBase64Encode(g) : "", d += h ? "/fontsize/" + h : "", d += i ? "/fill/" + this.URLSafeBase64Encode(i) : ""
        }
        var j = a.dissolve || "", k = a.gravity || "", l = a.dx || "", m = a.dy || "";
        return d += j ? "/dissolve/" + j : "", d += k ? "/gravity/" + k : "", d += l ? "/dx/" + l : "", d += m ? "/dy/" + m : "", b && (d = this.getUrl(b) + "?" + d), d
    }, this.imageInfo = function (a) {
        if (!a)return !1;
        var b, c = this.getUrl(a) + "?imageInfo", d = this.createAjax(), e = this;
        return d.open("GET", c, !1), d.onreadystatechange = function () {
            4 === d.readyState && 200 === d.status && (b = e.parseJSON(d.responseText))
        }, d.send(), b
    }, this.exif = function (a) {
        if (!a)return !1;
        var b, c = this.getUrl(a) + "?exif", d = this.createAjax(), e = this;
        return d.open("GET", c, !1), d.onreadystatechange = function () {
            4 === d.readyState && 200 === d.status && (b = e.parseJSON(d.responseText))
        }, d.send(), b
    }, this.get = function (a, b) {
        return b && a ? "exif" === a ? this.exif(b) : "imageInfo" === a ? this.imageInfo(b) : !1 : !1
    }, this.pipeline = function (a, b) {
        var c, d, e = "[object Array]" === Object.prototype.toString.call(a), f = "";
        if (e) {
            for (var g = 0, h = a.length; h > g; g++) {
                if (c = a[g], !c.fop)return !1;
                switch (c.fop) {
                    case"watermark":
                        f += this.watermark(c) + "|";
                        break;
                    case"imageView2":
                        f += this.imageView2(c) + "|";
                        break;
                    case"imageMogr2":
                        f += this.imageMogr2(c) + "|";
                        break;
                    default:
                        d = !0
                }
                if (d)return !1
            }
            if (b) {
                f = this.getUrl(b) + "?" + f;
                var i = f.length;
                "|" === f.slice(i - 1) && (f = f.slice(0, i - 1))
            }
            return f
        }
        return !1
    }
}
function log(a) {
    window.console && showLog && console.log(a)
}
function css_browser_selector(a) {
    function b() {
        var a = window.outerWidth || t.clientWidth, b = window.outerHeight || t.clientHeight;
        c.orientation = b > a ? "portrait" : "landscape", t.className = t.className.replace(/ ?orientation_\w+/g, "").replace(/ [min|max|cl]+[w|h]_\d+/g, "");
        for (var f = e - 1; f >= 0; f--)if (a >= d[f]) {
            c.maxw = d[f];
            break
        }
        widthClasses = "";
        for (var g in c)widthClasses += " " + g + "_" + c[g];
        return t.className = t.className + widthClasses, widthClasses
    }

    var c = {}, d = [320, 480, 640, 768, 1024, 1152, 1280, 1440, 1680, 1920, 2560], e = d.length, f = a.toLowerCase(), g = function (a) {
        return RegExp(a, "i").test(f)
    }, h = function (a, b) {
        b = b.replace(".", "_");
        for (var c = b.indexOf("_"), d = ""; c > 0;)d += " " + a + b.substring(0, c), c = b.indexOf("_", c + 1);
        return d += " " + a + b
    }, i = "gecko", j = "webkit", k = "chrome", l = "firefox", m = "safari", n = "opera", o = "mobile", p = "android", q = "blackberry", r = "lang_", s = "device_", t = document.documentElement, u = [!/opera|webtv/i.test(f) && /msie\s(\d+)/.test(f) ? "ie ie" + (/trident\/4\.0/.test(f) ? "8" : RegExp.$1) : g("firefox/") ? i + " " + l + (/firefox\/((\d+)(\.(\d+))(\.\d+)*)/.test(f) ? " " + l + RegExp.$2 + " " + l + RegExp.$2 + "_" + RegExp.$4 : "") : g("gecko/") ? i : g("opera") ? n + (/version\/((\d+)(\.(\d+))(\.\d+)*)/.test(f) ? " " + n + RegExp.$2 + " " + n + RegExp.$2 + "_" + RegExp.$4 : /opera(\s|\/)(\d+)\.(\d+)/.test(f) ? " " + n + RegExp.$2 + " " + n + RegExp.$2 + "_" + RegExp.$3 : "") : g("konqueror") ? "konqueror" : g("blackberry") ? q + (/Version\/(\d+)(\.(\d+)+)/i.test(f) ? " " + q + RegExp.$1 + " " + q + RegExp.$1 + RegExp.$2.replace(".", "_") : /Blackberry ?(([0-9]+)([a-z]?))[\/|;]/gi.test(f) ? " " + q + RegExp.$2 + (RegExp.$3 ? " " + q + RegExp.$2 + RegExp.$3 : "") : "") : g("android") ? p + (/Version\/(\d+)(\.(\d+))+/i.test(f) ? " " + p + RegExp.$1 + " " + p + RegExp.$1 + RegExp.$2.replace(".", "_") : "") + (/Android (.+); (.+) Build/i.test(f) ? " " + s + RegExp.$2.replace(/ /g, "_").replace(/-/g, "_") : "") : g("chrome") ? j + " " + k + (/chrome\/((\d+)(\.(\d+))(\.\d+)*)/.test(f) ? " " + k + RegExp.$2 + (RegExp.$4 > 0 ? " " + k + RegExp.$2 + "_" + RegExp.$4 : "") : "") : g("iron") ? j + " iron" : g("applewebkit/") ? j + " " + m + (/version\/((\d+)(\.(\d+))(\.\d+)*)/.test(f) ? " " + m + RegExp.$2 + " " + m + RegExp.$2 + RegExp.$3.replace(".", "_") : / Safari\/(\d+)/i.test(f) ? "419" == RegExp.$1 || "417" == RegExp.$1 || "416" == RegExp.$1 || "412" == RegExp.$1 ? " " + m + "2_0" : "312" == RegExp.$1 ? " " + m + "1_3" : "125" == RegExp.$1 ? " " + m + "1_2" : "85" == RegExp.$1 ? " " + m + "1_0" : "" : "") : g("mozilla/") ? i : "", g("android|mobi|mobile|j2me|iphone|ipod|ipad|blackberry|playbook|kindle|silk") ? o : "", g("j2me") ? "j2me" : g("ipad|ipod|iphone") ? (/CPU( iPhone)? OS (\d+[_|\.]\d+([_|\.]\d+)*)/i.test(f) ? "ios" + h("ios", RegExp.$2) : "") + " " + (/(ip(ad|od|hone))/gi.test(f) ? RegExp.$1 : "") : g("playbook") ? "playbook" : g("kindle|silk") ? "kindle" : g("playbook") ? "playbook" : g("mac") ? "mac" + (/mac os x ((\d+)[.|_](\d+))/.test(f) ? " mac" + RegExp.$2 + " mac" + RegExp.$1.replace(".", "_") : "") : g("win") ? "win" + (g("windows nt 6.2") ? " win8" : g("windows nt 6.1") ? " win7" : g("windows nt 6.0") ? " vista" : g("windows nt 5.2") || g("windows nt 5.1") ? " win_xp" : g("windows nt 5.0") ? " win_2k" : g("windows nt 4.0") || g("WinNT4.0") ? " win_nt" : "") : g("freebsd") ? "freebsd" : g("x11|linux") ? "linux" : "", /[; |\[](([a-z]{2})(\-[a-z]{2})?)[)|;|\]]/i.test(f) ? (r + RegExp.$2).replace("-", "_") + ("" != RegExp.$3 ? (" " + r + RegExp.$1).replace("-", "_") : "") : "", g("ipad|iphone|ipod") && !g("safari") ? "ipad_app" : ""];
    window.onresize = b, b();
    var v = u.join(" ") + " js ";
    return t.className = (v + t.className.replace(/\b(no[-|_]?)?js\b/g, "")).replace(/^ /, "").replace(/ +/g, " "), v
}
function diff_match_patch() {
    this.Diff_Timeout = 1, this.Diff_EditCost = 4, this.Match_Threshold = .5, this.Match_Distance = 1e3, this.Patch_DeleteThreshold = .5, this.Patch_Margin = 4, this.Match_MaxBits = 32
}
!function (a, b) {
    "use strict";
    function c(a, b) {
        for (var c, d = [], f = 0; f < a.length; ++f) {
            if (c = g[a[f]] || e(a[f]), !c)throw"module definition dependecy not found: " + a[f];
            d.push(c)
        }
        b.apply(null, d)
    }

    function d(a, d, e) {
        if ("string" != typeof a)throw"invalid module definition, module id must be defined and be a string";
        if (d === b)throw"invalid module definition, dependencies must be specified";
        if (e === b)throw"invalid module definition, definition function must be specified";
        c(d, function () {
            g[a] = e.apply(null, arguments)
        })
    }

    function e(b) {
        for (var c = a, d = b.split(/[.\/]/), e = 0; e < d.length; ++e) {
            if (!c[d[e]])return;
            c = c[d[e]]
        }
        return c
    }

    function f(c) {
        for (var d = 0; d < c.length; d++) {
            for (var e = a, f = c[d], h = f.split(/[.\/]/), i = 0; i < h.length - 1; ++i)e[h[i]] === b && (e[h[i]] = {}), e = e[h[i]];
            e[h[h.length - 1]] = g[f]
        }
    }

    var g = {}, h = "moxie/core/utils/Basic", i = "moxie/core/utils/Env", j = "moxie/core/I18n", k = "moxie/core/utils/Mime", l = "moxie/core/utils/Dom", m = "moxie/core/Exceptions", n = "moxie/core/EventTarget", o = "moxie/runtime/Runtime", p = "moxie/runtime/RuntimeClient", q = "moxie/file/FileInput", r = "moxie/core/utils/Encode", s = "moxie/file/Blob", t = "moxie/file/File", u = "moxie/file/FileDrop", v = "moxie/file/FileReader", w = "moxie/core/utils/Url", x = "moxie/runtime/RuntimeTarget", y = "moxie/file/FileReaderSync", z = "moxie/xhr/FormData", A = "moxie/xhr/XMLHttpRequest", B = "moxie/runtime/Transporter", C = "moxie/image/Image", D = "moxie/runtime/html5/Runtime", E = "moxie/core/utils/Events", F = "moxie/runtime/html5/file/FileInput", G = "moxie/runtime/html5/file/Blob", H = "moxie/runtime/html5/file/FileDrop", I = "moxie/runtime/html5/file/FileReader", J = "moxie/runtime/html5/xhr/XMLHttpRequest", K = "moxie/runtime/html5/utils/BinaryReader", L = "moxie/runtime/html5/image/JPEGHeaders", M = "moxie/runtime/html5/image/ExifParser", N = "moxie/runtime/html5/image/JPEG", O = "moxie/runtime/html5/image/PNG", P = "moxie/runtime/html5/image/ImageInfo", Q = "moxie/runtime/html5/image/MegaPixel", R = "moxie/runtime/html5/image/Image", S = "moxie/runtime/flash/Runtime", T = "moxie/runtime/flash/file/FileInput", U = "moxie/runtime/flash/file/Blob", V = "moxie/runtime/flash/file/FileReader", W = "moxie/runtime/flash/file/FileReaderSync", X = "moxie/runtime/flash/xhr/XMLHttpRequest", Y = "moxie/runtime/flash/runtime/Transporter", Z = "moxie/runtime/flash/image/Image", $ = "moxie/runtime/silverlight/Runtime", _ = "moxie/runtime/silverlight/file/FileInput", ab = "moxie/runtime/silverlight/file/Blob", bb = "moxie/runtime/silverlight/file/FileDrop", cb = "moxie/runtime/silverlight/file/FileReader", db = "moxie/runtime/silverlight/file/FileReaderSync", eb = "moxie/runtime/silverlight/xhr/XMLHttpRequest", fb = "moxie/runtime/silverlight/runtime/Transporter", gb = "moxie/runtime/silverlight/image/Image", hb = "moxie/runtime/html4/Runtime", ib = "moxie/runtime/html4/file/FileInput", jb = "moxie/runtime/html4/file/FileReader", kb = "moxie/runtime/html4/xhr/XMLHttpRequest", lb = "moxie/runtime/html4/image/Image";
    d(h, [], function () {
        var a = function (a) {
            var b;
            return a === b ? "undefined" : null === a ? "null" : a.nodeType ? "node" : {}.toString.call(a).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()
        }, b = function (d) {
            var e;
            return c(arguments, function (f, h) {
                h > 0 && c(f, function (c, f) {
                    c !== e && (a(d[f]) === a(c) && ~g(a(c), ["array", "object"]) ? b(d[f], c) : d[f] = c)
                })
            }), d
        }, c = function (b, c) {
            var d, e, f;
            if (b)if ("number" === a(b.length)) {
                for (f = 0, d = b.length; d > f; f++)if (c(b[f], f) === !1)return
            } else if ("object" === a(b))for (e in b)if (b.hasOwnProperty(e) && c(b[e], e) === !1)return
        }, d = function (b) {
            var c;
            if (!b || "object" !== a(b))return !0;
            for (c in b)return !1;
            return !0
        }, e = function (b, c) {
            function d(e) {
                "function" === a(b[e]) && b[e](function (a) {
                    ++e < f && !a ? d(e) : c(a)
                })
            }

            var e = 0, f = b.length;
            "function" !== a(c) && (c = function () {
            }), b && b.length || c(), d(e)
        }, f = function (a, b) {
            var d = 0, e = a.length, f = new Array(e);
            c(a, function (a, c) {
                a(function (a) {
                    if (a)return b(a);
                    var g = [].slice.call(arguments);
                    g.shift(), f[c] = g, d++, d === e && (f.unshift(null), b.apply(this, f))
                })
            })
        }, g = function (a, b) {
            if (b) {
                if (Array.prototype.indexOf)return Array.prototype.indexOf.call(b, a);
                for (var c = 0, d = b.length; d > c; c++)if (b[c] === a)return c
            }
            return -1
        }, h = function (b, c) {
            var d = [];
            "array" !== a(b) && (b = [b]), "array" !== a(c) && (c = [c]);
            for (var e in b)-1 === g(b[e], c) && d.push(b[e]);
            return d.length ? d : !1
        }, i = function (a, b) {
            var d = [];
            return c(a, function (a) {
                -1 !== g(a, b) && d.push(a)
            }), d.length ? d : null
        }, j = function (a) {
            var b, c = [];
            for (b = 0; b < a.length; b++)c[b] = a[b];
            return c
        }, k = function () {
            var a = 0;
            return function (b) {
                var c, d = (new Date).getTime().toString(32);
                for (c = 0; 5 > c; c++)d += Math.floor(65535 * Math.random()).toString(32);
                return (b || "o_") + d + (a++).toString(32)
            }
        }(), l = function (a) {
            return a ? String.prototype.trim ? String.prototype.trim.call(a) : a.toString().replace(/^\s*/, "").replace(/\s*$/, "") : a
        }, m = function (a) {
            if ("string" != typeof a)return a;
            var b, c = {t: 1099511627776, g: 1073741824, m: 1048576, k: 1024};
            return a = /^([0-9\.]+)([tmgk]?)$/.exec(a.toLowerCase().replace(/[^0-9\.tmkg]/g, "")), b = a[2], a = +a[1], c.hasOwnProperty(b) && (a *= c[b]), Math.floor(a)
        }, n = function (b) {
            var c = [].slice.call(arguments, 1);
            return b.replace(/%[a-z]/g, function () {
                var b = c.shift();
                return "undefined" !== a(b) ? b : ""
            })
        };
        return {
            guid: k,
            typeOf: a,
            extend: b,
            each: c,
            isEmptyObj: d,
            inSeries: e,
            inParallel: f,
            inArray: g,
            arrayDiff: h,
            arrayIntersect: i,
            toArray: j,
            trim: l,
            sprintf: n,
            parseSizeStr: m
        }
    }), d(i, [h], function (a) {
        function b(a, b, c) {
            var d = 0, e = 0, f = 0, g = {
                dev: -6,
                alpha: -5,
                a: -5,
                beta: -4,
                b: -4,
                RC: -3,
                rc: -3,
                "#": -2,
                p: 1,
                pl: 1
            }, h = function (a) {
                return a = ("" + a).replace(/[_\-+]/g, "."), a = a.replace(/([^.\d]+)/g, ".$1.").replace(/\.{2,}/g, "."), a.length ? a.split(".") : [-8]
            }, i = function (a) {
                return a ? isNaN(a) ? g[a] || -7 : parseInt(a, 10) : 0
            };
            for (a = h(a), b = h(b), e = Math.max(a.length, b.length), d = 0; e > d; d++)if (a[d] != b[d]) {
                if (a[d] = i(a[d]), b[d] = i(b[d]), a[d] < b[d]) {
                    f = -1;
                    break
                }
                if (a[d] > b[d]) {
                    f = 1;
                    break
                }
            }
            if (!c)return f;
            switch (c) {
                case">":
                case"gt":
                    return f > 0;
                case">=":
                case"ge":
                    return f >= 0;
                case"<=":
                case"le":
                    return 0 >= f;
                case"==":
                case"=":
                case"eq":
                    return 0 === f;
                case"<>":
                case"!=":
                case"ne":
                    return 0 !== f;
                case"":
                case"<":
                case"lt":
                    return 0 > f;
                default:
                    return null
            }
        }

        var c = function (a) {
            var b = "", c = "?", d = "function", e = "undefined", f = "object", g = "name", h = "version", i = {
                has: function (a, b) {
                    return -1 !== b.toLowerCase().indexOf(a.toLowerCase())
                }, lowerize: function (a) {
                    return a.toLowerCase()
                }
            }, j = {
                rgx: function () {
                    for (var b, c, g, h, i, j, k, l = 0, m = arguments; l < m.length; l += 2) {
                        var n = m[l], o = m[l + 1];
                        if (typeof b === e) {
                            b = {};
                            for (h in o)i = o[h], typeof i === f ? b[i[0]] = a : b[i] = a
                        }
                        for (c = g = 0; c < n.length; c++)if (j = n[c].exec(this.getUA())) {
                            for (h = 0; h < o.length; h++)k = j[++g], i = o[h], typeof i === f && i.length > 0 ? 2 == i.length ? b[i[0]] = typeof i[1] == d ? i[1].call(this, k) : i[1] : 3 == i.length ? b[i[0]] = typeof i[1] !== d || i[1].exec && i[1].test ? k ? k.replace(i[1], i[2]) : a : k ? i[1].call(this, k, i[2]) : a : 4 == i.length && (b[i[0]] = k ? i[3].call(this, k.replace(i[1], i[2])) : a) : b[i] = k ? k : a;
                            break
                        }
                        if (j)break
                    }
                    return b
                }, str: function (b, d) {
                    for (var e in d)if (typeof d[e] === f && d[e].length > 0) {
                        for (var g = 0; g < d[e].length; g++)if (i.has(d[e][g], b))return e === c ? a : e
                    } else if (i.has(d[e], b))return e === c ? a : e;
                    return b
                }
            }, k = {
                browser: {
                    oldsafari: {
                        major: {1: ["/8", "/1", "/3"], 2: "/4", "?": "/"},
                        version: {
                            "1.0": "/8",
                            1.2: "/1",
                            1.3: "/3",
                            "2.0": "/412",
                            "2.0.2": "/416",
                            "2.0.3": "/417",
                            "2.0.4": "/419",
                            "?": "/"
                        }
                    }
                },
                device: {sprint: {model: {"Evo Shift 4G": "7373KT"}, vendor: {HTC: "APA", Sprint: "Sprint"}}},
                os: {
                    windows: {
                        version: {
                            ME: "4.90",
                            "NT 3.11": "NT3.51",
                            "NT 4.0": "NT4.0",
                            2e3: "NT 5.0",
                            XP: ["NT 5.1", "NT 5.2"],
                            Vista: "NT 6.0",
                            7: "NT 6.1",
                            8: "NT 6.2",
                            8.1: "NT 6.3",
                            RT: "ARM"
                        }
                    }
                }
            }, l = {
                browser: [[/(opera\smini)\/([\w\.-]+)/i, /(opera\s[mobiletab]+).+version\/([\w\.-]+)/i, /(opera).+version\/([\w\.]+)/i, /(opera)[\/\s]+([\w\.]+)/i], [g, h], [/\s(opr)\/([\w\.]+)/i], [[g, "Opera"], h], [/(kindle)\/([\w\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i, /(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i, /(?:ms|\()(ie)\s([\w\.]+)/i, /(rekonq)\/([\w\.]+)*/i, /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi)\/([\w\.-]+)/i], [g, h], [/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i], [[g, "IE"], h], [/(edge)\/((\d+)?[\w\.]+)/i], [g, h], [/(yabrowser)\/([\w\.]+)/i], [[g, "Yandex"], h], [/(comodo_dragon)\/([\w\.]+)/i], [[g, /_/g, " "], h], [/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i, /(uc\s?browser|qqbrowser)[\/\s]?([\w\.]+)/i], [g, h], [/(dolfin)\/([\w\.]+)/i], [[g, "Dolphin"], h], [/((?:android.+)crmo|crios)\/([\w\.]+)/i], [[g, "Chrome"], h], [/XiaoMi\/MiuiBrowser\/([\w\.]+)/i], [h, [g, "MIUI Browser"]], [/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i], [h, [g, "Android Browser"]], [/FBAV\/([\w\.]+);/i], [h, [g, "Facebook"]], [/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i], [h, [g, "Mobile Safari"]], [/version\/([\w\.]+).+?(mobile\s?safari|safari)/i], [h, g], [/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i], [g, [h, j.str, k.browser.oldsafari.version]], [/(konqueror)\/([\w\.]+)/i, /(webkit|khtml)\/([\w\.]+)/i], [g, h], [/(navigator|netscape)\/([\w\.-]+)/i], [[g, "Netscape"], h], [/(swiftfox)/i, /(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i, /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i, /(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i, /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i, /(links)\s\(([\w\.]+)/i, /(gobrowser)\/?([\w\.]+)*/i, /(ice\s?browser)\/v?([\w\._]+)/i, /(mosaic)[\/\s]([\w\.]+)/i], [g, h]],
                engine: [[/windows.+\sedge\/([\w\.]+)/i], [h, [g, "EdgeHTML"]], [/(presto)\/([\w\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i, /(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i, /(icab)[\/\s]([23]\.[\d\.]+)/i], [g, h], [/rv\:([\w\.]+).*(gecko)/i], [h, g]],
                os: [[/microsoft\s(windows)\s(vista|xp)/i], [g, h], [/(windows)\snt\s6\.2;\s(arm)/i, /(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i], [g, [h, j.str, k.os.windows.version]], [/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i], [[g, "Windows"], [h, j.str, k.os.windows.version]], [/\((bb)(10);/i], [[g, "BlackBerry"], h], [/(blackberry)\w*\/?([\w\.]+)*/i, /(tizen)[\/\s]([\w\.]+)/i, /(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i, /linux;.+(sailfish);/i], [g, h], [/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i], [[g, "Symbian"], h], [/\((series40);/i], [g], [/mozilla.+\(mobile;.+gecko.+firefox/i], [[g, "Firefox OS"], h], [/(nintendo|playstation)\s([wids3portablevu]+)/i, /(mint)[\/\s\(]?(\w+)*/i, /(mageia|vectorlinux)[;\s]/i, /(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i, /(hurd|linux)\s?([\w\.]+)*/i, /(gnu)\s?([\w\.]+)*/i], [g, h], [/(cros)\s[\w]+\s([\w\.]+\w)/i], [[g, "Chromium OS"], h], [/(sunos)\s?([\w\.]+\d)*/i], [[g, "Solaris"], h], [/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i], [g, h], [/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i], [[g, "iOS"], [h, /_/g, "."]], [/(mac\sos\sx)\s?([\w\s\.]+\w)*/i, /(macintosh|mac(?=_powerpc)\s)/i], [[g, "Mac OS"], [h, /_/g, "."]], [/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i, /(haiku)\s(\w+)/i, /(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i, /(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i, /(unix)\s?([\w\.]+)*/i], [g, h]]
            }, m = function (a) {
                var c = a || (window && window.navigator && window.navigator.userAgent ? window.navigator.userAgent : b);
                this.getBrowser = function () {
                    return j.rgx.apply(this, l.browser)
                }, this.getEngine = function () {
                    return j.rgx.apply(this, l.engine)
                }, this.getOS = function () {
                    return j.rgx.apply(this, l.os)
                }, this.getResult = function () {
                    return {ua: this.getUA(), browser: this.getBrowser(), engine: this.getEngine(), os: this.getOS()}
                }, this.getUA = function () {
                    return c
                }, this.setUA = function (a) {
                    return c = a, this
                }, this.setUA(c)
            };
            return m
        }(), d = function () {
            var b = {
                define_property: function () {
                    return !1
                }(), create_canvas: function () {
                    var a = document.createElement("canvas");
                    return !(!a.getContext || !a.getContext("2d"))
                }(), return_response_type: function (b) {
                    try {
                        if (-1 !== a.inArray(b, ["", "text", "document"]))return !0;
                        if (window.XMLHttpRequest) {
                            var c = new XMLHttpRequest;
                            if (c.open("get", "/"), "responseType"in c)return c.responseType = b, c.responseType !== b ? !1 : !0
                        }
                    } catch (d) {
                    }
                    return !1
                }, use_data_uri: function () {
                    var a = new Image;
                    return a.onload = function () {
                        b.use_data_uri = 1 === a.width && 1 === a.height
                    }, setTimeout(function () {
                        a.src = "data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="
                    }, 1), !1
                }(), use_data_uri_over32kb: function () {
                    return b.use_data_uri && ("IE" !== f.browser || f.version >= 9)
                }, use_data_uri_of: function (a) {
                    return b.use_data_uri && 33e3 > a || b.use_data_uri_over32kb()
                }, use_fileinput: function () {
                    if (navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/))return !1;
                    var a = document.createElement("input");
                    return a.setAttribute("type", "file"), !a.disabled
                }
            };
            return function (c) {
                var d = [].slice.call(arguments);
                return d.shift(), "function" === a.typeOf(b[c]) ? b[c].apply(this, d) : !!b[c]
            }
        }(), e = (new c).getResult(), f = {
            can: d,
            uaParser: c,
            browser: e.browser.name,
            version: e.browser.version,
            os: e.os.name,
            osVersion: e.os.version,
            verComp: b,
            swf_url: "../flash/Moxie.swf",
            xap_url: "../silverlight/Moxie.xap",
            global_event_dispatcher: "moxie.core.EventTarget.instance.dispatchEvent"
        };
        return f.OS = f.os, f
    }), d(j, [h], function (a) {
        var b = {};
        return {
            addI18n: function (c) {
                return a.extend(b, c)
            }, translate: function (a) {
                return b[a] || a
            }, _: function (a) {
                return this.translate(a)
            }, sprintf: function (b) {
                var c = [].slice.call(arguments, 1);
                return b.replace(/%[a-z]/g, function () {
                    var b = c.shift();
                    return "undefined" !== a.typeOf(b) ? b : ""
                })
            }
        }
    }), d(k, [h, j], function (a, b) {
        var c = "application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3 mpga mpega mp2,audio/x-wav,wav,audio/x-m4a,m4a,audio/ogg,oga ogg,audio/aiff,aiff aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg jpeg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp 3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe", d = {
            mimes: {},
            extensions: {},
            addMimeType: function (a) {
                var b, c, d, e = a.split(/,/);
                for (b = 0; b < e.length; b += 2) {
                    for (d = e[b + 1].split(/ /), c = 0; c < d.length; c++)this.mimes[d[c]] = e[b];
                    this.extensions[e[b]] = d
                }
            },
            extList2mimes: function (b, c) {
                var d, e, f, g, h = this, i = [];
                for (e = 0; e < b.length; e++)for (d = b[e].extensions.split(/\s*,\s*/), f = 0; f < d.length; f++) {
                    if ("*" === d[f])return [];
                    if (g = h.mimes[d[f]], g && -1 === a.inArray(g, i) && i.push(g), c && /^\w+$/.test(d[f]))i.push("." + d[f]); else if (!g)return []
                }
                return i
            },
            mimes2exts: function (b) {
                var c = this, d = [];
                return a.each(b, function (b) {
                    if ("*" === b)return d = [], !1;
                    var e = b.match(/^(\w+)\/(\*|\w+)$/);
                    e && ("*" === e[2] ? a.each(c.extensions, function (a, b) {
                        new RegExp("^" + e[1] + "/").test(b) && [].push.apply(d, c.extensions[b])
                    }) : c.extensions[b] && [].push.apply(d, c.extensions[b]))
                }), d
            },
            mimes2extList: function (c) {
                var d = [], e = [];
                return "string" === a.typeOf(c) && (c = a.trim(c).split(/\s*,\s*/)), e = this.mimes2exts(c), d.push({
                    title: b.translate("Files"),
                    extensions: e.length ? e.join(",") : "*"
                }), d.mimes = c, d
            },
            getFileExtension: function (a) {
                var b = a && a.match(/\.([^.]+)$/);
                return b ? b[1].toLowerCase() : ""
            },
            getFileMime: function (a) {
                return this.mimes[this.getFileExtension(a)] || ""
            }
        };
        return d.addMimeType(c), d
    }), d(l, [i], function (a) {
        var b = function (a) {
            return "string" != typeof a ? a : document.getElementById(a)
        }, c = function (a, b) {
            if (!a.className)return !1;
            var c = new RegExp("(^|\\s+)" + b + "(\\s+|$)");
            return c.test(a.className)
        }, d = function (a, b) {
            c(a, b) || (a.className = a.className ? a.className.replace(/\s+$/, "") + " " + b : b)
        }, e = function (a, b) {
            if (a.className) {
                var c = new RegExp("(^|\\s+)" + b + "(\\s+|$)");
                a.className = a.className.replace(c, function (a, b, c) {
                    return " " === b && " " === c ? " " : ""
                })
            }
        }, f = function (a, b) {
            return a.currentStyle ? a.currentStyle[b] : window.getComputedStyle ? window.getComputedStyle(a, null)[b] : void 0
        }, g = function (b, c) {
            function d(a) {
                var b, c, d = 0, e = 0;
                return a && (c = a.getBoundingClientRect(), b = "CSS1Compat" === j.compatMode ? j.documentElement : j.body, d = c.left + b.scrollLeft, e = c.top + b.scrollTop), {
                    x: d,
                    y: e
                }
            }

            var e, f, g, h = 0, i = 0, j = document;
            if (b = b, c = c || j.body, b && b.getBoundingClientRect && "IE" === a.browser && (!j.documentMode || j.documentMode < 8))return f = d(b), g = d(c), {
                x: f.x - g.x,
                y: f.y - g.y
            };
            for (e = b; e && e != c && e.nodeType;)h += e.offsetLeft || 0, i += e.offsetTop || 0, e = e.offsetParent;
            for (e = b.parentNode; e && e != c && e.nodeType;)h -= e.scrollLeft || 0, i -= e.scrollTop || 0, e = e.parentNode;
            return {x: h, y: i}
        }, h = function (a) {
            return {w: a.offsetWidth || a.clientWidth, h: a.offsetHeight || a.clientHeight}
        };
        return {get: b, hasClass: c, addClass: d, removeClass: e, getStyle: f, getPos: g, getSize: h}
    }), d(m, [h], function (a) {
        function b(a, b) {
            var c;
            for (c in a)if (a[c] === b)return c;
            return null
        }

        return {
            RuntimeError: function () {
                function c(a) {
                    this.code = a, this.name = b(d, a), this.message = this.name + ": RuntimeError " + this.code
                }

                var d = {NOT_INIT_ERR: 1, NOT_SUPPORTED_ERR: 9, JS_ERR: 4};
                return a.extend(c, d), c.prototype = Error.prototype, c
            }(), OperationNotAllowedException: function () {
                function b(a) {
                    this.code = a, this.name = "OperationNotAllowedException"
                }

                return a.extend(b, {NOT_ALLOWED_ERR: 1}), b.prototype = Error.prototype, b
            }(), ImageError: function () {
                function c(a) {
                    this.code = a, this.name = b(d, a), this.message = this.name + ": ImageError " + this.code
                }

                var d = {WRONG_FORMAT: 1, MAX_RESOLUTION_ERR: 2, INVALID_META_ERR: 3};
                return a.extend(c, d), c.prototype = Error.prototype, c
            }(), FileException: function () {
                function c(a) {
                    this.code = a, this.name = b(d, a), this.message = this.name + ": FileException " + this.code
                }

                var d = {
                    NOT_FOUND_ERR: 1,
                    SECURITY_ERR: 2,
                    ABORT_ERR: 3,
                    NOT_READABLE_ERR: 4,
                    ENCODING_ERR: 5,
                    NO_MODIFICATION_ALLOWED_ERR: 6,
                    INVALID_STATE_ERR: 7,
                    SYNTAX_ERR: 8
                };
                return a.extend(c, d), c.prototype = Error.prototype, c
            }(), DOMException: function () {
                function c(a) {
                    this.code = a, this.name = b(d, a), this.message = this.name + ": DOMException " + this.code
                }

                var d = {
                    INDEX_SIZE_ERR: 1,
                    DOMSTRING_SIZE_ERR: 2,
                    HIERARCHY_REQUEST_ERR: 3,
                    WRONG_DOCUMENT_ERR: 4,
                    INVALID_CHARACTER_ERR: 5,
                    NO_DATA_ALLOWED_ERR: 6,
                    NO_MODIFICATION_ALLOWED_ERR: 7,
                    NOT_FOUND_ERR: 8,
                    NOT_SUPPORTED_ERR: 9,
                    INUSE_ATTRIBUTE_ERR: 10,
                    INVALID_STATE_ERR: 11,
                    SYNTAX_ERR: 12,
                    INVALID_MODIFICATION_ERR: 13,
                    NAMESPACE_ERR: 14,
                    INVALID_ACCESS_ERR: 15,
                    VALIDATION_ERR: 16,
                    TYPE_MISMATCH_ERR: 17,
                    SECURITY_ERR: 18,
                    NETWORK_ERR: 19,
                    ABORT_ERR: 20,
                    URL_MISMATCH_ERR: 21,
                    QUOTA_EXCEEDED_ERR: 22,
                    TIMEOUT_ERR: 23,
                    INVALID_NODE_TYPE_ERR: 24,
                    DATA_CLONE_ERR: 25
                };
                return a.extend(c, d), c.prototype = Error.prototype, c
            }(), EventException: function () {
                function b(a) {
                    this.code = a, this.name = "EventException"
                }

                return a.extend(b, {UNSPECIFIED_EVENT_TYPE_ERR: 0}), b.prototype = Error.prototype, b
            }()
        }
    }), d(n, [i, m, h], function (a, b, c) {
        function d() {
            var a = {};
            c.extend(this, {
                uid: null, init: function () {
                    this.uid || (this.uid = c.guid("uid_"))
                }, addEventListener: function (b, d, e, f) {
                    var g, h = this;
                    return this.hasOwnProperty("uid") || (this.uid = c.guid("uid_")), b = c.trim(b), /\s/.test(b) ? void c.each(b.split(/\s+/), function (a) {
                        h.addEventListener(a, d, e, f)
                    }) : (b = b.toLowerCase(), e = parseInt(e, 10) || 0, g = a[this.uid] && a[this.uid][b] || [], g.push({
                        fn: d,
                        priority: e,
                        scope: f || this
                    }), a[this.uid] || (a[this.uid] = {}), void(a[this.uid][b] = g))
                }, hasEventListener: function (b) {
                    var c = b ? a[this.uid] && a[this.uid][b] : a[this.uid];
                    return c ? c : !1
                }, removeEventListener: function (b, d) {
                    b = b.toLowerCase();
                    var e, f = a[this.uid] && a[this.uid][b];
                    if (f) {
                        if (d) {
                            for (e = f.length - 1; e >= 0; e--)if (f[e].fn === d) {
                                f.splice(e, 1);
                                break
                            }
                        } else f = [];
                        f.length || (delete a[this.uid][b], c.isEmptyObj(a[this.uid]) && delete a[this.uid])
                    }
                }, removeAllEventListeners: function () {
                    a[this.uid] && delete a[this.uid]
                }, dispatchEvent: function (d) {
                    var e, f, g, h, i, j = {}, k = !0;
                    if ("string" !== c.typeOf(d)) {
                        if (h = d, "string" !== c.typeOf(h.type))throw new b.EventException(b.EventException.UNSPECIFIED_EVENT_TYPE_ERR);
                        d = h.type, h.total !== i && h.loaded !== i && (j.total = h.total, j.loaded = h.loaded), j.async = h.async || !1
                    }
                    if (-1 !== d.indexOf("::") ? !function (a) {
                            e = a[0], d = a[1]
                        }(d.split("::")) : e = this.uid, d = d.toLowerCase(), f = a[e] && a[e][d]) {
                        f.sort(function (a, b) {
                            return b.priority - a.priority
                        }), g = [].slice.call(arguments), g.shift(), j.type = d, g.unshift(j);
                        var l = [];
                        c.each(f, function (a) {
                            g[0].target = a.scope, l.push(j.async ? function (b) {
                                setTimeout(function () {
                                    b(a.fn.apply(a.scope, g) === !1)
                                }, 1)
                            } : function (b) {
                                b(a.fn.apply(a.scope, g) === !1)
                            })
                        }), l.length && c.inSeries(l, function (a) {
                            k = !a
                        })
                    }
                    return k
                }, bind: function () {
                    this.addEventListener.apply(this, arguments)
                }, unbind: function () {
                    this.removeEventListener.apply(this, arguments)
                }, unbindAll: function () {
                    this.removeAllEventListeners.apply(this, arguments)
                }, trigger: function () {
                    return this.dispatchEvent.apply(this, arguments)
                }, handleEventProps: function (a) {
                    var b = this;
                    this.bind(a.join(" "), function (a) {
                        var b = "on" + a.type.toLowerCase();
                        "function" === c.typeOf(this[b]) && this[b].apply(this, arguments)
                    }), c.each(a, function (a) {
                        a = "on" + a.toLowerCase(a), "undefined" === c.typeOf(b[a]) && (b[a] = null)
                    })
                }
            })
        }

        return d.instance = new d, d
    }), d(o, [i, h, l, n], function (a, b, c, d) {
        function e(a, d, f, h, i) {
            var j, k = this, l = b.guid(d + "_"), m = i || "browser";
            a = a || {}, g[l] = this, f = b.extend({
                access_binary: !1,
                access_image_binary: !1,
                display_media: !1,
                do_cors: !1,
                drag_and_drop: !1,
                filter_by_extension: !0,
                resize_image: !1,
                report_upload_progress: !1,
                return_response_headers: !1,
                return_response_type: !1,
                return_status_code: !0,
                send_custom_headers: !1,
                select_file: !1,
                select_folder: !1,
                select_multiple: !0,
                send_binary_string: !1,
                send_browser_cookies: !0,
                send_multipart: !0,
                slice_blob: !1,
                stream_upload: !1,
                summon_file_dialog: !1,
                upload_filesize: !0,
                use_http_method: !0
            }, f), a.preferred_caps && (m = e.getMode(h, a.preferred_caps, m)), j = function () {
                var a = {};
                return {
                    exec: function (b, c, d, e) {
                        return j[c] && (a[b] || (a[b] = {
                            context: this,
                            instance: new j[c]
                        }), a[b].instance[d]) ? a[b].instance[d].apply(this, e) : void 0
                    }, removeInstance: function (b) {
                        delete a[b]
                    }, removeAllInstances: function () {
                        var c = this;
                        b.each(a, function (a, d) {
                            "function" === b.typeOf(a.instance.destroy) && a.instance.destroy.call(a.context), c.removeInstance(d)
                        })
                    }
                }
            }(), b.extend(this, {
                initialized: !1,
                uid: l,
                type: d,
                mode: e.getMode(h, a.required_caps, m),
                shimid: l + "_container",
                clients: 0,
                options: a,
                can: function (a, c) {
                    var d = arguments[2] || f;
                    if ("string" === b.typeOf(a) && "undefined" === b.typeOf(c) && (a = e.parseCaps(a)), "object" === b.typeOf(a)) {
                        for (var g in a)if (!this.can(g, a[g], d))return !1;
                        return !0
                    }
                    return "function" === b.typeOf(d[a]) ? d[a].call(this, c) : c === d[a]
                },
                getShimContainer: function () {
                    var a, d = c.get(this.shimid);
                    return d || (a = this.options.container ? c.get(this.options.container) : document.body, d = document.createElement("div"), d.id = this.shimid, d.className = "moxie-shim moxie-shim-" + this.type, b.extend(d.style, {
                        position: "absolute",
                        top: "0px",
                        left: "0px",
                        width: "1px",
                        height: "1px",
                        overflow: "hidden"
                    }), a.appendChild(d), a = null), d
                },
                getShim: function () {
                    return j
                },
                shimExec: function (a, b) {
                    var c = [].slice.call(arguments, 2);
                    return k.getShim().exec.call(this, this.uid, a, b, c)
                },
                exec: function (a, b) {
                    var c = [].slice.call(arguments, 2);
                    return k[a] && k[a][b] ? k[a][b].apply(this, c) : k.shimExec.apply(this, arguments)
                },
                destroy: function () {
                    if (k) {
                        var a = c.get(this.shimid);
                        a && a.parentNode.removeChild(a), j && j.removeAllInstances(), this.unbindAll(), delete g[this.uid], this.uid = null, l = k = j = a = null
                    }
                }
            }), this.mode && a.required_caps && !this.can(a.required_caps) && (this.mode = !1)
        }

        var f = {}, g = {};
        return e.order = "html5,flash,silverlight,html4", e.getRuntime = function (a) {
            return g[a] ? g[a] : !1
        }, e.addConstructor = function (a, b) {
            b.prototype = d.instance, f[a] = b
        }, e.getConstructor = function (a) {
            return f[a] || null
        }, e.getInfo = function (a) {
            var b = e.getRuntime(a);
            return b ? {
                uid: b.uid, type: b.type, mode: b.mode, can: function () {
                    return b.can.apply(b, arguments)
                }
            } : null
        }, e.parseCaps = function (a) {
            var c = {};
            return "string" !== b.typeOf(a) ? a || {} : (b.each(a.split(","), function (a) {
                c[a] = !0
            }), c)
        }, e.can = function (a, b) {
            var c, d, f = e.getConstructor(a);
            return f ? (c = new f({required_caps: b}), d = c.mode, c.destroy(), !!d) : !1
        }, e.thatCan = function (a, b) {
            var c = (b || e.order).split(/\s*,\s*/);
            for (var d in c)if (e.can(c[d], a))return c[d];
            return null
        }, e.getMode = function (a, c, d) {
            var e = null;
            if ("undefined" === b.typeOf(d) && (d = "browser"), c && !b.isEmptyObj(a)) {
                if (b.each(c, function (c, d) {
                        if (a.hasOwnProperty(d)) {
                            var f = a[d](c);
                            if ("string" == typeof f && (f = [f]), e) {
                                if (!(e = b.arrayIntersect(e, f)))return e = !1
                            } else e = f
                        }
                    }), e)return -1 !== b.inArray(d, e) ? d : e[0];
                if (e === !1)return !1
            }
            return d
        }, e.capTrue = function () {
            return !0
        }, e.capFalse = function () {
            return !1
        }, e.capTest = function (a) {
            return function () {
                return !!a
            }
        }, e
    }), d(p, [i, m, h, o], function (a, b, c, d) {
        return function () {
            var a;
            c.extend(this, {
                connectRuntime: function (e) {
                    function f(c) {
                        var g, i;
                        return c.length ? (g = c.shift().toLowerCase(), (i = d.getConstructor(g)) ? (a = new i(e), a.bind("Init", function () {
                            a.initialized = !0, setTimeout(function () {
                                a.clients++, h.trigger("RuntimeInit", a)
                            }, 1)
                        }), a.bind("Error", function () {
                            a.destroy(), f(c)
                        }), a.mode ? void a.init() : void a.trigger("Error")) : void f(c)) : (h.trigger("RuntimeError", new b.RuntimeError(b.RuntimeError.NOT_INIT_ERR)), void(a = null))
                    }

                    var g, h = this;
                    if ("string" === c.typeOf(e) ? g = e : "string" === c.typeOf(e.ruid) && (g = e.ruid), g) {
                        if (a = d.getRuntime(g))return a.clients++, a;
                        throw new b.RuntimeError(b.RuntimeError.NOT_INIT_ERR)
                    }
                    f((e.runtime_order || d.order).split(/\s*,\s*/))
                }, disconnectRuntime: function () {
                    a && --a.clients <= 0 && a.destroy(), a = null
                }, getRuntime: function () {
                    return a && a.uid ? a : a = null
                }, exec: function () {
                    return a ? a.exec.apply(this, arguments) : null
                }
            })
        }
    }), d(q, [h, i, k, l, m, n, j, o, p], function (a, b, c, d, e, f, g, h, i) {
        function j(b) {
            var f, j, l, m = this;
            if (-1 !== a.inArray(a.typeOf(b), ["string", "node"]) && (b = {browse_button: b}), j = d.get(b.browse_button), !j)throw new e.DOMException(e.DOMException.NOT_FOUND_ERR);
            l = {
                accept: [{title: g.translate("All Files"), extensions: "*"}],
                name: "file",
                multiple: !1,
                required_caps: !1,
                container: j.parentNode || document.body
            }, b = a.extend({}, l, b), "string" == typeof b.required_caps && (b.required_caps = h.parseCaps(b.required_caps)), "string" == typeof b.accept && (b.accept = c.mimes2extList(b.accept)), f = d.get(b.container), f || (f = document.body), "static" === d.getStyle(f, "position") && (f.style.position = "relative"), f = j = null, i.call(m), a.extend(m, {
                uid: a.guid("uid_"),
                ruid: null,
                shimid: null,
                files: null,
                init: function () {
                    m.bind("RuntimeInit", function (c, e) {
                        m.ruid = e.uid, m.shimid = e.shimid, m.bind("Ready", function () {
                            m.trigger("Refresh")
                        }, 999), m.bind("Refresh", function () {
                            var c, f, g, h;
                            g = d.get(b.browse_button), h = d.get(e.shimid), g && (c = d.getPos(g, d.get(b.container)), f = d.getSize(g), h && a.extend(h.style, {
                                top: c.y + "px",
                                left: c.x + "px",
                                width: f.w + "px",
                                height: f.h + "px"
                            })), h = g = null
                        }), e.exec.call(m, "FileInput", "init", b)
                    }), m.connectRuntime(a.extend({}, b, {required_caps: {select_file: !0}}))
                },
                disable: function (b) {
                    var c = this.getRuntime();
                    c && c.exec.call(this, "FileInput", "disable", "undefined" === a.typeOf(b) ? !0 : b)
                },
                refresh: function () {
                    m.trigger("Refresh")
                },
                destroy: function () {
                    var b = this.getRuntime();
                    b && (b.exec.call(this, "FileInput", "destroy"), this.disconnectRuntime()), "array" === a.typeOf(this.files) && a.each(this.files, function (a) {
                        a.destroy()
                    }), this.files = null, this.unbindAll()
                }
            }), this.handleEventProps(k)
        }

        var k = ["ready", "change", "cancel", "mouseenter", "mouseleave", "mousedown", "mouseup"];
        return j.prototype = f.instance, j
    }), d(r, [], function () {
        var a = function (a) {
            return unescape(encodeURIComponent(a))
        }, b = function (a) {
            return decodeURIComponent(escape(a))
        }, c = function (a, c) {
            if ("function" == typeof window.atob)return c ? b(window.atob(a)) : window.atob(a);
            var d, e, f, g, h, i, j, k, l = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", m = 0, n = 0, o = "", p = [];
            if (!a)return a;
            a += "";
            do g = l.indexOf(a.charAt(m++)), h = l.indexOf(a.charAt(m++)), i = l.indexOf(a.charAt(m++)), j = l.indexOf(a.charAt(m++)), k = g << 18 | h << 12 | i << 6 | j, d = k >> 16 & 255, e = k >> 8 & 255, f = 255 & k, p[n++] = 64 == i ? String.fromCharCode(d) : 64 == j ? String.fromCharCode(d, e) : String.fromCharCode(d, e, f); while (m < a.length);
            return o = p.join(""), c ? b(o) : o
        }, d = function (b, c) {
            if (c && (b = a(b)), "function" == typeof window.btoa)return window.btoa(b);
            var d, e, f, g, h, i, j, k, l = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", m = 0, n = 0, o = "", p = [];
            if (!b)return b;
            do d = b.charCodeAt(m++), e = b.charCodeAt(m++), f = b.charCodeAt(m++), k = d << 16 | e << 8 | f, g = k >> 18 & 63, h = k >> 12 & 63, i = k >> 6 & 63, j = 63 & k, p[n++] = l.charAt(g) + l.charAt(h) + l.charAt(i) + l.charAt(j); while (m < b.length);
            o = p.join("");
            var q = b.length % 3;
            return (q ? o.slice(0, q - 3) : o) + "===".slice(q || 3)
        };
        return {utf8_encode: a, utf8_decode: b, atob: c, btoa: d}
    }), d(s, [h, r, p], function (a, b, c) {
        function d(f, g) {
            function h(b, c, f) {
                var g, h = e[this.uid];
                return "string" === a.typeOf(h) && h.length ? (g = new d(null, {
                    type: f,
                    size: c - b
                }), g.detach(h.substr(b, g.size)), g) : null
            }

            c.call(this), f && this.connectRuntime(f), g ? "string" === a.typeOf(g) && (g = {data: g}) : g = {}, a.extend(this, {
                uid: g.uid || a.guid("uid_"),
                ruid: f,
                size: g.size || 0,
                type: g.type || "",
                slice: function (a, b, c) {
                    return this.isDetached() ? h.apply(this, arguments) : this.getRuntime().exec.call(this, "Blob", "slice", this.getSource(), a, b, c)
                },
                getSource: function () {
                    return e[this.uid] ? e[this.uid] : null
                },
                detach: function (a) {
                    if (this.ruid && (this.getRuntime().exec.call(this, "Blob", "destroy"), this.disconnectRuntime(), this.ruid = null), a = a || "", "data:" == a.substr(0, 5)) {
                        var c = a.indexOf(";base64,");
                        this.type = a.substring(5, c), a = b.atob(a.substring(c + 8))
                    }
                    this.size = a.length, e[this.uid] = a
                },
                isDetached: function () {
                    return !this.ruid && "string" === a.typeOf(e[this.uid])
                },
                destroy: function () {
                    this.detach(), delete e[this.uid]
                }
            }), g.data ? this.detach(g.data) : e[this.uid] = g
        }

        var e = {};
        return d
    }), d(t, [h, k, s], function (a, b, c) {
        function d(d, e) {
            e || (e = {}), c.apply(this, arguments), this.type || (this.type = b.getFileMime(e.name));
            var f;
            if (e.name)f = e.name.replace(/\\/g, "/"), f = f.substr(f.lastIndexOf("/") + 1); else if (this.type) {
                var g = this.type.split("/")[0];
                f = a.guid(("" !== g ? g : "file") + "_"), b.extensions[this.type] && (f += "." + b.extensions[this.type][0])
            }
            a.extend(this, {
                name: f || a.guid("file_"),
                relativePath: "",
                lastModifiedDate: e.lastModifiedDate || (new Date).toLocaleString()
            })
        }

        return d.prototype = c.prototype, d
    }), d(u, [j, l, m, h, i, t, p, n, k], function (a, b, c, d, e, f, g, h, i) {
        function j(c) {
            var e, f = this;
            "string" == typeof c && (c = {drop_zone: c}), e = {
                accept: [{
                    title: a.translate("All Files"),
                    extensions: "*"
                }], required_caps: {drag_and_drop: !0}
            }, c = "object" == typeof c ? d.extend({}, e, c) : e, c.container = b.get(c.drop_zone) || document.body, "static" === b.getStyle(c.container, "position") && (c.container.style.position = "relative"), "string" == typeof c.accept && (c.accept = i.mimes2extList(c.accept)), g.call(f), d.extend(f, {
                uid: d.guid("uid_"),
                ruid: null,
                files: null,
                init: function () {
                    f.bind("RuntimeInit", function (a, b) {
                        f.ruid = b.uid, b.exec.call(f, "FileDrop", "init", c), f.dispatchEvent("ready")
                    }), f.connectRuntime(c)
                },
                destroy: function () {
                    var a = this.getRuntime();
                    a && (a.exec.call(this, "FileDrop", "destroy"), this.disconnectRuntime()), this.files = null, this.unbindAll()
                }
            }), this.handleEventProps(k)
        }

        var k = ["ready", "dragenter", "dragleave", "drop", "error"];
        return j.prototype = h.instance, j
    }), d(v, [h, r, m, n, s, p], function (a, b, c, d, e, f) {
        function g() {
            function d(a, d) {
                if (this.trigger("loadstart"), this.readyState === g.LOADING)return this.trigger("error", new c.DOMException(c.DOMException.INVALID_STATE_ERR)), void this.trigger("loadend");
                if (!(d instanceof e))return this.trigger("error", new c.DOMException(c.DOMException.NOT_FOUND_ERR)), void this.trigger("loadend");
                if (this.result = null, this.readyState = g.LOADING, d.isDetached()) {
                    var f = d.getSource();
                    switch (a) {
                        case"readAsText":
                        case"readAsBinaryString":
                            this.result = f;
                            break;
                        case"readAsDataURL":
                            this.result = "data:" + d.type + ";base64," + b.btoa(f)
                    }
                    this.readyState = g.DONE, this.trigger("load"), this.trigger("loadend")
                } else this.connectRuntime(d.ruid), this.exec("FileReader", "read", a, d)
            }

            f.call(this), a.extend(this, {
                uid: a.guid("uid_"),
                readyState: g.EMPTY,
                result: null,
                error: null,
                readAsBinaryString: function (a) {
                    d.call(this, "readAsBinaryString", a)
                },
                readAsDataURL: function (a) {
                    d.call(this, "readAsDataURL", a)
                },
                readAsText: function (a) {
                    d.call(this, "readAsText", a)
                },
                abort: function () {
                    this.result = null, -1 === a.inArray(this.readyState, [g.EMPTY, g.DONE]) && (this.readyState === g.LOADING && (this.readyState = g.DONE), this.exec("FileReader", "abort"), this.trigger("abort"), this.trigger("loadend"))
                },
                destroy: function () {
                    this.abort(), this.exec("FileReader", "destroy"), this.disconnectRuntime(), this.unbindAll()
                }
            }), this.handleEventProps(h), this.bind("Error", function (a, b) {
                this.readyState = g.DONE, this.error = b
            }, 999), this.bind("Load", function () {
                this.readyState = g.DONE
            }, 999)
        }

        var h = ["loadstart", "progress", "load", "abort", "error", "loadend"];
        return g.EMPTY = 0, g.LOADING = 1, g.DONE = 2, g.prototype = d.instance, g
    }), d(w, [], function () {
        var a = function (b, c) {
            for (var d = ["source", "scheme", "authority", "userInfo", "user", "pass", "host", "port", "relative", "path", "directory", "file", "query", "fragment"], e = d.length, f = {
                http: 80,
                https: 443
            }, g = {}, h = /^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/, i = h.exec(b || ""); e--;)i[e] && (g[d[e]] = i[e]);
            if (!g.scheme) {
                c && "string" != typeof c || (c = a(c || document.location.href)), g.scheme = c.scheme, g.host = c.host, g.port = c.port;
                var j = "";
                /^[^\/]/.test(g.path) && (j = c.path, j = /\/[^\/]*\.[^\/]*$/.test(j) ? j.replace(/\/[^\/]+$/, "/") : j.replace(/\/?$/, "/")), g.path = j + (g.path || "")
            }
            return g.port || (g.port = f[g.scheme] || 80), g.port = parseInt(g.port, 10), g.path || (g.path = "/"), delete g.source, g
        }, b = function (b) {
            var c = {http: 80, https: 443}, d = "object" == typeof b ? b : a(b);
            return d.scheme + "://" + d.host + (d.port !== c[d.scheme] ? ":" + d.port : "") + d.path + (d.query ? d.query : "")
        }, c = function (b) {
            function c(a) {
                return [a.scheme, a.host, a.port].join("/")
            }

            return "string" == typeof b && (b = a(b)), c(a()) === c(b)
        };
        return {parseUrl: a, resolveUrl: b, hasSameOrigin: c}
    }), d(x, [h, p, n], function (a, b, c) {
        function d() {
            this.uid = a.guid("uid_"), b.call(this), this.destroy = function () {
                this.disconnectRuntime(), this.unbindAll()
            }
        }

        return d.prototype = c.instance, d
    }), d(y, [h, p, r], function (a, b, c) {
        return function () {
            function d(a, b) {
                if (!b.isDetached()) {
                    var d = this.connectRuntime(b.ruid).exec.call(this, "FileReaderSync", "read", a, b);
                    return this.disconnectRuntime(), d
                }
                var e = b.getSource();
                switch (a) {
                    case"readAsBinaryString":
                        return e;
                    case"readAsDataURL":
                        return "data:" + b.type + ";base64," + c.btoa(e);
                    case"readAsText":
                        for (var f = "", g = 0, h = e.length; h > g; g++)f += String.fromCharCode(e[g]);
                        return f
                }
            }

            b.call(this), a.extend(this, {
                uid: a.guid("uid_"), readAsBinaryString: function (a) {
                    return d.call(this, "readAsBinaryString", a)
                }, readAsDataURL: function (a) {
                    return d.call(this, "readAsDataURL", a)
                }, readAsText: function (a) {
                    return d.call(this, "readAsText", a)
                }
            })
        }
    }), d(z, [m, h, s], function (a, b, c) {
        function d() {
            var a, d = [];
            b.extend(this, {
                append: function (e, f) {
                    var g = this, h = b.typeOf(f);
                    f instanceof c ? a = {name: e, value: f} : "array" === h ? (e += "[]", b.each(f, function (a) {
                        g.append(e, a)
                    })) : "object" === h ? b.each(f, function (a, b) {
                        g.append(e + "[" + b + "]", a)
                    }) : "null" === h || "undefined" === h || "number" === h && isNaN(f) ? g.append(e, "false") : d.push({
                        name: e,
                        value: f.toString()
                    })
                }, hasBlob: function () {
                    return !!this.getBlob()
                }, getBlob: function () {
                    return a && a.value || null
                }, getBlobName: function () {
                    return a && a.name || null
                }, each: function (c) {
                    b.each(d, function (a) {
                        c(a.value, a.name)
                    }), a && c(a.value, a.name)
                }, destroy: function () {
                    a = null, d = []
                }
            })
        }

        return d
    }), d(A, [h, m, n, r, w, o, x, s, y, z, i, k], function (a, b, c, d, e, f, g, h, i, j, k, l) {
        function m() {
            this.uid = a.guid("uid_")
        }

        function n() {
            function c(a, b) {
                return A.hasOwnProperty(a) ? 1 === arguments.length ? k.can("define_property") ? A[a] : z[a] : void(k.can("define_property") ? A[a] = b : z[a] = b) : void 0
            }

            function i(b) {
                function d() {
                    x && (x.destroy(), x = null), h.dispatchEvent("loadend"), h = null
                }

                function e(e) {
                    x.bind("LoadStart", function (a) {
                        c("readyState", n.LOADING), h.dispatchEvent("readystatechange"), h.dispatchEvent(a), H && h.upload.dispatchEvent(a)
                    }), x.bind("Progress", function (a) {
                        c("readyState") !== n.LOADING && (c("readyState", n.LOADING), h.dispatchEvent("readystatechange")), h.dispatchEvent(a)
                    }), x.bind("UploadProgress", function (a) {
                        H && h.upload.dispatchEvent({
                            type: "progress",
                            lengthComputable: !1,
                            total: a.total,
                            loaded: a.loaded
                        })
                    }), x.bind("Load", function (b) {
                        c("readyState", n.DONE), c("status", Number(e.exec.call(x, "XMLHttpRequest", "getStatus") || 0)), c("statusText", o[c("status")] || ""), c("response", e.exec.call(x, "XMLHttpRequest", "getResponse", c("responseType"))), ~a.inArray(c("responseType"), ["text", ""]) ? c("responseText", c("response")) : "document" === c("responseType") && c("responseXML", c("response")), O = e.exec.call(x, "XMLHttpRequest", "getAllResponseHeaders"), h.dispatchEvent("readystatechange"), c("status") > 0 ? (H && h.upload.dispatchEvent(b), h.dispatchEvent(b)) : (J = !0, h.dispatchEvent("error")), d()
                    }), x.bind("Abort", function (a) {
                        h.dispatchEvent(a), d()
                    }), x.bind("Error", function (a) {
                        J = !0, c("readyState", n.DONE), h.dispatchEvent("readystatechange"), I = !0, h.dispatchEvent(a), d()
                    }), e.exec.call(x, "XMLHttpRequest", "send", {
                        url: r,
                        method: s,
                        async: B,
                        user: t,
                        password: u,
                        headers: C,
                        mimeType: E,
                        encoding: D,
                        responseType: h.responseType,
                        withCredentials: h.withCredentials,
                        options: N
                    }, b)
                }

                var h = this;
                v = (new Date).getTime(), x = new g, "string" == typeof N.required_caps && (N.required_caps = f.parseCaps(N.required_caps)), N.required_caps = a.extend({}, N.required_caps, {return_response_type: h.responseType}), b instanceof j && (N.required_caps.send_multipart = !0), a.isEmptyObj(C) || (N.required_caps.send_custom_headers = !0), K || (N.required_caps.do_cors = !0), N.ruid ? e(x.connectRuntime(N)) : (x.bind("RuntimeInit", function (a, b) {
                    e(b)
                }), x.bind("RuntimeError", function (a, b) {
                    h.dispatchEvent("RuntimeError", b)
                }), x.connectRuntime(N))
            }

            function q() {
                c("responseText", ""), c("responseXML", null), c("response", null), c("status", 0), c("statusText", ""), v = w = null
            }

            var r, s, t, u, v, w, x, y, z = this, A = {
                timeout: 0,
                readyState: n.UNSENT,
                withCredentials: !1,
                status: 0,
                statusText: "",
                responseType: "",
                responseXML: null,
                responseText: null,
                response: null
            }, B = !0, C = {}, D = null, E = null, F = !1, G = !1, H = !1, I = !1, J = !1, K = !1, L = null, M = null, N = {}, O = "";
            a.extend(this, A, {
                uid: a.guid("uid_"), upload: new m, open: function (f, g, h, i, j) {
                    var k;
                    if (!f || !g)throw new b.DOMException(b.DOMException.SYNTAX_ERR);
                    if (/[\u0100-\uffff]/.test(f) || d.utf8_encode(f) !== f)throw new b.DOMException(b.DOMException.SYNTAX_ERR);
                    if (~a.inArray(f.toUpperCase(), ["CONNECT", "DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT", "TRACE", "TRACK"]) && (s = f.toUpperCase()), ~a.inArray(s, ["CONNECT", "TRACE", "TRACK"]))throw new b.DOMException(b.DOMException.SECURITY_ERR);
                    if (g = d.utf8_encode(g), k = e.parseUrl(g), K = e.hasSameOrigin(k), r = e.resolveUrl(g), (i || j) && !K)throw new b.DOMException(b.DOMException.INVALID_ACCESS_ERR);
                    if (t = i || k.user, u = j || k.pass, B = h || !0, B === !1 && (c("timeout") || c("withCredentials") || "" !== c("responseType")))throw new b.DOMException(b.DOMException.INVALID_ACCESS_ERR);
                    F = !B, G = !1, C = {}, q.call(this), c("readyState", n.OPENED), this.dispatchEvent("readystatechange")
                }, setRequestHeader: function (e, f) {
                    var g = ["accept-charset", "accept-encoding", "access-control-request-headers", "access-control-request-method", "connection", "content-length", "cookie", "cookie2", "content-transfer-encoding", "date", "expect", "host", "keep-alive", "origin", "referer", "te", "trailer", "transfer-encoding", "upgrade", "user-agent", "via"];
                    if (c("readyState") !== n.OPENED || G)throw new b.DOMException(b.DOMException.INVALID_STATE_ERR);
                    if (/[\u0100-\uffff]/.test(e) || d.utf8_encode(e) !== e)throw new b.DOMException(b.DOMException.SYNTAX_ERR);
                    return e = a.trim(e).toLowerCase(), ~a.inArray(e, g) || /^(proxy\-|sec\-)/.test(e) ? !1 : (C[e] ? C[e] += ", " + f : C[e] = f, !0)
                }, getAllResponseHeaders: function () {
                    return O || ""
                }, getResponseHeader: function (b) {
                    return b = b.toLowerCase(), J || ~a.inArray(b, ["set-cookie", "set-cookie2"]) ? null : O && "" !== O && (y || (y = {}, a.each(O.split(/\r\n/), function (b) {
                        var c = b.split(/:\s+/);
                        2 === c.length && (c[0] = a.trim(c[0]), y[c[0].toLowerCase()] = {
                            header: c[0],
                            value: a.trim(c[1])
                        })
                    })), y.hasOwnProperty(b)) ? y[b].header + ": " + y[b].value : null
                }, overrideMimeType: function (d) {
                    var e, f;
                    if (~a.inArray(c("readyState"), [n.LOADING, n.DONE]))throw new b.DOMException(b.DOMException.INVALID_STATE_ERR);
                    if (d = a.trim(d.toLowerCase()), /;/.test(d) && (e = d.match(/^([^;]+)(?:;\scharset\=)?(.*)$/)) && (d = e[1], e[2] && (f = e[2])), !l.mimes[d])throw new b.DOMException(b.DOMException.SYNTAX_ERR);
                    L = d, M = f
                }, send: function (c, e) {
                    if (N = "string" === a.typeOf(e) ? {ruid: e} : e ? e : {}, this.readyState !== n.OPENED || G)throw new b.DOMException(b.DOMException.INVALID_STATE_ERR);
                    if (c instanceof h)N.ruid = c.ruid, E = c.type || "application/octet-stream"; else if (c instanceof j) {
                        if (c.hasBlob()) {
                            var f = c.getBlob();
                            N.ruid = f.ruid, E = f.type || "application/octet-stream"
                        }
                    } else"string" == typeof c && (D = "UTF-8", E = "text/plain;charset=UTF-8", c = d.utf8_encode(c));
                    this.withCredentials || (this.withCredentials = N.required_caps && N.required_caps.send_browser_cookies && !K), H = !F && this.upload.hasEventListener(), J = !1, I = !c, F || (G = !0), i.call(this, c)
                }, abort: function () {
                    if (J = !0, F = !1, ~a.inArray(c("readyState"), [n.UNSENT, n.OPENED, n.DONE]))c("readyState", n.UNSENT); else {
                        if (c("readyState", n.DONE), G = !1, !x)throw new b.DOMException(b.DOMException.INVALID_STATE_ERR);
                        x.getRuntime().exec.call(x, "XMLHttpRequest", "abort", I), I = !0
                    }
                }, destroy: function () {
                    x && ("function" === a.typeOf(x.destroy) && x.destroy(), x = null), this.unbindAll(), this.upload && (this.upload.unbindAll(), this.upload = null)
                }
            }), this.handleEventProps(p.concat(["readystatechange"])), this.upload.handleEventProps(p)
        }

        var o = {
            100: "Continue",
            101: "Switching Protocols",
            102: "Processing",
            200: "OK",
            201: "Created",
            202: "Accepted",
            203: "Non-Authoritative Information",
            204: "No Content",
            205: "Reset Content",
            206: "Partial Content",
            207: "Multi-Status",
            226: "IM Used",
            300: "Multiple Choices",
            301: "Moved Permanently",
            302: "Found",
            303: "See Other",
            304: "Not Modified",
            305: "Use Proxy",
            306: "Reserved",
            307: "Temporary Redirect",
            400: "Bad Request",
            401: "Unauthorized",
            402: "Payment Required",
            403: "Forbidden",
            404: "Not Found",
            405: "Method Not Allowed",
            406: "Not Acceptable",
            407: "Proxy Authentication Required",
            408: "Request Timeout",
            409: "Conflict",
            410: "Gone",
            411: "Length Required",
            412: "Precondition Failed",
            413: "Request Entity Too Large",
            414: "Request-URI Too Long",
            415: "Unsupported Media Type",
            416: "Requested Range Not Satisfiable",
            417: "Expectation Failed",
            422: "Unprocessable Entity",
            423: "Locked",
            424: "Failed Dependency",
            426: "Upgrade Required",
            500: "Internal Server Error",
            501: "Not Implemented",
            502: "Bad Gateway",
            503: "Service Unavailable",
            504: "Gateway Timeout",
            505: "HTTP Version Not Supported",
            506: "Variant Also Negotiates",
            507: "Insufficient Storage",
            510: "Not Extended"
        };
        m.prototype = c.instance;
        var p = ["loadstart", "progress", "abort", "error", "load", "timeout", "loadend"];
        return n.UNSENT = 0, n.OPENED = 1, n.HEADERS_RECEIVED = 2, n.LOADING = 3, n.DONE = 4, n.prototype = c.instance, n
    }), d(B, [h, r, p, n], function (a, b, c, d) {
        function e() {
            function d() {
                k = l = 0, j = this.result = null
            }

            function f(b, c) {
                var d = this;
                i = c, d.bind("TransportingProgress", function (b) {
                    l = b.loaded, k > l && -1 === a.inArray(d.state, [e.IDLE, e.DONE]) && g.call(d)
                }, 999), d.bind("TransportingComplete", function () {
                    l = k, d.state = e.DONE, j = null, d.result = i.exec.call(d, "Transporter", "getAsBlob", b || "")
                }, 999), d.state = e.BUSY, d.trigger("TransportingStarted"), g.call(d)
            }

            function g() {
                var a, c = this, d = k - l;
                m > d && (m = d), a = b.btoa(j.substr(l, m)), i.exec.call(c, "Transporter", "receive", a, k)
            }

            var h, i, j, k, l, m;
            c.call(this), a.extend(this, {
                uid: a.guid("uid_"),
                state: e.IDLE,
                result: null,
                transport: function (b, c, e) {
                    var g = this;
                    if (e = a.extend({chunk_size: 204798}, e), (h = e.chunk_size % 3) && (e.chunk_size += 3 - h), m = e.chunk_size, d.call(this), j = b, k = b.length, "string" === a.typeOf(e) || e.ruid)f.call(g, c, this.connectRuntime(e)); else {
                        var i = function (a, b) {
                            g.unbind("RuntimeInit", i), f.call(g, c, b)
                        };
                        this.bind("RuntimeInit", i), this.connectRuntime(e)
                    }
                },
                abort: function () {
                    var a = this;
                    a.state = e.IDLE, i && (i.exec.call(a, "Transporter", "clear"), a.trigger("TransportingAborted")), d.call(a)
                },
                destroy: function () {
                    this.unbindAll(), i = null, this.disconnectRuntime(), d.call(this)
                }
            })
        }

        return e.IDLE = 0, e.BUSY = 1, e.DONE = 2, e.prototype = d.instance, e
    }), d(C, [h, l, m, y, A, o, p, B, i, n, s, t, r], function (a, b, c, d, e, f, g, h, i, j, k, l, m) {
        function n() {
            function d(a) {
                a || (a = this.exec("Image", "getInfo")), this.size = a.size, this.width = a.width, this.height = a.height, this.type = a.type, this.meta = a.meta, "" === this.name && (this.name = a.name)
            }

            function j(b) {
                var d = a.typeOf(b);
                try {
                    if (b instanceof n) {
                        if (!b.size)throw new c.DOMException(c.DOMException.INVALID_STATE_ERR);
                        p.apply(this, arguments)
                    } else if (b instanceof k) {
                        if (!~a.inArray(b.type, ["image/jpeg", "image/png"]))throw new c.ImageError(c.ImageError.WRONG_FORMAT);
                        q.apply(this, arguments)
                    } else if (-1 !== a.inArray(d, ["blob", "file"]))j.call(this, new l(null, b), arguments[1]); else if ("string" === d)"data:" === b.substr(0, 5) ? j.call(this, new k(null, {data: b}), arguments[1]) : r.apply(this, arguments); else {
                        if ("node" !== d || "img" !== b.nodeName.toLowerCase())throw new c.DOMException(c.DOMException.TYPE_MISMATCH_ERR);
                        j.call(this, b.src, arguments[1])
                    }
                } catch (e) {
                    this.trigger("error", e.code)
                }
            }

            function p(b, c) {
                var d = this.connectRuntime(b.ruid);
                this.ruid = d.uid, d.exec.call(this, "Image", "loadFromImage", b, "undefined" === a.typeOf(c) ? !0 : c)
            }

            function q(b, c) {
                function d(a) {
                    e.ruid = a.uid, a.exec.call(e, "Image", "loadFromBlob", b)
                }

                var e = this;
                e.name = b.name || "", b.isDetached() ? (this.bind("RuntimeInit", function (a, b) {
                    d(b)
                }), c && "string" == typeof c.required_caps && (c.required_caps = f.parseCaps(c.required_caps)), this.connectRuntime(a.extend({
                    required_caps: {
                        access_image_binary: !0,
                        resize_image: !0
                    }
                }, c))) : d(this.connectRuntime(b.ruid))
            }

            function r(a, b) {
                var c, d = this;
                c = new e, c.open("get", a), c.responseType = "blob", c.onprogress = function (a) {
                    d.trigger(a)
                }, c.onload = function () {
                    q.call(d, c.response, !0)
                }, c.onerror = function (a) {
                    d.trigger(a)
                }, c.onloadend = function () {
                    c.destroy()
                }, c.bind("RuntimeError", function (a, b) {
                    d.trigger("RuntimeError", b)
                }), c.send(null, b)
            }

            g.call(this), a.extend(this, {
                uid: a.guid("uid_"),
                ruid: null,
                name: "",
                size: 0,
                width: 0,
                height: 0,
                type: "",
                meta: {},
                clone: function () {
                    this.load.apply(this, arguments)
                },
                load: function () {
                    j.apply(this, arguments)
                },
                downsize: function (b) {
                    var d = {
                        width: this.width,
                        height: this.height,
                        type: this.type || "image/jpeg",
                        quality: 90,
                        crop: !1,
                        preserveHeaders: !0,
                        resample: !1
                    };
                    b = "object" == typeof b ? a.extend(d, b) : a.extend(d, {
                        width: arguments[0],
                        height: arguments[1],
                        crop: arguments[2],
                        preserveHeaders: arguments[3]
                    });
                    try {
                        if (!this.size)throw new c.DOMException(c.DOMException.INVALID_STATE_ERR);
                        if (this.width > n.MAX_RESIZE_WIDTH || this.height > n.MAX_RESIZE_HEIGHT)throw new c.ImageError(c.ImageError.MAX_RESOLUTION_ERR);
                        this.exec("Image", "downsize", b.width, b.height, b.crop, b.preserveHeaders)
                    } catch (e) {
                        this.trigger("error", e.code)
                    }
                },
                crop: function (a, b, c) {
                    this.downsize(a, b, !0, c)
                },
                getAsCanvas: function () {
                    if (!i.can("create_canvas"))throw new c.RuntimeError(c.RuntimeError.NOT_SUPPORTED_ERR);
                    var a = this.connectRuntime(this.ruid);
                    return a.exec.call(this, "Image", "getAsCanvas")
                },
                getAsBlob: function (a, b) {
                    if (!this.size)throw new c.DOMException(c.DOMException.INVALID_STATE_ERR);
                    return this.exec("Image", "getAsBlob", a || "image/jpeg", b || 90)
                },
                getAsDataURL: function (a, b) {
                    if (!this.size)throw new c.DOMException(c.DOMException.INVALID_STATE_ERR);
                    return this.exec("Image", "getAsDataURL", a || "image/jpeg", b || 90)
                },
                getAsBinaryString: function (a, b) {
                    var c = this.getAsDataURL(a, b);
                    return m.atob(c.substring(c.indexOf("base64,") + 7))
                },
                embed: function (d, e) {
                    function f(b, e) {
                        var f = this;
                        if (i.can("create_canvas")) {
                            var k = f.getAsCanvas();
                            if (k)return d.appendChild(k), k = null, f.destroy(), void j.trigger("embedded")
                        }
                        var l = f.getAsDataURL(b, e);
                        if (!l)throw new c.ImageError(c.ImageError.WRONG_FORMAT);
                        if (i.can("use_data_uri_of", l.length))d.innerHTML = '<img src="' + l + '" width="' + f.width + '" height="' + f.height + '" />', f.destroy(), j.trigger("embedded"); else {
                            var n = new h;
                            n.bind("TransportingComplete", function () {
                                g = j.connectRuntime(this.result.ruid), j.bind("Embedded", function () {
                                    a.extend(g.getShimContainer().style, {
                                        top: "0px",
                                        left: "0px",
                                        width: f.width + "px",
                                        height: f.height + "px"
                                    }), g = null
                                }, 999), g.exec.call(j, "ImageView", "display", this.result.uid, width, height), f.destroy()
                            }), n.transport(m.atob(l.substring(l.indexOf("base64,") + 7)), b, {
                                required_caps: {display_media: !0},
                                runtime_order: "flash,silverlight",
                                container: d
                            })
                        }
                    }

                    var g, j = this;
                    e = a.extend({
                        width: this.width,
                        height: this.height,
                        type: this.type || "image/jpeg",
                        quality: 90
                    }, e || {});
                    try {
                        if (!(d = b.get(d)))throw new c.DOMException(c.DOMException.INVALID_NODE_TYPE_ERR);
                        if (!this.size)throw new c.DOMException(c.DOMException.INVALID_STATE_ERR);
                        this.width > n.MAX_RESIZE_WIDTH || this.height > n.MAX_RESIZE_HEIGHT;
                        var k = new n;
                        return k.bind("Resize", function () {
                            f.call(this, e.type, e.quality)
                        }), k.bind("Load", function () {
                            k.downsize(e)
                        }), this.meta.thumb && this.meta.thumb.width >= e.width && this.meta.thumb.height >= e.height ? k.load(this.meta.thumb.data) : k.clone(this, !1), k
                    } catch (l) {
                        this.trigger("error", l.code)
                    }
                },
                destroy: function () {
                    this.ruid && (this.getRuntime().exec.call(this, "Image", "destroy"), this.disconnectRuntime()), this.unbindAll()
                }
            }), this.handleEventProps(o), this.bind("Load Resize", function () {
                d.call(this)
            }, 999)
        }

        var o = ["progress", "load", "error", "resize", "embedded"];
        return n.MAX_RESIZE_WIDTH = 8192, n.MAX_RESIZE_HEIGHT = 8192, n.prototype = j.instance, n
    }), d(D, [h, m, o, i], function (a, b, c, d) {
        function e(b) {
            var e = this, h = c.capTest, i = c.capTrue, j = a.extend({
                access_binary: h(window.FileReader || window.File && window.File.getAsDataURL),
                access_image_binary: function () {
                    return e.can("access_binary") && !!g.Image
                },
                display_media: h(d.can("create_canvas") || d.can("use_data_uri_over32kb")),
                do_cors: h(window.XMLHttpRequest && "withCredentials"in new XMLHttpRequest),
                drag_and_drop: h(function () {
                    var a = document.createElement("div");
                    return ("draggable"in a || "ondragstart"in a && "ondrop"in a) && ("IE" !== d.browser || d.verComp(d.version, 9, ">"))
                }()),
                filter_by_extension: h(function () {
                    return "Chrome" === d.browser && d.verComp(d.version, 28, ">=") || "IE" === d.browser && d.verComp(d.version, 10, ">=") || "Safari" === d.browser && d.verComp(d.version, 7, ">=")
                }()),
                return_response_headers: i,
                return_response_type: function (a) {
                    return "json" === a && window.JSON ? !0 : d.can("return_response_type", a)
                },
                return_status_code: i,
                report_upload_progress: h(window.XMLHttpRequest && (new XMLHttpRequest).upload),
                resize_image: function () {
                    return e.can("access_binary") && d.can("create_canvas")
                },
                select_file: function () {
                    return d.can("use_fileinput") && window.File
                },
                select_folder: function () {
                    return e.can("select_file") && "Chrome" === d.browser && d.verComp(d.version, 21, ">=")
                },
                select_multiple: function () {
                    return !(!e.can("select_file") || "Safari" === d.browser && "Windows" === d.os || "iOS" === d.os && d.verComp(d.osVersion, "7.0.0", ">") && d.verComp(d.osVersion, "8.0.0", "<"))
                },
                send_binary_string: h(window.XMLHttpRequest && ((new XMLHttpRequest).sendAsBinary || window.Uint8Array && window.ArrayBuffer)),
                send_custom_headers: h(window.XMLHttpRequest),
                send_multipart: function () {
                    return !!(window.XMLHttpRequest && (new XMLHttpRequest).upload && window.FormData) || e.can("send_binary_string")
                },
                slice_blob: h(window.File && (File.prototype.mozSlice || File.prototype.webkitSlice || File.prototype.slice)),
                stream_upload: function () {
                    return e.can("slice_blob") && e.can("send_multipart")
                },
                summon_file_dialog: function () {
                    return e.can("select_file") && ("Firefox" === d.browser && d.verComp(d.version, 4, ">=") || "Opera" === d.browser && d.verComp(d.version, 12, ">=") || "IE" === d.browser && d.verComp(d.version, 10, ">=") || !!~a.inArray(d.browser, ["Chrome", "Safari"]))
                },
                upload_filesize: i
            }, arguments[2]);
            c.call(this, b, arguments[1] || f, j), a.extend(this, {
                init: function () {
                    this.trigger("Init")
                }, destroy: function (a) {
                    return function () {
                        a.call(e), a = e = null
                    }
                }(this.destroy)
            }), a.extend(this.getShim(), g)
        }

        var f = "html5", g = {};
        return c.addConstructor(f, e), g
    }), d(E, [h], function (a) {
        function b() {
            this.returnValue = !1
        }

        function c() {
            this.cancelBubble = !0
        }

        var d = {}, e = "moxie_" + a.guid(), f = function (f, g, h, i) {
            var j, k;
            g = g.toLowerCase(), f.addEventListener ? (j = h, f.addEventListener(g, j, !1)) : f.attachEvent && (j = function () {
                var a = window.event;
                a.target || (a.target = a.srcElement), a.preventDefault = b, a.stopPropagation = c, h(a)
            }, f.attachEvent("on" + g, j)), f[e] || (f[e] = a.guid()), d.hasOwnProperty(f[e]) || (d[f[e]] = {}), k = d[f[e]], k.hasOwnProperty(g) || (k[g] = []), k[g].push({
                func: j,
                orig: h,
                key: i
            })
        }, g = function (b, c, f) {
            var g, h;
            if (c = c.toLowerCase(), b[e] && d[b[e]] && d[b[e]][c]) {
                g = d[b[e]][c];
                for (var i = g.length - 1; i >= 0 && (g[i].orig !== f && g[i].key !== f || (b.removeEventListener ? b.removeEventListener(c, g[i].func, !1) : b.detachEvent && b.detachEvent("on" + c, g[i].func), g[i].orig = null, g[i].func = null, g.splice(i, 1), f === h)); i--);
                if (g.length || delete d[b[e]][c], a.isEmptyObj(d[b[e]])) {
                    delete d[b[e]];
                    try {
                        delete b[e]
                    } catch (j) {
                        b[e] = h
                    }
                }
            }
        }, h = function (b, c) {
            b && b[e] && a.each(d[b[e]], function (a, d) {
                g(b, d, c)
            })
        };
        return {addEvent: f, removeEvent: g, removeAllEvents: h}
    }), d(F, [D, t, h, l, E, k, i], function (a, b, c, d, e, f, g) {
        function h() {
            var a;
            c.extend(this, {
                init: function (h) {
                    var i, j, k, l, m, n, o = this, p = o.getRuntime();
                    a = h, k = a.accept.mimes || f.extList2mimes(a.accept, p.can("filter_by_extension")), j = p.getShimContainer(), j.innerHTML = '<input id="' + p.uid + '" type="file" style="font-size:999px;opacity:0;"' + (a.multiple && p.can("select_multiple") ? "multiple" : "") + (a.directory && p.can("select_folder") ? "webkitdirectory directory" : "") + (k ? ' accept="' + k.join(",") + '"' : "") + " />", i = d.get(p.uid), c.extend(i.style, {
                        position: "absolute",
                        top: 0,
                        left: 0,
                        width: "100%",
                        height: "100%"
                    }), l = d.get(a.browse_button), p.can("summon_file_dialog") && ("static" === d.getStyle(l, "position") && (l.style.position = "relative"), m = parseInt(d.getStyle(l, "z-index"), 10) || 1, l.style.zIndex = m, j.style.zIndex = m - 1, e.addEvent(l, "click", function (a) {
                        var b = d.get(p.uid);
                        b && !b.disabled && b.click(), a.preventDefault()
                    }, o.uid)), n = p.can("summon_file_dialog") ? l : j, e.addEvent(n, "mouseover", function () {
                        o.trigger("mouseenter")
                    }, o.uid), e.addEvent(n, "mouseout", function () {
                        o.trigger("mouseleave")
                    }, o.uid), e.addEvent(n, "mousedown", function () {
                        o.trigger("mousedown")
                    }, o.uid), e.addEvent(d.get(a.container), "mouseup", function () {
                        o.trigger("mouseup")
                    }, o.uid), i.onchange = function q() {
                        if (o.files = [], c.each(this.files, function (c) {
                                var d = "";
                                return a.directory && "." == c.name ? !0 : (c.webkitRelativePath && (d = "/" + c.webkitRelativePath.replace(/^\//, "")), c = new b(p.uid, c), c.relativePath = d, void o.files.push(c))
                            }), "IE" !== g.browser && "IEMobile" !== g.browser)this.value = ""; else {
                            var d = this.cloneNode(!0);
                            this.parentNode.replaceChild(d, this), d.onchange = q
                        }
                        o.files.length && o.trigger("change")
                    }, o.trigger({type: "ready", async: !0}), j = null
                }, disable: function (a) {
                    var b, c = this.getRuntime();
                    (b = d.get(c.uid)) && (b.disabled = !!a)
                }, destroy: function () {
                    var b = this.getRuntime(), c = b.getShim(), f = b.getShimContainer();
                    e.removeAllEvents(f, this.uid), e.removeAllEvents(a && d.get(a.container), this.uid), e.removeAllEvents(a && d.get(a.browse_button), this.uid), f && (f.innerHTML = ""), c.removeInstance(this.uid), a = f = c = null
                }
            })
        }

        return a.FileInput = h
    }), d(G, [D, s], function (a, b) {
        function c() {
            function a(a, b, c) {
                var d;
                if (!window.File.prototype.slice)return (d = window.File.prototype.webkitSlice || window.File.prototype.mozSlice) ? d.call(a, b, c) : null;
                try {
                    return a.slice(), a.slice(b, c)
                } catch (e) {
                    return a.slice(b, c - b)
                }
            }

            this.slice = function () {
                return new b(this.getRuntime().uid, a.apply(this, arguments))
            }
        }

        return a.Blob = c
    }), d(H, [D, t, h, l, E, k], function (a, b, c, d, e, f) {
        function g() {
            function a(a) {
                if (!a.dataTransfer || !a.dataTransfer.types)return !1;
                var b = c.toArray(a.dataTransfer.types || []);
                return -1 !== c.inArray("Files", b) || -1 !== c.inArray("public.file-url", b) || -1 !== c.inArray("application/x-moz-file", b)
            }

            function g(a, c) {
                if (i(a)) {
                    var d = new b(o, a);
                    d.relativePath = c || "", p.push(d)
                }
            }

            function h(a) {
                for (var b = [], d = 0; d < a.length; d++)[].push.apply(b, a[d].extensions.split(/\s*,\s*/));
                return -1 === c.inArray("*", b) ? b : []
            }

            function i(a) {
                if (!q.length)return !0;
                var b = f.getFileExtension(a.name);
                return !b || -1 !== c.inArray(b, q)
            }

            function j(a, b) {
                var d = [];
                c.each(a, function (a) {
                    var b = a.webkitGetAsEntry();
                    b && (b.isFile ? g(a.getAsFile(), b.fullPath) : d.push(b))
                }), d.length ? k(d, b) : b()
            }

            function k(a, b) {
                var d = [];
                c.each(a, function (a) {
                    d.push(function (b) {
                        l(a, b)
                    })
                }), c.inSeries(d, function () {
                    b()
                })
            }

            function l(a, b) {
                a.isFile ? a.file(function (c) {
                    g(c, a.fullPath), b()
                }, function () {
                    b()
                }) : a.isDirectory ? m(a, b) : b()
            }

            function m(a, b) {
                function c(a) {
                    e.readEntries(function (b) {
                        b.length ? ([].push.apply(d, b), c(a)) : a()
                    }, a)
                }

                var d = [], e = a.createReader();
                c(function () {
                    k(d, b)
                })
            }

            var n, o, p = [], q = [];
            c.extend(this, {
                init: function (b) {
                    var d, f = this;
                    n = b, o = f.ruid, q = h(n.accept), d = n.container, e.addEvent(d, "dragover", function (b) {
                        a(b) && (b.preventDefault(), b.dataTransfer.dropEffect = "copy")
                    }, f.uid), e.addEvent(d, "drop", function (b) {
                        a(b) && (b.preventDefault(), p = [], b.dataTransfer.items && b.dataTransfer.items[0].webkitGetAsEntry ? j(b.dataTransfer.items, function () {
                            f.files = p, f.trigger("drop")
                        }) : (c.each(b.dataTransfer.files, function (a) {
                            g(a)
                        }), f.files = p, f.trigger("drop")))
                    }, f.uid), e.addEvent(d, "dragenter", function () {
                        f.trigger("dragenter")
                    }, f.uid), e.addEvent(d, "dragleave", function () {
                        f.trigger("dragleave")
                    }, f.uid)
                }, destroy: function () {
                    e.removeAllEvents(n && d.get(n.container), this.uid), o = p = q = n = null
                }
            })
        }

        return a.FileDrop = g
    }), d(I, [D, r, h], function (a, b, c) {
        function d() {
            function a(a) {
                return b.atob(a.substring(a.indexOf("base64,") + 7))
            }

            var d, e = !1;
            c.extend(this, {
                read: function (b, f) {
                    var g = this;
                    g.result = "", d = new window.FileReader, d.addEventListener("progress", function (a) {
                        g.trigger(a)
                    }), d.addEventListener("load", function (b) {
                        g.result = e ? a(d.result) : d.result, g.trigger(b)
                    }), d.addEventListener("error", function (a) {
                        g.trigger(a, d.error)
                    }), d.addEventListener("loadend", function (a) {
                        d = null, g.trigger(a)
                    }), "function" === c.typeOf(d[b]) ? (e = !1, d[b](f.getSource())) : "readAsBinaryString" === b && (e = !0, d.readAsDataURL(f.getSource()))
                }, abort: function () {
                    d && d.abort()
                }, destroy: function () {
                    d = null
                }
            })
        }

        return a.FileReader = d
    }), d(J, [D, h, k, w, t, s, z, m, i], function (a, b, c, d, e, f, g, h, i) {
        function j() {
            function a(a, b) {
                var c, d, e = this;
                c = b.getBlob().getSource(), d = new window.FileReader, d.onload = function () {
                    b.append(b.getBlobName(), new f(null, {type: c.type, data: d.result})), o.send.call(e, a, b)
                }, d.readAsBinaryString(c)
            }

            function j() {
                return !window.XMLHttpRequest || "IE" === i.browser && i.verComp(i.version, 8, "<") ? function () {
                    for (var a = ["Msxml2.XMLHTTP.6.0", "Microsoft.XMLHTTP"], b = 0; b < a.length; b++)try {
                        return new ActiveXObject(a[b])
                    } catch (c) {
                    }
                }() : new window.XMLHttpRequest
            }

            function k(a) {
                var b = a.responseXML, c = a.responseText;
                return "IE" === i.browser && c && b && !b.documentElement && /[^\/]+\/[^\+]+\+xml/.test(a.getResponseHeader("Content-Type")) && (b = new window.ActiveXObject("Microsoft.XMLDOM"), b.async = !1, b.validateOnParse = !1, b.loadXML(c)), b && ("IE" === i.browser && 0 !== b.parseError || !b.documentElement || "parsererror" === b.documentElement.tagName) ? null : b
            }

            function l(a) {
                var b = "----moxieboundary" + (new Date).getTime(), c = "--", d = "\r\n", e = "", g = this.getRuntime();
                if (!g.can("send_binary_string"))throw new h.RuntimeError(h.RuntimeError.NOT_SUPPORTED_ERR);
                return m.setRequestHeader("Content-Type", "multipart/form-data; boundary=" + b), a.each(function (a, g) {
                    e += a instanceof f ? c + b + d + 'Content-Disposition: form-data; name="' + g + '"; filename="' + unescape(encodeURIComponent(a.name || "blob")) + '"' + d + "Content-Type: " + (a.type || "application/octet-stream") + d + d + a.getSource() + d : c + b + d + 'Content-Disposition: form-data; name="' + g + '"' + d + d + unescape(encodeURIComponent(a)) + d
                }), e += c + b + c + d
            }

            var m, n, o = this;
            b.extend(this, {
                send: function (c, e) {
                    var h = this, k = "Mozilla" === i.browser && i.verComp(i.version, 4, ">=") && i.verComp(i.version, 7, "<"), o = "Android Browser" === i.browser, p = !1;
                    if (n = c.url.replace(/^.+?\/([\w\-\.]+)$/, "$1").toLowerCase(), m = j(), m.open(c.method, c.url, c.async, c.user, c.password), e instanceof f)e.isDetached() && (p = !0), e = e.getSource(); else if (e instanceof g) {
                        if (e.hasBlob())if (e.getBlob().isDetached())e = l.call(h, e), p = !0; else if ((k || o) && "blob" === b.typeOf(e.getBlob().getSource()) && window.FileReader)return void a.call(h, c, e);
                        if (e instanceof g) {
                            var q = new window.FormData;
                            e.each(function (a, b) {
                                a instanceof f ? q.append(b, a.getSource()) : q.append(b, a)
                            }), e = q
                        }
                    }
                    m.upload ? (c.withCredentials && (m.withCredentials = !0), m.addEventListener("load", function (a) {
                        h.trigger(a)
                    }), m.addEventListener("error", function (a) {
                        h.trigger(a)
                    }), m.addEventListener("progress", function (a) {
                        h.trigger(a)
                    }), m.upload.addEventListener("progress", function (a) {
                        h.trigger({type: "UploadProgress", loaded: a.loaded, total: a.total})
                    })) : m.onreadystatechange = function () {
                        switch (m.readyState) {
                            case 1:
                                break;
                            case 2:
                                break;
                            case 3:
                                var a, b;
                                try {
                                    d.hasSameOrigin(c.url) && (a = m.getResponseHeader("Content-Length") || 0), m.responseText && (b = m.responseText.length)
                                } catch (e) {
                                    a = b = 0
                                }
                                h.trigger({type: "progress", lengthComputable: !!a, total: parseInt(a, 10), loaded: b});
                                break;
                            case 4:
                                m.onreadystatechange = function () {
                                }, h.trigger(0 === m.status ? "error" : "load")
                        }
                    }, b.isEmptyObj(c.headers) || b.each(c.headers, function (a, b) {
                        m.setRequestHeader(b, a)
                    }), "" !== c.responseType && "responseType"in m && (m.responseType = "json" !== c.responseType || i.can("return_response_type", "json") ? c.responseType : "text"), p ? m.sendAsBinary ? m.sendAsBinary(e) : !function () {
                        for (var a = new Uint8Array(e.length), b = 0; b < e.length; b++)a[b] = 255 & e.charCodeAt(b);
                        m.send(a.buffer)
                    }() : m.send(e), h.trigger("loadstart")
                }, getStatus: function () {
                    try {
                        if (m)return m.status
                    } catch (a) {
                    }
                    return 0
                }, getResponse: function (a) {
                    var b = this.getRuntime();
                    try {
                        switch (a) {
                            case"blob":
                                var d = new e(b.uid, m.response), f = m.getResponseHeader("Content-Disposition");
                                if (f) {
                                    var g = f.match(/filename=([\'\"'])([^\1]+)\1/);
                                    g && (n = g[2])
                                }
                                return d.name = n, d.type || (d.type = c.getFileMime(n)), d;
                            case"json":
                                return i.can("return_response_type", "json") ? m.response : 200 === m.status && window.JSON ? JSON.parse(m.responseText) : null;
                            case"document":
                                return k(m);
                            default:
                                return "" !== m.responseText ? m.responseText : null
                        }
                    } catch (h) {
                        return null
                    }
                }, getAllResponseHeaders: function () {
                    try {
                        return m.getAllResponseHeaders()
                    } catch (a) {
                    }
                    return ""
                }, abort: function () {
                    m && m.abort()
                }, destroy: function () {
                    o = n = null
                }
            })
        }

        return a.XMLHttpRequest = j
    }), d(K, [h], function (a) {
        function b(a) {
            a instanceof ArrayBuffer ? c.apply(this, arguments) : d.apply(this, arguments)
        }

        function c(b) {
            var c = new DataView(b);
            a.extend(this, {
                readByteAt: function (a) {
                    return c.getUint8(a)
                }, writeByteAt: function (a, b) {
                    c.setUint8(a, b)
                }, SEGMENT: function (a, d, e) {
                    switch (arguments.length) {
                        case 2:
                            return b.slice(a, a + d);
                        case 1:
                            return b.slice(a);
                        case 3:
                            if (null === e && (e = new ArrayBuffer), e instanceof ArrayBuffer) {
                                var f = new Uint8Array(this.length() - d + e.byteLength);
                                a > 0 && f.set(new Uint8Array(b.slice(0, a)), 0), f.set(new Uint8Array(e), a), f.set(new Uint8Array(b.slice(a + d)), a + e.byteLength), this.clear(), b = f.buffer, c = new DataView(b);
                                break
                            }
                        default:
                            return b
                    }
                }, length: function () {
                    return b ? b.byteLength : 0
                }, clear: function () {
                    c = b = null
                }
            })
        }

        function d(b) {
            function c(a, c, d) {
                d = 3 === arguments.length ? d : b.length - c - 1, b = b.substr(0, c) + a + b.substr(d + c)
            }

            a.extend(this, {
                readByteAt: function (a) {
                    return b.charCodeAt(a)
                }, writeByteAt: function (a, b) {
                    c(String.fromCharCode(b), a, 1)
                }, SEGMENT: function (a, d, e) {
                    switch (arguments.length) {
                        case 1:
                            return b.substr(a);
                        case 2:
                            return b.substr(a, d);
                        case 3:
                            c(null !== e ? e : "", a, d);
                            break;
                        default:
                            return b
                    }
                }, length: function () {
                    return b ? b.length : 0
                }, clear: function () {
                    b = null
                }
            })
        }

        return a.extend(b.prototype, {
            littleEndian: !1, read: function (a, b) {
                var c, d, e;
                if (a + b > this.length())throw new Error("You are trying to read outside the source boundaries.");
                for (d = this.littleEndian ? 0 : -8 * (b - 1), e = 0, c = 0; b > e; e++)c |= this.readByteAt(a + e) << Math.abs(d + 8 * e);
                return c
            }, write: function (a, b, c) {
                var d, e;
                if (a > this.length())throw new Error("You are trying to write outside the source boundaries.");
                for (d = this.littleEndian ? 0 : -8 * (c - 1), e = 0; c > e; e++)this.writeByteAt(a + e, b >> Math.abs(d + 8 * e) & 255)
            }, BYTE: function (a) {
                return this.read(a, 1)
            }, SHORT: function (a) {
                return this.read(a, 2)
            }, LONG: function (a) {
                return this.read(a, 4)
            }, SLONG: function (a) {
                var b = this.read(a, 4);
                return b > 2147483647 ? b - 4294967296 : b
            }, CHAR: function (a) {
                return String.fromCharCode(this.read(a, 1))
            }, STRING: function (a, b) {
                return this.asArray("CHAR", a, b).join("")
            }, asArray: function (a, b, c) {
                for (var d = [], e = 0; c > e; e++)d[e] = this[a](b + e);
                return d
            }
        }), b
    }), d(L, [K, m], function (a, b) {
        return function c(d) {
            var e, f, g, h = [], i = 0;
            if (e = new a(d), 65496 !== e.SHORT(0))throw e.clear(), new b.ImageError(b.ImageError.WRONG_FORMAT);
            for (f = 2; f <= e.length();)if (g = e.SHORT(f), g >= 65488 && 65495 >= g)f += 2; else {
                if (65498 === g || 65497 === g)break;
                i = e.SHORT(f + 2) + 2, g >= 65505 && 65519 >= g && h.push({
                    hex: g,
                    name: "APP" + (15 & g),
                    start: f,
                    length: i,
                    segment: e.SEGMENT(f, i)
                }), f += i
            }
            return e.clear(), {
                headers: h, restore: function (b) {
                    var c, d, e;
                    for (e = new a(b), f = 65504 == e.SHORT(2) ? 4 + e.SHORT(4) : 2, d = 0, c = h.length; c > d; d++)e.SEGMENT(f, 0, h[d].segment), f += h[d].length;
                    return b = e.SEGMENT(), e.clear(), b
                }, strip: function (b) {
                    var d, e, f, g;
                    for (f = new c(b), e = f.headers, f.purge(), d = new a(b), g = e.length; g--;)d.SEGMENT(e[g].start, e[g].length, "");
                    return b = d.SEGMENT(), d.clear(), b
                }, get: function (a) {
                    for (var b = [], c = 0, d = h.length; d > c; c++)h[c].name === a.toUpperCase() && b.push(h[c].segment);
                    return b
                }, set: function (a, b) {
                    var c, d, e, f = [];
                    for ("string" == typeof b ? f.push(b) : f = b, c = d = 0, e = h.length; e > c && (h[c].name === a.toUpperCase() && (h[c].segment = f[d], h[c].length = f[d].length, d++), !(d >= f.length)); c++);
                }, purge: function () {
                    this.headers = h = []
                }
            }
        }
    }), d(M, [h, K, m], function (a, c, d) {
        function e(f) {
            function g(c, e) {
                var f, g, h, i, j, m, n, o, p = this, q = [], r = {}, s = {
                    1: "BYTE",
                    7: "UNDEFINED",
                    2: "ASCII",
                    3: "SHORT",
                    4: "LONG",
                    5: "RATIONAL",
                    9: "SLONG",
                    10: "SRATIONAL"
                }, t = {BYTE: 1, UNDEFINED: 1, ASCII: 1, SHORT: 2, LONG: 4, RATIONAL: 8, SLONG: 4, SRATIONAL: 8};
                for (f = p.SHORT(c), g = 0; f > g; g++)if (q = [], n = c + 2 + 12 * g, h = e[p.SHORT(n)], h !== b) {
                    if (i = s[p.SHORT(n += 2)], j = p.LONG(n += 2), m = t[i], !m)throw new d.ImageError(d.ImageError.INVALID_META_ERR);
                    if (n += 4, m * j > 4 && (n = p.LONG(n) + l.tiffHeader), n + m * j >= this.length())throw new d.ImageError(d.ImageError.INVALID_META_ERR);
                    "ASCII" !== i ? (q = p.asArray(i, n, j), o = 1 == j ? q[0] : q, r[h] = k.hasOwnProperty(h) && "object" != typeof o ? k[h][o] : o) : r[h] = a.trim(p.STRING(n, j).replace(/\0$/, ""))
                }
                return r
            }

            function h(a, b, c) {
                var d, e, f, g = 0;
                if ("string" == typeof b) {
                    var h = j[a.toLowerCase()];
                    for (var i in h)if (h[i] === b) {
                        b = i;
                        break
                    }
                }
                d = l[a.toLowerCase() + "IFD"], e = this.SHORT(d);
                for (var k = 0; e > k; k++)if (f = d + 12 * k + 2, this.SHORT(f) == b) {
                    g = f + 8;
                    break
                }
                if (!g)return !1;
                try {
                    this.write(g, c, 4)
                } catch (m) {
                    return !1
                }
                return !0
            }

            var i, j, k, l, m, n;
            if (c.call(this, f), j = {
                    tiff: {
                        274: "Orientation",
                        270: "ImageDescription",
                        271: "Make",
                        272: "Model",
                        305: "Software",
                        34665: "ExifIFDPointer",
                        34853: "GPSInfoIFDPointer"
                    },
                    exif: {
                        36864: "ExifVersion",
                        40961: "ColorSpace",
                        40962: "PixelXDimension",
                        40963: "PixelYDimension",
                        36867: "DateTimeOriginal",
                        33434: "ExposureTime",
                        33437: "FNumber",
                        34855: "ISOSpeedRatings",
                        37377: "ShutterSpeedValue",
                        37378: "ApertureValue",
                        37383: "MeteringMode",
                        37384: "LightSource",
                        37385: "Flash",
                        37386: "FocalLength",
                        41986: "ExposureMode",
                        41987: "WhiteBalance",
                        41990: "SceneCaptureType",
                        41988: "DigitalZoomRatio",
                        41992: "Contrast",
                        41993: "Saturation",
                        41994: "Sharpness"
                    },
                    gps: {
                        0: "GPSVersionID",
                        1: "GPSLatitudeRef",
                        2: "GPSLatitude",
                        3: "GPSLongitudeRef",
                        4: "GPSLongitude"
                    },
                    thumb: {513: "JPEGInterchangeFormat", 514: "JPEGInterchangeFormatLength"}
                }, k = {
                    ColorSpace: {1: "sRGB", 0: "Uncalibrated"},
                    MeteringMode: {
                        0: "Unknown",
                        1: "Average",
                        2: "CenterWeightedAverage",
                        3: "Spot",
                        4: "MultiSpot",
                        5: "Pattern",
                        6: "Partial",
                        255: "Other"
                    },
                    LightSource: {
                        1: "Daylight",
                        2: "Fliorescent",
                        3: "Tungsten",
                        4: "Flash",
                        9: "Fine weather",
                        10: "Cloudy weather",
                        11: "Shade",
                        12: "Daylight fluorescent (D 5700 - 7100K)",
                        13: "Day white fluorescent (N 4600 -5400K)",
                        14: "Cool white fluorescent (W 3900 - 4500K)",
                        15: "White fluorescent (WW 3200 - 3700K)",
                        17: "Standard light A",
                        18: "Standard light B",
                        19: "Standard light C",
                        20: "D55",
                        21: "D65",
                        22: "D75",
                        23: "D50",
                        24: "ISO studio tungsten",
                        255: "Other"
                    },
                    Flash: {
                        0: "Flash did not fire",
                        1: "Flash fired",
                        5: "Strobe return light not detected",
                        7: "Strobe return light detected",
                        9: "Flash fired, compulsory flash mode",
                        13: "Flash fired, compulsory flash mode, return light not detected",
                        15: "Flash fired, compulsory flash mode, return light detected",
                        16: "Flash did not fire, compulsory flash mode",
                        24: "Flash did not fire, auto mode",
                        25: "Flash fired, auto mode",
                        29: "Flash fired, auto mode, return light not detected",
                        31: "Flash fired, auto mode, return light detected",
                        32: "No flash function",
                        65: "Flash fired, red-eye reduction mode",
                        69: "Flash fired, red-eye reduction mode, return light not detected",
                        71: "Flash fired, red-eye reduction mode, return light detected",
                        73: "Flash fired, compulsory flash mode, red-eye reduction mode",
                        77: "Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",
                        79: "Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",
                        89: "Flash fired, auto mode, red-eye reduction mode",
                        93: "Flash fired, auto mode, return light not detected, red-eye reduction mode",
                        95: "Flash fired, auto mode, return light detected, red-eye reduction mode"
                    },
                    ExposureMode: {0: "Auto exposure", 1: "Manual exposure", 2: "Auto bracket"},
                    WhiteBalance: {0: "Auto white balance", 1: "Manual white balance"},
                    SceneCaptureType: {0: "Standard", 1: "Landscape", 2: "Portrait", 3: "Night scene"},
                    Contrast: {0: "Normal", 1: "Soft", 2: "Hard"},
                    Saturation: {0: "Normal", 1: "Low saturation", 2: "High saturation"},
                    Sharpness: {0: "Normal", 1: "Soft", 2: "Hard"},
                    GPSLatitudeRef: {N: "North latitude", S: "South latitude"},
                    GPSLongitudeRef: {E: "East longitude", W: "West longitude"}
                }, l = {tiffHeader: 10}, m = l.tiffHeader, i = {clear: this.clear}, a.extend(this, {
                    read: function () {
                        try {
                            return e.prototype.read.apply(this, arguments)
                        } catch (a) {
                            throw new d.ImageError(d.ImageError.INVALID_META_ERR)
                        }
                    }, write: function () {
                        try {
                            return e.prototype.write.apply(this, arguments)
                        } catch (a) {
                            throw new d.ImageError(d.ImageError.INVALID_META_ERR)
                        }
                    }, UNDEFINED: function () {
                        return this.BYTE.apply(this, arguments)
                    }, RATIONAL: function (a) {
                        return this.LONG(a) / this.LONG(a + 4)
                    }, SRATIONAL: function (a) {
                        return this.SLONG(a) / this.SLONG(a + 4)
                    }, ASCII: function (a) {
                        return this.CHAR(a)
                    }, TIFF: function () {
                        return n || null
                    }, EXIF: function () {
                        var b = null;
                        if (l.exifIFD) {
                            try {
                                b = g.call(this, l.exifIFD, j.exif)
                            } catch (c) {
                                return null
                            }
                            if (b.ExifVersion && "array" === a.typeOf(b.ExifVersion)) {
                                for (var d = 0, e = ""; d < b.ExifVersion.length; d++)e += String.fromCharCode(b.ExifVersion[d]);
                                b.ExifVersion = e
                            }
                        }
                        return b
                    }, GPS: function () {
                        var b = null;
                        if (l.gpsIFD) {
                            try {
                                b = g.call(this, l.gpsIFD, j.gps)
                            } catch (c) {
                                return null
                            }
                            b.GPSVersionID && "array" === a.typeOf(b.GPSVersionID) && (b.GPSVersionID = b.GPSVersionID.join("."))
                        }
                        return b
                    }, thumb: function () {
                        if (l.IFD1)try {
                            var a = g.call(this, l.IFD1, j.thumb);
                            if ("JPEGInterchangeFormat"in a)return this.SEGMENT(l.tiffHeader + a.JPEGInterchangeFormat, a.JPEGInterchangeFormatLength)
                        } catch (b) {
                        }
                        return null
                    }, setExif: function (a, b) {
                        return "PixelXDimension" !== a && "PixelYDimension" !== a ? !1 : h.call(this, "exif", a, b)
                    }, clear: function () {
                        i.clear(), f = j = k = n = l = i = null
                    }
                }), 65505 !== this.SHORT(0) || "EXIF\x00" !== this.STRING(4, 5).toUpperCase())throw new d.ImageError(d.ImageError.INVALID_META_ERR);
            if (this.littleEndian = 18761 == this.SHORT(m), 42 !== this.SHORT(m += 2))throw new d.ImageError(d.ImageError.INVALID_META_ERR);
            l.IFD0 = l.tiffHeader + this.LONG(m += 2), n = g.call(this, l.IFD0, j.tiff), "ExifIFDPointer"in n && (l.exifIFD = l.tiffHeader + n.ExifIFDPointer, delete n.ExifIFDPointer), "GPSInfoIFDPointer"in n && (l.gpsIFD = l.tiffHeader + n.GPSInfoIFDPointer, delete n.GPSInfoIFDPointer), a.isEmptyObj(n) && (n = null);
            var o = this.LONG(l.IFD0 + 12 * this.SHORT(l.IFD0) + 2);
            o && (l.IFD1 = l.tiffHeader + o)
        }

        return e.prototype = c.prototype, e
    }), d(N, [h, m, L, K, M], function (a, b, c, d, e) {
        function f(f) {
            function g(a) {
                var b, c, d = 0;
                for (a || (a = j); d <= a.length();) {
                    if (b = a.SHORT(d += 2), b >= 65472 && 65475 >= b)return d += 5, {
                        height: a.SHORT(d),
                        width: a.SHORT(d += 2)
                    };
                    c = a.SHORT(d += 2), d += c - 2
                }
                return null
            }

            function h() {
                var a, b, c = l.thumb();
                return c && (a = new d(c), b = g(a), a.clear(), b) ? (b.data = c, b) : null
            }

            function i() {
                l && k && j && (l.clear(), k.purge(), j.clear(), m = k = l = j = null)
            }

            var j, k, l, m;
            if (j = new d(f), 65496 !== j.SHORT(0))throw new b.ImageError(b.ImageError.WRONG_FORMAT);
            k = new c(f);
            try {
                l = new e(k.get("app1")[0])
            } catch (n) {
            }
            m = g.call(this), a.extend(this, {
                type: "image/jpeg",
                size: j.length(),
                width: m && m.width || 0,
                height: m && m.height || 0,
                setExif: function (b, c) {
                    return l ? ("object" === a.typeOf(b) ? a.each(b, function (a, b) {
                        l.setExif(b, a)
                    }) : l.setExif(b, c), void k.set("app1", l.SEGMENT())) : !1
                },
                writeHeaders: function () {
                    return k.restore(arguments.length ? arguments[0] : f)
                },
                stripHeaders: function (a) {
                    return k.strip(a)
                },
                purge: function () {
                    i.call(this)
                }
            }), l && (this.meta = {tiff: l.TIFF(), exif: l.EXIF(), gps: l.GPS(), thumb: h()})
        }

        return f
    }), d(O, [m, h, K], function (a, b, c) {
        function d(d) {
            function e() {
                var a, b;
                return a = g.call(this, 8), "IHDR" == a.type ? (b = a.start, {
                    width: h.LONG(b),
                    height: h.LONG(b += 4)
                }) : null
            }

            function f() {
                h && (h.clear(), d = k = i = j = h = null)
            }

            function g(a) {
                var b, c, d, e;
                return b = h.LONG(a), c = h.STRING(a += 4, 4), d = a += 4, e = h.LONG(a + b), {
                    length: b,
                    type: c,
                    start: d,
                    CRC: e
                }
            }

            var h, i, j, k;
            h = new c(d), function () {
                var b = 0, c = 0, d = [35152, 20039, 3338, 6666];
                for (c = 0; c < d.length; c++, b += 2)if (d[c] != h.SHORT(b))throw new a.ImageError(a.ImageError.WRONG_FORMAT)
            }(), k = e.call(this), b.extend(this, {
                type: "image/png",
                size: h.length(),
                width: k.width,
                height: k.height,
                purge: function () {
                    f.call(this)
                }
            }), f.call(this)
        }

        return d
    }), d(P, [h, m, N, O], function (a, b, c, d) {
        return function (e) {
            var f, g = [c, d];
            f = function () {
                for (var a = 0; a < g.length; a++)try {
                    return new g[a](e)
                } catch (c) {
                }
                throw new b.ImageError(b.ImageError.WRONG_FORMAT)
            }(), a.extend(this, {
                type: "", size: 0, width: 0, height: 0, setExif: function () {
                }, writeHeaders: function (a) {
                    return a
                }, stripHeaders: function (a) {
                    return a
                }, purge: function () {
                    e = null
                }
            }), a.extend(this, f), this.purge = function () {
                f.purge(), f = null
            }
        }
    }), d(Q, [], function () {
        function a(a, d, e) {
            var f = a.naturalWidth, g = a.naturalHeight, h = e.width, i = e.height, j = e.x || 0, k = e.y || 0, l = d.getContext("2d");
            b(a) && (f /= 2, g /= 2);
            var m = 1024, n = document.createElement("canvas");
            n.width = n.height = m;
            for (var o = n.getContext("2d"), p = c(a, f, g), q = 0; g > q;) {
                for (var r = q + m > g ? g - q : m, s = 0; f > s;) {
                    var t = s + m > f ? f - s : m;
                    o.clearRect(0, 0, m, m), o.drawImage(a, -s, -q);
                    var u = s * h / f + j << 0, v = Math.ceil(t * h / f), w = q * i / g / p + k << 0, x = Math.ceil(r * i / g / p);
                    l.drawImage(n, 0, 0, t, r, u, w, v, x), s += m
                }
                q += m
            }
            n = o = null
        }

        function b(a) {
            var b = a.naturalWidth, c = a.naturalHeight;
            if (b * c > 1048576) {
                var d = document.createElement("canvas");
                d.width = d.height = 1;
                var e = d.getContext("2d");
                return e.drawImage(a, -b + 1, 0), 0 === e.getImageData(0, 0, 1, 1).data[3]
            }
            return !1
        }

        function c(a, b, c) {
            var d = document.createElement("canvas");
            d.width = 1, d.height = c;
            var e = d.getContext("2d");
            e.drawImage(a, 0, 0);
            for (var f = e.getImageData(0, 0, 1, c).data, g = 0, h = c, i = c; i > g;) {
                var j = f[4 * (i - 1) + 3];
                0 === j ? h = i : g = i, i = h + g >> 1
            }
            d = null;
            var k = i / c;
            return 0 === k ? 1 : k
        }

        return {isSubsampled: b, renderTo: a}
    }), d(R, [D, h, m, r, s, t, P, Q, k, i], function (a, b, c, d, e, f, g, h, i, j) {
        function k() {
            function a() {
                if (!u && !s)throw new c.ImageError(c.DOMException.INVALID_STATE_ERR);
                return u || s
            }

            function k(a) {
                return d.atob(a.substring(a.indexOf("base64,") + 7))
            }

            function l(a, b) {
                return "data:" + (b || "") + ";base64," + d.btoa(a)
            }

            function m(a) {
                var b = this;
                s = new Image, s.onerror = function () {
                    r.call(this), b.trigger("error", c.ImageError.WRONG_FORMAT)
                }, s.onload = function () {
                    b.trigger("load")
                }, s.src = "data:" == a.substr(0, 5) ? a : l(a, w.type)
            }

            function n(a, b) {
                var d, e = this;
                return window.FileReader ? (d = new FileReader, d.onload = function () {
                    b(this.result)
                }, d.onerror = function () {
                    e.trigger("error", c.ImageError.WRONG_FORMAT)
                }, void d.readAsDataURL(a)) : b(a.getAsDataURL())
            }

            function o(c, d, e, f) {
                var g, h, i, j, k, l = this, m = 0, n = 0;
                if (z = f, k = this.meta && this.meta.tiff && this.meta.tiff.Orientation || 1, -1 !== b.inArray(k, [5, 6, 7, 8])) {
                    var o = c;
                    c = d, d = o
                }
                return h = a(), e ? (c = Math.min(c, h.width), d = Math.min(d, h.height), g = Math.max(c / h.width, d / h.height)) : g = Math.min(c / h.width, d / h.height), g > 1 && !e && f ? void this.trigger("Resize") : (u || (u = document.createElement("canvas")), i = Math.round(h.width * g), j = Math.round(h.height * g), e ? (u.width = c, u.height = d, i > c && (m = Math.round((i - c) / 2)), j > d && (n = Math.round((j - d) / 2))) : (u.width = i, u.height = j), z || q(u.width, u.height, k), p.call(this, h, u, -m, -n, i, j), this.width = u.width, this.height = u.height, y = !0, void l.trigger("Resize"))
            }

            function p(a, b, c, d, e, f) {
                if ("iOS" === j.OS)h.renderTo(a, b, {width: e, height: f, x: c, y: d}); else {
                    var g = b.getContext("2d");
                    g.drawImage(a, c, d, e, f)
                }
            }

            function q(a, b, c) {
                switch (c) {
                    case 5:
                    case 6:
                    case 7:
                    case 8:
                        u.width = b, u.height = a;
                        break;
                    default:
                        u.width = a, u.height = b
                }
                var d = u.getContext("2d");
                switch (c) {
                    case 2:
                        d.translate(a, 0), d.scale(-1, 1);
                        break;
                    case 3:
                        d.translate(a, b), d.rotate(Math.PI);
                        break;
                    case 4:
                        d.translate(0, b), d.scale(1, -1);
                        break;
                    case 5:
                        d.rotate(.5 * Math.PI), d.scale(1, -1);
                        break;
                    case 6:
                        d.rotate(.5 * Math.PI), d.translate(0, -b);
                        break;
                    case 7:
                        d.rotate(.5 * Math.PI), d.translate(a, -b), d.scale(-1, 1);
                        break;
                    case 8:
                        d.rotate(-.5 * Math.PI), d.translate(-a, 0)
                }
            }

            function r() {
                t && (t.purge(), t = null), v = s = u = w = null, y = !1
            }

            var s, t, u, v, w, x = this, y = !1, z = !0;
            b.extend(this, {
                loadFromBlob: function (a) {
                    var b = this, d = b.getRuntime(), e = arguments.length > 1 ? arguments[1] : !0;
                    if (!d.can("access_binary"))throw new c.RuntimeError(c.RuntimeError.NOT_SUPPORTED_ERR);
                    return w = a, a.isDetached() ? (v = a.getSource(), void m.call(this, v)) : void n.call(this, a.getSource(), function (a) {
                        e && (v = k(a)), m.call(b, a)
                    })
                }, loadFromImage: function (a, b) {
                    this.meta = a.meta, w = new f(null, {
                        name: a.name,
                        size: a.size,
                        type: a.type
                    }), m.call(this, b ? v = a.getAsBinaryString() : a.getAsDataURL())
                }, getInfo: function () {
                    var b, c = this.getRuntime();
                    return !t && v && c.can("access_image_binary") && (t = new g(v)), b = {
                        width: a().width || 0,
                        height: a().height || 0,
                        type: w.type || i.getFileMime(w.name),
                        size: v && v.length || w.size || 0,
                        name: w.name || "",
                        meta: t && t.meta || this.meta || {}
                    }, !b.meta || !b.meta.thumb || b.meta.thumb.data instanceof e || (b.meta.thumb.data = new e(null, {
                        type: "image/jpeg",
                        data: b.meta.thumb.data
                    })), b
                }, downsize: function () {
                    o.apply(this, arguments)
                }, getAsCanvas: function () {
                    return u && (u.id = this.uid + "_canvas"), u
                }, getAsBlob: function (a, b) {
                    return a !== this.type && o.call(this, this.width, this.height, !1), new f(null, {
                        name: w.name || "",
                        type: a,
                        data: x.getAsBinaryString.call(this, a, b)
                    })
                }, getAsDataURL: function (a) {
                    var b = arguments[1] || 90;
                    if (!y)return s.src;
                    if ("image/jpeg" !== a)return u.toDataURL("image/png");
                    try {
                        return u.toDataURL("image/jpeg", b / 100)
                    } catch (c) {
                        return u.toDataURL("image/jpeg")
                    }
                }, getAsBinaryString: function (a, b) {
                    if (!y)return v || (v = k(x.getAsDataURL(a, b))), v;
                    if ("image/jpeg" !== a)v = k(x.getAsDataURL(a, b)); else {
                        var c;
                        b || (b = 90);
                        try {
                            c = u.toDataURL("image/jpeg", b / 100)
                        } catch (d) {
                            c = u.toDataURL("image/jpeg")
                        }
                        v = k(c), t && (v = t.stripHeaders(v), z && (t.meta && t.meta.exif && t.setExif({
                            PixelXDimension: this.width,
                            PixelYDimension: this.height
                        }), v = t.writeHeaders(v)), t.purge(), t = null)
                    }
                    return y = !1, v
                }, destroy: function () {
                    x = null, r.call(this), this.getRuntime().getShim().removeInstance(this.uid)
                }
            })
        }

        return a.Image = k
    }), d(S, [h, i, l, m, o], function (a, b, c, d, e) {
        function f() {
            var a;
            try {
                a = navigator.plugins["Shockwave Flash"], a = a.description
            } catch (b) {
                try {
                    a = new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")
                } catch (c) {
                    a = "0.0"
                }
            }
            return a = a.match(/\d+/g), parseFloat(a[0] + "." + a[1])
        }

        function g(a) {
            var d = c.get(a);
            d && "OBJECT" == d.nodeName && ("IE" === b.browser ? (d.style.display = "none", function e() {
                4 == d.readyState ? h(a) : setTimeout(e, 10)
            }()) : d.parentNode.removeChild(d))
        }

        function h(a) {
            var b = c.get(a);
            if (b) {
                for (var d in b)"function" == typeof b[d] && (b[d] = null);
                b.parentNode.removeChild(b)
            }
        }

        function i(h) {
            var i, l = this;
            h = a.extend({swf_url: b.swf_url}, h), e.call(this, h, j, {
                access_binary: function (a) {
                    return a && "browser" === l.mode
                },
                access_image_binary: function (a) {
                    return a && "browser" === l.mode
                },
                display_media: e.capTrue,
                do_cors: e.capTrue,
                drag_and_drop: !1,
                report_upload_progress: function () {
                    return "client" === l.mode
                },
                resize_image: e.capTrue,
                return_response_headers: !1,
                return_response_type: function (b) {
                    return "json" === b && window.JSON ? !0 : !a.arrayDiff(b, ["", "text", "document"]) || "browser" === l.mode
                },
                return_status_code: function (b) {
                    return "browser" === l.mode || !a.arrayDiff(b, [200, 404])
                },
                select_file: e.capTrue,
                select_multiple: e.capTrue,
                send_binary_string: function (a) {
                    return a && "browser" === l.mode
                },
                send_browser_cookies: function (a) {
                    return a && "browser" === l.mode
                },
                send_custom_headers: function (a) {
                    return a && "browser" === l.mode
                },
                send_multipart: e.capTrue,
                slice_blob: function (a) {
                    return a && "browser" === l.mode
                },
                stream_upload: function (a) {
                    return a && "browser" === l.mode
                },
                summon_file_dialog: !1,
                upload_filesize: function (b) {
                    return a.parseSizeStr(b) <= 2097152 || "client" === l.mode
                },
                use_http_method: function (b) {
                    return !a.arrayDiff(b, ["GET", "POST"])
                }
            }, {
                access_binary: function (a) {
                    return a ? "browser" : "client"
                }, access_image_binary: function (a) {
                    return a ? "browser" : "client"
                }, report_upload_progress: function (a) {
                    return a ? "browser" : "client"
                }, return_response_type: function (b) {
                    return a.arrayDiff(b, ["", "text", "json", "document"]) ? "browser" : ["client", "browser"]
                }, return_status_code: function (b) {
                    return a.arrayDiff(b, [200, 404]) ? "browser" : ["client", "browser"]
                }, send_binary_string: function (a) {
                    return a ? "browser" : "client"
                }, send_browser_cookies: function (a) {
                    return a ? "browser" : "client"
                }, send_custom_headers: function (a) {
                    return a ? "browser" : "client"
                }, stream_upload: function (a) {
                    return a ? "client" : "browser"
                }, upload_filesize: function (b) {
                    return a.parseSizeStr(b) >= 2097152 ? "client" : "browser"
                }
            }, "client"), f() < 10 && (this.mode = !1), a.extend(this, {
                getShim: function () {
                    return c.get(this.uid)
                }, shimExec: function (a, b) {
                    var c = [].slice.call(arguments, 2);
                    return l.getShim().exec(this.uid, a, b, c)
                }, init: function () {
                    var c, e, f;
                    f = this.getShimContainer(), a.extend(f.style, {
                        position: "absolute",
                        top: "-8px",
                        left: "-8px",
                        width: "9px",
                        height: "9px",
                        overflow: "hidden"
                    }), c = '<object id="' + this.uid + '" type="application/x-shockwave-flash" data="' + h.swf_url + '" ', "IE" === b.browser && (c += 'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '), c += 'width="100%" height="100%" style="outline:0"><param name="movie" value="' + h.swf_url + '" /><param name="flashvars" value="uid=' + escape(this.uid) + "&target=" + b.global_event_dispatcher + '" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>', "IE" === b.browser ? (e = document.createElement("div"), f.appendChild(e), e.outerHTML = c, e = f = null) : f.innerHTML = c, i = setTimeout(function () {
                        l && !l.initialized && l.trigger("Error", new d.RuntimeError(d.RuntimeError.NOT_INIT_ERR))
                    }, 5e3)
                }, destroy: function (a) {
                    return function () {
                        g(l.uid), a.call(l), clearTimeout(i), h = i = a = l = null
                    }
                }(this.destroy)
            }, k)
        }

        var j = "flash", k = {};
        return e.addConstructor(j, i), k
    }), d(T, [S, t, h], function (a, b, c) {
        var d = {
            init: function (a) {
                var d = this, e = this.getRuntime();
                this.bind("Change", function () {
                    var a = e.shimExec.call(d, "FileInput", "getFiles");
                    d.files = [], c.each(a, function (a) {
                        d.files.push(new b(e.uid, a))
                    })
                }, 999), this.getRuntime().shimExec.call(this, "FileInput", "init", {
                    name: a.name,
                    accept: a.accept,
                    multiple: a.multiple
                }), this.trigger("ready")
            }
        };
        return a.FileInput = d
    }), d(U, [S, s], function (a, b) {
        var c = {
            slice: function (a, c, d, e) {
                var f = this.getRuntime();
                return 0 > c ? c = Math.max(a.size + c, 0) : c > 0 && (c = Math.min(c, a.size)), 0 > d ? d = Math.max(a.size + d, 0) : d > 0 && (d = Math.min(d, a.size)), a = f.shimExec.call(this, "Blob", "slice", c, d, e || ""), a && (a = new b(f.uid, a)), a
            }
        };
        return a.Blob = c
    }), d(V, [S, r], function (a, b) {
        function c(a, c) {
            switch (c) {
                case"readAsText":
                    return b.atob(a, "utf8");
                case"readAsBinaryString":
                    return b.atob(a);
                case"readAsDataURL":
                    return a
            }
            return null
        }

        var d = {
            read: function (a, b) {
                var d = this;
                return d.result = "", "readAsDataURL" === a && (d.result = "data:" + (b.type || "") + ";base64,"), d.bind("Progress", function (b, e) {
                    e && (d.result += c(e, a))
                }, 999), d.getRuntime().shimExec.call(this, "FileReader", "readAsBase64", b.uid)
            }
        };
        return a.FileReader = d
    }), d(W, [S, r], function (a, b) {
        function c(a, c) {
            switch (c) {
                case"readAsText":
                    return b.atob(a, "utf8");
                case"readAsBinaryString":
                    return b.atob(a);
                case"readAsDataURL":
                    return a
            }
            return null
        }

        var d = {
            read: function (a, b) {
                var d, e = this.getRuntime();
                return (d = e.shimExec.call(this, "FileReaderSync", "readAsBase64", b.uid)) ? ("readAsDataURL" === a && (d = "data:" + (b.type || "") + ";base64," + d), c(d, a, b.type)) : null
            }
        };
        return a.FileReaderSync = d
    }), d(X, [S, h, s, t, y, z, B], function (a, b, c, d, e, f, g) {
        var h = {
            send: function (a, d) {
                function e() {
                    a.transport = k.mode, k.shimExec.call(j, "XMLHttpRequest", "send", a, d)
                }

                function h(a, b) {
                    k.shimExec.call(j, "XMLHttpRequest", "appendBlob", a, b.uid), d = null, e()
                }

                function i(a, b) {
                    var c = new g;
                    c.bind("TransportingComplete", function () {
                        b(this.result)
                    }), c.transport(a.getSource(), a.type, {ruid: k.uid})
                }

                var j = this, k = j.getRuntime();
                if (b.isEmptyObj(a.headers) || b.each(a.headers, function (a, b) {
                        k.shimExec.call(j, "XMLHttpRequest", "setRequestHeader", b, a.toString())
                    }), d instanceof f) {
                    var l;
                    if (d.each(function (a, b) {
                            a instanceof c ? l = b : k.shimExec.call(j, "XMLHttpRequest", "append", b, a)
                        }), d.hasBlob()) {
                        var m = d.getBlob();
                        m.isDetached() ? i(m, function (a) {
                            m.destroy(), h(l, a)
                        }) : h(l, m)
                    } else d = null, e()
                } else d instanceof c ? d.isDetached() ? i(d, function (a) {
                    d.destroy(), d = a.uid, e()
                }) : (d = d.uid, e()) : e()
            }, getResponse: function (a) {
                var c, f, g = this.getRuntime();
                if (f = g.shimExec.call(this, "XMLHttpRequest", "getResponseAsBlob")) {
                    if (f = new d(g.uid, f), "blob" === a)return f;
                    try {
                        if (c = new e, ~b.inArray(a, ["", "text"]))return c.readAsText(f);
                        if ("json" === a && window.JSON)return JSON.parse(c.readAsText(f))
                    } finally {
                        f.destroy()
                    }
                }
                return null
            }, abort: function () {
                var a = this.getRuntime();
                a.shimExec.call(this, "XMLHttpRequest", "abort"), this.dispatchEvent("readystatechange"), this.dispatchEvent("abort")
            }
        };
        return a.XMLHttpRequest = h
    }), d(Y, [S, s], function (a, b) {
        var c = {
            getAsBlob: function (a) {
                var c = this.getRuntime(), d = c.shimExec.call(this, "Transporter", "getAsBlob", a);
                return d ? new b(c.uid, d) : null
            }
        };
        return a.Transporter = c
    }), d(Z, [S, h, B, s, y], function (a, b, c, d, e) {
        var f = {
            loadFromBlob: function (a) {
                function b(a) {
                    e.shimExec.call(d, "Image", "loadFromBlob", a.uid), d = e = null
                }

                var d = this, e = d.getRuntime();
                if (a.isDetached()) {
                    var f = new c;
                    f.bind("TransportingComplete", function () {
                        b(f.result.getSource())
                    }), f.transport(a.getSource(), a.type, {ruid: e.uid})
                } else b(a.getSource())
            }, loadFromImage: function (a) {
                var b = this.getRuntime();
                return b.shimExec.call(this, "Image", "loadFromImage", a.uid)
            }, getInfo: function () {
                var a = this.getRuntime(), b = a.shimExec.call(this, "Image", "getInfo");
                return !b.meta || !b.meta.thumb || b.meta.thumb.data instanceof d || (b.meta.thumb.data = new d(a.uid, b.meta.thumb.data)), b
            }, getAsBlob: function (a, b) {
                var c = this.getRuntime(), e = c.shimExec.call(this, "Image", "getAsBlob", a, b);
                return e ? new d(c.uid, e) : null
            }, getAsDataURL: function () {
                var a, b = this.getRuntime(), c = b.Image.getAsBlob.apply(this, arguments);
                return c ? (a = new e, a.readAsDataURL(c)) : null
            }
        };
        return a.Image = f
    }), d($, [h, i, l, m, o], function (a, b, c, d, e) {
        function f(a) {
            var b, c, d, e, f, g = !1, h = null, i = 0;
            try {
                try {
                    h = new ActiveXObject("AgControl.AgControl"), h.IsVersionSupported(a) && (g = !0), h = null
                } catch (j) {
                    var k = navigator.plugins["Silverlight Plug-In"];
                    if (k) {
                        for (b = k.description, "1.0.30226.2" === b && (b = "2.0.30226.2"), c = b.split("."); c.length > 3;)c.pop();
                        for (; c.length < 4;)c.push(0);
                        for (d = a.split("."); d.length > 4;)d.pop();
                        do e = parseInt(d[i], 10), f = parseInt(c[i], 10), i++; while (i < d.length && e === f);
                        f >= e && !isNaN(e) && (g = !0)
                    }
                }
            } catch (l) {
                g = !1
            }
            return g
        }

        function g(g) {
            var j, k = this;
            g = a.extend({xap_url: b.xap_url}, g), e.call(this, g, h, {
                access_binary: e.capTrue,
                access_image_binary: e.capTrue,
                display_media: e.capTrue,
                do_cors: e.capTrue,
                drag_and_drop: !1,
                report_upload_progress: e.capTrue,
                resize_image: e.capTrue,
                return_response_headers: function (a) {
                    return a && "client" === k.mode
                },
                return_response_type: function (a) {
                    return "json" !== a ? !0 : !!window.JSON
                },
                return_status_code: function (b) {
                    return "client" === k.mode || !a.arrayDiff(b, [200, 404])
                },
                select_file: e.capTrue,
                select_multiple: e.capTrue,
                send_binary_string: e.capTrue,
                send_browser_cookies: function (a) {
                    return a && "browser" === k.mode
                },
                send_custom_headers: function (a) {
                    return a && "client" === k.mode
                },
                send_multipart: e.capTrue,
                slice_blob: e.capTrue,
                stream_upload: !0,
                summon_file_dialog: !1,
                upload_filesize: e.capTrue,
                use_http_method: function (b) {
                    return "client" === k.mode || !a.arrayDiff(b, ["GET", "POST"])
                }
            }, {
                return_response_headers: function (a) {
                    return a ? "client" : "browser"
                }, return_status_code: function (b) {
                    return a.arrayDiff(b, [200, 404]) ? "client" : ["client", "browser"]
                }, send_browser_cookies: function (a) {
                    return a ? "browser" : "client"
                }, send_custom_headers: function (a) {
                    return a ? "client" : "browser"
                }, use_http_method: function (b) {
                    return a.arrayDiff(b, ["GET", "POST"]) ? "client" : ["client", "browser"]
                }
            }), f("2.0.31005.0") && "Opera" !== b.browser || (this.mode = !1), a.extend(this, {
                getShim: function () {
                    return c.get(this.uid).content.Moxie
                }, shimExec: function (a, b) {
                    var c = [].slice.call(arguments, 2);
                    return k.getShim().exec(this.uid, a, b, c)
                }, init: function () {
                    var a;
                    a = this.getShimContainer(), a.innerHTML = '<object id="' + this.uid + '" data="data:application/x-silverlight," type="application/x-silverlight-2" width="100%" height="100%" style="outline:none;"><param name="source" value="' + g.xap_url + '"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="uid=' + this.uid + ",target=" + b.global_event_dispatcher + '"/></object>', j = setTimeout(function () {
                        k && !k.initialized && k.trigger("Error", new d.RuntimeError(d.RuntimeError.NOT_INIT_ERR))
                    }, "Windows" !== b.OS ? 1e4 : 5e3)
                }, destroy: function (a) {
                    return function () {
                        a.call(k), clearTimeout(j), g = j = a = k = null
                    }
                }(this.destroy)
            }, i)
        }

        var h = "silverlight", i = {};
        return e.addConstructor(h, g), i
    }), d(_, [$, t, h], function (a, b, c) {
        var d = {
            init: function (a) {
                function d(a) {
                    for (var b = "", c = 0; c < a.length; c++)b += ("" !== b ? "|" : "") + a[c].title + " | *." + a[c].extensions.replace(/,/g, ";*.");
                    return b
                }

                var e = this, f = this.getRuntime();
                this.bind("Change", function () {
                    var a = f.shimExec.call(e, "FileInput", "getFiles");
                    e.files = [], c.each(a, function (a) {
                        e.files.push(new b(f.uid, a))
                    })
                }, 999), this.getRuntime().shimExec.call(this, "FileInput", "init", d(a.accept), a.name, a.multiple), this.trigger("ready")
            }
        };
        return a.FileInput = d
    }), d(ab, [$, h, U], function (a, b, c) {
        return a.Blob = b.extend({}, c)
    }), d(bb, [$, l, E], function (a, b, c) {
        var d = {
            init: function () {
                var a, d = this, e = d.getRuntime();
                return a = e.getShimContainer(), c.addEvent(a, "dragover", function (a) {
                    a.preventDefault(), a.stopPropagation(), a.dataTransfer.dropEffect = "copy"
                }, d.uid), c.addEvent(a, "dragenter", function (a) {
                    a.preventDefault();
                    var c = b.get(e.uid).dragEnter(a);
                    c && a.stopPropagation()
                }, d.uid), c.addEvent(a, "drop", function (a) {
                    a.preventDefault();
                    var c = b.get(e.uid).dragDrop(a);
                    c && a.stopPropagation()
                }, d.uid), e.shimExec.call(this, "FileDrop", "init")
            }
        };
        return a.FileDrop = d
    }), d(cb, [$, h, V], function (a, b, c) {
        return a.FileReader = b.extend({}, c)
    }), d(db, [$, h, W], function (a, b, c) {
        return a.FileReaderSync = b.extend({}, c)
    }), d(eb, [$, h, X], function (a, b, c) {
        return a.XMLHttpRequest = b.extend({}, c)
    }), d(fb, [$, h, Y], function (a, b, c) {
        return a.Transporter = b.extend({}, c)
    }), d(gb, [$, h, s, Z], function (a, b, c, d) {
        return a.Image = b.extend({}, d, {
            getInfo: function () {
                var a = this.getRuntime(), d = ["tiff", "exif", "gps", "thumb"], e = {meta: {}}, f = a.shimExec.call(this, "Image", "getInfo");
                return f.meta && (b.each(d, function (a) {
                    var b, c, d, g, h = f.meta[a];
                    if (h && h.keys)for (e.meta[a] = {}, c = 0, d = h.keys.length; d > c; c++)b = h.keys[c], g = h[b], g && (/^(\d|[1-9]\d+)$/.test(g) ? g = parseInt(g, 10) : /^\d*\.\d+$/.test(g) && (g = parseFloat(g)), e.meta[a][b] = g)
                }), !e.meta || !e.meta.thumb || e.meta.thumb.data instanceof c || (e.meta.thumb.data = new c(a.uid, e.meta.thumb.data))), e.width = parseInt(f.width, 10), e.height = parseInt(f.height, 10), e.size = parseInt(f.size, 10), e.type = f.type, e.name = f.name, e
            }
        })
    }), d(hb, [h, m, o, i], function (a, b, c, d) {
        function e(b) {
            var e = this, h = c.capTest, i = c.capTrue;
            c.call(this, b, f, {
                access_binary: h(window.FileReader || window.File && File.getAsDataURL),
                access_image_binary: !1,
                display_media: h(g.Image && (d.can("create_canvas") || d.can("use_data_uri_over32kb"))),
                do_cors: !1,
                drag_and_drop: !1,
                filter_by_extension: h(function () {
                    return "Chrome" === d.browser && d.verComp(d.version, 28, ">=") || "IE" === d.browser && d.verComp(d.version, 10, ">=") || "Safari" === d.browser && d.verComp(d.version, 7, ">=")
                }()),
                resize_image: function () {
                    return g.Image && e.can("access_binary") && d.can("create_canvas")
                },
                report_upload_progress: !1,
                return_response_headers: !1,
                return_response_type: function (b) {
                    return "json" === b && window.JSON ? !0 : !!~a.inArray(b, ["text", "document", ""])
                },
                return_status_code: function (b) {
                    return !a.arrayDiff(b, [200, 404])
                },
                select_file: function () {
                    return d.can("use_fileinput")
                },
                select_multiple: !1,
                send_binary_string: !1,
                send_custom_headers: !1,
                send_multipart: !0,
                slice_blob: !1,
                stream_upload: function () {
                    return e.can("select_file")
                },
                summon_file_dialog: function () {
                    return e.can("select_file") && ("Firefox" === d.browser && d.verComp(d.version, 4, ">=") || "Opera" === d.browser && d.verComp(d.version, 12, ">=") || "IE" === d.browser && d.verComp(d.version, 10, ">=") || !!~a.inArray(d.browser, ["Chrome", "Safari"]))
                },
                upload_filesize: i,
                use_http_method: function (b) {
                    return !a.arrayDiff(b, ["GET", "POST"])
                }
            }), a.extend(this, {
                init: function () {
                    this.trigger("Init")
                }, destroy: function (a) {
                    return function () {
                        a.call(e), a = e = null
                    }
                }(this.destroy)
            }), a.extend(this.getShim(), g)
        }

        var f = "html4", g = {};
        return c.addConstructor(f, e), g
    }), d(ib, [hb, t, h, l, E, k, i], function (a, b, c, d, e, f, g) {
        function h() {
            function a() {
                var f, k, l, m, n, o, p = this, q = p.getRuntime();
                o = c.guid("uid_"), f = q.getShimContainer(), h && (l = d.get(h + "_form"), l && c.extend(l.style, {top: "100%"})), m = document.createElement("form"), m.setAttribute("id", o + "_form"), m.setAttribute("method", "post"), m.setAttribute("enctype", "multipart/form-data"), m.setAttribute("encoding", "multipart/form-data"), c.extend(m.style, {
                    overflow: "hidden",
                    position: "absolute",
                    top: 0,
                    left: 0,
                    width: "100%",
                    height: "100%"
                }), n = document.createElement("input"), n.setAttribute("id", o), n.setAttribute("type", "file"), n.setAttribute("name", i.name || "Filedata"), n.setAttribute("accept", j.join(",")), c.extend(n.style, {
                    fontSize: "999px",
                    opacity: 0
                }), m.appendChild(n), f.appendChild(m), c.extend(n.style, {
                    position: "absolute",
                    top: 0,
                    left: 0,
                    width: "100%",
                    height: "100%"
                }), "IE" === g.browser && g.verComp(g.version, 10, "<") && c.extend(n.style, {filter: "progid:DXImageTransform.Microsoft.Alpha(opacity=0)"}), n.onchange = function () {
                    var c;
                    if (this.value) {
                        if (this.files) {
                            if (c = this.files[0], 0 === c.size)return void m.parentNode.removeChild(m)
                        } else c = {name: this.value};
                        c = new b(q.uid, c), this.onchange = function () {
                        }, a.call(p), p.files = [c], n.setAttribute("id", c.uid), m.setAttribute("id", c.uid + "_form"), p.trigger("change"), n = m = null
                    }
                }, q.can("summon_file_dialog") && (k = d.get(i.browse_button), e.removeEvent(k, "click", p.uid), e.addEvent(k, "click", function (a) {
                    n && !n.disabled && n.click(), a.preventDefault()
                }, p.uid)), h = o, f = l = k = null
            }

            var h, i, j = [];
            c.extend(this, {
                init: function (b) {
                    var c, g = this, h = g.getRuntime();
                    i = b, j = b.accept.mimes || f.extList2mimes(b.accept, h.can("filter_by_extension")), c = h.getShimContainer(), function () {
                        var a, f, i;
                        a = d.get(b.browse_button), h.can("summon_file_dialog") && ("static" === d.getStyle(a, "position") && (a.style.position = "relative"), f = parseInt(d.getStyle(a, "z-index"), 10) || 1, a.style.zIndex = f, c.style.zIndex = f - 1), i = h.can("summon_file_dialog") ? a : c, e.addEvent(i, "mouseover", function () {
                            g.trigger("mouseenter")
                        }, g.uid), e.addEvent(i, "mouseout", function () {
                            g.trigger("mouseleave")
                        }, g.uid), e.addEvent(i, "mousedown", function () {
                            g.trigger("mousedown")
                        }, g.uid), e.addEvent(d.get(b.container), "mouseup", function () {
                            g.trigger("mouseup")
                        }, g.uid), a = null
                    }(), a.call(this), c = null, g.trigger({type: "ready", async: !0})
                }, disable: function (a) {
                    var b;
                    (b = d.get(h)) && (b.disabled = !!a)
                }, destroy: function () {
                    var a = this.getRuntime(), b = a.getShim(), c = a.getShimContainer();
                    e.removeAllEvents(c, this.uid), e.removeAllEvents(i && d.get(i.container), this.uid), e.removeAllEvents(i && d.get(i.browse_button), this.uid), c && (c.innerHTML = ""), b.removeInstance(this.uid), h = j = i = c = b = null
                }
            })
        }

        return a.FileInput = h
    }), d(jb, [hb, I], function (a, b) {
        return a.FileReader = b
    }), d(kb, [hb, h, l, w, m, E, s, z], function (a, b, c, d, e, f, g, h) {
        function i() {
            function a(a) {
                var b, d, e, g, h = this, i = !1;
                if (k) {
                    if (b = k.id.replace(/_iframe$/, ""), d = c.get(b + "_form")) {
                        for (e = d.getElementsByTagName("input"), g = e.length; g--;)switch (e[g].getAttribute("type")) {
                            case"hidden":
                                e[g].parentNode.removeChild(e[g]);
                                break;
                            case"file":
                                i = !0
                        }
                        e = [], i || d.parentNode.removeChild(d), d = null
                    }
                    setTimeout(function () {
                        f.removeEvent(k, "load", h.uid), k.parentNode && k.parentNode.removeChild(k);
                        var b = h.getRuntime().getShimContainer();
                        b.children.length || b.parentNode.removeChild(b), b = k = null, a()
                    }, 1)
                }
            }

            var i, j, k;
            b.extend(this, {
                send: function (l, m) {
                    function n() {
                        var c = t.getShimContainer() || document.body, e = document.createElement("div");
                        e.innerHTML = '<iframe id="' + o + '_iframe" name="' + o + '_iframe" src="javascript:&quot;&quot;" style="display:none"></iframe>', k = e.firstChild, c.appendChild(k), f.addEvent(k, "load", function () {
                            var c;
                            try {
                                c = k.contentWindow.document || k.contentDocument || window.frames[k.id].document, /^4(0[0-9]|1[0-7]|2[2346])\s/.test(c.title) ? i = c.title.replace(/^(\d+).*$/, "$1") : (i = 200, j = b.trim(c.body.innerHTML), s.trigger({
                                    type: "progress",
                                    loaded: j.length,
                                    total: j.length
                                }), r && s.trigger({
                                    type: "uploadprogress",
                                    loaded: r.size || 1025,
                                    total: r.size || 1025
                                }))
                            } catch (e) {
                                if (!d.hasSameOrigin(l.url))return void a.call(s, function () {
                                    s.trigger("error")
                                });
                                i = 404
                            }
                            a.call(s, function () {
                                s.trigger("load")
                            })
                        }, s.uid)
                    }

                    var o, p, q, r, s = this, t = s.getRuntime();
                    if (i = j = null, m instanceof h && m.hasBlob()) {
                        if (r = m.getBlob(), o = r.uid, q = c.get(o), p = c.get(o + "_form"), !p)throw new e.DOMException(e.DOMException.NOT_FOUND_ERR)
                    } else o = b.guid("uid_"), p = document.createElement("form"), p.setAttribute("id", o + "_form"), p.setAttribute("method", l.method), p.setAttribute("enctype", "multipart/form-data"), p.setAttribute("encoding", "multipart/form-data"), t.getShimContainer().appendChild(p);
                    p.setAttribute("target", o + "_iframe"), m instanceof h && m.each(function (a, c) {
                        if (a instanceof g)q && q.setAttribute("name", c); else {
                            var d = document.createElement("input");
                            b.extend(d, {
                                type: "hidden",
                                name: c,
                                value: a
                            }), q ? p.insertBefore(d, q) : p.appendChild(d)
                        }
                    }), p.setAttribute("action", l.url), n(), p.submit(), s.trigger("loadstart")
                }, getStatus: function () {
                    return i
                }, getResponse: function (a) {
                    if ("json" === a && "string" === b.typeOf(j) && window.JSON)try {
                        return JSON.parse(j.replace(/^\s*<pre[^>]*>/, "").replace(/<\/pre>\s*$/, ""))
                    } catch (c) {
                        return null
                    }
                    return j
                }, abort: function () {
                    var b = this;
                    k && k.contentWindow && (k.contentWindow.stop ? k.contentWindow.stop() : k.contentWindow.document.execCommand ? k.contentWindow.document.execCommand("Stop") : k.src = "about:blank"), a.call(this, function () {
                        b.dispatchEvent("abort")
                    })
                }
            })
        }

        return a.XMLHttpRequest = i
    }), d(lb, [hb, R], function (a, b) {
        return a.Image = b
    }), f([h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z, A, B, C, E])
}(this), function (a) {
    "use strict";
    var b = {}, c = a.moxie.core.utils.Basic.inArray;
    return function d(a) {
        var e, f;
        for (e in a)f = typeof a[e], "object" !== f || ~c(e, ["Exceptions", "Env", "Mime"]) ? "function" === f && (b[e] = a[e]) : d(a[e])
    }(a.moxie), b.Env = a.moxie.core.utils.Env, b.Mime = a.moxie.core.utils.Mime, b.Exceptions = a.moxie.core.Exceptions, a.mOxie = b, a.o || (a.o = b), b
}(this), function (a, b, c) {
    function d(a) {
        function b(a, b, c) {
            var e = {
                chunks: "slice_blob",
                jpgresize: "send_binary_string",
                pngresize: "send_binary_string",
                progress: "report_upload_progress",
                multi_selection: "select_multiple",
                dragdrop: "drag_and_drop",
                drop_element: "drag_and_drop",
                headers: "send_custom_headers",
                urlstream_upload: "send_binary_string",
                canSendBinary: "send_binary",
                triggerDialog: "summon_file_dialog"
            };
            e[a] ? d[e[a]] = b : c || (d[a] = b)
        }

        var c = a.required_features, d = {};
        return "string" == typeof c ? g.each(c.split(/\s*,\s*/), function (a) {
            b(a, !0)
        }) : "object" == typeof c ? g.each(c, function (a, c) {
            b(c, a)
        }) : c === !0 && (a.chunk_size > 0 && (d.slice_blob = !0), (a.resize.enabled || !a.multipart) && (d.send_binary_string = !0), g.each(a, function (a, c) {
            b(c, !!a, !0)
        })), d
    }

    var e = a.setTimeout, f = {}, g = {
        VERSION: "2.1.8",
        STOPPED: 1,
        STARTED: 2,
        QUEUED: 1,
        UPLOADING: 2,
        FAILED: 4,
        DONE: 5,
        GENERIC_ERROR: -100,
        HTTP_ERROR: -200,
        IO_ERROR: -300,
        SECURITY_ERROR: -400,
        INIT_ERROR: -500,
        FILE_SIZE_ERROR: -600,
        FILE_EXTENSION_ERROR: -601,
        FILE_DUPLICATE_ERROR: -602,
        IMAGE_FORMAT_ERROR: -700,
        MEMORY_ERROR: -701,
        IMAGE_DIMENSIONS_ERROR: -702,
        mimeTypes: b.mimes,
        ua: b.ua,
        typeOf: b.typeOf,
        extend: b.extend,
        guid: b.guid,
        get: function (a) {
            var c, d = [];
            "array" !== b.typeOf(a) && (a = [a]);
            for (var e = a.length; e--;)c = b.get(a[e]), c && d.push(c);
            return d.length ? d : null
        },
        each: b.each,
        getPos: b.getPos,
        getSize: b.getSize,
        xmlEncode: function (a) {
            var b = {"<": "lt", ">": "gt", "&": "amp", '"': "quot", "'": "#39"}, c = /[<>&\"\']/g;
            return a ? ("" + a).replace(c, function (a) {
                return b[a] ? "&" + b[a] + ";" : a
            }) : a
        },
        toArray: b.toArray,
        inArray: b.inArray,
        addI18n: b.addI18n,
        translate: b.translate,
        isEmptyObj: b.isEmptyObj,
        hasClass: b.hasClass,
        addClass: b.addClass,
        removeClass: b.removeClass,
        getStyle: b.getStyle,
        addEvent: b.addEvent,
        removeEvent: b.removeEvent,
        removeAllEvents: b.removeAllEvents,
        cleanName: function (a) {
            var b, c;
            for (c = [/[\300-\306]/g, "A", /[\340-\346]/g, "a", /\307/g, "C", /\347/g, "c", /[\310-\313]/g, "E", /[\350-\353]/g, "e", /[\314-\317]/g, "I", /[\354-\357]/g, "i", /\321/g, "N", /\361/g, "n", /[\322-\330]/g, "O", /[\362-\370]/g, "o", /[\331-\334]/g, "U", /[\371-\374]/g, "u"], b = 0; b < c.length; b += 2)a = a.replace(c[b], c[b + 1]);
            return a = a.replace(/\s+/g, "_"), a = a.replace(/[^a-z0-9_\-\.]+/gi, "")
        },
        buildUrl: function (a, b) {
            var c = "";
            return g.each(b, function (a, b) {
                c += (c ? "&" : "") + encodeURIComponent(b) + "=" + encodeURIComponent(a)
            }), c && (a += (a.indexOf("?") > 0 ? "&" : "?") + c), a
        },
        formatSize: function (a) {
            function b(a, b) {
                return Math.round(a * Math.pow(10, b)) / Math.pow(10, b)
            }

            if (a === c || /\D/.test(a))return g.translate("N/A");
            var d = Math.pow(1024, 4);
            return a > d ? b(a / d, 1) + " " + g.translate("tb") : a > (d /= 1024) ? b(a / d, 1) + " " + g.translate("gb") : a > (d /= 1024) ? b(a / d, 1) + " " + g.translate("mb") : a > 1024 ? Math.round(a / 1024) + " " + g.translate("kb") : a + " " + g.translate("b")
        },
        parseSize: b.parseSizeStr,
        predictRuntime: function (a, c) {
            var d, e;
            return d = new g.Uploader(a), e = b.Runtime.thatCan(d.getOption().required_features, c || a.runtimes), d.destroy(), e
        },
        addFileFilter: function (a, b) {
            f[a] = b
        }
    };
    g.addFileFilter("mime_types", function (a, b, c) {
        a.length && !a.regexp.test(b.name) ? (this.trigger("Error", {
            code: g.FILE_EXTENSION_ERROR,
            message: g.translate("File extension error."),
            file: b
        }), c(!1)) : c(!0)
    }), g.addFileFilter("max_file_size", function (a, b, c) {
        var d;
        a = g.parseSize(a), b.size !== d && a && b.size > a ? (this.trigger("Error", {
            code: g.FILE_SIZE_ERROR,
            message: g.translate("File size error."),
            file: b
        }), c(!1)) : c(!0)
    }), g.addFileFilter("prevent_duplicates", function (a, b, c) {
        if (a)for (var d = this.files.length; d--;)if (b.name === this.files[d].name && b.size === this.files[d].size)return this.trigger("Error", {
            code: g.FILE_DUPLICATE_ERROR,
            message: g.translate("Duplicate file error."),
            file: b
        }), void c(!1);
        c(!0)
    }), g.Uploader = function (a) {
        function h() {
            var a, b, c = 0;
            if (this.state == g.STARTED) {
                for (b = 0; b < D.length; b++)a || D[b].status != g.QUEUED ? c++ : (a = D[b], this.trigger("BeforeUpload", a) && (a.status = g.UPLOADING, this.trigger("UploadFile", a)));
                c == D.length && (this.state !== g.STOPPED && (this.state = g.STOPPED, this.trigger("StateChanged")), this.trigger("UploadComplete", D))
            }
        }

        function i(a) {
            a.percent = a.size > 0 ? Math.ceil(a.loaded / a.size * 100) : 100, j()
        }

        function j() {
            var a, b;
            for (A.reset(), a = 0; a < D.length; a++)b = D[a], b.size !== c ? (A.size += b.origSize, A.loaded += b.loaded * b.origSize / b.size) : A.size = c, b.status == g.DONE ? A.uploaded++ : b.status == g.FAILED ? A.failed++ : A.queued++;
            A.size === c ? A.percent = D.length > 0 ? Math.ceil(A.uploaded / D.length * 100) : 0 : (A.bytesPerSec = Math.ceil(A.loaded / ((+new Date - z || 1) / 1e3)), A.percent = A.size > 0 ? Math.ceil(A.loaded / A.size * 100) : 0)
        }

        function k() {
            var a = F[0] || G[0];
            return a ? a.getRuntime().uid : !1
        }

        function l(a, c) {
            if (a.ruid) {
                var d = b.Runtime.getInfo(a.ruid);
                if (d)return d.can(c)
            }
            return !1
        }

        function m() {
            this.bind("FilesAdded FilesRemoved", function (a) {
                a.trigger("QueueChanged"), a.refresh()
            }), this.bind("CancelUpload", u), this.bind("BeforeUpload", q), this.bind("UploadFile", r), this.bind("UploadProgress", s), this.bind("StateChanged", t), this.bind("QueueChanged", j), this.bind("Error", w), this.bind("FileUploaded", v), this.bind("Destroy", x)
        }

        function n(a, c) {
            var d = this, e = 0, f = [], h = {
                runtime_order: a.runtimes,
                required_caps: a.required_features,
                preferred_caps: E,
                swf_url: a.flash_swf_url,
                xap_url: a.silverlight_xap_url
            };
            g.each(a.runtimes.split(/\s*,\s*/), function (b) {
                a[b] && (h[b] = a[b])
            }), a.browse_button && g.each(a.browse_button, function (c) {
                f.push(function (f) {
                    var i = new b.FileInput(g.extend({}, h, {
                        accept: a.filters.mime_types,
                        name: a.file_data_name,
                        multiple: a.multi_selection,
                        container: a.container,
                        browse_button: c
                    }));
                    i.onready = function () {
                        var a = b.Runtime.getInfo(this.ruid);
                        b.extend(d.features, {
                            chunks: a.can("slice_blob"),
                            multipart: a.can("send_multipart"),
                            multi_selection: a.can("select_multiple")
                        }), e++, F.push(this), f()
                    }, i.onchange = function () {
                        d.addFile(this.files)
                    }, i.bind("mouseenter mouseleave mousedown mouseup", function (d) {
                        H || (a.browse_button_hover && ("mouseenter" === d.type ? b.addClass(c, a.browse_button_hover) : "mouseleave" === d.type && b.removeClass(c, a.browse_button_hover)), a.browse_button_active && ("mousedown" === d.type ? b.addClass(c, a.browse_button_active) : "mouseup" === d.type && b.removeClass(c, a.browse_button_active)))
                    }), i.bind("mousedown", function () {
                        d.trigger("Browse")
                    }), i.bind("error runtimeerror", function () {
                        i = null, f()
                    }), i.init()
                })
            }), a.drop_element && g.each(a.drop_element, function (a) {
                f.push(function (c) {
                    var f = new b.FileDrop(g.extend({}, h, {drop_zone: a}));
                    f.onready = function () {
                        var a = b.Runtime.getInfo(this.ruid);
                        d.features.dragdrop = a.can("drag_and_drop"), e++, G.push(this), c()
                    }, f.ondrop = function () {
                        d.addFile(this.files)
                    }, f.bind("error runtimeerror", function () {
                        f = null, c()
                    }), f.init()
                })
            }), b.inSeries(f, function () {
                "function" == typeof c && c(e)
            })
        }

        function o(a, d, e) {
            var f = new b.Image;
            try {
                f.onload = function () {
                    return d.width > this.width && d.height > this.height && d.quality === c && d.preserve_headers && !d.crop ? (this.destroy(), e(a)) : void f.downsize(d.width, d.height, d.crop, d.preserve_headers)
                }, f.onresize = function () {
                    e(this.getAsBlob(a.type, d.quality)), this.destroy()
                }, f.onerror = function () {
                    e(a)
                }, f.load(a)
            } catch (g) {
                e(a)
            }
        }

        function p(a, c, e) {
            function f(a, b, c) {
                var d = y[a];
                switch (a) {
                    case"max_file_size":
                        "max_file_size" === a && (y.max_file_size = y.filters.max_file_size = b);
                        break;
                    case"chunk_size":
                        (b = g.parseSize(b)) && (y[a] = b, y.send_file_name = !0);
                        break;
                    case"multipart":
                        y[a] = b, b || (y.send_file_name = !0);
                        break;
                    case"unique_names":
                        y[a] = b, b && (y.send_file_name = !0);
                        break;
                    case"filters":
                        "array" === g.typeOf(b) && (b = {mime_types: b}), c ? g.extend(y.filters, b) : y.filters = b, b.mime_types && (y.filters.mime_types.regexp = function (a) {
                            var b = [];
                            return g.each(a, function (a) {
                                g.each(a.extensions.split(/,/), function (a) {
                                    b.push(/^\s*\*\s*$/.test(a) ? "\\.*" : "\\." + a.replace(new RegExp("[" + "/^$.*+?|()[]{}\\".replace(/./g, "\\$&") + "]", "g"), "\\$&"))
                                })
                            }), new RegExp("(" + b.join("|") + ")$", "i")
                        }(y.filters.mime_types));
                        break;
                    case"resize":
                        c ? g.extend(y.resize, b, {enabled: !0}) : y.resize = b;
                        break;
                    case"prevent_duplicates":
                        y.prevent_duplicates = y.filters.prevent_duplicates = !!b;
                        break;
                    case"browse_button":
                    case"drop_element":
                        b = g.get(b);
                    case"container":
                    case"runtimes":
                    case"multi_selection":
                    case"flash_swf_url":
                    case"silverlight_xap_url":
                        y[a] = b, c || (i = !0);
                        break;
                    default:
                        y[a] = b
                }
                c || h.trigger("OptionChanged", a, b, d)
            }

            var h = this, i = !1;
            "object" == typeof a ? g.each(a, function (a, b) {
                f(b, a, e)
            }) : f(a, c, e), e ? (y.required_features = d(g.extend({}, y)), E = d(g.extend({}, y, {required_features: !0}))) : i && (h.trigger("Destroy"), n.call(h, y, function (a) {
                a ? (h.runtime = b.Runtime.getInfo(k()).type, h.trigger("Init", {runtime: h.runtime}), h.trigger("PostInit")) : h.trigger("Error", {
                    code: g.INIT_ERROR,
                    message: g.translate("Init error.")
                })
            }))
        }

        function q(a, b) {
            if (a.settings.unique_names) {
                var c = b.name.match(/\.([^.]+)$/), d = "part";
                c && (d = c[1]), b.target_name = b.id + "." + d
            }
        }

        function r(a, c) {
            function d() {
                k-- > 0 ? e(f, 1e3) : (c.loaded = n, a.trigger("Error", {
                    code: g.HTTP_ERROR,
                    message: g.translate("HTTP Error."),
                    file: c,
                    response: B.responseText,
                    status: B.status,
                    responseHeaders: B.getAllResponseHeaders()
                }))
            }

            function f() {
                var l, o, p, q = {};
                c.status === g.UPLOADING && a.state !== g.STOPPED && (a.settings.send_file_name && (q.name = c.target_name || c.name), j && m.chunks && h.size > j ? (p = Math.min(j, h.size - n), l = h.slice(n, n + p)) : (p = h.size, l = h), j && m.chunks && (a.settings.send_chunk_number ? (q.chunk = Math.ceil(n / j), q.chunks = Math.ceil(h.size / j)) : (q.offset = n, q.total = h.size)), B = new b.XMLHttpRequest, B.upload && (B.upload.onprogress = function (b) {
                    c.loaded = Math.min(c.size, n + b.loaded), a.trigger("UploadProgress", c)
                }), B.onload = function () {
                    return B.status >= 400 ? void d() : (k = a.settings.max_retries, p < h.size ? (l.destroy(), n += p, c.loaded = Math.min(n, h.size), a.trigger("ChunkUploaded", c, {
                        offset: c.loaded,
                        total: h.size,
                        response: B.responseText,
                        status: B.status,
                        responseHeaders: B.getAllResponseHeaders()
                    }), "Android Browser" === b.Env.browser && a.trigger("UploadProgress", c)) : c.loaded = c.size, l = o = null, !n || n >= h.size ? (c.size != c.origSize && (h.destroy(), h = null), a.trigger("UploadProgress", c), c.status = g.DONE, a.trigger("FileUploaded", c, {
                        response: B.responseText,
                        status: B.status,
                        responseHeaders: B.getAllResponseHeaders()
                    })) : e(f, 1), void 0)
                }, B.onerror = function () {
                    d()
                }, B.onloadend = function () {
                    this.destroy(), B = null
                }, a.settings.multipart && m.multipart ? (B.open("post", i, !0), g.each(a.settings.headers, function (a, b) {
                    B.setRequestHeader(b, a)
                }), o = new b.FormData, g.each(g.extend(q, a.settings.multipart_params), function (a, b) {
                    o.append(b, a)
                }), o.append(a.settings.file_data_name, l), B.send(o, {
                    runtime_order: a.settings.runtimes,
                    required_caps: a.settings.required_features,
                    preferred_caps: E,
                    swf_url: a.settings.flash_swf_url,
                    xap_url: a.settings.silverlight_xap_url
                })) : (i = g.buildUrl(a.settings.url, g.extend(q, a.settings.multipart_params)), B.open("post", i, !0), B.setRequestHeader("Content-Type", "application/octet-stream"), g.each(a.settings.headers, function (a, b) {
                    B.setRequestHeader(b, a)
                }), B.send(l, {
                    runtime_order: a.settings.runtimes,
                    required_caps: a.settings.required_features,
                    preferred_caps: E,
                    swf_url: a.settings.flash_swf_url,
                    xap_url: a.settings.silverlight_xap_url
                })))
            }

            var h, i = a.settings.url, j = a.settings.chunk_size, k = a.settings.max_retries, m = a.features, n = 0;
            c.loaded && (n = c.loaded = j ? j * Math.floor(c.loaded / j) : 0), h = c.getSource(), a.settings.resize.enabled && l(h, "send_binary_string") && ~b.inArray(h.type, ["image/jpeg", "image/png"]) ? o.call(this, h, a.settings.resize, function (a) {
                h = a, c.size = a.size, f()
            }) : f()
        }

        function s(a, b) {
            i(b)
        }

        function t(a) {
            if (a.state == g.STARTED)z = +new Date; else if (a.state == g.STOPPED)for (var b = a.files.length - 1; b >= 0; b--)a.files[b].status == g.UPLOADING && (a.files[b].status = g.QUEUED, j())
        }

        function u() {
            B && B.abort()
        }

        function v(a) {
            j(), e(function () {
                h.call(a)
            }, 1)
        }

        function w(a, b) {
            b.code === g.INIT_ERROR ? a.destroy() : b.code === g.HTTP_ERROR && (b.file.status = g.FAILED, i(b.file), a.state == g.STARTED && (a.trigger("CancelUpload"), e(function () {
                h.call(a)
            }, 1)))
        }

        function x(a) {
            a.stop(), g.each(D, function (a) {
                a.destroy()
            }), D = [], F.length && (g.each(F, function (a) {
                a.destroy()
            }), F = []), G.length && (g.each(G, function (a) {
                a.destroy()
            }), G = []), E = {}, H = !1, z = B = null, A.reset()
        }

        var y, z, A, B, C = g.guid(), D = [], E = {}, F = [], G = [], H = !1;
        y = {
            runtimes: b.Runtime.order,
            max_retries: 0,
            chunk_size: 0,
            multipart: !0,
            multi_selection: !0,
            file_data_name: "file",
            flash_swf_url: "js/Moxie.swf",
            silverlight_xap_url: "js/Moxie.xap",
            filters: {mime_types: [], prevent_duplicates: !1, max_file_size: 0},
            resize: {enabled: !1, preserve_headers: !0, crop: !1},
            send_file_name: !0,
            send_chunk_number: !0
        }, p.call(this, a, null, !0), A = new g.QueueProgress, g.extend(this, {
            id: C,
            uid: C,
            state: g.STOPPED,
            features: {},
            runtime: null,
            files: D,
            settings: y,
            total: A,
            init: function () {
                var a = this;
                return "function" == typeof y.preinit ? y.preinit(a) : g.each(y.preinit, function (b, c) {
                    a.bind(c, b)
                }), m.call(this), y.browse_button && y.url ? void n.call(this, y, function (c) {
                    "function" == typeof y.init ? y.init(a) : g.each(y.init, function (b, c) {
                        a.bind(c, b)
                    }), c ? (a.runtime = b.Runtime.getInfo(k()).type, a.trigger("Init", {runtime: a.runtime}), a.trigger("PostInit")) : a.trigger("Error", {
                        code: g.INIT_ERROR,
                        message: g.translate("Init error.")
                    })
                }) : void this.trigger("Error", {code: g.INIT_ERROR, message: g.translate("Init error.")})
            },
            setOption: function (a, b) {
                p.call(this, a, b, !this.runtime)
            },
            getOption: function (a) {
                return a ? y[a] : y
            },
            refresh: function () {
                F.length && g.each(F, function (a) {
                    a.trigger("Refresh")
                }), this.trigger("Refresh")
            },
            start: function () {
                this.state != g.STARTED && (this.state = g.STARTED, this.trigger("StateChanged"), h.call(this))
            },
            stop: function () {
                this.state != g.STOPPED && (this.state = g.STOPPED, this.trigger("StateChanged"), this.trigger("CancelUpload"))
            },
            disableBrowse: function () {
                H = arguments[0] !== c ? arguments[0] : !0, F.length && g.each(F, function (a) {
                    a.disable(H)
                }), this.trigger("DisableBrowse", H)
            },
            getFile: function (a) {
                var b;
                for (b = D.length - 1; b >= 0; b--)if (D[b].id === a)return D[b]
            },
            addFile: function (a, c) {
                function d(a, c) {
                    var d = [];
                    b.each(j.settings.filters, function (b, c) {
                        f[c] && d.push(function (d) {
                            f[c].call(j, b, a, function (a) {
                                d(!a)
                            })
                        })
                    }), b.inSeries(d, c)
                }

                function h(a) {
                    var f = b.typeOf(a);
                    if (a instanceof b.File) {
                        if (!a.ruid && !a.isDetached()) {
                            if (!i)return !1;
                            a.ruid = i, a.connectRuntime(i)
                        }
                        h(new g.File(a))
                    } else a instanceof b.Blob ? (h(a.getSource()), a.destroy()) : a instanceof g.File ? (c && (a.name = c), l.push(function (b) {
                        d(a, function (c) {
                            c || (D.push(a), m.push(a), j.trigger("FileFiltered", a)), e(b, 1)
                        })
                    })) : -1 !== b.inArray(f, ["file", "blob"]) ? h(new b.File(null, a)) : "node" === f && "filelist" === b.typeOf(a.files) ? b.each(a.files, h) : "array" === f && (c = null, b.each(a, h))
                }

                var i, j = this, l = [], m = [];
                i = k(), h(a), l.length && b.inSeries(l, function () {
                    m.length && j.trigger("FilesAdded", m)
                })
            },
            removeFile: function (a) {
                for (var b = "string" == typeof a ? a : a.id, c = D.length - 1; c >= 0; c--)if (D[c].id === b)return this.splice(c, 1)[0]
            },
            splice: function (a, b) {
                var d = D.splice(a === c ? 0 : a, b === c ? D.length : b), e = !1;
                return this.state == g.STARTED && (g.each(d, function (a) {
                    return a.status === g.UPLOADING ? (e = !0, !1) : void 0
                }), e && this.stop()), this.trigger("FilesRemoved", d), g.each(d, function (a) {
                    a.destroy()
                }), e && this.start(), d
            },
            dispatchEvent: function (a) {
                var b, c;
                if (a = a.toLowerCase(), b = this.hasEventListener(a)) {
                    b.sort(function (a, b) {
                        return b.priority - a.priority
                    }), c = [].slice.call(arguments), c.shift(), c.unshift(this);
                    for (var d = 0; d < b.length; d++)if (b[d].fn.apply(b[d].scope, c) === !1)return !1
                }
                return !0
            },
            bind: function (a, b, c, d) {
                g.Uploader.prototype.bind.call(this, a, b, d, c)
            },
            destroy: function () {
                this.trigger("Destroy"), y = A = null, this.unbindAll()
            }
        })
    }, g.Uploader.prototype = b.EventTarget.instance, g.File = function () {
        function a(a) {
            g.extend(this, {
                id: g.guid(),
                name: a.name || a.fileName,
                type: a.type || "",
                size: a.size || a.fileSize,
                origSize: a.size || a.fileSize,
                loaded: 0,
                percent: 0,
                status: g.QUEUED,
                lastModifiedDate: a.lastModifiedDate || (new Date).toLocaleString(),
                getNative: function () {
                    var a = this.getSource().getSource();
                    return -1 !== b.inArray(b.typeOf(a), ["blob", "file"]) ? a : null
                },
                getSource: function () {
                    return c[this.id] ? c[this.id] : null
                },
                destroy: function () {
                    var a = this.getSource();
                    a && (a.destroy(), delete c[this.id])
                }
            }), c[this.id] = a
        }

        var c = {};
        return a
    }(), g.QueueProgress = function () {
        var a = this;
        a.size = 0, a.loaded = 0, a.uploaded = 0, a.failed = 0, a.queued = 0, a.percent = 0, a.bytesPerSec = 0, a.reset = function () {
            a.size = a.loaded = a.uploaded = a.failed = a.queued = a.percent = a.bytesPerSec = 0
        }
    }, a.plupload = g
}(window, mOxie);
var Qiniu = new QiniuJsSDK;
!function (a) {
    if ("object" == typeof exports && "undefined" != typeof module)module.exports = a(); else if ("function" == typeof define && define.amd)define([], a); else {
        var b;
        "undefined" != typeof window ? b = window : "undefined" != typeof global ? b = global : "undefined" != typeof self && (b = self), b.JSZip = a()
    }
}(function () {
    return function a(b, c, d) {
        function e(g, h) {
            if (!c[g]) {
                if (!b[g]) {
                    var i = "function" == typeof require && require;
                    if (!h && i)return i(g, !0);
                    if (f)return f(g, !0);
                    throw new Error("Cannot find module '" + g + "'")
                }
                var j = c[g] = {exports: {}};
                b[g][0].call(j.exports, function (a) {
                    var c = b[g][1][a];
                    return e(c ? c : a)
                }, j, j.exports, a, b, c, d)
            }
            return c[g].exports
        }

        for (var f = "function" == typeof require && require, g = 0; g < d.length; g++)e(d[g]);
        return e
    }({
        1: [function (a, b, c) {
            "use strict";
            var d = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
            c.encode = function (a) {
                for (var b, c, e, f, g, h, i, j = "", k = 0; k < a.length;)b = a.charCodeAt(k++), c = a.charCodeAt(k++), e = a.charCodeAt(k++), f = b >> 2, g = (3 & b) << 4 | c >> 4, h = (15 & c) << 2 | e >> 6, i = 63 & e, isNaN(c) ? h = i = 64 : isNaN(e) && (i = 64), j = j + d.charAt(f) + d.charAt(g) + d.charAt(h) + d.charAt(i);
                return j
            }, c.decode = function (a) {
                var b, c, e, f, g, h, i, j = "", k = 0;
                for (a = a.replace(/[^A-Za-z0-9\+\/\=]/g, ""); k < a.length;)f = d.indexOf(a.charAt(k++)), g = d.indexOf(a.charAt(k++)), h = d.indexOf(a.charAt(k++)), i = d.indexOf(a.charAt(k++)), b = f << 2 | g >> 4, c = (15 & g) << 4 | h >> 2, e = (3 & h) << 6 | i, j += String.fromCharCode(b), 64 != h && (j += String.fromCharCode(c)), 64 != i && (j += String.fromCharCode(e));
                return j
            }
        }, {}],
        2: [function (a, b) {
            "use strict";
            function c() {
                this.compressedSize = 0, this.uncompressedSize = 0, this.crc32 = 0, this.compressionMethod = null, this.compressedContent = null
            }

            c.prototype = {
                getContent: function () {
                    return null
                }, getCompressedContent: function () {
                    return null
                }
            }, b.exports = c
        }, {}],
        3: [function (a, b, c) {
            "use strict";
            c.STORE = {
                magic: "\x00\x00", compress: function (a) {
                    return a
                }, uncompress: function (a) {
                    return a
                }, compressInputType: null, uncompressInputType: null
            }, c.DEFLATE = a("./flate")
        }, {"./flate": 8}],
        4: [function (a, b) {
            "use strict";
            var c = a("./utils"), d = [0, 1996959894, 3993919788, 2567524794, 124634137, 1886057615, 3915621685, 2657392035, 249268274, 2044508324, 3772115230, 2547177864, 162941995, 2125561021, 3887607047, 2428444049, 498536548, 1789927666, 4089016648, 2227061214, 450548861, 1843258603, 4107580753, 2211677639, 325883990, 1684777152, 4251122042, 2321926636, 335633487, 1661365465, 4195302755, 2366115317, 997073096, 1281953886, 3579855332, 2724688242, 1006888145, 1258607687, 3524101629, 2768942443, 901097722, 1119000684, 3686517206, 2898065728, 853044451, 1172266101, 3705015759, 2882616665, 651767980, 1373503546, 3369554304, 3218104598, 565507253, 1454621731, 3485111705, 3099436303, 671266974, 1594198024, 3322730930, 2970347812, 795835527, 1483230225, 3244367275, 3060149565, 1994146192, 31158534, 2563907772, 4023717930, 1907459465, 112637215, 2680153253, 3904427059, 2013776290, 251722036, 2517215374, 3775830040, 2137656763, 141376813, 2439277719, 3865271297, 1802195444, 476864866, 2238001368, 4066508878, 1812370925, 453092731, 2181625025, 4111451223, 1706088902, 314042704, 2344532202, 4240017532, 1658658271, 366619977, 2362670323, 4224994405, 1303535960, 984961486, 2747007092, 3569037538, 1256170817, 1037604311, 2765210733, 3554079995, 1131014506, 879679996, 2909243462, 3663771856, 1141124467, 855842277, 2852801631, 3708648649, 1342533948, 654459306, 3188396048, 3373015174, 1466479909, 544179635, 3110523913, 3462522015, 1591671054, 702138776, 2966460450, 3352799412, 1504918807, 783551873, 3082640443, 3233442989, 3988292384, 2596254646, 62317068, 1957810842, 3939845945, 2647816111, 81470997, 1943803523, 3814918930, 2489596804, 225274430, 2053790376, 3826175755, 2466906013, 167816743, 2097651377, 4027552580, 2265490386, 503444072, 1762050814, 4150417245, 2154129355, 426522225, 1852507879, 4275313526, 2312317920, 282753626, 1742555852, 4189708143, 2394877945, 397917763, 1622183637, 3604390888, 2714866558, 953729732, 1340076626, 3518719985, 2797360999, 1068828381, 1219638859, 3624741850, 2936675148, 906185462, 1090812512, 3747672003, 2825379669, 829329135, 1181335161, 3412177804, 3160834842, 628085408, 1382605366, 3423369109, 3138078467, 570562233, 1426400815, 3317316542, 2998733608, 733239954, 1555261956, 3268935591, 3050360625, 752459403, 1541320221, 2607071920, 3965973030, 1969922972, 40735498, 2617837225, 3943577151, 1913087877, 83908371, 2512341634, 3803740692, 2075208622, 213261112, 2463272603, 3855990285, 2094854071, 198958881, 2262029012, 4057260610, 1759359992, 534414190, 2176718541, 4139329115, 1873836001, 414664567, 2282248934, 4279200368, 1711684554, 285281116, 2405801727, 4167216745, 1634467795, 376229701, 2685067896, 3608007406, 1308918612, 956543938, 2808555105, 3495958263, 1231636301, 1047427035, 2932959818, 3654703836, 1088359270, 936918e3, 2847714899, 3736837829, 1202900863, 817233897, 3183342108, 3401237130, 1404277552, 615818150, 3134207493, 3453421203, 1423857449, 601450431, 3009837614, 3294710456, 1567103746, 711928724, 3020668471, 3272380065, 1510334235, 755167117];
            b.exports = function (a, b) {
                if ("undefined" == typeof a || !a.length)return 0;
                var e = "string" !== c.getTypeOf(a);
                "undefined" == typeof b && (b = 0);
                var f = 0, g = 0, h = 0;
                b = -1 ^ b;
                for (var i = 0, j = a.length; j > i; i++)h = e ? a[i] : a.charCodeAt(i), g = 255 & (b ^ h), f = d[g], b = b >>> 8 ^ f;
                return -1 ^ b
            }
        }, {"./utils": 21}],
        5: [function (a, b) {
            "use strict";
            function c() {
                this.data = null, this.length = 0, this.index = 0
            }

            var d = a("./utils");
            c.prototype = {
                checkOffset: function (a) {
                    this.checkIndex(this.index + a)
                }, checkIndex: function (a) {
                    if (this.length < a || 0 > a)throw new Error("End of data reached (data length = " + this.length + ", asked index = " + a + "). Corrupted zip ?")
                }, setIndex: function (a) {
                    this.checkIndex(a), this.index = a
                }, skip: function (a) {
                    this.setIndex(this.index + a)
                }, byteAt: function () {
                }, readInt: function (a) {
                    var b, c = 0;
                    for (this.checkOffset(a), b = this.index + a - 1; b >= this.index; b--)c = (c << 8) + this.byteAt(b);
                    return this.index += a, c
                }, readString: function (a) {
                    return d.transformTo("string", this.readData(a))
                }, readData: function () {
                }, lastIndexOfSignature: function () {
                }, readDate: function () {
                    var a = this.readInt(4);
                    return new Date((a >> 25 & 127) + 1980, (a >> 21 & 15) - 1, a >> 16 & 31, a >> 11 & 31, a >> 5 & 63, (31 & a) << 1)
                }
            }, b.exports = c
        }, {"./utils": 21}],
        6: [function (a, b, c) {
            "use strict";
            c.base64 = !1, c.binary = !1, c.dir = !1, c.createFolders = !1, c.date = null, c.compression = null, c.compressionOptions = null, c.comment = null, c.unixPermissions = null, c.dosPermissions = null
        }, {}],
        7: [function (a, b, c) {
            "use strict";
            var d = a("./utils");
            c.string2binary = function (a) {
                return d.string2binary(a)
            }, c.string2Uint8Array = function (a) {
                return d.transformTo("uint8array", a)
            }, c.uint8Array2String = function (a) {
                return d.transformTo("string", a)
            }, c.string2Blob = function (a) {
                var b = d.transformTo("arraybuffer", a);
                return d.arrayBuffer2Blob(b)
            }, c.arrayBuffer2Blob = function (a) {
                return d.arrayBuffer2Blob(a)
            }, c.transformTo = function (a, b) {
                return d.transformTo(a, b)
            }, c.getTypeOf = function (a) {
                return d.getTypeOf(a)
            }, c.checkSupport = function (a) {
                return d.checkSupport(a)
            }, c.MAX_VALUE_16BITS = d.MAX_VALUE_16BITS, c.MAX_VALUE_32BITS = d.MAX_VALUE_32BITS, c.pretty = function (a) {
                return d.pretty(a)
            }, c.findCompression = function (a) {
                return d.findCompression(a)
            }, c.isRegExp = function (a) {
                return d.isRegExp(a)
            }
        }, {"./utils": 21}],
        8: [function (a, b, c) {
            "use strict";
            var d = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Uint32Array, e = a("pako");
            c.uncompressInputType = d ? "uint8array" : "array", c.compressInputType = d ? "uint8array" : "array", c.magic = "\b\x00", c.compress = function (a, b) {
                return e.deflateRaw(a, {level: b.level || -1})
            }, c.uncompress = function (a) {
                return e.inflateRaw(a)
            }
        }, {pako: 24}],
        9: [function (a, b) {
            "use strict";
            function c(a, b) {
                return this instanceof c ? (this.files = {}, this.comment = null, this.root = "", a && this.load(a, b), void(this.clone = function () {
                    var a = new c;
                    for (var b in this)"function" != typeof this[b] && (a[b] = this[b]);
                    return a
                })) : new c(a, b)
            }

            var d = a("./base64");
            c.prototype = a("./object"), c.prototype.load = a("./load"), c.support = a("./support"), c.defaults = a("./defaults"), c.utils = a("./deprecatedPublicUtils"), c.base64 = {
                encode: function (a) {
                    return d.encode(a)
                }, decode: function (a) {
                    return d.decode(a)
                }
            }, c.compressions = a("./compressions"), b.exports = c
        }, {
            "./base64": 1,
            "./compressions": 3,
            "./defaults": 6,
            "./deprecatedPublicUtils": 7,
            "./load": 10,
            "./object": 13,
            "./support": 17
        }],
        10: [function (a, b) {
            "use strict";
            var c = a("./base64"), d = a("./zipEntries");
            b.exports = function (a, b) {
                var e, f, g, h;
                for (b = b || {}, b.base64 && (a = c.decode(a)), f = new d(a, b), e = f.files, g = 0; g < e.length; g++)h = e[g], this.file(h.fileName, h.decompressed, {
                    binary: !0,
                    optimizedBinaryString: !0,
                    date: h.date,
                    dir: h.dir,
                    comment: h.fileComment.length ? h.fileComment : null,
                    unixPermissions: h.unixPermissions,
                    dosPermissions: h.dosPermissions,
                    createFolders: b.createFolders
                });
                return f.zipComment.length && (this.comment = f.zipComment), this
            }
        }, {"./base64": 1, "./zipEntries": 22}],
        11: [function (a, b) {
            (function (a) {
                "use strict";
                b.exports = function (b, c) {
                    return new a(b, c)
                }, b.exports.test = function (b) {
                    return a.isBuffer(b)
                }
            }).call(this, "undefined" != typeof Buffer ? Buffer : void 0)
        }, {}],
        12: [function (a, b) {
            "use strict";
            function c(a) {
                this.data = a, this.length = this.data.length, this.index = 0
            }

            var d = a("./uint8ArrayReader");
            c.prototype = new d, c.prototype.readData = function (a) {
                this.checkOffset(a);
                var b = this.data.slice(this.index, this.index + a);
                return this.index += a, b
            }, b.exports = c
        }, {"./uint8ArrayReader": 18}],
        13: [function (a, b) {
            "use strict";
            var c = a("./support"), d = a("./utils"), e = a("./crc32"), f = a("./signature"), g = a("./defaults"), h = a("./base64"), i = a("./compressions"), j = a("./compressedObject"), k = a("./nodeBuffer"), l = a("./utf8"), m = a("./stringWriter"), n = a("./uint8ArrayWriter"), o = function (a) {
                if (a._data instanceof j && (a._data = a._data.getContent(), a.options.binary = !0, a.options.base64 = !1, "uint8array" === d.getTypeOf(a._data))) {
                    var b = a._data;
                    a._data = new Uint8Array(b.length), 0 !== b.length && a._data.set(b, 0)
                }
                return a._data
            }, p = function (a) {
                var b = o(a), e = d.getTypeOf(b);
                return "string" === e ? !a.options.binary && c.nodebuffer ? k(b, "utf-8") : a.asBinary() : b
            }, q = function (a) {
                var b = o(this);
                return null === b || "undefined" == typeof b ? "" : (this.options.base64 && (b = h.decode(b)), b = a && this.options.binary ? D.utf8decode(b) : d.transformTo("string", b), a || this.options.binary || (b = d.transformTo("string", D.utf8encode(b))), b)
            }, r = function (a, b, c) {
                this.name = a, this.dir = c.dir, this.date = c.date, this.comment = c.comment, this.unixPermissions = c.unixPermissions, this.dosPermissions = c.dosPermissions, this._data = b, this.options = c, this._initialMetadata = {
                    dir: c.dir,
                    date: c.date
                }
            };
            r.prototype = {
                asText: function () {
                    return q.call(this, !0)
                }, asBinary: function () {
                    return q.call(this, !1)
                }, asNodeBuffer: function () {
                    var a = p(this);
                    return d.transformTo("nodebuffer", a)
                }, asUint8Array: function () {
                    var a = p(this);
                    return d.transformTo("uint8array", a)
                }, asArrayBuffer: function () {
                    return this.asUint8Array().buffer
                }
            };
            var s = function (a, b) {
                var c, d = "";
                for (c = 0; b > c; c++)d += String.fromCharCode(255 & a), a >>>= 8;
                return d
            }, t = function () {
                var a, b, c = {};
                for (a = 0; a < arguments.length; a++)for (b in arguments[a])arguments[a].hasOwnProperty(b) && "undefined" == typeof c[b] && (c[b] = arguments[a][b]);
                return c
            }, u = function (a) {
                return a = a || {}, a.base64 !== !0 || null !== a.binary && void 0 !== a.binary || (a.binary = !0), a = t(a, g), a.date = a.date || new Date, null !== a.compression && (a.compression = a.compression.toUpperCase()), a
            }, v = function (a, b, c) {
                var e, f = d.getTypeOf(b);
                if (c = u(c), "string" == typeof c.unixPermissions && (c.unixPermissions = parseInt(c.unixPermissions, 8)), c.unixPermissions && 16384 & c.unixPermissions && (c.dir = !0), c.dosPermissions && 16 & c.dosPermissions && (c.dir = !0), c.dir && (a = x(a)), c.createFolders && (e = w(a)) && y.call(this, e, !0), c.dir || null === b || "undefined" == typeof b)c.base64 = !1, c.binary = !1, b = null, f = null; else if ("string" === f)c.binary && !c.base64 && c.optimizedBinaryString !== !0 && (b = d.string2binary(b)); else {
                    if (c.base64 = !1, c.binary = !0, !(f || b instanceof j))throw new Error("The data of '" + a + "' is in an unsupported format !");
                    "arraybuffer" === f && (b = d.transformTo("uint8array", b))
                }
                var g = new r(a, b, c);
                return this.files[a] = g, g
            }, w = function (a) {
                "/" == a.slice(-1) && (a = a.substring(0, a.length - 1));
                var b = a.lastIndexOf("/");
                return b > 0 ? a.substring(0, b) : ""
            }, x = function (a) {
                return "/" != a.slice(-1) && (a += "/"), a
            }, y = function (a, b) {
                return b = "undefined" != typeof b ? b : !1, a = x(a), this.files[a] || v.call(this, a, null, {
                    dir: !0,
                    createFolders: b
                }), this.files[a]
            }, z = function (a, b, c) {
                var f, g = new j;
                return a._data instanceof j ? (g.uncompressedSize = a._data.uncompressedSize, g.crc32 = a._data.crc32, 0 === g.uncompressedSize || a.dir ? (b = i.STORE, g.compressedContent = "", g.crc32 = 0) : a._data.compressionMethod === b.magic ? g.compressedContent = a._data.getCompressedContent() : (f = a._data.getContent(), g.compressedContent = b.compress(d.transformTo(b.compressInputType, f), c))) : (f = p(a), (!f || 0 === f.length || a.dir) && (b = i.STORE, f = ""), g.uncompressedSize = f.length, g.crc32 = e(f), g.compressedContent = b.compress(d.transformTo(b.compressInputType, f), c)), g.compressedSize = g.compressedContent.length, g.compressionMethod = b.magic, g
            }, A = function (a, b) {
                var c = a;
                return a || (c = b ? 16893 : 33204), (65535 & c) << 16
            }, B = function (a) {
                return 63 & (a || 0)
            }, C = function (a, b, c, g, h) {
                var i, j, k, m, n = (c.compressedContent, d.transformTo("string", l.utf8encode(b.name))), o = b.comment || "", p = d.transformTo("string", l.utf8encode(o)), q = n.length !== b.name.length, r = p.length !== o.length, t = b.options, u = "", v = "", w = "";
                k = b._initialMetadata.dir !== b.dir ? b.dir : t.dir, m = b._initialMetadata.date !== b.date ? b.date : t.date;
                var x = 0, y = 0;
                k && (x |= 16), "UNIX" === h ? (y = 798, x |= A(b.unixPermissions, k)) : (y = 20, x |= B(b.dosPermissions, k)), i = m.getHours(), i <<= 6, i |= m.getMinutes(), i <<= 5, i |= m.getSeconds() / 2, j = m.getFullYear() - 1980, j <<= 4, j |= m.getMonth() + 1, j <<= 5, j |= m.getDate(), q && (v = s(1, 1) + s(e(n), 4) + n, u += "up" + s(v.length, 2) + v), r && (w = s(1, 1) + s(this.crc32(p), 4) + p, u += "uc" + s(w.length, 2) + w);
                var z = "";
                z += "\n\x00", z += q || r ? "\x00\b" : "\x00\x00", z += c.compressionMethod, z += s(i, 2), z += s(j, 2), z += s(c.crc32, 4), z += s(c.compressedSize, 4), z += s(c.uncompressedSize, 4), z += s(n.length, 2), z += s(u.length, 2);
                var C = f.LOCAL_FILE_HEADER + z + n + u, D = f.CENTRAL_FILE_HEADER + s(y, 2) + z + s(p.length, 2) + "\x00\x00\x00\x00" + s(x, 4) + s(g, 4) + n + u + p;
                return {fileRecord: C, dirRecord: D, compressedObject: c}
            }, D = {
                load: function () {
                    throw new Error("Load method is not defined. Is the file jszip-load.js included ?")
                }, filter: function (a) {
                    var b, c, d, e, f = [];
                    for (b in this.files)this.files.hasOwnProperty(b) && (d = this.files[b], e = new r(d.name, d._data, t(d.options)), c = b.slice(this.root.length, b.length), b.slice(0, this.root.length) === this.root && a(c, e) && f.push(e));
                    return f
                }, file: function (a, b, c) {
                    if (1 === arguments.length) {
                        if (d.isRegExp(a)) {
                            var e = a;
                            return this.filter(function (a, b) {
                                return !b.dir && e.test(a)
                            })
                        }
                        return this.filter(function (b, c) {
                            return !c.dir && b === a
                        })[0] || null
                    }
                    return a = this.root + a, v.call(this, a, b, c), this
                }, folder: function (a) {
                    if (!a)return this;
                    if (d.isRegExp(a))return this.filter(function (b, c) {
                        return c.dir && a.test(b)
                    });
                    var b = this.root + a, c = y.call(this, b), e = this.clone();
                    return e.root = c.name, e
                }, remove: function (a) {
                    a = this.root + a;
                    var b = this.files[a];
                    if (b || ("/" != a.slice(-1) && (a += "/"), b = this.files[a]), b && !b.dir)delete this.files[a]; else for (var c = this.filter(function (b, c) {
                        return c.name.slice(0, a.length) === a
                    }), d = 0; d < c.length; d++)delete this.files[c[d].name];
                    return this
                }, generate: function (a) {
                    a = t(a || {}, {
                        base64: !0,
                        compression: "STORE",
                        compressionOptions: null,
                        type: "base64",
                        platform: "DOS",
                        comment: null,
                        mimeType: "application/zip"
                    }), d.checkSupport(a.type), ("darwin" === a.platform || "freebsd" === a.platform || "linux" === a.platform || "sunos" === a.platform) && (a.platform = "UNIX"), "win32" === a.platform && (a.platform = "DOS");
                    var b, c, e = [], g = 0, j = 0, k = d.transformTo("string", this.utf8encode(a.comment || this.comment || ""));
                    for (var l in this.files)if (this.files.hasOwnProperty(l)) {
                        var o = this.files[l], p = o.options.compression || a.compression.toUpperCase(), q = i[p];
                        if (!q)throw new Error(p + " is not a valid compression method !");
                        var r = o.options.compressionOptions || a.compressionOptions || {}, u = z.call(this, o, q, r), v = C.call(this, l, o, u, g, a.platform);
                        g += v.fileRecord.length + u.compressedSize, j += v.dirRecord.length, e.push(v)
                    }
                    var w = "";
                    w = f.CENTRAL_DIRECTORY_END + "\x00\x00\x00\x00" + s(e.length, 2) + s(e.length, 2) + s(j, 4) + s(g, 4) + s(k.length, 2) + k;
                    var x = a.type.toLowerCase();
                    for (b = "uint8array" === x || "arraybuffer" === x || "blob" === x || "nodebuffer" === x ? new n(g + j + w.length) : new m(g + j + w.length), c = 0; c < e.length; c++)b.append(e[c].fileRecord), b.append(e[c].compressedObject.compressedContent);
                    for (c = 0; c < e.length; c++)b.append(e[c].dirRecord);
                    b.append(w);
                    var y = b.finalize();
                    switch (a.type.toLowerCase()) {
                        case"uint8array":
                        case"arraybuffer":
                        case"nodebuffer":
                            return d.transformTo(a.type.toLowerCase(), y);
                        case"blob":
                            return d.arrayBuffer2Blob(d.transformTo("arraybuffer", y), a.mimeType);
                        case"base64":
                            return a.base64 ? h.encode(y) : y;
                        default:
                            return y
                    }
                }, crc32: function (a, b) {
                    return e(a, b)
                }, utf8encode: function (a) {
                    return d.transformTo("string", l.utf8encode(a))
                }, utf8decode: function (a) {
                    return l.utf8decode(a)
                }
            };
            b.exports = D
        }, {
            "./base64": 1,
            "./compressedObject": 2,
            "./compressions": 3,
            "./crc32": 4,
            "./defaults": 6,
            "./nodeBuffer": 11,
            "./signature": 14,
            "./stringWriter": 16,
            "./support": 17,
            "./uint8ArrayWriter": 19,
            "./utf8": 20,
            "./utils": 21
        }],
        14: [function (a, b, c) {
            "use strict";
            c.LOCAL_FILE_HEADER = "PK", c.CENTRAL_FILE_HEADER = "PK", c.CENTRAL_DIRECTORY_END = "PK", c.ZIP64_CENTRAL_DIRECTORY_LOCATOR = "PK", c.ZIP64_CENTRAL_DIRECTORY_END = "PK", c.DATA_DESCRIPTOR = "PK\b"
        }, {}],
        15: [function (a, b) {
            "use strict";
            function c(a, b) {
                this.data = a, b || (this.data = e.string2binary(this.data)), this.length = this.data.length, this.index = 0
            }

            var d = a("./dataReader"), e = a("./utils");
            c.prototype = new d, c.prototype.byteAt = function (a) {
                return this.data.charCodeAt(a)
            }, c.prototype.lastIndexOfSignature = function (a) {
                return this.data.lastIndexOf(a)
            }, c.prototype.readData = function (a) {
                this.checkOffset(a);
                var b = this.data.slice(this.index, this.index + a);
                return this.index += a, b
            }, b.exports = c
        }, {"./dataReader": 5, "./utils": 21}],
        16: [function (a, b) {
            "use strict";
            var c = a("./utils"), d = function () {
                this.data = []
            };
            d.prototype = {
                append: function (a) {
                    a = c.transformTo("string", a), this.data.push(a)
                }, finalize: function () {
                    return this.data.join("")
                }
            }, b.exports = d
        }, {"./utils": 21}],
        17: [function (a, b, c) {
            (function (a) {
                "use strict";
                if (c.base64 = !0, c.array = !0, c.string = !0, c.arraybuffer = "undefined" != typeof ArrayBuffer && "undefined" != typeof Uint8Array, c.nodebuffer = "undefined" != typeof a, c.uint8array = "undefined" != typeof Uint8Array, "undefined" == typeof ArrayBuffer)c.blob = !1; else {
                    var b = new ArrayBuffer(0);
                    try {
                        c.blob = 0 === new Blob([b], {type: "application/zip"}).size
                    } catch (d) {
                        try {
                            var e = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder, f = new e;
                            f.append(b), c.blob = 0 === f.getBlob("application/zip").size
                        } catch (d) {
                            c.blob = !1
                        }
                    }
                }
            }).call(this, "undefined" != typeof Buffer ? Buffer : void 0)
        }, {}],
        18: [function (a, b) {
            "use strict";
            function c(a) {
                a && (this.data = a, this.length = this.data.length, this.index = 0)
            }

            var d = a("./dataReader");
            c.prototype = new d, c.prototype.byteAt = function (a) {
                return this.data[a]
            }, c.prototype.lastIndexOfSignature = function (a) {
                for (var b = a.charCodeAt(0), c = a.charCodeAt(1), d = a.charCodeAt(2), e = a.charCodeAt(3), f = this.length - 4; f >= 0; --f)if (this.data[f] === b && this.data[f + 1] === c && this.data[f + 2] === d && this.data[f + 3] === e)return f;
                return -1
            }, c.prototype.readData = function (a) {
                if (this.checkOffset(a), 0 === a)return new Uint8Array(0);
                var b = this.data.subarray(this.index, this.index + a);
                return this.index += a, b
            }, b.exports = c
        }, {"./dataReader": 5}],
        19: [function (a, b) {
            "use strict";
            var c = a("./utils"), d = function (a) {
                this.data = new Uint8Array(a), this.index = 0
            };
            d.prototype = {
                append: function (a) {
                    0 !== a.length && (a = c.transformTo("uint8array", a), this.data.set(a, this.index), this.index += a.length)
                }, finalize: function () {
                    return this.data
                }
            }, b.exports = d
        }, {"./utils": 21}],
        20: [function (a, b, c) {
            "use strict";
            for (var d = a("./utils"), e = a("./support"), f = a("./nodeBuffer"), g = new Array(256), h = 0; 256 > h; h++)g[h] = h >= 252 ? 6 : h >= 248 ? 5 : h >= 240 ? 4 : h >= 224 ? 3 : h >= 192 ? 2 : 1;
            g[254] = g[254] = 1;
            var i = function (a) {
                var b, c, d, f, g, h = a.length, i = 0;
                for (f = 0; h > f; f++)c = a.charCodeAt(f), 55296 === (64512 & c) && h > f + 1 && (d = a.charCodeAt(f + 1), 56320 === (64512 & d) && (c = 65536 + (c - 55296 << 10) + (d - 56320), f++)), i += 128 > c ? 1 : 2048 > c ? 2 : 65536 > c ? 3 : 4;
                for (b = e.uint8array ? new Uint8Array(i) : new Array(i), g = 0, f = 0; i > g; f++)c = a.charCodeAt(f), 55296 === (64512 & c) && h > f + 1 && (d = a.charCodeAt(f + 1), 56320 === (64512 & d) && (c = 65536 + (c - 55296 << 10) + (d - 56320), f++)), 128 > c ? b[g++] = c : 2048 > c ? (b[g++] = 192 | c >>> 6, b[g++] = 128 | 63 & c) : 65536 > c ? (b[g++] = 224 | c >>> 12, b[g++] = 128 | c >>> 6 & 63, b[g++] = 128 | 63 & c) : (b[g++] = 240 | c >>> 18, b[g++] = 128 | c >>> 12 & 63, b[g++] = 128 | c >>> 6 & 63, b[g++] = 128 | 63 & c);
                return b
            }, j = function (a, b) {
                var c;
                for (b = b || a.length, b > a.length && (b = a.length), c = b - 1; c >= 0 && 128 === (192 & a[c]);)c--;
                return 0 > c ? b : 0 === c ? b : c + g[a[c]] > b ? c : b
            }, k = function (a) {
                var b, c, e, f, h = a.length, i = new Array(2 * h);
                for (c = 0, b = 0; h > b;)if (e = a[b++], 128 > e)i[c++] = e; else if (f = g[e], f > 4)i[c++] = 65533, b += f - 1; else {
                    for (e &= 2 === f ? 31 : 3 === f ? 15 : 7; f > 1 && h > b;)e = e << 6 | 63 & a[b++], f--;
                    f > 1 ? i[c++] = 65533 : 65536 > e ? i[c++] = e : (e -= 65536, i[c++] = 55296 | e >> 10 & 1023, i[c++] = 56320 | 1023 & e)
                }
                return i.length !== c && (i.subarray ? i = i.subarray(0, c) : i.length = c), d.applyFromCharCode(i)
            };
            c.utf8encode = function (a) {
                return e.nodebuffer ? f(a, "utf-8") : i(a)
            }, c.utf8decode = function (a) {
                if (e.nodebuffer)return d.transformTo("nodebuffer", a).toString("utf-8");
                a = d.transformTo(e.uint8array ? "uint8array" : "array", a);
                for (var b = [], c = 0, f = a.length, g = 65536; f > c;) {
                    var h = j(a, Math.min(c + g, f));
                    b.push(e.uint8array ? k(a.subarray(c, h)) : k(a.slice(c, h))), c = h
                }
                return b.join("")
            }
        }, {"./nodeBuffer": 11, "./support": 17, "./utils": 21}],
        21: [function (a, b, c) {
            "use strict";
            function d(a) {
                return a
            }

            function e(a, b) {
                for (var c = 0; c < a.length; ++c)b[c] = 255 & a.charCodeAt(c);
                return b
            }

            function f(a) {
                var b = 65536, d = [], e = a.length, f = c.getTypeOf(a), g = 0, h = !0;
                try {
                    switch (f) {
                        case"uint8array":
                            String.fromCharCode.apply(null, new Uint8Array(0));
                            break;
                        case"nodebuffer":
                            String.fromCharCode.apply(null, j(0))
                    }
                } catch (i) {
                    h = !1
                }
                if (!h) {
                    for (var k = "", l = 0; l < a.length; l++)k += String.fromCharCode(a[l]);
                    return k
                }
                for (; e > g && b > 1;)try {
                    d.push("array" === f || "nodebuffer" === f ? String.fromCharCode.apply(null, a.slice(g, Math.min(g + b, e))) : String.fromCharCode.apply(null, a.subarray(g, Math.min(g + b, e)))), g += b
                } catch (i) {
                    b = Math.floor(b / 2)
                }
                return d.join("")
            }

            function g(a, b) {
                for (var c = 0; c < a.length; c++)b[c] = a[c];
                return b
            }

            var h = a("./support"), i = a("./compressions"), j = a("./nodeBuffer");
            c.string2binary = function (a) {
                for (var b = "", c = 0; c < a.length; c++)b += String.fromCharCode(255 & a.charCodeAt(c));
                return b
            }, c.arrayBuffer2Blob = function (a, b) {
                c.checkSupport("blob"), b = b || "application/zip";
                try {
                    return new Blob([a], {type: b})
                } catch (d) {
                    try {
                        var e = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder, f = new e;
                        return f.append(a), f.getBlob(b)
                    } catch (d) {
                        throw new Error("Bug : can't construct the Blob.")
                    }
                }
            }, c.applyFromCharCode = f;
            var k = {};
            k.string = {
                string: d, array: function (a) {
                    return e(a, new Array(a.length))
                }, arraybuffer: function (a) {
                    return k.string.uint8array(a).buffer
                }, uint8array: function (a) {
                    return e(a, new Uint8Array(a.length))
                }, nodebuffer: function (a) {
                    return e(a, j(a.length))
                }
            }, k.array = {
                string: f, array: d, arraybuffer: function (a) {
                    return new Uint8Array(a).buffer
                }, uint8array: function (a) {
                    return new Uint8Array(a)
                }, nodebuffer: function (a) {
                    return j(a)
                }
            }, k.arraybuffer = {
                string: function (a) {
                    return f(new Uint8Array(a))
                }, array: function (a) {
                    return g(new Uint8Array(a), new Array(a.byteLength))
                }, arraybuffer: d, uint8array: function (a) {
                    return new Uint8Array(a)
                }, nodebuffer: function (a) {
                    return j(new Uint8Array(a))
                }
            }, k.uint8array = {
                string: f, array: function (a) {
                    return g(a, new Array(a.length))
                }, arraybuffer: function (a) {
                    return a.buffer
                }, uint8array: d, nodebuffer: function (a) {
                    return j(a)
                }
            }, k.nodebuffer = {
                string: f, array: function (a) {
                    return g(a, new Array(a.length))
                }, arraybuffer: function (a) {
                    return k.nodebuffer.uint8array(a).buffer
                }, uint8array: function (a) {
                    return g(a, new Uint8Array(a.length))
                }, nodebuffer: d
            }, c.transformTo = function (a, b) {
                if (b || (b = ""), !a)return b;
                c.checkSupport(a);
                var d = c.getTypeOf(b), e = k[d][a](b);
                return e
            }, c.getTypeOf = function (a) {
                return "string" == typeof a ? "string" : "[object Array]" === Object.prototype.toString.call(a) ? "array" : h.nodebuffer && j.test(a) ? "nodebuffer" : h.uint8array && a instanceof Uint8Array ? "uint8array" : h.arraybuffer && a instanceof ArrayBuffer ? "arraybuffer" : void 0
            }, c.checkSupport = function (a) {
                var b = h[a.toLowerCase()];
                if (!b)throw new Error(a + " is not supported by this browser")
            }, c.MAX_VALUE_16BITS = 65535, c.MAX_VALUE_32BITS = -1, c.pretty = function (a) {
                var b, c, d = "";
                for (c = 0; c < (a || "").length; c++)b = a.charCodeAt(c), d += "\\x" + (16 > b ? "0" : "") + b.toString(16).toUpperCase();
                return d
            }, c.findCompression = function (a) {
                for (var b in i)if (i.hasOwnProperty(b) && i[b].magic === a)return i[b];
                return null
            }, c.isRegExp = function (a) {
                return "[object RegExp]" === Object.prototype.toString.call(a)
            }
        }, {"./compressions": 3, "./nodeBuffer": 11, "./support": 17}],
        22: [function (a, b) {
            "use strict";
            function c(a, b) {
                this.files = [], this.loadOptions = b, a && this.load(a)
            }

            var d = a("./stringReader"), e = a("./nodeBufferReader"), f = a("./uint8ArrayReader"), g = a("./utils"), h = a("./signature"), i = a("./zipEntry"), j = a("./support"), k = a("./object");
            c.prototype = {
                checkSignature: function (a) {
                    var b = this.reader.readString(4);
                    if (b !== a)throw new Error("Corrupted zip or bug : unexpected signature (" + g.pretty(b) + ", expected " + g.pretty(a) + ")")
                }, readBlockEndOfCentral: function () {
                    this.diskNumber = this.reader.readInt(2), this.diskWithCentralDirStart = this.reader.readInt(2), this.centralDirRecordsOnThisDisk = this.reader.readInt(2), this.centralDirRecords = this.reader.readInt(2), this.centralDirSize = this.reader.readInt(4), this.centralDirOffset = this.reader.readInt(4), this.zipCommentLength = this.reader.readInt(2), this.zipComment = this.reader.readString(this.zipCommentLength), this.zipComment = k.utf8decode(this.zipComment)
                }, readBlockZip64EndOfCentral: function () {
                    this.zip64EndOfCentralSize = this.reader.readInt(8), this.versionMadeBy = this.reader.readString(2), this.versionNeeded = this.reader.readInt(2), this.diskNumber = this.reader.readInt(4), this.diskWithCentralDirStart = this.reader.readInt(4), this.centralDirRecordsOnThisDisk = this.reader.readInt(8), this.centralDirRecords = this.reader.readInt(8), this.centralDirSize = this.reader.readInt(8), this.centralDirOffset = this.reader.readInt(8), this.zip64ExtensibleData = {};
                    for (var a, b, c, d = this.zip64EndOfCentralSize - 44, e = 0; d > e;)a = this.reader.readInt(2), b = this.reader.readInt(4), c = this.reader.readString(b), this.zip64ExtensibleData[a] = {
                        id: a,
                        length: b,
                        value: c
                    }
                }, readBlockZip64EndOfCentralLocator: function () {
                    if (this.diskWithZip64CentralDirStart = this.reader.readInt(4), this.relativeOffsetEndOfZip64CentralDir = this.reader.readInt(8), this.disksCount = this.reader.readInt(4), this.disksCount > 1)throw new Error("Multi-volumes zip are not supported")
                }, readLocalFiles: function () {
                    var a, b;
                    for (a = 0; a < this.files.length; a++)b = this.files[a], this.reader.setIndex(b.localHeaderOffset), this.checkSignature(h.LOCAL_FILE_HEADER), b.readLocalPart(this.reader), b.handleUTF8(), b.processAttributes()
                }, readCentralDir: function () {
                    var a;
                    for (this.reader.setIndex(this.centralDirOffset); this.reader.readString(4) === h.CENTRAL_FILE_HEADER;)a = new i({zip64: this.zip64}, this.loadOptions), a.readCentralPart(this.reader), this.files.push(a)
                }, readEndOfCentral: function () {
                    var a = this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);
                    if (-1 === a) {
                        var b = !0;
                        try {
                            this.reader.setIndex(0), this.checkSignature(h.LOCAL_FILE_HEADER), b = !1
                        } catch (c) {
                        }
                        throw new Error(b ? "Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html" : "Corrupted zip : can't find end of central directory")
                    }
                    if (this.reader.setIndex(a), this.checkSignature(h.CENTRAL_DIRECTORY_END), this.readBlockEndOfCentral(), this.diskNumber === g.MAX_VALUE_16BITS || this.diskWithCentralDirStart === g.MAX_VALUE_16BITS || this.centralDirRecordsOnThisDisk === g.MAX_VALUE_16BITS || this.centralDirRecords === g.MAX_VALUE_16BITS || this.centralDirSize === g.MAX_VALUE_32BITS || this.centralDirOffset === g.MAX_VALUE_32BITS) {
                        if (this.zip64 = !0, a = this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR), -1 === a)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");
                        this.reader.setIndex(a), this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR), this.readBlockZip64EndOfCentralLocator(), this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir), this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END), this.readBlockZip64EndOfCentral()
                    }
                }, prepareReader: function (a) {
                    var b = g.getTypeOf(a);
                    this.reader = "string" !== b || j.uint8array ? "nodebuffer" === b ? new e(a) : new f(g.transformTo("uint8array", a)) : new d(a, this.loadOptions.optimizedBinaryString)
                }, load: function (a) {
                    this.prepareReader(a), this.readEndOfCentral(), this.readCentralDir(), this.readLocalFiles()
                }
            }, b.exports = c
        }, {
            "./nodeBufferReader": 12,
            "./object": 13,
            "./signature": 14,
            "./stringReader": 15,
            "./support": 17,
            "./uint8ArrayReader": 18,
            "./utils": 21,
            "./zipEntry": 23
        }],
        23: [function (a, b) {
            "use strict";
            function c(a, b) {
                this.options = a, this.loadOptions = b
            }

            var d = a("./stringReader"), e = a("./utils"), f = a("./compressedObject"), g = a("./object"), h = 0, i = 3;
            c.prototype = {
                isEncrypted: function () {
                    return 1 === (1 & this.bitFlag)
                }, useUTF8: function () {
                    return 2048 === (2048 & this.bitFlag)
                }, prepareCompressedContent: function (a, b, c) {
                    return function () {
                        var d = a.index;
                        a.setIndex(b);
                        var e = a.readData(c);
                        return a.setIndex(d), e
                    }
                }, prepareContent: function (a, b, c, d, f) {
                    return function () {
                        var a = e.transformTo(d.uncompressInputType, this.getCompressedContent()), b = d.uncompress(a);
                        if (b.length !== f)throw new Error("Bug : uncompressed data size mismatch");
                        return b
                    }
                }, readLocalPart: function (a) {
                    var b, c;
                    if (a.skip(22), this.fileNameLength = a.readInt(2), c = a.readInt(2), this.fileName = a.readString(this.fileNameLength), a.skip(c), -1 == this.compressedSize || -1 == this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");
                    if (b = e.findCompression(this.compressionMethod), null === b)throw new Error("Corrupted zip : compression " + e.pretty(this.compressionMethod) + " unknown (inner file : " + this.fileName + ")");
                    if (this.decompressed = new f, this.decompressed.compressedSize = this.compressedSize, this.decompressed.uncompressedSize = this.uncompressedSize, this.decompressed.crc32 = this.crc32, this.decompressed.compressionMethod = this.compressionMethod, this.decompressed.getCompressedContent = this.prepareCompressedContent(a, a.index, this.compressedSize, b), this.decompressed.getContent = this.prepareContent(a, a.index, this.compressedSize, b, this.uncompressedSize), this.loadOptions.checkCRC32 && (this.decompressed = e.transformTo("string", this.decompressed.getContent()), g.crc32(this.decompressed) !== this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")
                }, readCentralPart: function (a) {
                    if (this.versionMadeBy = a.readInt(2), this.versionNeeded = a.readInt(2), this.bitFlag = a.readInt(2), this.compressionMethod = a.readString(2), this.date = a.readDate(), this.crc32 = a.readInt(4), this.compressedSize = a.readInt(4), this.uncompressedSize = a.readInt(4), this.fileNameLength = a.readInt(2), this.extraFieldsLength = a.readInt(2), this.fileCommentLength = a.readInt(2), this.diskNumberStart = a.readInt(2), this.internalFileAttributes = a.readInt(2), this.externalFileAttributes = a.readInt(4), this.localHeaderOffset = a.readInt(4), this.isEncrypted())throw new Error("Encrypted zip are not supported");
                    this.fileName = a.readString(this.fileNameLength), this.readExtraFields(a), this.parseZIP64ExtraField(a), this.fileComment = a.readString(this.fileCommentLength)
                }, processAttributes: function () {
                    this.unixPermissions = null, this.dosPermissions = null;
                    var a = this.versionMadeBy >> 8;
                    this.dir = 16 & this.externalFileAttributes ? !0 : !1, a === h && (this.dosPermissions = 63 & this.externalFileAttributes), a === i && (this.unixPermissions = this.externalFileAttributes >> 16 & 65535), this.dir || "/" !== this.fileName.slice(-1) || (this.dir = !0)
                }, parseZIP64ExtraField: function () {
                    if (this.extraFields[1]) {
                        var a = new d(this.extraFields[1].value);
                        this.uncompressedSize === e.MAX_VALUE_32BITS && (this.uncompressedSize = a.readInt(8)), this.compressedSize === e.MAX_VALUE_32BITS && (this.compressedSize = a.readInt(8)), this.localHeaderOffset === e.MAX_VALUE_32BITS && (this.localHeaderOffset = a.readInt(8)), this.diskNumberStart === e.MAX_VALUE_32BITS && (this.diskNumberStart = a.readInt(4))
                    }
                }, readExtraFields: function (a) {
                    var b, c, d, e = a.index;
                    for (this.extraFields = this.extraFields || {}; a.index < e + this.extraFieldsLength;)b = a.readInt(2), c = a.readInt(2), d = a.readString(c), this.extraFields[b] = {
                        id: b,
                        length: c,
                        value: d
                    }
                }, handleUTF8: function () {
                    if (this.useUTF8())this.fileName = g.utf8decode(this.fileName), this.fileComment = g.utf8decode(this.fileComment); else {
                        var a = this.findExtraFieldUnicodePath();
                        null !== a && (this.fileName = a);
                        var b = this.findExtraFieldUnicodeComment();
                        null !== b && (this.fileComment = b)
                    }
                }, findExtraFieldUnicodePath: function () {
                    var a = this.extraFields[28789];
                    if (a) {
                        var b = new d(a.value);
                        return 1 !== b.readInt(1) ? null : g.crc32(this.fileName) !== b.readInt(4) ? null : g.utf8decode(b.readString(a.length - 5))
                    }
                    return null
                }, findExtraFieldUnicodeComment: function () {
                    var a = this.extraFields[25461];
                    if (a) {
                        var b = new d(a.value);
                        return 1 !== b.readInt(1) ? null : g.crc32(this.fileComment) !== b.readInt(4) ? null : g.utf8decode(b.readString(a.length - 5))
                    }
                    return null
                }
            }, b.exports = c
        }, {"./compressedObject": 2, "./object": 13, "./stringReader": 15, "./utils": 21}],
        24: [function (a, b) {
            "use strict";
            var c = a("./lib/utils/common").assign, d = a("./lib/deflate"), e = a("./lib/inflate"), f = a("./lib/zlib/constants"), g = {};
            c(g, d, e, f), b.exports = g
        }, {"./lib/deflate": 25, "./lib/inflate": 26, "./lib/utils/common": 27, "./lib/zlib/constants": 30}],
        25: [function (a, b, c) {
            "use strict";
            function d(a, b) {
                var c = new s(b);
                if (c.push(a, !0), c.err)throw c.msg;
                return c.result
            }

            function e(a, b) {
                return b = b || {}, b.raw = !0, d(a, b)
            }

            function f(a, b) {
                return b = b || {}, b.gzip = !0, d(a, b)
            }

            var g = a("./zlib/deflate.js"), h = a("./utils/common"), i = a("./utils/strings"), j = a("./zlib/messages"), k = a("./zlib/zstream"), l = 0, m = 4, n = 0, o = 1, p = -1, q = 0, r = 8, s = function (a) {
                this.options = h.assign({
                    level: p,
                    method: r,
                    chunkSize: 16384,
                    windowBits: 15,
                    memLevel: 8,
                    strategy: q,
                    to: ""
                }, a || {});
                var b = this.options;
                b.raw && b.windowBits > 0 ? b.windowBits = -b.windowBits : b.gzip && b.windowBits > 0 && b.windowBits < 16 && (b.windowBits += 16), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new k, this.strm.avail_out = 0;
                var c = g.deflateInit2(this.strm, b.level, b.method, b.windowBits, b.memLevel, b.strategy);
                if (c !== n)throw new Error(j[c]);
                b.header && g.deflateSetHeader(this.strm, b.header)
            };
            s.prototype.push = function (a, b) {
                var c, d, e = this.strm, f = this.options.chunkSize;
                if (this.ended)return !1;
                d = b === ~~b ? b : b === !0 ? m : l, e.input = "string" == typeof a ? i.string2buf(a) : a, e.next_in = 0, e.avail_in = e.input.length;
                do {
                    if (0 === e.avail_out && (e.output = new h.Buf8(f), e.next_out = 0, e.avail_out = f), c = g.deflate(e, d), c !== o && c !== n)return this.onEnd(c), this.ended = !0, !1;
                    (0 === e.avail_out || 0 === e.avail_in && d === m) && this.onData("string" === this.options.to ? i.buf2binstring(h.shrinkBuf(e.output, e.next_out)) : h.shrinkBuf(e.output, e.next_out))
                } while ((e.avail_in > 0 || 0 === e.avail_out) && c !== o);
                return d === m ? (c = g.deflateEnd(this.strm), this.onEnd(c), this.ended = !0, c === n) : !0
            }, s.prototype.onData = function (a) {
                this.chunks.push(a)
            }, s.prototype.onEnd = function (a) {
                a === n && (this.result = "string" === this.options.to ? this.chunks.join("") : h.flattenChunks(this.chunks)), this.chunks = [], this.err = a, this.msg = this.strm.msg
            }, c.Deflate = s, c.deflate = d, c.deflateRaw = e, c.gzip = f
        }, {
            "./utils/common": 27,
            "./utils/strings": 28,
            "./zlib/deflate.js": 32,
            "./zlib/messages": 37,
            "./zlib/zstream": 39
        }],
        26: [function (a, b, c) {
            "use strict";
            function d(a, b) {
                var c = new m(b);
                if (c.push(a, !0), c.err)throw c.msg;
                return c.result
            }

            function e(a, b) {
                return b = b || {}, b.raw = !0, d(a, b)
            }

            var f = a("./zlib/inflate.js"), g = a("./utils/common"), h = a("./utils/strings"), i = a("./zlib/constants"), j = a("./zlib/messages"), k = a("./zlib/zstream"), l = a("./zlib/gzheader"), m = function (a) {
                this.options = g.assign({chunkSize: 16384, windowBits: 0, to: ""}, a || {});
                var b = this.options;
                b.raw && b.windowBits >= 0 && b.windowBits < 16 && (b.windowBits = -b.windowBits, 0 === b.windowBits && (b.windowBits = -15)), !(b.windowBits >= 0 && b.windowBits < 16) || a && a.windowBits || (b.windowBits += 32), b.windowBits > 15 && b.windowBits < 48 && 0 === (15 & b.windowBits) && (b.windowBits |= 15), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new k, this.strm.avail_out = 0;
                var c = f.inflateInit2(this.strm, b.windowBits);
                if (c !== i.Z_OK)throw new Error(j[c]);
                this.header = new l, f.inflateGetHeader(this.strm, this.header)
            };
            m.prototype.push = function (a, b) {
                var c, d, e, j, k, l = this.strm, m = this.options.chunkSize;
                if (this.ended)return !1;
                d = b === ~~b ? b : b === !0 ? i.Z_FINISH : i.Z_NO_FLUSH, l.input = "string" == typeof a ? h.binstring2buf(a) : a, l.next_in = 0, l.avail_in = l.input.length;
                do {
                    if (0 === l.avail_out && (l.output = new g.Buf8(m), l.next_out = 0, l.avail_out = m), c = f.inflate(l, i.Z_NO_FLUSH), c !== i.Z_STREAM_END && c !== i.Z_OK)return this.onEnd(c), this.ended = !0, !1;
                    l.next_out && (0 === l.avail_out || c === i.Z_STREAM_END || 0 === l.avail_in && d === i.Z_FINISH) && ("string" === this.options.to ? (e = h.utf8border(l.output, l.next_out), j = l.next_out - e, k = h.buf2string(l.output, e), l.next_out = j, l.avail_out = m - j, j && g.arraySet(l.output, l.output, e, j, 0), this.onData(k)) : this.onData(g.shrinkBuf(l.output, l.next_out)))
                } while (l.avail_in > 0 && c !== i.Z_STREAM_END);
                return c === i.Z_STREAM_END && (d = i.Z_FINISH), d === i.Z_FINISH ? (c = f.inflateEnd(this.strm), this.onEnd(c), this.ended = !0, c === i.Z_OK) : !0
            }, m.prototype.onData = function (a) {
                this.chunks.push(a)
            }, m.prototype.onEnd = function (a) {
                a === i.Z_OK && (this.result = "string" === this.options.to ? this.chunks.join("") : g.flattenChunks(this.chunks)), this.chunks = [], this.err = a, this.msg = this.strm.msg
            }, c.Inflate = m, c.inflate = d, c.inflateRaw = e, c.ungzip = d
        }, {
            "./utils/common": 27,
            "./utils/strings": 28,
            "./zlib/constants": 30,
            "./zlib/gzheader": 33,
            "./zlib/inflate.js": 35,
            "./zlib/messages": 37,
            "./zlib/zstream": 39
        }],
        27: [function (a, b, c) {
            "use strict";
            var d = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Int32Array;
            c.assign = function (a) {
                for (var b = Array.prototype.slice.call(arguments, 1); b.length;) {
                    var c = b.shift();
                    if (c) {
                        if ("object" != typeof c)throw new TypeError(c + "must be non-object");
                        for (var d in c)c.hasOwnProperty(d) && (a[d] = c[d])
                    }
                }
                return a
            }, c.shrinkBuf = function (a, b) {
                return a.length === b ? a : a.subarray ? a.subarray(0, b) : (a.length = b, a)
            };
            var e = {
                arraySet: function (a, b, c, d, e) {
                    if (b.subarray && a.subarray)return void a.set(b.subarray(c, c + d), e);
                    for (var f = 0; d > f; f++)a[e + f] = b[c + f]
                }, flattenChunks: function (a) {
                    var b, c, d, e, f, g;
                    for (d = 0, b = 0, c = a.length; c > b; b++)d += a[b].length;
                    for (g = new Uint8Array(d), e = 0, b = 0, c = a.length; c > b; b++)f = a[b], g.set(f, e), e += f.length;
                    return g
                }
            }, f = {
                arraySet: function (a, b, c, d, e) {
                    for (var f = 0; d > f; f++)a[e + f] = b[c + f]
                }, flattenChunks: function (a) {
                    return [].concat.apply([], a)
                }
            };
            c.setTyped = function (a) {
                a ? (c.Buf8 = Uint8Array, c.Buf16 = Uint16Array, c.Buf32 = Int32Array, c.assign(c, e)) : (c.Buf8 = Array, c.Buf16 = Array, c.Buf32 = Array, c.assign(c, f))
            }, c.setTyped(d)
        }, {}],
        28: [function (a, b, c) {
            "use strict";
            function d(a, b) {
                if (65537 > b && (a.subarray && g || !a.subarray && f))return String.fromCharCode.apply(null, e.shrinkBuf(a, b));
                for (var c = "", d = 0; b > d; d++)c += String.fromCharCode(a[d]);
                return c
            }

            var e = a("./common"), f = !0, g = !0;
            try {
                String.fromCharCode.apply(null, [0])
            } catch (h) {
                f = !1
            }
            try {
                String.fromCharCode.apply(null, new Uint8Array(1))
            } catch (h) {
                g = !1
            }
            for (var i = new e.Buf8(256), j = 0; 256 > j; j++)i[j] = j >= 252 ? 6 : j >= 248 ? 5 : j >= 240 ? 4 : j >= 224 ? 3 : j >= 192 ? 2 : 1;
            i[254] = i[254] = 1, c.string2buf = function (a) {
                var b, c, d, f, g, h = a.length, i = 0;
                for (f = 0; h > f; f++)c = a.charCodeAt(f), 55296 === (64512 & c) && h > f + 1 && (d = a.charCodeAt(f + 1), 56320 === (64512 & d) && (c = 65536 + (c - 55296 << 10) + (d - 56320), f++)), i += 128 > c ? 1 : 2048 > c ? 2 : 65536 > c ? 3 : 4;
                for (b = new e.Buf8(i), g = 0, f = 0; i > g; f++)c = a.charCodeAt(f), 55296 === (64512 & c) && h > f + 1 && (d = a.charCodeAt(f + 1), 56320 === (64512 & d) && (c = 65536 + (c - 55296 << 10) + (d - 56320), f++)), 128 > c ? b[g++] = c : 2048 > c ? (b[g++] = 192 | c >>> 6, b[g++] = 128 | 63 & c) : 65536 > c ? (b[g++] = 224 | c >>> 12, b[g++] = 128 | c >>> 6 & 63, b[g++] = 128 | 63 & c) : (b[g++] = 240 | c >>> 18, b[g++] = 128 | c >>> 12 & 63, b[g++] = 128 | c >>> 6 & 63, b[g++] = 128 | 63 & c);
                return b
            }, c.buf2binstring = function (a) {
                return d(a, a.length)
            }, c.binstring2buf = function (a) {
                for (var b = new e.Buf8(a.length), c = 0, d = b.length; d > c; c++)b[c] = a.charCodeAt(c);
                return b
            }, c.buf2string = function (a, b) {
                var c, e, f, g, h = b || a.length, j = new Array(2 * h);
                for (e = 0, c = 0; h > c;)if (f = a[c++], 128 > f)j[e++] = f; else if (g = i[f], g > 4)j[e++] = 65533, c += g - 1; else {
                    for (f &= 2 === g ? 31 : 3 === g ? 15 : 7; g > 1 && h > c;)f = f << 6 | 63 & a[c++], g--;
                    g > 1 ? j[e++] = 65533 : 65536 > f ? j[e++] = f : (f -= 65536, j[e++] = 55296 | f >> 10 & 1023, j[e++] = 56320 | 1023 & f)
                }
                return d(j, e)
            }, c.utf8border = function (a, b) {
                var c;
                for (b = b || a.length, b > a.length && (b = a.length), c = b - 1; c >= 0 && 128 === (192 & a[c]);)c--;
                return 0 > c ? b : 0 === c ? b : c + i[a[c]] > b ? c : b
            }
        }, {"./common": 27}],
        29: [function (a, b) {
            "use strict";
            function c(a, b, c, d) {
                for (var e = 65535 & a | 0, f = a >>> 16 & 65535 | 0, g = 0; 0 !== c;) {
                    g = c > 2e3 ? 2e3 : c, c -= g;
                    do e = e + b[d++] | 0, f = f + e | 0; while (--g);
                    e %= 65521, f %= 65521
                }
                return e | f << 16 | 0
            }

            b.exports = c
        }, {}],
        30: [function (a, b) {
            b.exports = {
                Z_NO_FLUSH: 0,
                Z_PARTIAL_FLUSH: 1,
                Z_SYNC_FLUSH: 2,
                Z_FULL_FLUSH: 3,
                Z_FINISH: 4,
                Z_BLOCK: 5,
                Z_TREES: 6,
                Z_OK: 0,
                Z_STREAM_END: 1,
                Z_NEED_DICT: 2,
                Z_ERRNO: -1,
                Z_STREAM_ERROR: -2,
                Z_DATA_ERROR: -3,
                Z_BUF_ERROR: -5,
                Z_NO_COMPRESSION: 0,
                Z_BEST_SPEED: 1,
                Z_BEST_COMPRESSION: 9,
                Z_DEFAULT_COMPRESSION: -1,
                Z_FILTERED: 1,
                Z_HUFFMAN_ONLY: 2,
                Z_RLE: 3,
                Z_FIXED: 4,
                Z_DEFAULT_STRATEGY: 0,
                Z_BINARY: 0,
                Z_TEXT: 1,
                Z_UNKNOWN: 2,
                Z_DEFLATED: 8
            }
        }, {}],
        31: [function (a, b) {
            "use strict";
            function c() {
                for (var a, b = [], c = 0; 256 > c; c++) {
                    a = c;
                    for (var d = 0; 8 > d; d++)a = 1 & a ? 3988292384 ^ a >>> 1 : a >>> 1;
                    b[c] = a
                }
                return b
            }

            function d(a, b, c, d) {
                var f = e, g = d + c;
                a = -1 ^ a;
                for (var h = d; g > h; h++)a = a >>> 8 ^ f[255 & (a ^ b[h])];
                return -1 ^ a
            }

            var e = c();
            b.exports = d
        }, {}],
        32: [function (a, b, c) {
            "use strict";
            function d(a, b) {
                return a.msg = G[b], b
            }

            function e(a) {
                return (a << 1) - (a > 4 ? 9 : 0)
            }

            function f(a) {
                for (var b = a.length; --b >= 0;)a[b] = 0
            }

            function g(a) {
                var b = a.state, c = b.pending;
                c > a.avail_out && (c = a.avail_out), 0 !== c && (C.arraySet(a.output, b.pending_buf, b.pending_out, c, a.next_out), a.next_out += c, b.pending_out += c, a.total_out += c, a.avail_out -= c, b.pending -= c, 0 === b.pending && (b.pending_out = 0))
            }

            function h(a, b) {
                D._tr_flush_block(a, a.block_start >= 0 ? a.block_start : -1, a.strstart - a.block_start, b), a.block_start = a.strstart, g(a.strm)
            }

            function i(a, b) {
                a.pending_buf[a.pending++] = b
            }

            function j(a, b) {
                a.pending_buf[a.pending++] = b >>> 8 & 255, a.pending_buf[a.pending++] = 255 & b
            }

            function k(a, b, c, d) {
                var e = a.avail_in;
                return e > d && (e = d), 0 === e ? 0 : (a.avail_in -= e, C.arraySet(b, a.input, a.next_in, e, c), 1 === a.state.wrap ? a.adler = E(a.adler, b, e, c) : 2 === a.state.wrap && (a.adler = F(a.adler, b, e, c)), a.next_in += e, a.total_in += e, e)
            }

            function l(a, b) {
                var c, d, e = a.max_chain_length, f = a.strstart, g = a.prev_length, h = a.nice_match, i = a.strstart > a.w_size - jb ? a.strstart - (a.w_size - jb) : 0, j = a.window, k = a.w_mask, l = a.prev, m = a.strstart + ib, n = j[f + g - 1], o = j[f + g];
                a.prev_length >= a.good_match && (e >>= 2), h > a.lookahead && (h = a.lookahead);
                do if (c = b, j[c + g] === o && j[c + g - 1] === n && j[c] === j[f] && j[++c] === j[f + 1]) {
                    f += 2, c++;
                    do; while (j[++f] === j[++c] && j[++f] === j[++c] && j[++f] === j[++c] && j[++f] === j[++c] && j[++f] === j[++c] && j[++f] === j[++c] && j[++f] === j[++c] && j[++f] === j[++c] && m > f);
                    if (d = ib - (m - f), f = m - ib, d > g) {
                        if (a.match_start = b, g = d, d >= h)break;
                        n = j[f + g - 1], o = j[f + g]
                    }
                } while ((b = l[b & k]) > i && 0 !== --e);
                return g <= a.lookahead ? g : a.lookahead
            }

            function m(a) {
                var b, c, d, e, f, g = a.w_size;
                do {
                    if (e = a.window_size - a.lookahead - a.strstart, a.strstart >= g + (g - jb)) {
                        C.arraySet(a.window, a.window, g, g, 0), a.match_start -= g, a.strstart -= g, a.block_start -= g, c = a.hash_size, b = c;
                        do d = a.head[--b], a.head[b] = d >= g ? d - g : 0; while (--c);
                        c = g, b = c;
                        do d = a.prev[--b], a.prev[b] = d >= g ? d - g : 0; while (--c);
                        e += g
                    }
                    if (0 === a.strm.avail_in)break;
                    if (c = k(a.strm, a.window, a.strstart + a.lookahead, e), a.lookahead += c, a.lookahead + a.insert >= hb)for (f = a.strstart - a.insert, a.ins_h = a.window[f], a.ins_h = (a.ins_h << a.hash_shift ^ a.window[f + 1]) & a.hash_mask; a.insert && (a.ins_h = (a.ins_h << a.hash_shift ^ a.window[f + hb - 1]) & a.hash_mask, a.prev[f & a.w_mask] = a.head[a.ins_h], a.head[a.ins_h] = f, f++, a.insert--, !(a.lookahead + a.insert < hb)););
                } while (a.lookahead < jb && 0 !== a.strm.avail_in)
            }

            function n(a, b) {
                var c = 65535;
                for (c > a.pending_buf_size - 5 && (c = a.pending_buf_size - 5); ;) {
                    if (a.lookahead <= 1) {
                        if (m(a), 0 === a.lookahead && b === H)return sb;
                        if (0 === a.lookahead)break
                    }
                    a.strstart += a.lookahead, a.lookahead = 0;
                    var d = a.block_start + c;
                    if ((0 === a.strstart || a.strstart >= d) && (a.lookahead = a.strstart - d, a.strstart = d, h(a, !1), 0 === a.strm.avail_out))return sb;
                    if (a.strstart - a.block_start >= a.w_size - jb && (h(a, !1), 0 === a.strm.avail_out))return sb
                }
                return a.insert = 0, b === K ? (h(a, !0), 0 === a.strm.avail_out ? ub : vb) : a.strstart > a.block_start && (h(a, !1), 0 === a.strm.avail_out) ? sb : sb
            }

            function o(a, b) {
                for (var c, d; ;) {
                    if (a.lookahead < jb) {
                        if (m(a), a.lookahead < jb && b === H)return sb;
                        if (0 === a.lookahead)break
                    }
                    if (c = 0, a.lookahead >= hb && (a.ins_h = (a.ins_h << a.hash_shift ^ a.window[a.strstart + hb - 1]) & a.hash_mask, c = a.prev[a.strstart & a.w_mask] = a.head[a.ins_h], a.head[a.ins_h] = a.strstart), 0 !== c && a.strstart - c <= a.w_size - jb && (a.match_length = l(a, c)), a.match_length >= hb)if (d = D._tr_tally(a, a.strstart - a.match_start, a.match_length - hb), a.lookahead -= a.match_length, a.match_length <= a.max_lazy_match && a.lookahead >= hb) {
                        a.match_length--;
                        do a.strstart++, a.ins_h = (a.ins_h << a.hash_shift ^ a.window[a.strstart + hb - 1]) & a.hash_mask, c = a.prev[a.strstart & a.w_mask] = a.head[a.ins_h], a.head[a.ins_h] = a.strstart; while (0 !== --a.match_length);
                        a.strstart++
                    } else a.strstart += a.match_length, a.match_length = 0, a.ins_h = a.window[a.strstart], a.ins_h = (a.ins_h << a.hash_shift ^ a.window[a.strstart + 1]) & a.hash_mask; else d = D._tr_tally(a, 0, a.window[a.strstart]), a.lookahead--, a.strstart++;
                    if (d && (h(a, !1), 0 === a.strm.avail_out))return sb
                }
                return a.insert = a.strstart < hb - 1 ? a.strstart : hb - 1, b === K ? (h(a, !0), 0 === a.strm.avail_out ? ub : vb) : a.last_lit && (h(a, !1), 0 === a.strm.avail_out) ? sb : tb
            }

            function p(a, b) {
                for (var c, d, e; ;) {
                    if (a.lookahead < jb) {
                        if (m(a), a.lookahead < jb && b === H)return sb;
                        if (0 === a.lookahead)break
                    }
                    if (c = 0, a.lookahead >= hb && (a.ins_h = (a.ins_h << a.hash_shift ^ a.window[a.strstart + hb - 1]) & a.hash_mask, c = a.prev[a.strstart & a.w_mask] = a.head[a.ins_h], a.head[a.ins_h] = a.strstart), a.prev_length = a.match_length, a.prev_match = a.match_start, a.match_length = hb - 1, 0 !== c && a.prev_length < a.max_lazy_match && a.strstart - c <= a.w_size - jb && (a.match_length = l(a, c), a.match_length <= 5 && (a.strategy === S || a.match_length === hb && a.strstart - a.match_start > 4096) && (a.match_length = hb - 1)), a.prev_length >= hb && a.match_length <= a.prev_length) {
                        e = a.strstart + a.lookahead - hb, d = D._tr_tally(a, a.strstart - 1 - a.prev_match, a.prev_length - hb), a.lookahead -= a.prev_length - 1, a.prev_length -= 2;
                        do++a.strstart <= e && (a.ins_h = (a.ins_h << a.hash_shift ^ a.window[a.strstart + hb - 1]) & a.hash_mask, c = a.prev[a.strstart & a.w_mask] = a.head[a.ins_h], a.head[a.ins_h] = a.strstart); while (0 !== --a.prev_length);
                        if (a.match_available = 0, a.match_length = hb - 1, a.strstart++, d && (h(a, !1), 0 === a.strm.avail_out))return sb
                    } else if (a.match_available) {
                        if (d = D._tr_tally(a, 0, a.window[a.strstart - 1]), d && h(a, !1), a.strstart++, a.lookahead--, 0 === a.strm.avail_out)return sb
                    } else a.match_available = 1, a.strstart++, a.lookahead--
                }
                return a.match_available && (d = D._tr_tally(a, 0, a.window[a.strstart - 1]), a.match_available = 0), a.insert = a.strstart < hb - 1 ? a.strstart : hb - 1, b === K ? (h(a, !0), 0 === a.strm.avail_out ? ub : vb) : a.last_lit && (h(a, !1), 0 === a.strm.avail_out) ? sb : tb
            }

            function q(a, b) {
                for (var c, d, e, f, g = a.window; ;) {
                    if (a.lookahead <= ib) {
                        if (m(a), a.lookahead <= ib && b === H)return sb;
                        if (0 === a.lookahead)break
                    }
                    if (a.match_length = 0, a.lookahead >= hb && a.strstart > 0 && (e = a.strstart - 1, d = g[e], d === g[++e] && d === g[++e] && d === g[++e])) {
                        f = a.strstart + ib;
                        do; while (d === g[++e] && d === g[++e] && d === g[++e] && d === g[++e] && d === g[++e] && d === g[++e] && d === g[++e] && d === g[++e] && f > e);
                        a.match_length = ib - (f - e), a.match_length > a.lookahead && (a.match_length = a.lookahead)
                    }
                    if (a.match_length >= hb ? (c = D._tr_tally(a, 1, a.match_length - hb), a.lookahead -= a.match_length, a.strstart += a.match_length, a.match_length = 0) : (c = D._tr_tally(a, 0, a.window[a.strstart]), a.lookahead--, a.strstart++), c && (h(a, !1), 0 === a.strm.avail_out))return sb
                }
                return a.insert = 0, b === K ? (h(a, !0), 0 === a.strm.avail_out ? ub : vb) : a.last_lit && (h(a, !1), 0 === a.strm.avail_out) ? sb : tb
            }

            function r(a, b) {
                for (var c; ;) {
                    if (0 === a.lookahead && (m(a), 0 === a.lookahead)) {
                        if (b === H)return sb;
                        break
                    }
                    if (a.match_length = 0, c = D._tr_tally(a, 0, a.window[a.strstart]), a.lookahead--, a.strstart++, c && (h(a, !1), 0 === a.strm.avail_out))return sb
                }
                return a.insert = 0, b === K ? (h(a, !0), 0 === a.strm.avail_out ? ub : vb) : a.last_lit && (h(a, !1), 0 === a.strm.avail_out) ? sb : tb
            }

            function s(a) {
                a.window_size = 2 * a.w_size, f(a.head), a.max_lazy_match = B[a.level].max_lazy, a.good_match = B[a.level].good_length, a.nice_match = B[a.level].nice_length, a.max_chain_length = B[a.level].max_chain, a.strstart = 0, a.block_start = 0, a.lookahead = 0, a.insert = 0, a.match_length = a.prev_length = hb - 1, a.match_available = 0, a.ins_h = 0
            }

            function t() {
                this.strm = null, this.status = 0, this.pending_buf = null, this.pending_buf_size = 0, this.pending_out = 0, this.pending = 0, this.wrap = 0, this.gzhead = null, this.gzindex = 0, this.method = Y, this.last_flush = -1, this.w_size = 0, this.w_bits = 0, this.w_mask = 0, this.window = null, this.window_size = 0, this.prev = null, this.head = null, this.ins_h = 0, this.hash_size = 0, this.hash_bits = 0, this.hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this.match_length = 0, this.prev_match = 0, this.match_available = 0, this.strstart = 0, this.match_start = 0, this.lookahead = 0, this.prev_length = 0, this.max_chain_length = 0, this.max_lazy_match = 0, this.level = 0, this.strategy = 0, this.good_match = 0, this.nice_match = 0, this.dyn_ltree = new C.Buf16(2 * fb), this.dyn_dtree = new C.Buf16(2 * (2 * db + 1)), this.bl_tree = new C.Buf16(2 * (2 * eb + 1)), f(this.dyn_ltree), f(this.dyn_dtree), f(this.bl_tree), this.l_desc = null, this.d_desc = null, this.bl_desc = null, this.bl_count = new C.Buf16(gb + 1), this.heap = new C.Buf16(2 * cb + 1), f(this.heap), this.heap_len = 0, this.heap_max = 0, this.depth = new C.Buf16(2 * cb + 1), f(this.depth), this.l_buf = 0, this.lit_bufsize = 0, this.last_lit = 0, this.d_buf = 0, this.opt_len = 0, this.static_len = 0, this.matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid = 0
            }

            function u(a) {
                var b;
                return a && a.state ? (a.total_in = a.total_out = 0, a.data_type = X, b = a.state, b.pending = 0, b.pending_out = 0, b.wrap < 0 && (b.wrap = -b.wrap), b.status = b.wrap ? lb : qb, a.adler = 2 === b.wrap ? 0 : 1, b.last_flush = H, D._tr_init(b), M) : d(a, O)
            }

            function v(a) {
                var b = u(a);
                return b === M && s(a.state), b
            }

            function w(a, b) {
                return a && a.state ? 2 !== a.state.wrap ? O : (a.state.gzhead = b, M) : O
            }

            function x(a, b, c, e, f, g) {
                if (!a)return O;
                var h = 1;
                if (b === R && (b = 6), 0 > e ? (h = 0, e = -e) : e > 15 && (h = 2, e -= 16), 1 > f || f > Z || c !== Y || 8 > e || e > 15 || 0 > b || b > 9 || 0 > g || g > V)return d(a, O);
                8 === e && (e = 9);
                var i = new t;
                return a.state = i, i.strm = a, i.wrap = h, i.gzhead = null, i.w_bits = e, i.w_size = 1 << i.w_bits, i.w_mask = i.w_size - 1, i.hash_bits = f + 7, i.hash_size = 1 << i.hash_bits, i.hash_mask = i.hash_size - 1, i.hash_shift = ~~((i.hash_bits + hb - 1) / hb), i.window = new C.Buf8(2 * i.w_size), i.head = new C.Buf16(i.hash_size), i.prev = new C.Buf16(i.w_size), i.lit_bufsize = 1 << f + 6, i.pending_buf_size = 4 * i.lit_bufsize, i.pending_buf = new C.Buf8(i.pending_buf_size), i.d_buf = i.lit_bufsize >> 1, i.l_buf = 3 * i.lit_bufsize, i.level = b, i.strategy = g, i.method = c, v(a)
            }

            function y(a, b) {
                return x(a, b, Y, $, _, W)
            }

            function z(a, b) {
                var c, h, k, l;
                if (!a || !a.state || b > L || 0 > b)return a ? d(a, O) : O;
                if (h = a.state, !a.output || !a.input && 0 !== a.avail_in || h.status === rb && b !== K)return d(a, 0 === a.avail_out ? Q : O);
                if (h.strm = a, c = h.last_flush, h.last_flush = b, h.status === lb)if (2 === h.wrap)a.adler = 0, i(h, 31), i(h, 139), i(h, 8), h.gzhead ? (i(h, (h.gzhead.text ? 1 : 0) + (h.gzhead.hcrc ? 2 : 0) + (h.gzhead.extra ? 4 : 0) + (h.gzhead.name ? 8 : 0) + (h.gzhead.comment ? 16 : 0)), i(h, 255 & h.gzhead.time), i(h, h.gzhead.time >> 8 & 255), i(h, h.gzhead.time >> 16 & 255), i(h, h.gzhead.time >> 24 & 255), i(h, 9 === h.level ? 2 : h.strategy >= T || h.level < 2 ? 4 : 0), i(h, 255 & h.gzhead.os), h.gzhead.extra && h.gzhead.extra.length && (i(h, 255 & h.gzhead.extra.length), i(h, h.gzhead.extra.length >> 8 & 255)), h.gzhead.hcrc && (a.adler = F(a.adler, h.pending_buf, h.pending, 0)), h.gzindex = 0, h.status = mb) : (i(h, 0), i(h, 0), i(h, 0), i(h, 0), i(h, 0), i(h, 9 === h.level ? 2 : h.strategy >= T || h.level < 2 ? 4 : 0), i(h, wb), h.status = qb); else {
                    var m = Y + (h.w_bits - 8 << 4) << 8, n = -1;
                    n = h.strategy >= T || h.level < 2 ? 0 : h.level < 6 ? 1 : 6 === h.level ? 2 : 3, m |= n << 6, 0 !== h.strstart && (m |= kb), m += 31 - m % 31, h.status = qb, j(h, m), 0 !== h.strstart && (j(h, a.adler >>> 16), j(h, 65535 & a.adler)), a.adler = 1
                }
                if (h.status === mb)if (h.gzhead.extra) {
                    for (k = h.pending; h.gzindex < (65535 & h.gzhead.extra.length) && (h.pending !== h.pending_buf_size || (h.gzhead.hcrc && h.pending > k && (a.adler = F(a.adler, h.pending_buf, h.pending - k, k)), g(a), k = h.pending, h.pending !== h.pending_buf_size));)i(h, 255 & h.gzhead.extra[h.gzindex]), h.gzindex++;
                    h.gzhead.hcrc && h.pending > k && (a.adler = F(a.adler, h.pending_buf, h.pending - k, k)), h.gzindex === h.gzhead.extra.length && (h.gzindex = 0, h.status = nb)
                } else h.status = nb;
                if (h.status === nb)if (h.gzhead.name) {
                    k = h.pending;
                    do {
                        if (h.pending === h.pending_buf_size && (h.gzhead.hcrc && h.pending > k && (a.adler = F(a.adler, h.pending_buf, h.pending - k, k)), g(a), k = h.pending, h.pending === h.pending_buf_size)) {
                            l = 1;
                            break
                        }
                        l = h.gzindex < h.gzhead.name.length ? 255 & h.gzhead.name.charCodeAt(h.gzindex++) : 0, i(h, l)
                    } while (0 !== l);
                    h.gzhead.hcrc && h.pending > k && (a.adler = F(a.adler, h.pending_buf, h.pending - k, k)), 0 === l && (h.gzindex = 0, h.status = ob)
                } else h.status = ob;
                if (h.status === ob)if (h.gzhead.comment) {
                    k = h.pending;
                    do {
                        if (h.pending === h.pending_buf_size && (h.gzhead.hcrc && h.pending > k && (a.adler = F(a.adler, h.pending_buf, h.pending - k, k)), g(a), k = h.pending, h.pending === h.pending_buf_size)) {
                            l = 1;
                            break
                        }
                        l = h.gzindex < h.gzhead.comment.length ? 255 & h.gzhead.comment.charCodeAt(h.gzindex++) : 0, i(h, l)
                    } while (0 !== l);
                    h.gzhead.hcrc && h.pending > k && (a.adler = F(a.adler, h.pending_buf, h.pending - k, k)), 0 === l && (h.status = pb)
                } else h.status = pb;
                if (h.status === pb && (h.gzhead.hcrc ? (h.pending + 2 > h.pending_buf_size && g(a), h.pending + 2 <= h.pending_buf_size && (i(h, 255 & a.adler), i(h, a.adler >> 8 & 255), a.adler = 0, h.status = qb)) : h.status = qb), 0 !== h.pending) {
                    if (g(a), 0 === a.avail_out)return h.last_flush = -1, M
                } else if (0 === a.avail_in && e(b) <= e(c) && b !== K)return d(a, Q);
                if (h.status === rb && 0 !== a.avail_in)return d(a, Q);
                if (0 !== a.avail_in || 0 !== h.lookahead || b !== H && h.status !== rb) {
                    var o = h.strategy === T ? r(h, b) : h.strategy === U ? q(h, b) : B[h.level].func(h, b);
                    if ((o === ub || o === vb) && (h.status = rb), o === sb || o === ub)return 0 === a.avail_out && (h.last_flush = -1), M;
                    if (o === tb && (b === I ? D._tr_align(h) : b !== L && (D._tr_stored_block(h, 0, 0, !1), b === J && (f(h.head), 0 === h.lookahead && (h.strstart = 0, h.block_start = 0, h.insert = 0))), g(a), 0 === a.avail_out))return h.last_flush = -1, M
                }
                return b !== K ? M : h.wrap <= 0 ? N : (2 === h.wrap ? (i(h, 255 & a.adler), i(h, a.adler >> 8 & 255), i(h, a.adler >> 16 & 255), i(h, a.adler >> 24 & 255), i(h, 255 & a.total_in), i(h, a.total_in >> 8 & 255), i(h, a.total_in >> 16 & 255), i(h, a.total_in >> 24 & 255)) : (j(h, a.adler >>> 16), j(h, 65535 & a.adler)), g(a), h.wrap > 0 && (h.wrap = -h.wrap), 0 !== h.pending ? M : N)
            }

            function A(a) {
                var b;
                return a && a.state ? (b = a.state.status, b !== lb && b !== mb && b !== nb && b !== ob && b !== pb && b !== qb && b !== rb ? d(a, O) : (a.state = null, b === qb ? d(a, P) : M)) : O
            }

            var B, C = a("../utils/common"), D = a("./trees"), E = a("./adler32"), F = a("./crc32"), G = a("./messages"), H = 0, I = 1, J = 3, K = 4, L = 5, M = 0, N = 1, O = -2, P = -3, Q = -5, R = -1, S = 1, T = 2, U = 3, V = 4, W = 0, X = 2, Y = 8, Z = 9, $ = 15, _ = 8, ab = 29, bb = 256, cb = bb + 1 + ab, db = 30, eb = 19, fb = 2 * cb + 1, gb = 15, hb = 3, ib = 258, jb = ib + hb + 1, kb = 32, lb = 42, mb = 69, nb = 73, ob = 91, pb = 103, qb = 113, rb = 666, sb = 1, tb = 2, ub = 3, vb = 4, wb = 3, xb = function (a, b, c, d, e) {
                this.good_length = a, this.max_lazy = b, this.nice_length = c, this.max_chain = d, this.func = e
            };
            B = [new xb(0, 0, 0, 0, n), new xb(4, 4, 8, 4, o), new xb(4, 5, 16, 8, o), new xb(4, 6, 32, 32, o), new xb(4, 4, 16, 16, p), new xb(8, 16, 32, 32, p), new xb(8, 16, 128, 128, p), new xb(8, 32, 128, 256, p), new xb(32, 128, 258, 1024, p), new xb(32, 258, 258, 4096, p)], c.deflateInit = y, c.deflateInit2 = x, c.deflateReset = v, c.deflateResetKeep = u, c.deflateSetHeader = w, c.deflate = z, c.deflateEnd = A, c.deflateInfo = "pako deflate (from Nodeca project)"
        }, {"../utils/common": 27, "./adler32": 29, "./crc32": 31, "./messages": 37, "./trees": 38}],
        33: [function (a, b) {
            "use strict";
            function c() {
                this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = !1
            }

            b.exports = c
        }, {}],
        34: [function (a, b) {
            "use strict";
            var c = 30, d = 12;
            b.exports = function (a, b) {
                var e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z, A, B, C;
                e = a.state, f = a.next_in, B = a.input, g = f + (a.avail_in - 5), h = a.next_out, C = a.output, i = h - (b - a.avail_out), j = h + (a.avail_out - 257), k = e.dmax, l = e.wsize, m = e.whave, n = e.wnext, o = e.window, p = e.hold, q = e.bits, r = e.lencode, s = e.distcode, t = (1 << e.lenbits) - 1, u = (1 << e.distbits) - 1;
                a:do {
                    15 > q && (p += B[f++] << q, q += 8, p += B[f++] << q, q += 8), v = r[p & t];
                    b:for (; ;) {
                        if (w = v >>> 24, p >>>= w, q -= w, w = v >>> 16 & 255, 0 === w)C[h++] = 65535 & v; else {
                            if (!(16 & w)) {
                                if (0 === (64 & w)) {
                                    v = r[(65535 & v) + (p & (1 << w) - 1)];
                                    continue b
                                }
                                if (32 & w) {
                                    e.mode = d;
                                    break a
                                }
                                a.msg = "invalid literal/length code", e.mode = c;
                                break a
                            }
                            x = 65535 & v, w &= 15, w && (w > q && (p += B[f++] << q, q += 8), x += p & (1 << w) - 1, p >>>= w, q -= w), 15 > q && (p += B[f++] << q, q += 8, p += B[f++] << q, q += 8), v = s[p & u];
                            c:for (; ;) {
                                if (w = v >>> 24, p >>>= w, q -= w, w = v >>> 16 & 255, !(16 & w)) {
                                    if (0 === (64 & w)) {
                                        v = s[(65535 & v) + (p & (1 << w) - 1)];
                                        continue c
                                    }
                                    a.msg = "invalid distance code", e.mode = c;
                                    break a
                                }
                                if (y = 65535 & v, w &= 15, w > q && (p += B[f++] << q, q += 8, w > q && (p += B[f++] << q, q += 8)), y += p & (1 << w) - 1, y > k) {
                                    a.msg = "invalid distance too far back", e.mode = c;
                                    break a
                                }
                                if (p >>>= w, q -= w, w = h - i, y > w) {
                                    if (w = y - w, w > m && e.sane) {
                                        a.msg = "invalid distance too far back", e.mode = c;
                                        break a
                                    }
                                    if (z = 0, A = o, 0 === n) {
                                        if (z += l - w, x > w) {
                                            x -= w;
                                            do C[h++] = o[z++]; while (--w);
                                            z = h - y, A = C
                                        }
                                    } else if (w > n) {
                                        if (z += l + n - w, w -= n, x > w) {
                                            x -= w;
                                            do C[h++] = o[z++]; while (--w);
                                            if (z = 0, x > n) {
                                                w = n, x -= w;
                                                do C[h++] = o[z++]; while (--w);
                                                z = h - y, A = C
                                            }
                                        }
                                    } else if (z += n - w, x > w) {
                                        x -= w;
                                        do C[h++] = o[z++]; while (--w);
                                        z = h - y, A = C
                                    }
                                    for (; x > 2;)C[h++] = A[z++], C[h++] = A[z++], C[h++] = A[z++], x -= 3;
                                    x && (C[h++] = A[z++], x > 1 && (C[h++] = A[z++]))
                                } else {
                                    z = h - y;
                                    do C[h++] = C[z++], C[h++] = C[z++], C[h++] = C[z++], x -= 3; while (x > 2);
                                    x && (C[h++] = C[z++], x > 1 && (C[h++] = C[z++]))
                                }
                                break
                            }
                        }
                        break
                    }
                } while (g > f && j > h);
                x = q >> 3, f -= x, q -= x << 3, p &= (1 << q) - 1, a.next_in = f, a.next_out = h, a.avail_in = g > f ? 5 + (g - f) : 5 - (f - g), a.avail_out = j > h ? 257 + (j - h) : 257 - (h - j), e.hold = p, e.bits = q
            }
        }, {}],
        35: [function (a, b, c) {
            "use strict";
            function d(a) {
                return (a >>> 24 & 255) + (a >>> 8 & 65280) + ((65280 & a) << 8) + ((255 & a) << 24)
            }

            function e() {
                this.mode = 0, this.last = !1, this.wrap = 0, this.havedict = !1, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new r.Buf16(320), this.work = new r.Buf16(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0
            }

            function f(a) {
                var b;
                return a && a.state ? (b = a.state, a.total_in = a.total_out = b.total = 0, a.msg = "", b.wrap && (a.adler = 1 & b.wrap), b.mode = K, b.last = 0, b.havedict = 0, b.dmax = 32768, b.head = null, b.hold = 0, b.bits = 0, b.lencode = b.lendyn = new r.Buf32(ob), b.distcode = b.distdyn = new r.Buf32(pb), b.sane = 1, b.back = -1, C) : F
            }

            function g(a) {
                var b;
                return a && a.state ? (b = a.state, b.wsize = 0, b.whave = 0, b.wnext = 0, f(a)) : F
            }

            function h(a, b) {
                var c, d;
                return a && a.state ? (d = a.state, 0 > b ? (c = 0, b = -b) : (c = (b >> 4) + 1, 48 > b && (b &= 15)), b && (8 > b || b > 15) ? F : (null !== d.window && d.wbits !== b && (d.window = null), d.wrap = c, d.wbits = b, g(a))) : F
            }

            function i(a, b) {
                var c, d;
                return a ? (d = new e, a.state = d, d.window = null, c = h(a, b), c !== C && (a.state = null), c) : F
            }

            function j(a) {
                return i(a, rb)
            }

            function k(a) {
                if (sb) {
                    var b;
                    for (p = new r.Buf32(512), q = new r.Buf32(32), b = 0; 144 > b;)a.lens[b++] = 8;
                    for (; 256 > b;)a.lens[b++] = 9;
                    for (; 280 > b;)a.lens[b++] = 7;
                    for (; 288 > b;)a.lens[b++] = 8;
                    for (v(x, a.lens, 0, 288, p, 0, a.work, {bits: 9}), b = 0; 32 > b;)a.lens[b++] = 5;
                    v(y, a.lens, 0, 32, q, 0, a.work, {bits: 5}), sb = !1
                }
                a.lencode = p, a.lenbits = 9, a.distcode = q, a.distbits = 5
            }

            function l(a, b, c, d) {
                var e, f = a.state;
                return null === f.window && (f.wsize = 1 << f.wbits, f.wnext = 0, f.whave = 0, f.window = new r.Buf8(f.wsize)), d >= f.wsize ? (r.arraySet(f.window, b, c - f.wsize, f.wsize, 0), f.wnext = 0, f.whave = f.wsize) : (e = f.wsize - f.wnext, e > d && (e = d), r.arraySet(f.window, b, c - d, e, f.wnext), d -= e, d ? (r.arraySet(f.window, b, c - d, d, 0), f.wnext = d, f.whave = f.wsize) : (f.wnext += e, f.wnext === f.wsize && (f.wnext = 0), f.whave < f.wsize && (f.whave += e))), 0
            }

            function m(a, b) {
                var c, e, f, g, h, i, j, m, n, o, p, q, ob, pb, qb, rb, sb, tb, ub, vb, wb, xb, yb, zb, Ab = 0, Bb = new r.Buf8(4), Cb = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
                if (!a || !a.state || !a.output || !a.input && 0 !== a.avail_in)return F;
                c = a.state, c.mode === V && (c.mode = W), h = a.next_out, f = a.output, j = a.avail_out, g = a.next_in, e = a.input, i = a.avail_in, m = c.hold, n = c.bits, o = i, p = j, xb = C;
                a:for (; ;)switch (c.mode) {
                    case K:
                        if (0 === c.wrap) {
                            c.mode = W;
                            break
                        }
                        for (; 16 > n;) {
                            if (0 === i)break a;
                            i--, m += e[g++] << n, n += 8
                        }
                        if (2 & c.wrap && 35615 === m) {
                            c.check = 0, Bb[0] = 255 & m, Bb[1] = m >>> 8 & 255, c.check = t(c.check, Bb, 2, 0), m = 0, n = 0, c.mode = L;
                            break
                        }
                        if (c.flags = 0, c.head && (c.head.done = !1), !(1 & c.wrap) || (((255 & m) << 8) + (m >> 8)) % 31) {
                            a.msg = "incorrect header check", c.mode = lb;
                            break
                        }
                        if ((15 & m) !== J) {
                            a.msg = "unknown compression method", c.mode = lb;
                            break
                        }
                        if (m >>>= 4, n -= 4, wb = (15 & m) + 8, 0 === c.wbits)c.wbits = wb; else if (wb > c.wbits) {
                            a.msg = "invalid window size", c.mode = lb;
                            break
                        }
                        c.dmax = 1 << wb, a.adler = c.check = 1, c.mode = 512 & m ? T : V, m = 0, n = 0;
                        break;
                    case L:
                        for (; 16 > n;) {
                            if (0 === i)break a;
                            i--, m += e[g++] << n, n += 8
                        }
                        if (c.flags = m, (255 & c.flags) !== J) {
                            a.msg = "unknown compression method", c.mode = lb;
                            break
                        }
                        if (57344 & c.flags) {
                            a.msg = "unknown header flags set", c.mode = lb;
                            break
                        }
                        c.head && (c.head.text = m >> 8 & 1), 512 & c.flags && (Bb[0] = 255 & m, Bb[1] = m >>> 8 & 255, c.check = t(c.check, Bb, 2, 0)), m = 0, n = 0, c.mode = M;
                    case M:
                        for (; 32 > n;) {
                            if (0 === i)break a;
                            i--, m += e[g++] << n, n += 8
                        }
                        c.head && (c.head.time = m), 512 & c.flags && (Bb[0] = 255 & m, Bb[1] = m >>> 8 & 255, Bb[2] = m >>> 16 & 255, Bb[3] = m >>> 24 & 255, c.check = t(c.check, Bb, 4, 0)), m = 0, n = 0, c.mode = N;
                    case N:
                        for (; 16 > n;) {
                            if (0 === i)break a;
                            i--, m += e[g++] << n, n += 8
                        }
                        c.head && (c.head.xflags = 255 & m, c.head.os = m >> 8), 512 & c.flags && (Bb[0] = 255 & m, Bb[1] = m >>> 8 & 255, c.check = t(c.check, Bb, 2, 0)), m = 0, n = 0, c.mode = O;
                    case O:
                        if (1024 & c.flags) {
                            for (; 16 > n;) {
                                if (0 === i)break a;
                                i--, m += e[g++] << n, n += 8
                            }
                            c.length = m, c.head && (c.head.extra_len = m), 512 & c.flags && (Bb[0] = 255 & m, Bb[1] = m >>> 8 & 255, c.check = t(c.check, Bb, 2, 0)), m = 0, n = 0
                        } else c.head && (c.head.extra = null);
                        c.mode = P;
                    case P:
                        if (1024 & c.flags && (q = c.length, q > i && (q = i), q && (c.head && (wb = c.head.extra_len - c.length, c.head.extra || (c.head.extra = new Array(c.head.extra_len)), r.arraySet(c.head.extra, e, g, q, wb)), 512 & c.flags && (c.check = t(c.check, e, q, g)), i -= q, g += q, c.length -= q), c.length))break a;
                        c.length = 0, c.mode = Q;
                    case Q:
                        if (2048 & c.flags) {
                            if (0 === i)break a;
                            q = 0;
                            do wb = e[g + q++], c.head && wb && c.length < 65536 && (c.head.name += String.fromCharCode(wb)); while (wb && i > q);
                            if (512 & c.flags && (c.check = t(c.check, e, q, g)), i -= q, g += q, wb)break a
                        } else c.head && (c.head.name = null);
                        c.length = 0, c.mode = R;
                    case R:
                        if (4096 & c.flags) {
                            if (0 === i)break a;
                            q = 0;
                            do wb = e[g + q++], c.head && wb && c.length < 65536 && (c.head.comment += String.fromCharCode(wb)); while (wb && i > q);
                            if (512 & c.flags && (c.check = t(c.check, e, q, g)), i -= q, g += q, wb)break a
                        } else c.head && (c.head.comment = null);
                        c.mode = S;
                    case S:
                        if (512 & c.flags) {
                            for (; 16 > n;) {
                                if (0 === i)break a;
                                i--, m += e[g++] << n, n += 8
                            }
                            if (m !== (65535 & c.check)) {
                                a.msg = "header crc mismatch", c.mode = lb;
                                break
                            }
                            m = 0, n = 0
                        }
                        c.head && (c.head.hcrc = c.flags >> 9 & 1, c.head.done = !0), a.adler = c.check = 0, c.mode = V;
                        break;
                    case T:
                        for (; 32 > n;) {
                            if (0 === i)break a;
                            i--, m += e[g++] << n, n += 8
                        }
                        a.adler = c.check = d(m), m = 0, n = 0, c.mode = U;
                    case U:
                        if (0 === c.havedict)return a.next_out = h, a.avail_out = j, a.next_in = g, a.avail_in = i, c.hold = m, c.bits = n, E;
                        a.adler = c.check = 1, c.mode = V;
                    case V:
                        if (b === A || b === B)break a;
                    case W:
                        if (c.last) {
                            m >>>= 7 & n, n -= 7 & n, c.mode = ib;
                            break
                        }
                        for (; 3 > n;) {
                            if (0 === i)break a;
                            i--, m += e[g++] << n, n += 8
                        }
                        switch (c.last = 1 & m, m >>>= 1, n -= 1, 3 & m) {
                            case 0:
                                c.mode = X;
                                break;
                            case 1:
                                if (k(c), c.mode = bb, b === B) {
                                    m >>>= 2, n -= 2;
                                    break a
                                }
                                break;
                            case 2:
                                c.mode = $;
                                break;
                            case 3:
                                a.msg = "invalid block type", c.mode = lb
                        }
                        m >>>= 2, n -= 2;
                        break;
                    case X:
                        for (m >>>= 7 & n, n -= 7 & n; 32 > n;) {
                            if (0 === i)break a;
                            i--, m += e[g++] << n, n += 8
                        }
                        if ((65535 & m) !== (m >>> 16 ^ 65535)) {
                            a.msg = "invalid stored block lengths", c.mode = lb;
                            break
                        }
                        if (c.length = 65535 & m, m = 0, n = 0, c.mode = Y, b === B)break a;
                    case Y:
                        c.mode = Z;
                    case Z:
                        if (q = c.length) {
                            if (q > i && (q = i), q > j && (q = j), 0 === q)break a;
                            r.arraySet(f, e, g, q, h), i -= q, g += q, j -= q, h += q, c.length -= q;
                            break
                        }
                        c.mode = V;
                        break;
                    case $:
                        for (; 14 > n;) {
                            if (0 === i)break a;
                            i--, m += e[g++] << n, n += 8
                        }
                        if (c.nlen = (31 & m) + 257, m >>>= 5, n -= 5, c.ndist = (31 & m) + 1, m >>>= 5, n -= 5, c.ncode = (15 & m) + 4, m >>>= 4, n -= 4, c.nlen > 286 || c.ndist > 30) {
                            a.msg = "too many length or distance symbols", c.mode = lb;
                            break
                        }
                        c.have = 0, c.mode = _;
                    case _:
                        for (; c.have < c.ncode;) {
                            for (; 3 > n;) {
                                if (0 === i)break a;
                                i--, m += e[g++] << n, n += 8
                            }
                            c.lens[Cb[c.have++]] = 7 & m, m >>>= 3, n -= 3
                        }
                        for (; c.have < 19;)c.lens[Cb[c.have++]] = 0;
                        if (c.lencode = c.lendyn, c.lenbits = 7, yb = {bits: c.lenbits}, xb = v(w, c.lens, 0, 19, c.lencode, 0, c.work, yb), c.lenbits = yb.bits, xb) {
                            a.msg = "invalid code lengths set", c.mode = lb;
                            break
                        }
                        c.have = 0, c.mode = ab;
                    case ab:
                        for (; c.have < c.nlen + c.ndist;) {
                            for (; Ab = c.lencode[m & (1 << c.lenbits) - 1], qb = Ab >>> 24, rb = Ab >>> 16 & 255, sb = 65535 & Ab, !(n >= qb);) {
                                if (0 === i)break a;
                                i--, m += e[g++] << n, n += 8
                            }
                            if (16 > sb)m >>>= qb, n -= qb, c.lens[c.have++] = sb; else {
                                if (16 === sb) {
                                    for (zb = qb + 2; zb > n;) {
                                        if (0 === i)break a;
                                        i--, m += e[g++] << n, n += 8
                                    }
                                    if (m >>>= qb, n -= qb, 0 === c.have) {
                                        a.msg = "invalid bit length repeat", c.mode = lb;
                                        break
                                    }
                                    wb = c.lens[c.have - 1], q = 3 + (3 & m), m >>>= 2, n -= 2
                                } else if (17 === sb) {
                                    for (zb = qb + 3; zb > n;) {
                                        if (0 === i)break a;
                                        i--, m += e[g++] << n, n += 8
                                    }
                                    m >>>= qb, n -= qb, wb = 0, q = 3 + (7 & m), m >>>= 3, n -= 3
                                } else {
                                    for (zb = qb + 7; zb > n;) {
                                        if (0 === i)break a;
                                        i--, m += e[g++] << n, n += 8
                                    }
                                    m >>>= qb, n -= qb, wb = 0, q = 11 + (127 & m), m >>>= 7, n -= 7
                                }
                                if (c.have + q > c.nlen + c.ndist) {
                                    a.msg = "invalid bit length repeat", c.mode = lb;
                                    break
                                }
                                for (; q--;)c.lens[c.have++] = wb
                            }
                        }
                        if (c.mode === lb)break;
                        if (0 === c.lens[256]) {
                            a.msg = "invalid code -- missing end-of-block", c.mode = lb;
                            break
                        }
                        if (c.lenbits = 9, yb = {bits: c.lenbits}, xb = v(x, c.lens, 0, c.nlen, c.lencode, 0, c.work, yb), c.lenbits = yb.bits, xb) {
                            a.msg = "invalid literal/lengths set", c.mode = lb;
                            break
                        }
                        if (c.distbits = 6, c.distcode = c.distdyn, yb = {bits: c.distbits}, xb = v(y, c.lens, c.nlen, c.ndist, c.distcode, 0, c.work, yb), c.distbits = yb.bits, xb) {
                            a.msg = "invalid distances set", c.mode = lb;
                            break
                        }
                        if (c.mode = bb, b === B)break a;
                    case bb:
                        c.mode = cb;
                    case cb:
                        if (i >= 6 && j >= 258) {
                            a.next_out = h, a.avail_out = j, a.next_in = g, a.avail_in = i, c.hold = m, c.bits = n, u(a, p), h = a.next_out, f = a.output, j = a.avail_out, g = a.next_in, e = a.input, i = a.avail_in, m = c.hold, n = c.bits, c.mode === V && (c.back = -1);
                            break
                        }
                        for (c.back = 0; Ab = c.lencode[m & (1 << c.lenbits) - 1], qb = Ab >>> 24, rb = Ab >>> 16 & 255, sb = 65535 & Ab, !(n >= qb);) {
                            if (0 === i)break a;
                            i--, m += e[g++] << n, n += 8
                        }
                        if (rb && 0 === (240 & rb)) {
                            for (tb = qb, ub = rb, vb = sb; Ab = c.lencode[vb + ((m & (1 << tb + ub) - 1) >> tb)], qb = Ab >>> 24, rb = Ab >>> 16 & 255, sb = 65535 & Ab, !(n >= tb + qb);) {
                                if (0 === i)break a;
                                i--, m += e[g++] << n, n += 8
                            }
                            m >>>= tb, n -= tb, c.back += tb
                        }
                        if (m >>>= qb, n -= qb, c.back += qb, c.length = sb, 0 === rb) {
                            c.mode = hb;
                            break
                        }
                        if (32 & rb) {
                            c.back = -1, c.mode = V;
                            break
                        }
                        if (64 & rb) {
                            a.msg = "invalid literal/length code", c.mode = lb;
                            break
                        }
                        c.extra = 15 & rb, c.mode = db;
                    case db:
                        if (c.extra) {
                            for (zb = c.extra; zb > n;) {
                                if (0 === i)break a;
                                i--, m += e[g++] << n, n += 8
                            }
                            c.length += m & (1 << c.extra) - 1, m >>>= c.extra, n -= c.extra, c.back += c.extra
                        }
                        c.was = c.length, c.mode = eb;
                    case eb:
                        for (; Ab = c.distcode[m & (1 << c.distbits) - 1], qb = Ab >>> 24, rb = Ab >>> 16 & 255, sb = 65535 & Ab, !(n >= qb);) {
                            if (0 === i)break a;
                            i--, m += e[g++] << n, n += 8
                        }
                        if (0 === (240 & rb)) {
                            for (tb = qb, ub = rb, vb = sb; Ab = c.distcode[vb + ((m & (1 << tb + ub) - 1) >> tb)], qb = Ab >>> 24, rb = Ab >>> 16 & 255, sb = 65535 & Ab, !(n >= tb + qb);) {
                                if (0 === i)break a;
                                i--, m += e[g++] << n, n += 8
                            }
                            m >>>= tb, n -= tb, c.back += tb
                        }
                        if (m >>>= qb, n -= qb, c.back += qb, 64 & rb) {
                            a.msg = "invalid distance code", c.mode = lb;
                            break
                        }
                        c.offset = sb, c.extra = 15 & rb, c.mode = fb;
                    case fb:
                        if (c.extra) {
                            for (zb = c.extra; zb > n;) {
                                if (0 === i)break a;
                                i--, m += e[g++] << n, n += 8
                            }
                            c.offset += m & (1 << c.extra) - 1, m >>>= c.extra, n -= c.extra, c.back += c.extra
                        }
                        if (c.offset > c.dmax) {
                            a.msg = "invalid distance too far back", c.mode = lb;
                            break
                        }
                        c.mode = gb;
                    case gb:
                        if (0 === j)break a;
                        if (q = p - j, c.offset > q) {
                            if (q = c.offset - q, q > c.whave && c.sane) {
                                a.msg = "invalid distance too far back", c.mode = lb;
                                break
                            }
                            q > c.wnext ? (q -= c.wnext, ob = c.wsize - q) : ob = c.wnext - q, q > c.length && (q = c.length), pb = c.window
                        } else pb = f, ob = h - c.offset, q = c.length;
                        q > j && (q = j), j -= q, c.length -= q;
                        do f[h++] = pb[ob++]; while (--q);
                        0 === c.length && (c.mode = cb);
                        break;
                    case hb:
                        if (0 === j)break a;
                        f[h++] = c.length, j--, c.mode = cb;
                        break;
                    case ib:
                        if (c.wrap) {
                            for (; 32 > n;) {
                                if (0 === i)break a;
                                i--, m |= e[g++] << n, n += 8
                            }
                            if (p -= j, a.total_out += p, c.total += p, p && (a.adler = c.check = c.flags ? t(c.check, f, p, h - p) : s(c.check, f, p, h - p)), p = j, (c.flags ? m : d(m)) !== c.check) {
                                a.msg = "incorrect data check", c.mode = lb;
                                break
                            }
                            m = 0, n = 0
                        }
                        c.mode = jb;
                    case jb:
                        if (c.wrap && c.flags) {
                            for (; 32 > n;) {
                                if (0 === i)break a;
                                i--, m += e[g++] << n, n += 8
                            }
                            if (m !== (4294967295 & c.total)) {
                                a.msg = "incorrect length check", c.mode = lb;
                                break
                            }
                            m = 0, n = 0
                        }
                        c.mode = kb;
                    case kb:
                        xb = D;
                        break a;
                    case lb:
                        xb = G;
                        break a;
                    case mb:
                        return H;
                    case nb:
                    default:
                        return F
                }
                return a.next_out = h, a.avail_out = j, a.next_in = g, a.avail_in = i, c.hold = m, c.bits = n, (c.wsize || p !== a.avail_out && c.mode < lb && (c.mode < ib || b !== z)) && l(a, a.output, a.next_out, p - a.avail_out) ? (c.mode = mb, H) : (o -= a.avail_in, p -= a.avail_out, a.total_in += o, a.total_out += p, c.total += p, c.wrap && p && (a.adler = c.check = c.flags ? t(c.check, f, p, a.next_out - p) : s(c.check, f, p, a.next_out - p)), a.data_type = c.bits + (c.last ? 64 : 0) + (c.mode === V ? 128 : 0) + (c.mode === bb || c.mode === Y ? 256 : 0), (0 === o && 0 === p || b === z) && xb === C && (xb = I), xb)
            }

            function n(a) {
                if (!a || !a.state)return F;
                var b = a.state;
                return b.window && (b.window = null), a.state = null, C
            }

            function o(a, b) {
                var c;
                return a && a.state ? (c = a.state, 0 === (2 & c.wrap) ? F : (c.head = b, b.done = !1, C)) : F
            }

            var p, q, r = a("../utils/common"), s = a("./adler32"), t = a("./crc32"), u = a("./inffast"), v = a("./inftrees"), w = 0, x = 1, y = 2, z = 4, A = 5, B = 6, C = 0, D = 1, E = 2, F = -2, G = -3, H = -4, I = -5, J = 8, K = 1, L = 2, M = 3, N = 4, O = 5, P = 6, Q = 7, R = 8, S = 9, T = 10, U = 11, V = 12, W = 13, X = 14, Y = 15, Z = 16, $ = 17, _ = 18, ab = 19, bb = 20, cb = 21, db = 22, eb = 23, fb = 24, gb = 25, hb = 26, ib = 27, jb = 28, kb = 29, lb = 30, mb = 31, nb = 32, ob = 852, pb = 592, qb = 15, rb = qb, sb = !0;
            c.inflateReset = g, c.inflateReset2 = h, c.inflateResetKeep = f, c.inflateInit = j, c.inflateInit2 = i, c.inflate = m, c.inflateEnd = n, c.inflateGetHeader = o, c.inflateInfo = "pako inflate (from Nodeca project)"
        }, {"../utils/common": 27, "./adler32": 29, "./crc32": 31, "./inffast": 34, "./inftrees": 36}],
        36: [function (a, b) {
            "use strict";
            var c = a("../utils/common"), d = 15, e = 852, f = 592, g = 0, h = 1, i = 2, j = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0], k = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78], l = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0], m = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64];
            b.exports = function (a, b, n, o, p, q, r, s) {
                var t, u, v, w, x, y, z, A, B, C = s.bits, D = 0, E = 0, F = 0, G = 0, H = 0, I = 0, J = 0, K = 0, L = 0, M = 0, N = null, O = 0, P = new c.Buf16(d + 1), Q = new c.Buf16(d + 1), R = null, S = 0;
                for (D = 0; d >= D; D++)P[D] = 0;
                for (E = 0; o > E; E++)P[b[n + E]]++;
                for (H = C, G = d; G >= 1 && 0 === P[G]; G--);
                if (H > G && (H = G), 0 === G)return p[q++] = 20971520, p[q++] = 20971520, s.bits = 1, 0;
                for (F = 1; G > F && 0 === P[F]; F++);
                for (F > H && (H = F), K = 1, D = 1; d >= D; D++)if (K <<= 1, K -= P[D], 0 > K)return -1;
                if (K > 0 && (a === g || 1 !== G))return -1;
                for (Q[1] = 0, D = 1; d > D; D++)Q[D + 1] = Q[D] + P[D];
                for (E = 0; o > E; E++)0 !== b[n + E] && (r[Q[b[n + E]]++] = E);
                if (a === g ? (N = R = r, y = 19) : a === h ? (N = j, O -= 257, R = k, S -= 257, y = 256) : (N = l, R = m, y = -1), M = 0, E = 0, D = F, x = q, I = H, J = 0, v = -1, L = 1 << H, w = L - 1, a === h && L > e || a === i && L > f)return 1;
                for (var T = 0; ;) {
                    T++, z = D - J, r[E] < y ? (A = 0, B = r[E]) : r[E] > y ? (A = R[S + r[E]], B = N[O + r[E]]) : (A = 96, B = 0), t = 1 << D - J, u = 1 << I, F = u;
                    do u -= t, p[x + (M >> J) + u] = z << 24 | A << 16 | B | 0; while (0 !== u);
                    for (t = 1 << D - 1; M & t;)t >>= 1;
                    if (0 !== t ? (M &= t - 1, M += t) : M = 0, E++, 0 === --P[D]) {
                        if (D === G)break;
                        D = b[n + r[E]]
                    }
                    if (D > H && (M & w) !== v) {
                        for (0 === J && (J = H), x += F, I = D - J, K = 1 << I; G > I + J && (K -= P[I + J], !(0 >= K));)I++, K <<= 1;
                        if (L += 1 << I, a === h && L > e || a === i && L > f)return 1;
                        v = M & w, p[v] = H << 24 | I << 16 | x - q | 0
                    }
                }
                return 0 !== M && (p[x + M] = D - J << 24 | 64 << 16 | 0), s.bits = H, 0
            }
        }, {"../utils/common": 27}],
        37: [function (a, b) {
            "use strict";
            b.exports = {
                2: "need dictionary",
                1: "stream end",
                0: "",
                "-1": "file error",
                "-2": "stream error",
                "-3": "data error",
                "-4": "insufficient memory",
                "-5": "buffer error",
                "-6": "incompatible version"
            }
        }, {}],
        38: [function (a, b, c) {
            "use strict";
            function d(a) {
                for (var b = a.length; --b >= 0;)a[b] = 0
            }

            function e(a) {
                return 256 > a ? gb[a] : gb[256 + (a >>> 7)]
            }

            function f(a, b) {
                a.pending_buf[a.pending++] = 255 & b, a.pending_buf[a.pending++] = b >>> 8 & 255
            }

            function g(a, b, c) {
                a.bi_valid > V - c ? (a.bi_buf |= b << a.bi_valid & 65535, f(a, a.bi_buf), a.bi_buf = b >> V - a.bi_valid, a.bi_valid += c - V) : (a.bi_buf |= b << a.bi_valid & 65535, a.bi_valid += c)
            }

            function h(a, b, c) {
                g(a, c[2 * b], c[2 * b + 1])
            }

            function i(a, b) {
                var c = 0;
                do c |= 1 & a, a >>>= 1, c <<= 1; while (--b > 0);
                return c >>> 1
            }

            function j(a) {
                16 === a.bi_valid ? (f(a, a.bi_buf), a.bi_buf = 0, a.bi_valid = 0) : a.bi_valid >= 8 && (a.pending_buf[a.pending++] = 255 & a.bi_buf, a.bi_buf >>= 8, a.bi_valid -= 8)
            }

            function k(a, b) {
                var c, d, e, f, g, h, i = b.dyn_tree, j = b.max_code, k = b.stat_desc.static_tree, l = b.stat_desc.has_stree, m = b.stat_desc.extra_bits, n = b.stat_desc.extra_base, o = b.stat_desc.max_length, p = 0;
                for (f = 0; U >= f; f++)a.bl_count[f] = 0;
                for (i[2 * a.heap[a.heap_max] + 1] = 0, c = a.heap_max + 1; T > c; c++)d = a.heap[c], f = i[2 * i[2 * d + 1] + 1] + 1, f > o && (f = o, p++), i[2 * d + 1] = f, d > j || (a.bl_count[f]++, g = 0, d >= n && (g = m[d - n]), h = i[2 * d], a.opt_len += h * (f + g), l && (a.static_len += h * (k[2 * d + 1] + g)));
                if (0 !== p) {
                    do {
                        for (f = o - 1; 0 === a.bl_count[f];)f--;
                        a.bl_count[f]--, a.bl_count[f + 1] += 2, a.bl_count[o]--, p -= 2
                    } while (p > 0);
                    for (f = o; 0 !== f; f--)for (d = a.bl_count[f]; 0 !== d;)e = a.heap[--c], e > j || (i[2 * e + 1] !== f && (a.opt_len += (f - i[2 * e + 1]) * i[2 * e], i[2 * e + 1] = f), d--)
                }
            }

            function l(a, b, c) {
                var d, e, f = new Array(U + 1), g = 0;
                for (d = 1; U >= d; d++)f[d] = g = g + c[d - 1] << 1;
                for (e = 0; b >= e; e++) {
                    var h = a[2 * e + 1];
                    0 !== h && (a[2 * e] = i(f[h]++, h))
                }
            }

            function m() {
                var a, b, c, d, e, f = new Array(U + 1);
                for (c = 0, d = 0; O - 1 > d; d++)for (ib[d] = c, a = 0; a < 1 << _[d]; a++)hb[c++] = d;
                for (hb[c - 1] = d, e = 0, d = 0; 16 > d; d++)for (jb[d] = e, a = 0; a < 1 << ab[d]; a++)gb[e++] = d;
                for (e >>= 7; R > d; d++)for (jb[d] = e << 7, a = 0; a < 1 << ab[d] - 7; a++)gb[256 + e++] = d;
                for (b = 0; U >= b; b++)f[b] = 0;
                for (a = 0; 143 >= a;)eb[2 * a + 1] = 8, a++, f[8]++;
                for (; 255 >= a;)eb[2 * a + 1] = 9, a++, f[9]++;
                for (; 279 >= a;)eb[2 * a + 1] = 7, a++, f[7]++;
                for (; 287 >= a;)eb[2 * a + 1] = 8, a++, f[8]++;
                for (l(eb, Q + 1, f), a = 0; R > a; a++)fb[2 * a + 1] = 5, fb[2 * a] = i(a, 5);
                kb = new nb(eb, _, P + 1, Q, U), lb = new nb(fb, ab, 0, R, U), mb = new nb(new Array(0), bb, 0, S, W)
            }

            function n(a) {
                var b;
                for (b = 0; Q > b; b++)a.dyn_ltree[2 * b] = 0;
                for (b = 0; R > b; b++)a.dyn_dtree[2 * b] = 0;
                for (b = 0; S > b; b++)a.bl_tree[2 * b] = 0;
                a.dyn_ltree[2 * X] = 1, a.opt_len = a.static_len = 0, a.last_lit = a.matches = 0
            }

            function o(a) {
                a.bi_valid > 8 ? f(a, a.bi_buf) : a.bi_valid > 0 && (a.pending_buf[a.pending++] = a.bi_buf), a.bi_buf = 0, a.bi_valid = 0
            }

            function p(a, b, c, d) {
                o(a), d && (f(a, c), f(a, ~c)), E.arraySet(a.pending_buf, a.window, b, c, a.pending), a.pending += c
            }

            function q(a, b, c, d) {
                var e = 2 * b, f = 2 * c;
                return a[e] < a[f] || a[e] === a[f] && d[b] <= d[c]
            }

            function r(a, b, c) {
                for (var d = a.heap[c], e = c << 1; e <= a.heap_len && (e < a.heap_len && q(b, a.heap[e + 1], a.heap[e], a.depth) && e++, !q(b, d, a.heap[e], a.depth));)a.heap[c] = a.heap[e], c = e, e <<= 1;
                a.heap[c] = d
            }

            function s(a, b, c) {
                var d, f, i, j, k = 0;
                if (0 !== a.last_lit)do d = a.pending_buf[a.d_buf + 2 * k] << 8 | a.pending_buf[a.d_buf + 2 * k + 1], f = a.pending_buf[a.l_buf + k], k++, 0 === d ? h(a, f, b) : (i = hb[f], h(a, i + P + 1, b), j = _[i], 0 !== j && (f -= ib[i], g(a, f, j)), d--, i = e(d), h(a, i, c), j = ab[i], 0 !== j && (d -= jb[i], g(a, d, j))); while (k < a.last_lit);
                h(a, X, b)
            }

            function t(a, b) {
                var c, d, e, f = b.dyn_tree, g = b.stat_desc.static_tree, h = b.stat_desc.has_stree, i = b.stat_desc.elems, j = -1;
                for (a.heap_len = 0, a.heap_max = T, c = 0; i > c; c++)0 !== f[2 * c] ? (a.heap[++a.heap_len] = j = c, a.depth[c] = 0) : f[2 * c + 1] = 0;
                for (; a.heap_len < 2;)e = a.heap[++a.heap_len] = 2 > j ? ++j : 0, f[2 * e] = 1, a.depth[e] = 0, a.opt_len--, h && (a.static_len -= g[2 * e + 1]);
                for (b.max_code = j, c = a.heap_len >> 1; c >= 1; c--)r(a, f, c);
                e = i;
                do c = a.heap[1], a.heap[1] = a.heap[a.heap_len--], r(a, f, 1), d = a.heap[1], a.heap[--a.heap_max] = c, a.heap[--a.heap_max] = d, f[2 * e] = f[2 * c] + f[2 * d], a.depth[e] = (a.depth[c] >= a.depth[d] ? a.depth[c] : a.depth[d]) + 1, f[2 * c + 1] = f[2 * d + 1] = e, a.heap[1] = e++, r(a, f, 1); while (a.heap_len >= 2);
                a.heap[--a.heap_max] = a.heap[1], k(a, b), l(f, j, a.bl_count)
            }

            function u(a, b, c) {
                var d, e, f = -1, g = b[1], h = 0, i = 7, j = 4;
                for (0 === g && (i = 138, j = 3), b[2 * (c + 1) + 1] = 65535, d = 0; c >= d; d++)e = g, g = b[2 * (d + 1) + 1], ++h < i && e === g || (j > h ? a.bl_tree[2 * e] += h : 0 !== e ? (e !== f && a.bl_tree[2 * e]++, a.bl_tree[2 * Y]++) : 10 >= h ? a.bl_tree[2 * Z]++ : a.bl_tree[2 * $]++, h = 0, f = e, 0 === g ? (i = 138, j = 3) : e === g ? (i = 6, j = 3) : (i = 7, j = 4))
            }

            function v(a, b, c) {
                var d, e, f = -1, i = b[1], j = 0, k = 7, l = 4;
                for (0 === i && (k = 138, l = 3), d = 0; c >= d; d++)if (e = i, i = b[2 * (d + 1) + 1], !(++j < k && e === i)) {
                    if (l > j) {
                        do h(a, e, a.bl_tree); while (0 !== --j)
                    } else 0 !== e ? (e !== f && (h(a, e, a.bl_tree), j--), h(a, Y, a.bl_tree), g(a, j - 3, 2)) : 10 >= j ? (h(a, Z, a.bl_tree), g(a, j - 3, 3)) : (h(a, $, a.bl_tree), g(a, j - 11, 7));
                    j = 0, f = e, 0 === i ? (k = 138, l = 3) : e === i ? (k = 6, l = 3) : (k = 7, l = 4)
                }
            }

            function w(a) {
                var b;
                for (u(a, a.dyn_ltree, a.l_desc.max_code), u(a, a.dyn_dtree, a.d_desc.max_code), t(a, a.bl_desc), b = S - 1; b >= 3 && 0 === a.bl_tree[2 * cb[b] + 1]; b--);
                return a.opt_len += 3 * (b + 1) + 5 + 5 + 4, b
            }

            function x(a, b, c, d) {
                var e;
                for (g(a, b - 257, 5), g(a, c - 1, 5), g(a, d - 4, 4), e = 0; d > e; e++)g(a, a.bl_tree[2 * cb[e] + 1], 3);
                v(a, a.dyn_ltree, b - 1), v(a, a.dyn_dtree, c - 1)
            }

            function y(a) {
                var b, c = 4093624447;
                for (b = 0; 31 >= b; b++, c >>>= 1)if (1 & c && 0 !== a.dyn_ltree[2 * b])return G;
                if (0 !== a.dyn_ltree[18] || 0 !== a.dyn_ltree[20] || 0 !== a.dyn_ltree[26])return H;
                for (b = 32; P > b; b++)if (0 !== a.dyn_ltree[2 * b])return H;
                return G
            }

            function z(a) {
                pb || (m(), pb = !0), a.l_desc = new ob(a.dyn_ltree, kb), a.d_desc = new ob(a.dyn_dtree, lb), a.bl_desc = new ob(a.bl_tree, mb), a.bi_buf = 0, a.bi_valid = 0, n(a)
            }

            function A(a, b, c, d) {
                g(a, (J << 1) + (d ? 1 : 0), 3), p(a, b, c, !0)
            }

            function B(a) {
                g(a, K << 1, 3), h(a, X, eb), j(a)
            }

            function C(a, b, c, d) {
                var e, f, h = 0;
                a.level > 0 ? (a.strm.data_type === I && (a.strm.data_type = y(a)), t(a, a.l_desc), t(a, a.d_desc), h = w(a), e = a.opt_len + 3 + 7 >>> 3, f = a.static_len + 3 + 7 >>> 3, e >= f && (e = f)) : e = f = c + 5, e >= c + 4 && -1 !== b ? A(a, b, c, d) : a.strategy === F || f === e ? (g(a, (K << 1) + (d ? 1 : 0), 3), s(a, eb, fb)) : (g(a, (L << 1) + (d ? 1 : 0), 3), x(a, a.l_desc.max_code + 1, a.d_desc.max_code + 1, h + 1), s(a, a.dyn_ltree, a.dyn_dtree)), n(a), d && o(a)
            }

            function D(a, b, c) {
                return a.pending_buf[a.d_buf + 2 * a.last_lit] = b >>> 8 & 255, a.pending_buf[a.d_buf + 2 * a.last_lit + 1] = 255 & b, a.pending_buf[a.l_buf + a.last_lit] = 255 & c, a.last_lit++, 0 === b ? a.dyn_ltree[2 * c]++ : (a.matches++, b--, a.dyn_ltree[2 * (hb[c] + P + 1)]++, a.dyn_dtree[2 * e(b)]++), a.last_lit === a.lit_bufsize - 1
            }

            var E = a("../utils/common"), F = 4, G = 0, H = 1, I = 2, J = 0, K = 1, L = 2, M = 3, N = 258, O = 29, P = 256, Q = P + 1 + O, R = 30, S = 19, T = 2 * Q + 1, U = 15, V = 16, W = 7, X = 256, Y = 16, Z = 17, $ = 18, _ = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0], ab = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13], bb = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7], cb = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15], db = 512, eb = new Array(2 * (Q + 2));
            d(eb);
            var fb = new Array(2 * R);
            d(fb);
            var gb = new Array(db);
            d(gb);
            var hb = new Array(N - M + 1);
            d(hb);
            var ib = new Array(O);
            d(ib);
            var jb = new Array(R);
            d(jb);
            var kb, lb, mb, nb = function (a, b, c, d, e) {
                this.static_tree = a, this.extra_bits = b, this.extra_base = c, this.elems = d, this.max_length = e, this.has_stree = a && a.length
            }, ob = function (a, b) {
                this.dyn_tree = a, this.max_code = 0, this.stat_desc = b
            }, pb = !1;
            c._tr_init = z, c._tr_stored_block = A, c._tr_flush_block = C, c._tr_tally = D, c._tr_align = B
        }, {"../utils/common": 27}],
        39: [function (a, b) {
            "use strict";
            function c() {
                this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0
            }

            b.exports = c
        }, {}]
    }, {}, [9])(9)
});
var Markdown;
Markdown = "object" == typeof exports && "function" == typeof require ? exports : {}, function () {
    function a(a) {
        return a
    }

    function b() {
        return !1
    }

    function c() {
    }

    function d() {
    }

    c.prototype = {
        chain: function (b, c) {
            var d = this[b];
            if (!d)throw new Error("unknown hook " + b);
            this[b] = d === a ? c : function () {
                var a = Array.prototype.slice.call(arguments, 0);
                return a[0] = d.apply(null, a), c.apply(null, a)
            }
        }, set: function (a, b) {
            if (!this[a])throw new Error("unknown hook " + a);
            this[a] = b
        }, addNoop: function (b) {
            this[b] = a
        }, addFalse: function (a) {
            this[a] = b
        }
    }, Markdown.HookCollection = c, d.prototype = {
        set: function (a, b) {
            this["s_" + a] = b
        }, get: function (a) {
            return this["s_" + a]
        }
    }, Markdown.Converter = function () {
        function a(a) {
            return a = a.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm, function (a, b, c, d, e, f) {
                return b = b.toLowerCase(), I.set(b, x(c)), e ? d : (f && J.set(b, f.replace(/"/g, "&quot;")), "")
            })
        }

        function b(a) {
            return a = a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm, e), a = a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm, e), a = a.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g, e), a = a.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g, e), a = a.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g, e)
        }

        function e(a, b) {
            var c = b;
            return c = c.replace(/^\n+/, ""), c = c.replace(/\n+$/g, ""), c = "\n\n~K" + (K.push(c) - 1) + "K\n\n"
        }

        function f(a, c) {
            a = H.preBlockGamut(a, M), a = n(a);
            var d = "<hr />\n";
            return a = a.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm, d), a = a.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm, d), a = a.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm, d), a = o(a), a = q(a), a = v(a), a = H.postBlockGamut(a, M), a = b(a), a = w(a, c)
        }

        function g(a) {
            return a = H.preSpanGamut(a), a = s(a), a = h(a), a = y(a), a = k(a), a = i(a), a = A(a), a = a.replace(/~P/g, "://"), a = x(a), a = u(a), a = a.replace(/  +\n/g, " <br>\n"), a = H.postSpanGamut(a)
        }

        function h(a) {
            var b = /(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;
            return a = a.replace(b, function (a) {
                var b = a.replace(/(.)<\/?code>(?=.)/g, "$1`");
                return b = F(b, "!" == a.charAt(1) ? "\\`*_/" : "\\`*_")
            })
        }

        function i(a) {
            return a = a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g, j), a = a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g, j), a = a.replace(/(\[([^\[\]]+)\])()()()()()/g, j)
        }

        function j(a, b, c, d, e, f, g, h) {
            void 0 == h && (h = "");
            var i = b, j = c.replace(/:\/\//g, "~P"), k = d.toLowerCase(), m = e, n = h;
            if ("" == m)if ("" == k && (k = j.toLowerCase().replace(/ ?\n/g, " ")), m = "#" + k, void 0 != I.get(k))m = I.get(k), void 0 != J.get(k) && (n = J.get(k)); else {
                if (!(i.search(/\(\s*\)$/m) > -1))return i;
                m = ""
            }
            m = E(m), m = F(m, "*_");
            var o = '<a href="' + m + '"';
            return "" != n && (n = l(n), n = F(n, "*_"), o += ' title="' + n + '"'), o += ">" + j + "</a>"
        }

        function k(a) {
            return a = a.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g, m), a = a.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g, m)
        }

        function l(a) {
            return a.replace(/>/g, "&gt;").replace(/</g, "&lt;").replace(/"/g, "&quot;")
        }

        function m(a, b, c, d, e, f, g, h) {
            var i = b, j = c, k = d.toLowerCase(), m = e, n = h;
            if (n || (n = ""), "" == m) {
                if ("" == k && (k = j.toLowerCase().replace(/ ?\n/g, " ")), m = "#" + k, void 0 == I.get(k))return i;
                m = I.get(k), void 0 != J.get(k) && (n = J.get(k))
            }
            j = F(l(j), "*_[]()"), m = F(m, "*_");
            var o = '<img src="' + m + '" alt="' + j + '"', p = m.match(/.*\/(.*?)$/);
            if (p) {
                p = p[1];
                var q = p.lastIndexOf(".");
                if (-1 !== q) {
                    var r = p.substring(q).toLowerCase(), s = r.match(/\.(jpg|jpeg|jpe|jif|jfif|jfi|gif|png|bmp|dib|ico|xbm|tif|tiff|wbmp|jng|svg|svgz|webp)$/);
                    if (null === s) {
                        var t = j.match(/.*-(.*)$/);
                        return t = null === t ? "未知大小" : t[1], o = '<a href="' + m + '" class="attachment-block"><i class="icon-file-alt icon-4x"></i><span class="attachment-filename">' + decodeURI(p) + '</span><span class="attachment-filesize">' + t + "</span></a>"
                    }
                }
            }
            return n = l(n), n = F(n, "*_"), o += ' title="' + n + '"', o += " />"
        }

        function n(a) {
            return a = a.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm, function (a, b) {
                return "<h1>" + g(b) + "</h1>\n\n"
            }), a = a.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm, function (a, b) {
                return "<h2>" + g(b) + "</h2>\n\n"
            }), a = a.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm, function (a, b, c) {
                var d = b.length;
                return "<h" + d + ">" + g(c) + "</h" + d + ">\n\n"
            })
        }

        function o(a, b) {
            a += "~0";
            var c = /^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{1}(?=<h[1-6]>)|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;
            return L ? a = a.replace(c, function (a, c, d) {
                var e = c, f = d.search(/[*+-]/g) > -1 ? "ul" : "ol", g = p(e, f, b);
                return g = g.replace(/\s+$/, ""), g = "<" + f + ">" + g + "</" + f + ">\n"
            }) : (c = /(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{1}(?=<h[1-6]>)|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g, a = a.replace(c, function (a, b, c, d) {
                var e = b, f = c, g = d.search(/[*+-]/g) > -1 ? "ul" : "ol", h = p(f, g);
                return h = e + "<" + g + ">\n" + h + "</" + g + ">\n"
            })), a = a.replace(/~0/, "")
        }

        function p(a, b, c) {
            L++, a = a.replace(/\n{2,}$/, "\n"), a += "~0";
            var d = N[b], e = new RegExp("(^[ \\t]*)(" + d + ")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1(" + d + ")[ \\t]+))", "gm"), h = !1;
            return a = a.replace(e, function (a, b, d, e) {
                var i = e, j = /\n\n$/.test(i), k = j || i.search(/\n{2,}/) > -1;
                k || h ? i = f(C(i), !0) : (i = o(C(i), !0), i = i.replace(/\n$/, ""), c || (i = g(i))), h = j;
                var l = !1;
                return i = i.replace(/\[( |x|X)\] /, function (a, b) {
                    return l = !0, " " === b ? '<i class="icon-check-empty"></i>' : '<i class="icon-check-sign"></i>'
                }), l ? '<li class="todo-list-item">' + i + "</li>\n" : "<li>" + i + "</li>\n"
            }), a = a.replace(/~0/g, ""), L--, a
        }

        function q(a) {
            return a += "~0", a = a.replace(/(?:\n\n|^\n?)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g, function (a, b, c) {
                var d = b, e = c;
                return d = t(C(d)), d = D(d), d = d.replace(/^\n+/g, ""), d = d.replace(/\n+$/g, ""), d = "<pre><code>" + d + "\n</code></pre>", "\n\n" + d + "\n\n" + e
            }), a = a.replace(/~0/, "")
        }

        function r(a) {
            return a = a.replace(/(^\n+|\n+$)/g, ""), "\n\n~K" + (K.push(a) - 1) + "K\n\n"
        }

        function s(a) {
            return a = a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm, function (a, b, c, d) {
                var e = d;
                return e = e.replace(/^([ \t]*)/g, ""), e = e.replace(/[ \t]*$/g, ""), e = t(e), e = e.replace(/:\/\//g, "~P"), b + "<code>" + e + "</code>"
            })
        }

        function t(a) {
            return a = a.replace(/&/g, "&amp;"), a = a.replace(/</g, "&lt;"), a = a.replace(/>/g, "&gt;"), a = F(a, "*_{}[]\\", !1)
        }

        function u(a) {
            return a = a.replace(/(^|[\W_])(?:(?!\1)|(?=^))(\*|_)\2(?=\S)([^\r]*?\S)\2\2(?!\2)(?=[\W_]|$)/g, "$1<strong>$3</strong>"), a = a.replace(/(^|[\W_])(?:(?!\1)|(?=^))(\*|_)(?=\S)((?:(?!\2)[^\r])*?\S)\2(?!\2)(?=[\W_]|$)/g, "$1<em>$3</em>")
        }

        function v(a) {
            return a = a.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm, function (a, b) {
                var c = b;
                return c = c.replace(/^[ \t]*>[ \t]?/gm, "~0"), c = c.replace(/~0/g, ""), c = c.replace(/^[ \t]+$/gm, ""), c = f(c), c = c.replace(/(^|\n)/g, "$1  "), c = c.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm, function (a, b) {
                    var c = b;
                    return c = c.replace(/^  /gm, "~0"), c = c.replace(/~0/g, "")
                }), r("<blockquote>\n" + c + "\n</blockquote>")
            })
        }

        function w(a, b) {
            a = a.replace(/^\n+/g, ""), a = a.replace(/\n+$/g, "");
            for (var c = a.split(/\n{2,}/g), d = [], e = /~K(\d+)K/, f = c.length, h = 0; f > h; h++) {
                var i = c[h];
                e.test(i) ? d.push(i) : /\S/.test(i) && (i = g(i), i = i.replace(/^([ \t]*)/g, "<p>"), i += "</p>", d.push(i))
            }
            if (!b) {
                f = d.length;
                for (var h = 0; f > h; h++)for (var j = !0; j;)j = !1, d[h] = d[h].replace(/~K(\d+)K/g, function (a, b) {
                    return j = !0, K[b]
                })
            }
            return d.join("\n\n")
        }

        function x(a) {
            return a = a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g, "&amp;"), a = a.replace(/<(?![a-z\/?!]|~D)/gi, "&lt;")
        }

        function y(a) {
            return a = a.replace(/\\(\\)/g, G), a = a.replace(/\\([`*_{}\[\]()>#+-.!])/g, G)
        }

        function z(a, b, c, d) {
            if (b)return a;
            if (")" !== d.charAt(d.length - 1))return "<" + c + d + ">";
            for (var e = d.match(/[()]/g), f = 0, g = 0; g < e.length; g++)"(" === e[g] ? 0 >= f ? f = 1 : f++ : f--;
            var h = "";
            if (0 > f) {
                var i = new RegExp("\\){1," + -f + "}$");
                d = d.replace(i, function (a) {
                    return h = a, ""
                })
            }
            if (h) {
                var j = d.charAt(d.length - 1);
                R.test(j) || (h = j + h, d = d.substr(0, d.length - 1))
            }
            return "<" + c + d + ">" + h
        }

        function A(a) {
            a = a.replace(Q, z);
            var b = function (a, b) {
                return '<a href="' + b + '">' + H.plainLinkText(b) + "</a>"
            };
            return a = a.replace(/<((https?|ftp):[^'">\s]+)>/gi, b)
        }

        function B(a) {
            return a = a.replace(/~E(\d+)E/g, function (a, b) {
                var c = parseInt(b);
                return String.fromCharCode(c)
            })
        }

        function C(a) {
            return a = a.replace(/^(\t|[ ]{1,4})/gm, "~0"), a = a.replace(/~0/g, "")
        }

        function D(a) {
            if (!/\t/.test(a))return a;
            var b, c = ["    ", "   ", "  ", " "], d = 0;
            return a.replace(/[\n\t]/g, function (a, e) {
                return "\n" === a ? (d = e + 1, a) : (b = (e - d) % 4, d = e + 1, c[b])
            })
        }

        function E(a) {
            if (!a)return "";
            var b = a.length;
            return a.replace(S, function (c, d) {
                return "~D" == c ? "%24" : ":" != c || d != b - 1 && !/[0-9\/]/.test(a.charAt(d + 1)) ? "%" + c.charCodeAt(0).toString(16) : ":"
            })
        }

        function F(a, b, c) {
            var d = "([" + b.replace(/([\[\]\\])/g, "\\$1") + "])";
            c && (d = "\\\\" + d);
            var e = new RegExp(d, "g");
            return a = a.replace(e, G)
        }

        function G(a, b) {
            var c = b.charCodeAt(0);
            return "~E" + c + "E"
        }

        var H = this.hooks = new c;
        H.addNoop("plainLinkText"), H.addNoop("preConversion"), H.addNoop("postNormalization"), H.addNoop("preBlockGamut"), H.addNoop("postBlockGamut"), H.addNoop("preSpanGamut"), H.addNoop("postSpanGamut"), H.addNoop("postConversion");
        var I, J, K, L;
        this.makeHtml = function (c) {
            if (I)throw new Error("Recursive call to converter.makeHtml");
            return I = new d, J = new d, K = [], L = 0, c = H.preConversion(c), c = c.replace(/~/g, "~T"), c = c.replace(/\$/g, "~D"), c = c.replace(/\r\n/g, "\n"), c = c.replace(/\r/g, "\n"), c = "\n\n" + c + "\n\n", c = D(c), c = c.replace(/^[ \t]+$/gm, ""), c = H.postNormalization(c), c = b(c), c = a(c), c = f(c), c = B(c), c = c.replace(/~D/g, "$$"), c = c.replace(/~T/g, "~"), c = H.postConversion(c), K = J = I = null, c
        };
        var M = function (a) {
            return f(a)
        }, N = {
            ol: "\\d+[.]",
            ul: "[*+-]"
        }, O = "[-A-Z0-9+&@#/%?=~_|[\\]()!:,.;]", P = "[-A-Z0-9+&@#/%=~_|[\\])]", Q = new RegExp('(="|<)?\\b(https?|ftp)(://' + O + "*" + P + ")(?=$|\\W)", "gi"), R = new RegExp(P, "i"), S = /(?:["'*()[\]:]|~D)/g
    }
}(), function () {
    function a(a) {
        return a.replace(/<[^>]*>?/gi, b)
    }

    function b(a) {
        return a.match(f) || a.match(g) || a.match(h) ? a : ""
    }

    function c(a) {
        if ("" == a)return "";
        var b = /<\/?\w+[^>]*(\s|$|>)/g, c = a.toLowerCase().match(b), d = (c || []).length;
        if (0 == d)return a;
        for (var e, f, g, h = "<p><img><br><li><hr>", i = [], j = [], k = !1, l = 0; d > l; l++)if (e = c[l].replace(/<\/?(\w+).*/, "$1"), !(i[l] || h.search("<" + e + ">") > -1)) {
            if (f = c[l], g = -1, !/^<\//.test(f))for (var m = l + 1; d > m; m++)if (!i[m] && c[m] == "</" + e + ">") {
                g = m;
                break
            }
            -1 == g ? k = j[l] = !0 : i[g] = !0
        }
        if (!k)return a;
        var l = 0;
        return a = a.replace(b, function (a) {
            var b = j[l] ? "" : a;
            return l++, b
        })
    }

    var d, e;
    "object" == typeof exports && "function" == typeof require ? (d = exports, e = require("./Markdown.Converter").Converter) : (d = window.Markdown, e = d.Converter), d.getSanitizingConverter = function () {
        var b = new e;
        return b.hooks.chain("postConversion", a), b.hooks.chain("postConversion", c), b
    };
    var f = /^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|h4|h5|h6|i|kbd|li|ol|p|pre|s|sup|sub|strong|strike|ul|button|canvas|caption|col|div|fieldset|font|footer|header|input|label|legend|option|select|small|span|table|tbody|td|textarea|tfoot|th|thead|tr|embed|center)(>|(\s+(id|src|value|color|class|style|type|rowspan|colspan|width|height|checked|allowFullScreen|quality|align|allowScriptAccess|wmode|flashvars|pluginspage|allowNetworking)\s*=\s*["'][^"'<>]+["'])+\s*>)|<(br|hr)\s?\/?>)$/i, g = /^(<a\shref="((https?|ftp):\/\/|\/|#)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)\S]+"(\stitle="[^"<>]+")?(\sclass="[^"<>]+")?\s?>|<\/a>)$/i, h = /^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i
}(), function () {
    function a() {
    }

    function b(a, b) {
        this.buttonBar = k.getElementById("wmd-button-bar" + a), this.preview = k.getElementById("wmd-preview-real" + a), this.input = b
    }

    function c(b) {
        var c = this, d = b.input;
        this.init = function () {
            var a = "undefined" != typeof require ? require("ace/range").Range : ace.require("ace/range").Range;
            !function (b) {
                c.before = d.session.getTextRange(new a(0, 0, b.start.row, b.start.column)), c.selection = d.session.getTextRange(), c.after = d.session.getTextRange(new a(b.end.row, b.end.column, Number.MAX_VALUE, Number.MAX_VALUE))
            }(d.selection.getRange()), this.text = [this.before, this.selection, this.after].join(""), this.length = this.text.length, this.setInputAreaSelectionStartEnd(), this.scrollTop = d.renderer.getScrollTop()
        }, this.setInputAreaSelection = function () {
            var a = "undefined" != typeof require ? require("ace/range").Range : ace.require("ace/range").Range;
            d.selection.setSelectionRange(function (b, c) {
                return new a(b.row, b.column, c.row, c.column)
            }(d.session.doc.indexToPosition(c.start), d.session.doc.indexToPosition(c.end))), d.renderer.scrollToY(c.scrollTop), d.focus()
        }, this.setInputAreaSelectionStartEnd = function () {
            c.start = c.before.length, c.end = c.after.length
        }, this.restore = function () {
            for (var a = 0, b = c.before.length; b > a && c.before.charCodeAt(a) === c.text.charCodeAt(a);)a++;
            for (var e = 0, f = c.after.length, g = c.after.length - 1, h = c.text.length - 1; f > e && c.after.charCodeAt(g - e) === c.text.charCodeAt(h - e);)e++;
            var i = "undefined" != typeof require ? require("ace/range").Range : ace.require("ace/range").Range, j = function (a, b) {
                return new i(a.row, a.column, b.row, b.column)
            }(d.session.doc.indexToPosition(a), d.session.doc.indexToPosition(c.length - e));
            d.session.replace(j, c.text.substring(a, h - e + 1)), this.setInputAreaSelection()
        }, this.getChunks = function () {
            var b = new a;
            return b.before = c.before, b.startTag = "", b.selection = c.selection, b.endTag = "", b.after = c.after, b.scrollTop = c.scrollTop, b
        }, this.setChunks = function (a) {
            a.before = a.before + a.startTag, a.after = a.endTag + a.after, this.start = a.before.length, this.end = a.before.length + a.selection.length, this.text = a.before + a.selection + a.after, this.scrollTop = a.scrollTop
        }, this.init()
    }

    function d(a, b, c, d) {
        var e, f, g, h = 3e3, j = "delayed", l = function () {
            var a = 0;
            return window.innerHeight ? a = window.pageYOffset : k.documentElement && k.documentElement.scrollTop ? a = k.documentElement.scrollTop : k.body && (a = k.body.scrollTop), a
        }, m = function () {
            if (b.preview) {
                var c = b.input.getValue();
                if (c && c == g)return !1;
                g = c;
                var d = (new Date).getTime();
                c = a.makeHtml(c);
                var e = (new Date).getTime();
                f = e - d, w(c)
            }
        };
        void 0 !== d && (m = d(m));
        var n = function () {
            if (e && (clearTimeout(e), e = void 0), "manual" !== j) {
                var a = 0;
                "delayed" === j && (a = f), a > h && (a = h), e = setTimeout(m, a)
            }
        }, p = function (a) {
            return a.scrollHeight <= a.clientHeight ? 1 : a.scrollTop / (a.scrollHeight - a.clientHeight)
        }, q = function () {
            b.preview && (b.preview.scrollTop = (b.preview.scrollHeight - b.preview.clientHeight) * p(b.preview))
        };
        this.refresh = function (a) {
            a ? (g = "", m()) : n()
        }, this.processingTime = function () {
            return f
        };
        var r, s = !0, t = function (a) {
            var c = b.preview, d = c.parentNode, e = c.nextSibling;
            d.removeChild(c), c.innerHTML = a, e ? d.insertBefore(c, e) : d.appendChild(c)
        }, u = function (a) {
            b.preview.innerHTML = a
        }, v = function (a) {
            if (r)return r(a);
            try {
                u(a), r = u
            } catch (b) {
                r = t, r(a)
            }
        }, w = function (a) {
            var d = i.getTop(b.input) - l();
            if (b.preview && (v(a), c()), q(), s)return void(s = !1);
            var e = i.getTop(b.input) - l();
            o.isIE ? setTimeout(function () {
                window.scrollBy(0, e - d)
            }, 0) : window.scrollBy(0, e - d)
        }, x = function () {
            b.input.session.on("change", n), b.preview && (b.preview.scrollTop = 0)
        };
        x()
    }

    function e(a, b, d, e, f, g, h) {
        function i(a) {
            if (0 !== a.length) {
                var b = a.pop();
                r.commands.addCommand({
                    name: h(b), bindKey: q[b], exec: function () {
                        j(s[b])
                    }
                }), i(a)
            }
        }

        function j(a) {
            r.focus();
            var f = "wmd-link-button" == a.id || "wmd-image-button" == a.id;
            if (a.textOp) {
                d && !f && d.setCommandMode();
                var g = new c(b);
                if (!g)return;
                var h = g.getChunks(), i = function () {
                    r.focus(), h && g.setChunks(h), g.restore(), e.refresh()
                }, j = a.textOp(h, i);
                j || i()
            }
            a.execute && a.execute(d)
        }

        function l(a, c) {
            var d = "0px", e = "-20px", f = "-40px", g = a.getElementsByTagName("span")[0];
            c ? (g.style.backgroundPosition = a.XShift + " " + d, a.onmouseover = function () {
                g.style.backgroundPosition = this.XShift + " " + f
            }, a.onmouseout = function () {
                g.style.backgroundPosition = this.XShift + " " + d
            }, o.isIE && (a.onmousedown = function () {
                k.activeElement && k.activeElement !== b.input || (b.ieCachedRange = document.selection.createRange(), b.ieCachedScrollTop = b.input.renderer.getScrollTop())
            }), a.isHelp || (a.onclick = function () {
                return this.onmouseout && this.onmouseout(), j(this), !1
            }), a.className = a.className.replace(/ disabled/g, "")) : (g.style.backgroundPosition = a.XShift + " " + e, a.onmouseover = a.onmouseout = a.onclick = function () {
            }, a.className += " disabled")
        }

        function m(a) {
            return "string" == typeof a && (a = f[a]), function () {
                a.apply(f, arguments)
            }
        }

        function n() {
            var c = b.buttonBar, d = document.createElement("ul");
            d.id = "wmd-button-row" + a, d.className = "wmd-button-row", d = c.appendChild(d);
            var e = 0, f = function (b, c, f, g) {
                var h = document.createElement("li");
                h.className = "wmd-button", h.style.left = e + "px", e += 25;
                var i = document.createElement("span");
                return h.id = b + a, h.appendChild(i), h.title = c, h.XShift = f, g && (h.textOp = g), l(h, !0), d.appendChild(h), h
            }, i = function (b) {
                var c = document.createElement("li");
                c.className = "wmd-spacer wmd-spacer" + b, c.id = "wmd-spacer" + b + a, d.appendChild(c), e += 25
            };
            if (s.bold = f("wmd-bold-button", p("bold"), "0px", m("doBold")), s.italic = f("wmd-italic-button", p("italic"), "-20px", m("doItalic")), i(1), s.link = f("wmd-link-button", p("link"), "-40px", m(function (a, b) {
                    return this.doLinkOrImage(a, b, !1)
                })), s.quote = f("wmd-quote-button", p("quote"), "-60px", m("doBlockquote")), s.code = f("wmd-code-button", p("code"), "-80px", m("doCode")), s.image = f("wmd-image-button", p("image"), "-100px", m(function (a, b) {
                    return this.doLinkOrImage(a, b, !0)
                })), i(2), s.olist = f("wmd-olist-button", p("olist"), "-120px", m(function (a, b) {
                    this.doList(a, b, !0)
                })), s.ulist = f("wmd-ulist-button", p("ulist"), "-140px", m(function (a, b) {
                    this.doList(a, b, !1)
                })), s.heading = f("wmd-heading-button", p("heading"), "-160px", m("doHeading")), s.hr = f("wmd-hr-button", p("hr"), "-180px", m("doHorizontalRule")), i(3), s.undo = f("wmd-undo-button", p("undo"), "-200px", null), s.undo.execute = function () {
                    r.session.getUndoManager().undo()
                }, s.redo = f("wmd-redo-button", p("redo"), "-220px", null), s.redo.execute = function () {
                    r.session.getUndoManager().redo()
                }, g) {
                var j = document.createElement("li"), k = document.createElement("span");
                j.appendChild(k), j.className = "wmd-button wmd-help-button", j.id = "wmd-help-button" + a, j.XShift = "-240px", j.isHelp = !0, j.style.right = "0px", j.title = h("help"), j.onclick = g.handler, l(j, !0), d.appendChild(j), s.help = j
            }
            t.setUndoRedoButtonStates(), r.session.on("change", function () {
                t.setUndoRedoButtonStates()
            })
        }

        var p = function (a) {
            return h(a)
        }, r = b.input, s = {};
        this.setUndoRedoButtonStates = function () {
            setTimeout(function () {
                l(s.undo, r.session.getUndoManager().hasUndo()), l(s.redo, r.session.getUndoManager().hasRedo())
            }, 50)
        };
        var t = this;
        n();
        var u = "keydown";
        o.isOpera && (u = "keypress"), i(["bold", "italic", "link", "quote", "code", "image", "olist", "ulist", "heading", "hr"]), this.buttons = s, this.setButtonState = l
    }

    function f(a, b) {
        this.hooks = a, this.getString = b
    }

    function g(a) {
        return a.replace(/^\s*(.*?)(?:\s+"(.+)")?\s*$/, function (a, b, c) {
            return b = b.replace(/\?.*$/, function (a) {
                return a.replace(/\+/g, " ")
            }), b = decodeURIComponent(b), b = encodeURI(b).replace(/'/g, "%27").replace(/\(/g, "%28").replace(/\)/g, "%29"), b = b.replace(/\?.*$/, function (a) {
                return a.replace(/\+/g, "%2b")
            }), c && (c = c.trim ? c.trim() : c.replace(/^\s*/, "").replace(/\s*$/, ""), c = c.replace(/"/g, "quot;").replace(/\(/g, "&#40;").replace(/\)/g, "&#41;").replace(/</g, "&lt;").replace(/>/g, "&gt;")), c ? b + ' "' + c + '"' : b
        })
    }

    var h = {}, i = {}, j = {}, k = window.document, l = window.RegExp, m = window.navigator, n = {lineLength: 72}, o = {
        isIE: /msie/.test(m.userAgent.toLowerCase()),
        isIE_5or6: /msie 6/.test(m.userAgent.toLowerCase()) || /msie 5/.test(m.userAgent.toLowerCase()),
        isOpera: /opera/.test(m.userAgent.toLowerCase()),
        isFirefox: /firefox/.test(m.userAgent.toLowerCase())
    }, p = {
        bold: "Strong <strong>",
        boldexample: "strong text",
        italic: "Emphasis <em>",
        italicexample: "emphasized text",
        link: "Hyperlink <a>",
        linkdescription: "enter link description here",
        linkdialog: '<p><b>Insert Hyperlink</b></p><p>http://example.com/ "optional title"</p>',
        quote: "Blockquote <blockquote>",
        quoteexample: "Blockquote",
        code: "Code Sample <pre><code>",
        codeexample: "enter code here",
        image: "Image <img>",
        imagedescription: "enter image description here",
        imagedialog: "<p><b>Insert Image</b></p><p>http://example.com/images/diagram.jpg \"optional title\"<br><br>Need <a href='http://www.google.com/search?q=free+image+hosting' target='_blank'>free image hosting?</a></p>",
        olist: "Numbered List <ol>",
        ulist: "Bulleted List <ul>",
        litem: "List item",
        heading: "Heading <h1>/<h2>",
        headingexample: "Heading",
        hr: "Horizontal Rule <hr>",
        undo: "Undo -",
        redo: "Redo -",
        help: "Markdown Editing Help"
    }, q = {
        bold: {win: "Ctrl-B", mac: "Command-B|Ctrl-B"},
        italic: {win: "Ctrl-I", mac: "Command-I|Ctrl-I"},
        link: {win: "Ctrl-L", mac: "Command-L|Ctrl-L"},
        quote: {win: "Ctrl-Q", mac: "Ctrl-Q"},
        code: {win: "Ctrl-K", mac: "Command-K|Ctrl-K"},
        image: {win: "Ctrl-G", mac: "Command-G|Ctrl-G"},
        olist: {win: "Ctrl-O", mac: "Command-O|Ctrl-O"},
        ulist: {win: "Ctrl-U", mac: "Command-U|Ctrl-U"},
        heading: {win: "Ctrl-H", mac: "Command-H|Ctrl-H"},
        hr: {win: "Ctrl-R", mac: "Command-R|Ctrl-R"},
        undo: {win: "Ctrl-Z", mac: "Command-Z"},
        redo: {win: "Ctrl-Y|Ctrl-Shift-Z", mac: "Command-Y|Command-Shift-Z"}
    }, r = "http://", s = "http://";
    Markdown.Editor = function (a, c, g) {
        if (g = g || {}, "function" == typeof g.handler && (g = {helpButton: g}), g.strings = g.strings || {}, g.helpButton && (g.strings.help = g.strings.help || g.helpButton.title), g.keyStrokes)for (var h in g.keyStrokes)q[h] = g.keyStrokes[h];
        var i = function (a) {
            return g.strings[a] || p[a]
        };
        c = c || "";
        var j = this.hooks = new Markdown.HookCollection;
        j.addNoop("onPreviewRefresh"), j.addNoop("postBlockquoteCreation"), j.addFalse("insertImageDialog"), j.addFalse("insertLinkDialog"), this.getConverter = function () {
            return a
        };
        var k, l, m = this;
        this.run = function (h, n) {
            if (!k) {
                k = new b(c, h);
                var o, p = new f(j, i), r = new d(a, k, function () {
                    j.onPreviewRefresh()
                }, n), s = "undefined" != typeof require ? require("ace/lib/useragent") : ace.require("ace/lib/useragent"), t = function (a) {
                    var b = q[a][s.isMac ? "mac" : "win"], c = b.indexOf("|");
                    return b.substring(0, c > 0 ? c : b.length)
                };
                o = new e(c, k, l, r, p, g.helpButton, i, t), o.setUndoRedoButtonStates();
                var u = m.refreshPreview = function () {
                    r.refresh(!0)
                };
                u(), m.uiManager = o
            }
        }
    }, a.prototype.findTags = function (a, b) {
        var c, d = this;
        a && (c = h.extendRegExp(a, "", "$"), this.before = this.before.replace(c, function (a) {
            return d.startTag = d.startTag + a, ""
        }), c = h.extendRegExp(a, "^", ""), this.selection = this.selection.replace(c, function (a) {
            return d.startTag = d.startTag + a, ""
        })), b && (c = h.extendRegExp(b, "", "$"), this.selection = this.selection.replace(c, function (a) {
            return d.endTag = a + d.endTag, ""
        }), c = h.extendRegExp(b, "^", ""), this.after = this.after.replace(c, function (a) {
            return d.endTag = a + d.endTag, ""
        }))
    }, a.prototype.trimWhitespace = function (a) {
        var b, c, d = this;
        a ? b = c = "" : (b = function (a) {
            return d.before += a, ""
        }, c = function (a) {
            return d.after = a + d.after, ""
        }), this.selection = this.selection.replace(/^(\s*)/, b).replace(/(\s*)$/, c)
    }, a.prototype.skipLines = function (a, b, c) {
        void 0 === a && (a = 1), void 0 === b && (b = 1), a++, b++;
        var d, e;
        if (navigator.userAgent.match(/Chrome/) && "X".match(/()./), this.selection = this.selection.replace(/(^\n*)/, ""), this.startTag = this.startTag + l.$1, this.selection = this.selection.replace(/(\n*$)/, ""), this.endTag = this.endTag + l.$1, this.startTag = this.startTag.replace(/(^\n*)/, ""), this.before = this.before + l.$1, this.endTag = this.endTag.replace(/(\n*$)/, ""), this.after = this.after + l.$1, this.before) {
            for (d = e = ""; a--;)d += "\\n?", e += "\n";
            c && (d = "\\n*"), this.before = this.before.replace(new l(d + "$", ""), e)
        }
        if (this.after) {
            for (d = e = ""; b--;)d += "\\n?", e += "\n";
            c && (d = "\\n*"), this.after = this.after.replace(new l(d, ""), e)
        }
    }, h.isVisible = function (a) {
        return window.getComputedStyle ? "none" !== window.getComputedStyle(a, null).getPropertyValue("display") : a.currentStyle ? "none" !== a.currentStyle.display : void 0
    }, h.addEvent = function (a, b, c) {
        a.attachEvent ? a.attachEvent("on" + b, c) : a.addEventListener(b, c, !1)
    }, h.removeEvent = function (a, b, c) {
        a.detachEvent ? a.detachEvent("on" + b, c) : a.removeEventListener(b, c, !1)
    }, h.fixEolChars = function (a) {
        return a = a.replace(/\r\n/g, "\n"), a = a.replace(/\r/g, "\n")
    }, h.extendRegExp = function (a, b, c) {
        (null === b || void 0 === b) && (b = ""), (null === c || void 0 === c) && (c = "");
        var d, e = a.toString();
        return e = e.replace(/\/([gim]*)$/, function (a, b) {
            return d = b, ""
        }), e = e.replace(/(^\/|\/$)/g, ""), e = b + e + c, new l(e, d)
    }, i.getTop = function (a, b) {
        var c = a.offsetTop;
        if (!b)for (; a = a.offsetParent;)c += a.offsetTop;
        return c
    }, i.getHeight = function (a) {
        return a.offsetHeight || a.scrollHeight
    }, i.getWidth = function (a) {
        return a.offsetWidth || a.scrollWidth
    }, i.getPageSize = function () {
        var a, b, c, d;
        self.innerHeight && self.scrollMaxY ? (a = k.body.scrollWidth, b = self.innerHeight + self.scrollMaxY) : k.body.scrollHeight > k.body.offsetHeight ? (a = k.body.scrollWidth, b = k.body.scrollHeight) : (a = k.body.offsetWidth, b = k.body.offsetHeight), self.innerHeight ? (c = self.innerWidth, d = self.innerHeight) : k.documentElement && k.documentElement.clientHeight ? (c = k.documentElement.clientWidth, d = k.documentElement.clientHeight) : k.body && (c = k.body.clientWidth, d = k.body.clientHeight);
        var e = Math.max(a, c), f = Math.max(b, d);
        return [e, f, c, d]
    }, j.createBackground = function () {
        var a = k.createElement("div"), b = a.style;
        a.className = "wmd-prompt-background", b.position = "absolute", b.top = "0", b.zIndex = "1000", o.isIE ? b.filter = "alpha(opacity=50)" : b.opacity = "0.5";
        var c = i.getPageSize();
        return b.height = c[1] + "px", o.isIE ? (b.left = k.documentElement.scrollLeft, b.width = k.documentElement.clientWidth) : (b.left = "0", b.width = "100%"), k.body.appendChild(a), a
    }, j.prompt = function (a, b, c) {
        var d, e;
        void 0 === b && (b = "");
        var f = function (a) {
            var b = a.charCode || a.keyCode;
            27 === b && g(!0)
        }, g = function (a) {
            h.removeEvent(k.body, "keydown", f);
            var b = e.value;
            return a ? b = null : (b = b.replace(/^http:\/\/(https?|ftp):\/\//, "$1://"), /^(?:https?|ftp):\/\//.test(b) || (b = "http://" + b)), d.parentNode.removeChild(d), c(b), !1
        }, j = function () {
            d = k.createElement("div"), d.className = "wmd-prompt-dialog", d.style.padding = "10px;", d.style.position = "fixed", d.style.width = "400px", d.style.zIndex = "1001";
            var c = k.createElement("div");
            c.innerHTML = a, c.style.padding = "5px", d.appendChild(c);
            var j = k.createElement("form"), l = j.style;
            j.onsubmit = function () {
                return g(!1)
            }, l.padding = "0", l.margin = "0", l.cssFloat = "left", l.width = "100%", l.textAlign = "center", l.position = "relative", d.appendChild(j), e = k.createElement("input"), e.type = "text", e.value = b, l = e.style, l.display = "block", l.width = "80%", l.marginLeft = l.marginRight = "auto", j.appendChild(e);
            var m = k.createElement("input");
            m.type = "button", m.onclick = function () {
                return g(!1)
            }, m.value = "OK", l = m.style, l.margin = "10px", l.display = "inline", l.width = "7em";
            var n = k.createElement("input");
            n.type = "button", n.onclick = function () {
                return g(!0)
            }, n.value = "Cancel", l = n.style, l.margin = "10px", l.display = "inline", l.width = "7em", j.appendChild(m), j.appendChild(n), h.addEvent(k.body, "keydown", f), d.style.top = "50%", d.style.left = "50%", d.style.display = "block", o.isIE_5or6 && (d.style.position = "absolute", d.style.top = k.documentElement.scrollTop + 200 + "px", d.style.left = "50%"), k.body.appendChild(d), d.style.marginTop = -(i.getHeight(d) / 2) + "px", d.style.marginLeft = -(i.getWidth(d) / 2) + "px"
        };
        setTimeout(function () {
            j();
            var a = b.length;
            if (void 0 !== e.selectionStart)e.selectionStart = 0, e.selectionEnd = a; else if (e.createTextRange) {
                var c = e.createTextRange();
                c.collapse(!1), c.moveStart("character", -a), c.moveEnd("character", a), c.select()
            }
            e.focus()
        }, 0)
    };
    var t = f.prototype;
    t.prefixes = "(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)", t.unwrap = function (a) {
        var b = new l("([^\\n])\\n(?!(\\n|" + this.prefixes + "))", "g");
        a.selection = a.selection.replace(b, "$1 $2")
    }, t.wrap = function (a, b) {
        this.unwrap(a);
        var c = new l("(.{1," + b + "})( +|$\\n?)", "gm"), d = this;
        a.selection = a.selection.replace(c, function (a, b) {
            return new l("^" + d.prefixes, "").test(a) ? a : b + "\n"
        }), a.selection = a.selection.replace(/\s+$/, "")
    }, t.doBold = function (a, b) {
        return this.doBorI(a, b, 2, this.getString("boldexample"))
    }, t.doItalic = function (a, b) {
        return this.doBorI(a, b, 1, this.getString("italicexample"))
    }, t.doBorI = function (a, b, c, d) {
        a.trimWhitespace(), a.selection = a.selection.replace(/\n{2,}/g, "\n");
        var e = /(\**$)/.exec(a.before)[0], f = /(^\**)/.exec(a.after)[0], g = Math.min(e.length, f.length);
        if (g >= c && (2 != g || 1 != c))a.before = a.before.replace(l("[*]{" + c + "}$", ""), ""), a.after = a.after.replace(l("^[*]{" + c + "}", ""), ""); else if (!a.selection && f) {
            a.after = a.after.replace(/^([*_]*)/, ""), a.before = a.before.replace(/(\s?)$/, "");
            var h = l.$1;
            a.before = a.before + f + h
        } else {
            a.selection || f || (a.selection = d);
            var i = 1 >= c ? "*" : "**";
            a.before = a.before + i, a.after = i + a.after
        }
    }, t.stripLinkDefs = function (a, b) {
        return a = a.replace(/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm, function (a, c, d, e, f) {
            return b[c] = a.replace(/\s*$/, ""), e ? (b[c] = a.replace(/["(](.+?)[")]$/, ""), e + f) : ""
        })
    }, t.addLinkDef = function (a, b) {
        var c = 0, d = {};
        a.before = this.stripLinkDefs(a.before, d), a.selection = this.stripLinkDefs(a.selection, d), a.after = this.stripLinkDefs(a.after, d);
        var e = "", f = /(\[)((?:\[[^\]]*\]|[^\[\]])*)(\][ ]?(?:\n[ ]*)?\[)(\d+)(\])/g, g = function (a) {
            c++, a = a.replace(/^[ ]{0,3}\[(\d+)\]:/, "  [" + c + "]:"), e += "\n" + a
        }, h = function (a, b, e, i, j, k) {
            return e = e.replace(f, h), d[j] ? (g(d[j]), b + e + i + c + k) : a
        };
        a.before = a.before.replace(f, h), b ? g(b) : a.selection = a.selection.replace(f, h);
        var i = c;
        return a.after = a.after.replace(f, h), a.after && (a.after = a.after.replace(/\n*$/, "")), a.after || (a.selection = a.selection.replace(/\n*$/, "")), a.after += "\n\n" + e, i
    }, t.doLinkOrImage = function (a, b, c) {
        a.trimWhitespace(), a.findTags(/\s*!?\[/, /\][ ]?(?:\n[ ]*)?(\[.*?\])?/);
        var d;
        if (!(a.endTag.length > 1 && a.startTag.length > 0)) {
            if (a.selection = a.startTag + a.selection + a.endTag, a.startTag = a.endTag = "", /\n\n/.test(a.selection))return void this.addLinkDef(a, null);
            var e = this, f = function (f, h) {
                if (d.parentNode.removeChild(d), null !== f) {
                    a.selection = (" " + a.selection).replace(/([^\\](?:\\\\)*)(?=[[\]])/g, "$1\\").substr(1);
                    var i = " [999]: " + g(f), j = e.addLinkDef(a, i);
                    a.startTag = c ? "![" : "[", a.endTag = "][" + j + "]", a.selection || (a.selection = c ? h ? h.name + "-" + h.size + "kB" : e.getString("imagedescription") : e.getString("linkdescription"))
                }
                b()
            };
            return d = j.createBackground(), c ? this.hooks.insertImageDialog(f) || j.prompt(this.getString("imagedialog"), r, f) : this.hooks.insertLinkDialog(f) || j.prompt(this.getString("linkdialog"), s, f), !0
        }
        a.startTag = a.startTag.replace(/!?\[/, ""), a.endTag = "", this.addLinkDef(a, null)
    }, t.doAutoindent = function (a) {
        var b = this, c = !1;
        a.before = a.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/, "\n\n"), a.before = a.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/, "\n\n"), a.before = a.before.replace(/(\n|^)[ \t]+\n$/, "\n\n"), a.selection || /^[ \t]*(?:\n|$)/.test(a.after) || (a.after = a.after.replace(/^[^\n]*/, function (b) {
            return a.selection = b, ""
        }), c = !0), /(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]+.*\n$/.test(a.before) && b.doList && b.doList(a), /(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(a.before) && b.doBlockquote && b.doBlockquote(a), /(\n|^)(\t|[ ]{4,}).*\n$/.test(a.before) && b.doCode && b.doCode(a), c && (a.after = a.selection + a.after, a.selection = "")
    }, t.doBlockquote = function (a) {
        a.selection = a.selection.replace(/^(\n*)([^\r]+?)(\n*)$/, function (b, c, d, e) {
            return a.before += c, a.after = e + a.after, d
        }), a.before = a.before.replace(/(>[ \t]*)$/, function (b, c) {
            return a.selection = c + a.selection, ""
        }), a.selection = a.selection.replace(/^(\s|>)+$/, ""), a.selection = a.selection || this.getString("quoteexample");
        var b, c = "", d = "";
        if (a.before) {
            for (var e = a.before.replace(/\n$/, "").split("\n"), f = !1, g = 0; g < e.length; g++) {
                var h = !1;
                b = e[g], f = f && b.length > 0, /^>/.test(b) ? (h = !0, !f && b.length > 1 && (f = !0)) : h = /^[ \t]*$/.test(b) ? !0 : f, h ? c += b + "\n" : (d += c + b, c = "\n")
            }
            /(^|\n)>/.test(c) || (d += c, c = "")
        }
        a.startTag = c, a.before = d;
        var i = function (b) {
            var c = b ? "> " : "";
            a.startTag && (a.startTag = a.startTag.replace(/\n((>|\s)*)\n$/, function (a, b) {
                return "\n" + b.replace(/^[ ]{0,3}>?[ \t]*$/gm, c) + "\n"
            })), a.endTag && (a.endTag = a.endTag.replace(/^\n((>|\s)*)\n/, function (a, b) {
                return "\n" + b.replace(/^[ ]{0,3}>?[ \t]*$/gm, c) + "\n"
            }))
        };
        /^(?![ ]{0,3}>)/m.test(a.selection) ? (this.wrap(a, n.lineLength - 2), a.selection = a.selection.replace(/^/gm, "> "), i(!0), a.skipLines()) : (a.selection = a.selection.replace(/^[ ]{0,3}> ?/gm, ""), this.unwrap(a), i(!1), !/^(\n|^)[ ]{0,3}>/.test(a.selection) && a.startTag && (a.startTag = a.startTag.replace(/\n{0,2}$/, "\n\n")), !/(\n|^)[ ]{0,3}>.*$/.test(a.selection) && a.endTag && (a.endTag = a.endTag.replace(/^\n{0,2}/, "\n\n"))), a.selection = this.hooks.postBlockquoteCreation(a.selection), /\n/.test(a.selection) || (a.selection = a.selection.replace(/^(> *)/, function (b, c) {
            return a.startTag += c, ""
        }))
    }, t.doCode = function (a) {
        var b = /\S[ ]*$/.test(a.before), c = /^[ ]*\S/.test(a.after);
        if (!c && !b || /\n/.test(a.selection)) {
            a.before = a.before.replace(/[ ]{4}$/, function (b) {
                return a.selection = b + a.selection, ""
            });
            var d = 1, e = 1;
            /(\n|^)(\t|[ ]{4,}).*\n$/.test(a.before) && (d = 0), /^\n(\t|[ ]{4,})/.test(a.after) && (e = 0), a.skipLines(d, e), a.selection ? /^[ ]{0,3}\S/m.test(a.selection) ? /\n/.test(a.selection) ? a.selection = a.selection.replace(/^/gm, "    ") : a.before += "    " : a.selection = a.selection.replace(/^(?:[ ]{4}|[ ]{0,3}\t)/gm, "") : (a.startTag = "    ", a.selection = this.getString("codeexample"))
        } else a.trimWhitespace(), a.findTags(/`/, /`/), a.startTag || a.endTag ? a.endTag && !a.startTag ? (a.before += a.endTag, a.endTag = "") : a.startTag = a.endTag = "" : (a.startTag = a.endTag = "`", a.selection || (a.selection = this.getString("codeexample")))
    }, t.doList = function (a, b, c) {
        var d = /(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/, e = /^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/, f = "-", g = 1, h = function () {
            var a;
            return c ? (a = " " + g + ". ", g++) : a = " " + f + " ", a
        }, i = function (a) {
            return void 0 === c && (c = /^\s*\d/.test(a)), a = a.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm, function () {
                return h()
            })
        };
        if (a.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/, null), !a.before || /\n$/.test(a.before) || /^\n/.test(a.startTag) || (a.before += a.startTag, a.startTag = ""), a.startTag) {
            var j = /\d+[.]/.test(a.startTag);
            if (a.startTag = "", a.selection = a.selection.replace(/\n[ ]{4}/g, "\n"), this.unwrap(a), a.skipLines(), j && (a.after = a.after.replace(e, i)), c == j)return
        }
        var k = 1;
        a.before = a.before.replace(d, function (a) {
            return /^\s*([*+-])/.test(a) && (f = l.$1), k = /[^\n]\n\n[^\n]/.test(a) ? 1 : 0, i(a)
        }), a.selection || (a.selection = this.getString("litem"));
        var m = h(), o = 1;
        a.after = a.after.replace(e, function (a) {
            return o = /[^\n]\n\n[^\n]/.test(a) ? 1 : 0, i(a)
        }), a.trimWhitespace(!0), a.skipLines(k, o, !0), a.startTag = m;
        var p = m.replace(/./g, " ");
        this.wrap(a, n.lineLength - p.length), a.selection = a.selection.replace(/\n/g, "\n" + p)
    }, t.doHeading = function (a) {
        if (a.selection = a.selection.replace(/\s+/g, " "), a.selection = a.selection.replace(/(^\s+|\s+$)/g, ""), !a.selection)return a.startTag = "## ", a.selection = this.getString("headingexample"), void(a.endTag = " ##");
        var b = 0;
        a.findTags(/#+[ ]*/, /[ ]*#+/), /#+/.test(a.startTag) && (b = l.lastMatch.length), a.startTag = a.endTag = "", a.findTags(null, /\s?(-+|=+)/), /=+/.test(a.endTag) && (b = 1), /-+/.test(a.endTag) && (b = 2), a.startTag = a.endTag = "", a.skipLines(1, 1);
        var c = 0 == b ? 2 : b - 1;
        if (c > 0) {
            var d = c >= 2 ? "-" : "=", e = a.selection.length;
            for (e > n.lineLength && (e = n.lineLength), a.endTag = "\n"; e--;)a.endTag += d
        }
    }, t.doHorizontalRule = function (a) {
        a.startTag = "----------\n", a.selection = "", a.skipLines(2, 1, !0)
    }
}(), function () {
    Markdown.local = Markdown.local || {}, Markdown.local.zh = {
        bold: "粗体 <strong> Ctrl+B",
        boldexample: "粗体文本",
        italic: "斜体 <em> Ctrl+I",
        italicexample: "斜体文本",
        link: "超链接 <a> Ctrl+L",
        linkdescription: "此处输入链接的描述",
        linkdialog: '<p><b>输入超链接</b></p><p>http://example.com/ "可选标题"</p>',
        quote: "段落引用 <blockquote> Ctrl+Q",
        quoteexample: "段落引用",
        code: "代码样例 <pre><code> Ctrl+K",
        codeexample: "此处输入代码",
        image: "图片 <img> Ctrl+G",
        imagedescription: "此处输入图片的描述",
        imagedialog: "<p><b>插入图片</b></p><p>http://example.com/images/diagram.jpg \"可选标题\"<br><br><a href='http://www.google.com/search?q=free+image+hosting' target='_blank'>需要免费的图片主机？</a></p>",
        olist: "有序列表 <ol> Ctrl+O",
        ulist: "无序列表 <ul> Ctrl+U",
        litem: "列表项",
        heading: "标题 <h1>/<h2> Ctrl+H",
        headingexample: "标题",
        hr: "水平线 <hr> Ctrl+R",
        undo: "撤销 - Ctrl+Z",
        redo: "重复 - Ctrl+Y",
        redomac: "重复 - Ctrl+Shift+Z",
        help: "Markdown 语法帮助 Ctrl+Alt+H"
    }
}(), function () {
    function a(a) {
        return a.replace(/^\s+|\s+$/g, "")
    }

    function b(a) {
        return a.replace(/\s+$/g, "")
    }

    function c(a) {
        return a.replace(new RegExp("^(\\t|[ ]{1,4})", "gm"), "")
    }

    function d(a, b) {
        return -1 != a.indexOf(b)
    }

    function e(a, b) {
        return a.replace(/<[^>]*>?/gi, function (a) {
            return a.match(b) ? a : ""
        })
    }

    function f(a, b) {
        for (var c = {}, d = 0; d < a.length; d++)c[a[d]] = a[d];
        for (d = 0; d < b.length; d++)c[b[d]] = b[d];
        var e = [];
        for (var f in c)c.hasOwnProperty(f) && e.push(c[f]);
        return e
    }

    function g(a) {
        return "" != a.charAt(0) && (a = "" + a), "" != a.charAt(a.length - 1) && (a += ""), a
    }

    function h(a) {
        return "" == a.charAt(0) && (a = a.substr(1)), "" == a.charAt(a.length - 1) && (a = a.substr(0, a.length - 1)), a
    }

    function i(a, b) {
        return e(j(a, b), p)
    }

    function j(a, b) {
        var c = b.blockGamutHookCallback(a);
        return c = m(c), c = c.replace(/~D/g, "$$").replace(/~T/g, "~"), c = b.previousPostConversion(c)
    }

    function k(a) {
        return a.replace(/\\\|/g, "~I").replace(/\\:/g, "~i")
    }

    function l(a) {
        return a.replace(/~I/g, "|").replace(/~i/g, ":")
    }

    function m(a) {
        return a = a.replace(/~E(\d+)E/g, function (a, b) {
            var c = parseInt(b);
            return String.fromCharCode(c)
        })
    }

    function n(a) {
        return a.toLowerCase().replace(/\s+/g, "-").replace(/[^\w\-]+/g, "").replace(/\-\-+/g, "-").replace(/^-+/, "").replace(/-+$/, "")
    }

    function o(a, b) {
        var c = b;
        return c = c.replace(/&\#8220;/g, '"'), c = c.replace(/&\#8221;/g, '"'), c = c.replace(/&\#8216;/g, "'"), c = c.replace(/&\#8217;/g, "'"), c = c.replace(/&\#8212;/g, "---"), c = c.replace(/&\#8211;/g, "--"), c = c.replace(/&\#8230;/g, "...")
    }

    var p = new RegExp(["^(<\\/?(a|abbr|acronym|applet|area|b|basefont|", "bdo|big|button|cite|code|del|dfn|em|figcaption|", "font|i|iframe|img|input|ins|kbd|label|map|", "mark|meter|object|param|progress|q|ruby|rp|rt|s|", "samp|script|select|small|span|strike|strong|", "sub|sup|textarea|time|tt|u|var|wbr)[^>]*>|", "<(br)\\s?\\/?>)$"].join(""), "i");
    Array.indexOf || (Array.prototype.indexOf = function (a) {
        for (var b = 0; b < this.length; b++)if (this[b] == a)return b;
        return -1
    }), Markdown.Extra = function () {
        this.converter = null, this.hashBlocks = [], this.footnotes = {}, this.usedFootnotes = [], this.attributeBlocks = !1, this.googleCodePrettify = !1, this.highlightJs = !1, this.tableClass = "", this.tabWidth = 4
    }, Markdown.Extra.init = function (a, b) {
        var c = new Markdown.Extra, e = [], f = [], g = [], h = ["unHashExtraBlocks"];
        return b = b || {}, b.extensions = b.extensions || ["all"], d(b.extensions, "all") && (b.extensions = ["tables", "fenced_code_gfm", "def_list", "attr_list", "footnotes", "strikethrough", "newlines"]), f.push("wrapHeaders"), d(b.extensions, "attr_list") && (e.push("hashFcbAttributeBlocks"), f.push("hashHeaderAttributeBlocks"), h.push("applyAttributeBlocks"), c.attributeBlocks = !0), d(b.extensions, "fenced_code_gfm") && (f.push("fencedCodeBlocks"), e.push("fencedCodeBlocks")), d(b.extensions, "tables") && f.push("tables"), d(b.extensions, "def_list") && f.push("definitionLists"), d(b.extensions, "footnotes") && (e.push("stripFootnoteDefinitions"), f.push("doFootnotes"), h.push("printFootnotes")), d(b.extensions, "strikethrough") && g.push("strikethrough"), d(b.extensions, "newlines") && g.push("newlines"), a.hooks.chain("postNormalization", function (a) {
            return c.doTransform(e, a) + "\n"
        }), a.hooks.chain("preBlockGamut", function (a, b) {
            return c.blockGamutHookCallback = b, a = k(a), a = c.doTransform(f, a) + "\n", a = l(a)
        }), a.hooks.chain("postSpanGamut", function (a) {
            return c.doTransform(g, a)
        }), c.previousPostConversion = a.hooks.postConversion, a.hooks.chain("postConversion", function (a) {
            return a = c.doTransform(h, a), c.hashBlocks = [], c.footnotes = {}, c.usedFootnotes = [], a
        }), "highlighter"in b && (c.googleCodePrettify = "prettify" === b.highlighter, c.highlightJs = "highlight" === b.highlighter), "table_class"in b && (c.tableClass = b.table_class), c.converter = a, c
    }, Markdown.Extra.prototype.doTransform = function (a, b) {
        for (var c = 0; c < a.length; c++)b = this[a[c]](b);
        return b
    }, Markdown.Extra.prototype.hashExtraBlock = function (a) {
        return "\n<p>~X" + (this.hashBlocks.push(a) - 1) + "X</p>\n"
    }, Markdown.Extra.prototype.hashExtraInline = function (a) {
        return "~X" + (this.hashBlocks.push(a) - 1) + "X"
    }, Markdown.Extra.prototype.unHashExtraBlocks = function (a) {
        function b() {
            var d = !1;
            a = a.replace(/(?:<p>)?~X(\d+)X(?:<\/p>)?/g, function (a, b) {
                d = !0;
                var e = parseInt(b, 10);
                return c.hashBlocks[e]
            }), d === !0 && b()
        }

        var c = this;
        return b(), a
    }, Markdown.Extra.prototype.wrapHeaders = function (a) {
        function b(a) {
            return "\n" + a + "\n"
        }

        return a = a.replace(/^.+[ \t]*\n=+[ \t]*\n+/gm, b), a = a.replace(/^.+[ \t]*\n-+[ \t]*\n+/gm, b), a = a.replace(/^\#{1,6}[ \t]*.+?[ \t]*\#*\n+/gm, b)
    };
    var q = "\\{[ \\t]*((?:[#.][-_:a-zA-Z0-9]+[ \\t]*)+)\\}", r = new RegExp("^(#{1,6}.*#{0,6})[ \\t]+" + q + "[ \\t]*(?:\\n|0x03)", "gm"), s = new RegExp("^(.*)[ \\t]+" + q + "[ \\t]*\\n(?=[\\-|=]+\\s*(?:\\n|0x03))", "gm"), t = new RegExp("^(```[ \\t]*[^{\\s]*)[ \\t]+" + q + "[ \\t]*\\n(?=([\\s\\S]*?)\\n```[ \\t]*(\\n|0x03))", "gm");
    Markdown.Extra.prototype.hashHeaderAttributeBlocks = function (a) {
        function b(a, b, d) {
            return "<p>~XX" + (c.hashBlocks.push(d) - 1) + "XX</p>\n" + b + "\n"
        }

        var c = this;
        return a = a.replace(r, b), a = a.replace(s, b)
    }, Markdown.Extra.prototype.hashFcbAttributeBlocks = function (a) {
        function b(a, b, d) {
            return "<p>~XX" + (c.hashBlocks.push(d) - 1) + "XX</p>\n" + b + "\n"
        }

        var c = this;
        return a.replace(t, b)
    }, Markdown.Extra.prototype.applyAttributeBlocks = function (a) {
        var b = this, c = new RegExp('<p>~XX(\\d+)XX</p>[\\s]*(?:<(h[1-6]|pre)(?: +class="(\\S+)")?(>[\\s\\S]*?</\\2>))', "gm");
        return a = a.replace(c, function (a, c, d, e, g) {
            if (!d)return "";
            for (var h = parseInt(c, 10), i = b.hashBlocks[h], j = i.match(/#[^\s#.]+/g) || [], k = j[0] ? ' id="' + j[0].substr(1, j[0].length - 1) + '"' : "", l = i.match(/\.[^\s#.]+/g) || [], m = 0; m < l.length; m++)l[m] = l[m].substr(1, l[m].length - 1);
            var n = "";
            return e && (l = f(l, [e])), l.length > 0 && (n = ' class="' + l.join(" ") + '"'), "<" + d + k + n + g
        })
    }, Markdown.Extra.prototype.tables = function (b) {
        function c(b, c, e, f) {
            c = c.replace(/^ *[|]/m, ""), e = e.replace(/^ *[|]/m, ""), f = f.replace(/^ *[|]/gm, ""), c = c.replace(/[|] *$/m, ""), e = e.replace(/[|] *$/m, ""), f = f.replace(/[|] *$/gm, ""), alignspecs = e.split(/ *[|] */), align = [];
            for (var g = 0; g < alignspecs.length; g++) {
                var h = alignspecs[g];
                align[g] = h.match(/^ *-+: *$/m) ? ' style="text-align:right;"' : h.match(/^ *:-+: *$/m) ? ' style="text-align:center;"' : h.match(/^ *:-+ *$/m) ? ' style="text-align:left;"' : ""
            }
            var j = c.split(/ *[|] */), k = j.length, l = d.tableClass ? ' class="' + d.tableClass + '"' : "", m = ["<table", l, ">\n", "<thead>\n", "<tr>\n"].join("");
            for (g = 0; k > g; g++) {
                var n = i(a(j[g]), d);
                m += [" <th", align[g], ">", n, "</th>\n"].join("")
            }
            m += "</tr>\n</thead>\n";
            var o = f.split("\n");
            for (g = 0; g < o.length; g++)if (!o[g].match(/^\s*$/)) {
                for (var p = o[g].split(/ *[|] */), q = k - p.length, r = 0; q > r; r++)p.push("");
                for (m += "<tr>\n", r = 0; k > r; r++) {
                    var s = i(a(p[r]), d);
                    m += [" <td", align[r], ">", s, "</td>\n"].join("")
                }
                m += "</tr>\n"
            }
            return m += "</table>\n", d.hashExtraBlock(m)
        }

        var d = this, e = new RegExp(["^", "[ ]{0,3}", "[|]", "(.+)\\n", "[ ]{0,3}", "[|]([ ]*[-:]+[-| :]*)\\n", "(", "(?:[ ]*[|].*\\n?)*", ")", "(?:\\n|$)"].join(""), "gm"), f = new RegExp(["^", "[ ]{0,3}", "(\\S.*[|].*)\\n", "[ ]{0,3}", "([-:]+[ ]*[|][-| :]*)\\n", "(", "(?:.*[|].*\\n?)*", ")", "(?:\\n|$)"].join(""), "gm");
        return b = b.replace(e, c), b = b.replace(f, c)
    }, Markdown.Extra.prototype.stripFootnoteDefinitions = function (a) {
        var b = this;
        return a = a.replace(/\n[ ]{0,3}\[\^(.+?)\]\:[ \t]*\n?([\s\S]*?)\n{1,2}((?=\n[ ]{0,3}\S)|$)/g, function (a, c, d) {
            return c = n(c), d += "\n", d = d.replace(/^[ ]{0,3}/g, ""), b.footnotes[c] = d, "\n"
        })
    }, Markdown.Extra.prototype.doFootnotes = function (a) {
        var b = this;
        if (b.isConvertingFootnote === !0)return a;
        var c = 0;
        return a = a.replace(/\[\^(.+?)\]/g, function (a, d) {
            var e = n(d), f = b.footnotes[e];
            if (void 0 === f)return a;
            c++, b.usedFootnotes.push(e);
            var g = '<a href="#fn:' + e + '" id="fnref:' + e + '" title="查看注脚" class="footnote">[' + c + "]</a>";
            return b.hashExtraInline(g)
        })
    }, Markdown.Extra.prototype.printFootnotes = function (a) {
        var b = this;
        if (0 === b.usedFootnotes.length)return a;
        a += '\n\n<div class="footnotes">\n<hr>\n<small>\n\n';
        for (var c = 0; c < b.usedFootnotes.length; c++) {
            var d = b.usedFootnotes[c], e = b.footnotes[d];
            b.isConvertingFootnote = !0;
            var f = i(e, b);
            delete b.isConvertingFootnote, a += '<span id="fn:' + d + '">[' + (c + 1) + "] </span>" + f + ' <a href="#fnref:' + d + '" title="回到文稿" class="reversefootnote">&#8617;</a><br>\n\n'
        }
        return a += "</small>\n</div>"
    }, Markdown.Extra.prototype.fencedCodeBlocks = function (a) {
        function b(a) {
            return a = a.replace(/&/g, "&amp;"), a = a.replace(/</g, "&lt;"), a = a.replace(/>/g, "&gt;"), a = a.replace(/~D/g, "$$"), a = a.replace(/~T/g, "~")
        }

        var c = this;
        return a = a.replace(/(?:^|\n)```[ \t]*(\S*)[ \t]*\n([\s\S]*?)\n```[ \t]*(?=\n)/g, function (a, d, e) {
            var f = d, g = e;
            if ("flow" === f.trim() || "seq" === f.trim()) {
                var h = com.zybuluo.mdeditor.common.getCurrentThemeClassName(), i = null;
                return i = "flow" === f.trim() ? '<div class="flow-diagram theme ' + h + '" title="点击查看大图">' + g + "</div>" : '<div class="sequence-diagram theme ' + h + '" title="点击查看大图">' + g + "</div>", c.hashExtraBlock(i)
            }
            var j = c.googleCodePrettify ? ' class="prettyprint"' : "", k = "";
            f && (k = c.googleCodePrettify || c.highlightJs ? ' class="language-' + f + '"' : ' class="' + f + '"');
            var l = ["<pre", j, "><code", k, ">", b(g), "</code></pre>"].join("");
            return c.hashExtraBlock(l)
        })
    }, Markdown.Extra.prototype.educatePants = function (a) {
        var b = this, c = "", d = 0;
        a.replace(/(?:<!--[\s\S]*?-->)|(<)([a-zA-Z1-6]+)([^\n]*?>)([\s\S]*?)(<\/\2>)/g, function (e, f, g, h, i, j, k) {
            var l = a.substring(d, k);
            return c += b.applyPants(l), b.smartyPantsLastChar = c.substring(c.length - 1), d = k + e.length, f ? (/code|kbd|pre|script|noscript|iframe|math|ins|del|pre/i.test(g) ? b.smartyPantsLastChar = i.substring(i.length - 1) : i = b.educatePants(i), void(c += f + g + h + i + j)) : void(c += e)
        });
        var e = a.substring(d);
        return c += b.applyPants(e), b.smartyPantsLastChar = c.substring(c.length - 1), c
    }, Markdown.Extra.prototype.applyPants = function (a) {
        return a = a.replace(/---/g, "&#8212;").replace(/--/g, "&#8211;"), a = a.replace(/\.\.\./g, "&#8230;").replace(/\.\s\.\s\./g, "&#8230;"), a = a.replace(/``/g, "&#8220;").replace(/''/g, "&#8221;"), /^'$/.test(a) ? /\S/.test(this.smartyPantsLastChar) ? "&#8217;" : "&#8216;" : /^"$/.test(a) ? /\S/.test(this.smartyPantsLastChar) ? "&#8221;" : "&#8220;" : (a = a.replace(/^'(?=[!"#\$\%'()*+,\-.\/:;<=>?\@\[\\]\^_`{|}~]\B)/, "&#8217;"), a = a.replace(/^"(?=[!"#\$\%'()*+,\-.\/:;<=>?\@\[\\]\^_`{|}~]\B)/, "&#8221;"), a = a.replace(/"'(?=\w)/g, "&#8220;&#8216;"), a = a.replace(/'"(?=\w)/g, "&#8216;&#8220;"), a = a.replace(/'(?=\d{2}s)/g, "&#8217;"), a = a.replace(/(\s|&nbsp;|--|&[mn]dash;|&\#8211;|&\#8212;|&\#x201[34];)'(?=\w)/g, "$1&#8216;"), a = a.replace(/([^\s\[\{\(\-])'/g, "$1&#8217;"), a = a.replace(/'(?=\s|s\b)/g, "&#8217;"), a = a.replace(/'/g, "&#8216;"), a = a.replace(/(\s|&nbsp;|--|&[mn]dash;|&\#8211;|&\#8212;|&\#x201[34];)"(?=\w)/g, "$1&#8220;"), a = a.replace(/([^\s\[\{\(\-])"/g, "$1&#8221;"), a = a.replace(/"(?=\s)/g, "&#8221;"), a = a.replace(/"/gi, "&#8220;"))
    }, Markdown.Extra.prototype.runSmartyPants = function (a) {
        return this.smartyPantsLastChar = "", a = this.educatePants(a), a = a.replace(/(<([a-zA-Z1-6]+)\b([^\n>]*?)(\/)?>)/g, o)
    }, Markdown.Extra.prototype.definitionLists = function (b) {
        var c = new RegExp(["(\\x02\\n?|\\n\\n)", "(?:", "(", "(", "[ ]{0,3}", "((?:[ \\t]*\\S.*\\n)+)", "\\n?", "[ ]{0,3}:[ ]+", ")", "([\\s\\S]+?)", "(", "(?=\\0x03)", "|", "(?=", "\\n{2,}", "(?=\\S)", "(?!", "[ ]{0,3}", "(?:\\S.*\\n)+?", "\\n?", "[ ]{0,3}:[ ]+", ")", "(?!", "[ ]{0,3}:[ ]+", ")", ")", ")", ")", ")"].join(""), "gm"), d = this;
        return b = g(b), b = b.replace(c, function (b, c, e) {
            var f = a(d.processDefListItems(e));
            return f = "<dl>\n" + f + "\n</dl>", c + d.hashExtraBlock(f) + "\n\n"
        }), h(b)
    }, Markdown.Extra.prototype.processDefListItems = function (d) {
        var e = this, f = new RegExp(["(\\x02\\n?|\\n\\n+)", "(", "[ ]{0,3}", "(?![:][ ]|[ ])", "(?:\\S.*\\n)+?", ")", "(?=\\n?[ ]{0,3}:[ ])"].join(""), "gm"), k = new RegExp(["\\n(\\n+)?", "(", "[ ]{0,3}", "[:][ ]+", ")", "([\\s\\S]+?)", "(?=\\n*", "(?:", "\\n[ ]{0,3}[:][ ]|", "<dt>|\\x03", ")", ")"].join(""), "gm");
        return d = g(d), d = d.replace(/\n{2,}(?=\\x03)/, "\n"), d = d.replace(f, function (b, c, d) {
            for (var f = a(d).split("\n"), g = "", h = 0; h < f.length; h++) {
                var j = f[h];
                j = i(a(j), e), g += "\n<dt>" + j + "</dt>"
            }
            return g + "\n"
        }), d = d.replace(k, function (a, d, f, g) {
            return d || g.match(/\n{2,}/) ? (g = Array(f.length + 1).join(" ") + g, g = c(g) + "\n\n", g = "\n" + j(g, e) + "\n") : (g = b(g), g = i(c(g), e)), "\n<dd>" + g + "</dd>\n"
        }), h(d)
    }, Markdown.Extra.prototype.strikethrough = function (a) {
        return a.replace(/([\W_]|^)~T~T(?=\S)([^\r]*?\S[\*_]*)~T~T([\W_]|$)/g, "$1<del>$2</del>$3")
    }, Markdown.Extra.prototype.newlines = function (a) {
        return a.replace(/(<(?:br|\/li)>)?\n/g, function (a, b) {
            return b ? a : " <br>\n"
        })
    }
}(), function (a) {
    var b, c, d = "0.4.2", e = "hasOwnProperty", f = /[\.\/]/, g = "*", h = function () {
    }, i = function (a, b) {
        return a - b
    }, j = {n: {}}, k = function (a, d) {
        a = String(a);
        var e, f = c, g = Array.prototype.slice.call(arguments, 2), h = k.listeners(a), j = 0, l = [], m = {}, n = [], o = b;
        b = a, c = 0;
        for (var p = 0, q = h.length; q > p; p++)"zIndex"in h[p] && (l.push(h[p].zIndex), h[p].zIndex < 0 && (m[h[p].zIndex] = h[p]));
        for (l.sort(i); l[j] < 0;)if (e = m[l[j++]], n.push(e.apply(d, g)), c)return c = f, n;
        for (p = 0; q > p; p++)if (e = h[p], "zIndex"in e)if (e.zIndex == l[j]) {
            if (n.push(e.apply(d, g)), c)break;
            do if (j++, e = m[l[j]], e && n.push(e.apply(d, g)), c)break; while (e)
        } else m[e.zIndex] = e; else if (n.push(e.apply(d, g)), c)break;
        return c = f, b = o, n.length ? n : null
    };
    k._events = j, k.listeners = function (a) {
        var b, c, d, e, h, i, k, l, m = a.split(f), n = j, o = [n], p = [];
        for (e = 0, h = m.length; h > e; e++) {
            for (l = [], i = 0, k = o.length; k > i; i++)for (n = o[i].n, c = [n[m[e]], n[g]], d = 2; d--;)b = c[d], b && (l.push(b), p = p.concat(b.f || []));
            o = l
        }
        return p
    }, k.on = function (a, b) {
        if (a = String(a), "function" != typeof b)return function () {
        };
        for (var c = a.split(f), d = j, e = 0, g = c.length; g > e; e++)d = d.n, d = d.hasOwnProperty(c[e]) && d[c[e]] || (d[c[e]] = {n: {}});
        for (d.f = d.f || [], e = 0, g = d.f.length; g > e; e++)if (d.f[e] == b)return h;
        return d.f.push(b), function (a) {
            +a == +a && (b.zIndex = +a)
        }
    }, k.f = function (a) {
        var b = [].slice.call(arguments, 1);
        return function () {
            k.apply(null, [a, null].concat(b).concat([].slice.call(arguments, 0)))
        }
    }, k.stop = function () {
        c = 1
    }, k.nt = function (a) {
        return a ? new RegExp("(?:\\.|\\/|^)" + a + "(?:\\.|\\/|$)").test(b) : b
    }, k.nts = function () {
        return b.split(f)
    }, k.off = k.unbind = function (a, b) {
        if (!a)return void(k._events = j = {n: {}});
        var c, d, h, i, l, m, n, o = a.split(f), p = [j];
        for (i = 0, l = o.length; l > i; i++)for (m = 0; m < p.length; m += h.length - 2) {
            if (h = [m, 1], c = p[m].n, o[i] != g)c[o[i]] && h.push(c[o[i]]); else for (d in c)c[e](d) && h.push(c[d]);
            p.splice.apply(p, h)
        }
        for (i = 0, l = p.length; l > i; i++)for (c = p[i]; c.n;) {
            if (b) {
                if (c.f) {
                    for (m = 0, n = c.f.length; n > m; m++)if (c.f[m] == b) {
                        c.f.splice(m, 1);
                        break
                    }
                    !c.f.length && delete c.f
                }
                for (d in c.n)if (c.n[e](d) && c.n[d].f) {
                    var q = c.n[d].f;
                    for (m = 0, n = q.length; n > m; m++)if (q[m] == b) {
                        q.splice(m, 1);
                        break
                    }
                    !q.length && delete c.n[d].f
                }
            } else {
                delete c.f;
                for (d in c.n)c.n[e](d) && c.n[d].f && delete c.n[d].f
            }
            c = c.n
        }
    }, k.once = function (a, b) {
        var c = function () {
            return k.unbind(a, c), b.apply(this, arguments)
        };
        return k.on(a, c)
    }, k.version = d, k.toString = function () {
        return "You are running Eve " + d
    }, "undefined" != typeof module && module.exports ? module.exports = k : "undefined" != typeof define ? define("eve", [], function () {
        return k
    }) : a.eve = k
}(window || this), function (a, b) {
    "function" == typeof define && define.amd ? define(["eve"], function (c) {
        return b(a, c)
    }) : b(a, a.eve)
}(this, function (a, b) {
    function c(a) {
        if (c.is(a, "function"))return u ? a() : b.on("raphael.DOMload", a);
        if (c.is(a, V))return c._engine.create[D](c, a.splice(0, 3 + c.is(a[0], T))).add(a);
        var d = Array.prototype.slice.call(arguments, 0);
        if (c.is(d[d.length - 1], "function")) {
            var e = d.pop();
            return u ? e.call(c._engine.create[D](c, d)) : b.on("raphael.DOMload", function () {
                e.call(c._engine.create[D](c, d))
            })
        }
        return c._engine.create[D](c, arguments)
    }

    function d(a) {
        if ("function" == typeof a || Object(a) !== a)return a;
        var b = new a.constructor;
        for (var c in a)a[z](c) && (b[c] = d(a[c]));
        return b
    }

    function e(a, b) {
        for (var c = 0, d = a.length; d > c; c++)if (a[c] === b)return a.push(a.splice(c, 1)[0])
    }

    function f(a, b, c) {
        function d() {
            var f = Array.prototype.slice.call(arguments, 0), g = f.join("␀"), h = d.cache = d.cache || {}, i = d.count = d.count || [];
            return h[z](g) ? (e(i, g), c ? c(h[g]) : h[g]) : (i.length >= 1e3 && delete h[i.shift()], i.push(g), h[g] = a[D](b, f), c ? c(h[g]) : h[g])
        }

        return d
    }

    function g() {
        return this.hex
    }

    function h(a, b) {
        for (var c = [], d = 0, e = a.length; e - 2 * !b > d; d += 2) {
            var f = [{x: +a[d - 2], y: +a[d - 1]}, {x: +a[d], y: +a[d + 1]}, {
                x: +a[d + 2],
                y: +a[d + 3]
            }, {x: +a[d + 4], y: +a[d + 5]}];
            b ? d ? e - 4 == d ? f[3] = {x: +a[0], y: +a[1]} : e - 2 == d && (f[2] = {
                x: +a[0],
                y: +a[1]
            }, f[3] = {x: +a[2], y: +a[3]}) : f[0] = {
                x: +a[e - 2],
                y: +a[e - 1]
            } : e - 4 == d ? f[3] = f[2] : d || (f[0] = {
                x: +a[d],
                y: +a[d + 1]
            }), c.push(["C", (-f[0].x + 6 * f[1].x + f[2].x) / 6, (-f[0].y + 6 * f[1].y + f[2].y) / 6, (f[1].x + 6 * f[2].x - f[3].x) / 6, (f[1].y + 6 * f[2].y - f[3].y) / 6, f[2].x, f[2].y])
        }
        return c
    }

    function i(a, b, c, d, e) {
        var f = -3 * b + 9 * c - 9 * d + 3 * e, g = a * f + 6 * b - 12 * c + 6 * d;
        return a * g - 3 * b + 3 * c
    }

    function j(a, b, c, d, e, f, g, h, j) {
        null == j && (j = 1), j = j > 1 ? 1 : 0 > j ? 0 : j;
        for (var k = j / 2, l = 12, m = [-.1252, .1252, -.3678, .3678, -.5873, .5873, -.7699, .7699, -.9041, .9041, -.9816, .9816], n = [.2491, .2491, .2335, .2335, .2032, .2032, .1601, .1601, .1069, .1069, .0472, .0472], o = 0, p = 0; l > p; p++) {
            var q = k * m[p] + k, r = i(q, a, c, e, g), s = i(q, b, d, f, h), t = r * r + s * s;
            o += n[p] * N.sqrt(t)
        }
        return k * o
    }

    function k(a, b, c, d, e, f, g, h, i) {
        if (!(0 > i || j(a, b, c, d, e, f, g, h) < i)) {
            var k, l = 1, m = l / 2, n = l - m, o = .01;
            for (k = j(a, b, c, d, e, f, g, h, n); Q(k - i) > o;)m /= 2, n += (i > k ? 1 : -1) * m, k = j(a, b, c, d, e, f, g, h, n);
            return n
        }
    }

    function l(a, b, c, d, e, f, g, h) {
        if (!(O(a, c) < P(e, g) || P(a, c) > O(e, g) || O(b, d) < P(f, h) || P(b, d) > O(f, h))) {
            var i = (a * d - b * c) * (e - g) - (a - c) * (e * h - f * g), j = (a * d - b * c) * (f - h) - (b - d) * (e * h - f * g), k = (a - c) * (f - h) - (b - d) * (e - g);
            if (k) {
                var l = i / k, m = j / k, n = +l.toFixed(2), o = +m.toFixed(2);
                if (!(n < +P(a, c).toFixed(2) || n > +O(a, c).toFixed(2) || n < +P(e, g).toFixed(2) || n > +O(e, g).toFixed(2) || o < +P(b, d).toFixed(2) || o > +O(b, d).toFixed(2) || o < +P(f, h).toFixed(2) || o > +O(f, h).toFixed(2)))return {
                    x: l,
                    y: m
                }
            }
        }
    }

    function m(a, b, d) {
        var e = c.bezierBBox(a), f = c.bezierBBox(b);
        if (!c.isBBoxIntersect(e, f))return d ? 0 : [];
        for (var g = j.apply(0, a), h = j.apply(0, b), i = O(~~(g / 5), 1), k = O(~~(h / 5), 1), m = [], n = [], o = {}, p = d ? 0 : [], q = 0; i + 1 > q; q++) {
            var r = c.findDotsAtSegment.apply(c, a.concat(q / i));
            m.push({x: r.x, y: r.y, t: q / i})
        }
        for (q = 0; k + 1 > q; q++)r = c.findDotsAtSegment.apply(c, b.concat(q / k)), n.push({
            x: r.x,
            y: r.y,
            t: q / k
        });
        for (q = 0; i > q; q++)for (var s = 0; k > s; s++) {
            var t = m[q], u = m[q + 1], v = n[s], w = n[s + 1], x = Q(u.x - t.x) < .001 ? "y" : "x", y = Q(w.x - v.x) < .001 ? "y" : "x", z = l(t.x, t.y, u.x, u.y, v.x, v.y, w.x, w.y);
            if (z) {
                if (o[z.x.toFixed(4)] == z.y.toFixed(4))continue;
                o[z.x.toFixed(4)] = z.y.toFixed(4);
                var A = t.t + Q((z[x] - t[x]) / (u[x] - t[x])) * (u.t - t.t), B = v.t + Q((z[y] - v[y]) / (w[y] - v[y])) * (w.t - v.t);
                A >= 0 && 1.001 >= A && B >= 0 && 1.001 >= B && (d ? p++ : p.push({
                    x: z.x,
                    y: z.y,
                    t1: P(A, 1),
                    t2: P(B, 1)
                }))
            }
        }
        return p
    }

    function n(a, b, d) {
        a = c._path2curve(a), b = c._path2curve(b);
        for (var e, f, g, h, i, j, k, l, n, o, p = d ? 0 : [], q = 0, r = a.length; r > q; q++) {
            var s = a[q];
            if ("M" == s[0])e = i = s[1], f = j = s[2]; else {
                "C" == s[0] ? (n = [e, f].concat(s.slice(1)), e = n[6], f = n[7]) : (n = [e, f, e, f, i, j, i, j], e = i, f = j);
                for (var t = 0, u = b.length; u > t; t++) {
                    var v = b[t];
                    if ("M" == v[0])g = k = v[1], h = l = v[2]; else {
                        "C" == v[0] ? (o = [g, h].concat(v.slice(1)), g = o[6], h = o[7]) : (o = [g, h, g, h, k, l, k, l], g = k, h = l);
                        var w = m(n, o, d);
                        if (d)p += w; else {
                            for (var x = 0, y = w.length; y > x; x++)w[x].segment1 = q, w[x].segment2 = t, w[x].bez1 = n, w[x].bez2 = o;
                            p = p.concat(w)
                        }
                    }
                }
            }
        }
        return p
    }

    function o(a, b, c, d, e, f) {
        null != a ? (this.a = +a, this.b = +b, this.c = +c, this.d = +d, this.e = +e, this.f = +f) : (this.a = 1, this.b = 0, this.c = 0, this.d = 1, this.e = 0, this.f = 0)
    }

    function p() {
        return this.x + H + this.y + H + this.width + " × " + this.height
    }

    function q(a, b, c, d, e, f) {
        function g(a) {
            return ((l * a + k) * a + j) * a
        }

        function h(a, b) {
            var c = i(a, b);
            return ((o * c + n) * c + m) * c
        }

        function i(a, b) {
            var c, d, e, f, h, i;
            for (e = a, i = 0; 8 > i; i++) {
                if (f = g(e) - a, Q(f) < b)return e;
                if (h = (3 * l * e + 2 * k) * e + j, Q(h) < 1e-6)break;
                e -= f / h
            }
            if (c = 0, d = 1, e = a, c > e)return c;
            if (e > d)return d;
            for (; d > c;) {
                if (f = g(e), Q(f - a) < b)return e;
                a > f ? c = e : d = e, e = (d - c) / 2 + c
            }
            return e
        }

        var j = 3 * b, k = 3 * (d - b) - j, l = 1 - j - k, m = 3 * c, n = 3 * (e - c) - m, o = 1 - m - n;
        return h(a, 1 / (200 * f))
    }

    function r(a, b) {
        var c = [], d = {};
        if (this.ms = b, this.times = 1, a) {
            for (var e in a)a[z](e) && (d[_(e)] = a[e], c.push(_(e)));
            c.sort(lb)
        }
        this.anim = d, this.top = c[c.length - 1], this.percents = c
    }

    function s(a, d, e, f, g, h) {
        e = _(e);
        var i, j, k, l, m, n, p = a.ms, r = {}, s = {}, t = {};
        if (f)for (v = 0, x = ic.length; x > v; v++) {
            var u = ic[v];
            if (u.el.id == d.id && u.anim == a) {
                u.percent != e ? (ic.splice(v, 1), k = 1) : j = u, d.attr(u.totalOrigin);
                break
            }
        } else f = +s;
        for (var v = 0, x = a.percents.length; x > v; v++) {
            if (a.percents[v] == e || a.percents[v] > f * a.top) {
                e = a.percents[v], m = a.percents[v - 1] || 0, p = p / a.top * (e - m), l = a.percents[v + 1], i = a.anim[e];
                break
            }
            f && d.attr(a.anim[a.percents[v]])
        }
        if (i) {
            if (j)j.initstatus = f, j.start = new Date - j.ms * f; else {
                for (var y in i)if (i[z](y) && (db[z](y) || d.paper.customAttributes[z](y)))switch (r[y] = d.attr(y), null == r[y] && (r[y] = cb[y]), s[y] = i[y], db[y]) {
                    case T:
                        t[y] = (s[y] - r[y]) / p;
                        break;
                    case"colour":
                        r[y] = c.getRGB(r[y]);
                        var A = c.getRGB(s[y]);
                        t[y] = {r: (A.r - r[y].r) / p, g: (A.g - r[y].g) / p, b: (A.b - r[y].b) / p};
                        break;
                    case"path":
                        var B = Kb(r[y], s[y]), C = B[1];
                        for (r[y] = B[0], t[y] = [], v = 0, x = r[y].length; x > v; v++) {
                            t[y][v] = [0];
                            for (var D = 1, F = r[y][v].length; F > D; D++)t[y][v][D] = (C[v][D] - r[y][v][D]) / p
                        }
                        break;
                    case"transform":
                        var G = d._, H = Pb(G[y], s[y]);
                        if (H)for (r[y] = H.from, s[y] = H.to, t[y] = [], t[y].real = !0, v = 0, x = r[y].length; x > v; v++)for (t[y][v] = [r[y][v][0]], D = 1, F = r[y][v].length; F > D; D++)t[y][v][D] = (s[y][v][D] - r[y][v][D]) / p; else {
                            var K = d.matrix || new o, L = {
                                _: {transform: G.transform}, getBBox: function () {
                                    return d.getBBox(1)
                                }
                            };
                            r[y] = [K.a, K.b, K.c, K.d, K.e, K.f], Nb(L, s[y]), s[y] = L._.transform, t[y] = [(L.matrix.a - K.a) / p, (L.matrix.b - K.b) / p, (L.matrix.c - K.c) / p, (L.matrix.d - K.d) / p, (L.matrix.e - K.e) / p, (L.matrix.f - K.f) / p]
                        }
                        break;
                    case"csv":
                        var M = I(i[y])[J](w), N = I(r[y])[J](w);
                        if ("clip-rect" == y)for (r[y] = N, t[y] = [], v = N.length; v--;)t[y][v] = (M[v] - r[y][v]) / p;
                        s[y] = M;
                        break;
                    default:
                        for (M = [][E](i[y]), N = [][E](r[y]), t[y] = [], v = d.paper.customAttributes[y].length; v--;)t[y][v] = ((M[v] || 0) - (N[v] || 0)) / p
                }
                var O = i.easing, P = c.easing_formulas[O];
                if (!P)if (P = I(O).match(Z), P && 5 == P.length) {
                    var Q = P;
                    P = function (a) {
                        return q(a, +Q[1], +Q[2], +Q[3], +Q[4], p)
                    }
                } else P = nb;
                if (n = i.start || a.start || +new Date, u = {
                        anim: a,
                        percent: e,
                        timestamp: n,
                        start: n + (a.del || 0),
                        status: 0,
                        initstatus: f || 0,
                        stop: !1,
                        ms: p,
                        easing: P,
                        from: r,
                        diff: t,
                        to: s,
                        el: d,
                        callback: i.callback,
                        prev: m,
                        next: l,
                        repeat: h || a.times,
                        origin: d.attr(),
                        totalOrigin: g
                    }, ic.push(u), f && !j && !k && (u.stop = !0, u.start = new Date - p * f, 1 == ic.length))return kc();
                k && (u.start = new Date - u.ms * f), 1 == ic.length && jc(kc)
            }
            b("raphael.anim.start." + d.id, d, a)
        }
    }

    function t(a) {
        for (var b = 0; b < ic.length; b++)ic[b].el.paper == a && ic.splice(b--, 1)
    }

    c.version = "2.1.2", c.eve = b;
    var u, v, w = /[, ]+/, x = {
        circle: 1,
        rect: 1,
        path: 1,
        ellipse: 1,
        text: 1,
        image: 1
    }, y = /\{(\d+)\}/g, z = "hasOwnProperty", A = {
        doc: document,
        win: a
    }, B = {was: Object.prototype[z].call(A.win, "Raphael"), is: A.win.Raphael}, C = function () {
        this.ca = this.customAttributes = {}
    }, D = "apply", E = "concat", F = "ontouchstart"in A.win || A.win.DocumentTouch && A.doc instanceof DocumentTouch, G = "", H = " ", I = String, J = "split", K = "click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[J](H), L = {
        mousedown: "touchstart",
        mousemove: "touchmove",
        mouseup: "touchend"
    }, M = I.prototype.toLowerCase, N = Math, O = N.max, P = N.min, Q = N.abs, R = N.pow, S = N.PI, T = "number", U = "string", V = "array", W = Object.prototype.toString, X = (c._ISURL = /^url\(['"]?([^\)]+?)['"]?\)$/i, /^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i), Y = {
        NaN: 1,
        Infinity: 1,
        "-Infinity": 1
    }, Z = /^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/, $ = N.round, _ = parseFloat, ab = parseInt, bb = I.prototype.toUpperCase, cb = c._availableAttrs = {
        "arrow-end": "none",
        "arrow-start": "none",
        blur: 0,
        "clip-rect": "0 0 1e9 1e9",
        cursor: "default",
        cx: 0,
        cy: 0,
        fill: "#fff",
        "fill-opacity": 1,
        font: '10px "Arial"',
        "font-family": '"Arial"',
        "font-size": "10",
        "font-style": "normal",
        "font-weight": 400,
        gradient: 0,
        height: 0,
        href: "http://raphaeljs.com/",
        "letter-spacing": 0,
        opacity: 1,
        path: "M0,0",
        r: 0,
        rx: 0,
        ry: 0,
        src: "",
        stroke: "#000",
        "stroke-dasharray": "",
        "stroke-linecap": "butt",
        "stroke-linejoin": "butt",
        "stroke-miterlimit": 0,
        "stroke-opacity": 1,
        "stroke-width": 1,
        target: "_blank",
        "text-anchor": "middle",
        title: "Raphael",
        transform: "",
        width: 0,
        x: 0,
        y: 0
    }, db = c._availableAnimAttrs = {
        blur: T,
        "clip-rect": "csv",
        cx: T,
        cy: T,
        fill: "colour",
        "fill-opacity": T,
        "font-size": T,
        height: T,
        opacity: T,
        path: "path",
        r: T,
        rx: T,
        ry: T,
        stroke: "colour",
        "stroke-opacity": T,
        "stroke-width": T,
        transform: "transform",
        width: T,
        x: T,
        y: T
    }, eb = /[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/, fb = {
        hs: 1,
        rg: 1
    }, gb = /,?([achlmqrstvxz]),?/gi, hb = /([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi, ib = /([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi, jb = /(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi, kb = (c._radial_gradient = /^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/, {}), lb = function (a, b) {
        return _(a) - _(b)
    }, mb = function () {
    }, nb = function (a) {
        return a
    }, ob = c._rectPath = function (a, b, c, d, e) {
        return e ? [["M", a + e, b], ["l", c - 2 * e, 0], ["a", e, e, 0, 0, 1, e, e], ["l", 0, d - 2 * e], ["a", e, e, 0, 0, 1, -e, e], ["l", 2 * e - c, 0], ["a", e, e, 0, 0, 1, -e, -e], ["l", 0, 2 * e - d], ["a", e, e, 0, 0, 1, e, -e], ["z"]] : [["M", a, b], ["l", c, 0], ["l", 0, d], ["l", -c, 0], ["z"]]
    }, pb = function (a, b, c, d) {
        return null == d && (d = c), [["M", a, b], ["m", 0, -d], ["a", c, d, 0, 1, 1, 0, 2 * d], ["a", c, d, 0, 1, 1, 0, -2 * d], ["z"]]
    }, qb = c._getPath = {
        path: function (a) {
            return a.attr("path")
        }, circle: function (a) {
            var b = a.attrs;
            return pb(b.cx, b.cy, b.r)
        }, ellipse: function (a) {
            var b = a.attrs;
            return pb(b.cx, b.cy, b.rx, b.ry)
        }, rect: function (a) {
            var b = a.attrs;
            return ob(b.x, b.y, b.width, b.height, b.r)
        }, image: function (a) {
            var b = a.attrs;
            return ob(b.x, b.y, b.width, b.height)
        }, text: function (a) {
            var b = a._getBBox();
            return ob(b.x, b.y, b.width, b.height)
        }, set: function (a) {
            var b = a._getBBox();
            return ob(b.x, b.y, b.width, b.height)
        }
    }, rb = c.mapPath = function (a, b) {
        if (!b)return a;
        var c, d, e, f, g, h, i;
        for (a = Kb(a), e = 0, g = a.length; g > e; e++)for (i = a[e], f = 1, h = i.length; h > f; f += 2)c = b.x(i[f], i[f + 1]), d = b.y(i[f], i[f + 1]), i[f] = c, i[f + 1] = d;
        return a
    };
    if (c._g = A, c.type = A.win.SVGAngle || A.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1") ? "SVG" : "VML", "VML" == c.type) {
        var sb, tb = A.doc.createElement("div");
        if (tb.innerHTML = '<v:shape adj="1"/>', sb = tb.firstChild, sb.style.behavior = "url(#default#VML)", !sb || "object" != typeof sb.adj)return c.type = G;
        tb = null
    }
    c.svg = !(c.vml = "VML" == c.type), c._Paper = C, c.fn = v = C.prototype = c.prototype, c._id = 0, c._oid = 0, c.is = function (a, b) {
        return b = M.call(b), "finite" == b ? !Y[z](+a) : "array" == b ? a instanceof Array : "null" == b && null === a || b == typeof a && null !== a || "object" == b && a === Object(a) || "array" == b && Array.isArray && Array.isArray(a) || W.call(a).slice(8, -1).toLowerCase() == b
    }, c.angle = function (a, b, d, e, f, g) {
        if (null == f) {
            var h = a - d, i = b - e;
            return h || i ? (180 + 180 * N.atan2(-i, -h) / S + 360) % 360 : 0
        }
        return c.angle(a, b, f, g) - c.angle(d, e, f, g)
    }, c.rad = function (a) {
        return a % 360 * S / 180
    }, c.deg = function (a) {
        return 180 * a / S % 360
    }, c.snapTo = function (a, b, d) {
        if (d = c.is(d, "finite") ? d : 10, c.is(a, V)) {
            for (var e = a.length; e--;)if (Q(a[e] - b) <= d)return a[e]
        } else {
            a = +a;
            var f = b % a;
            if (d > f)return b - f;
            if (f > a - d)return b - f + a
        }
        return b
    };
    c.createUUID = function (a, b) {
        return function () {
            return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a, b).toUpperCase()
        }
    }(/[xy]/g, function (a) {
        var b = 16 * N.random() | 0, c = "x" == a ? b : 3 & b | 8;
        return c.toString(16)
    });
    c.setWindow = function (a) {
        b("raphael.setWindow", c, A.win, a), A.win = a, A.doc = A.win.document, c._engine.initWin && c._engine.initWin(A.win)
    };
    var ub = function (a) {
        if (c.vml) {
            var b, d = /^\s+|\s+$/g;
            try {
                var e = new ActiveXObject("htmlfile");
                e.write("<body>"), e.close(), b = e.body
            } catch (g) {
                b = createPopup().document.body
            }
            var h = b.createTextRange();
            ub = f(function (a) {
                try {
                    b.style.color = I(a).replace(d, G);
                    var c = h.queryCommandValue("ForeColor");
                    return c = (255 & c) << 16 | 65280 & c | (16711680 & c) >>> 16, "#" + ("000000" + c.toString(16)).slice(-6)
                } catch (e) {
                    return "none"
                }
            })
        } else {
            var i = A.doc.createElement("i");
            i.title = "Raphaël Colour Picker", i.style.display = "none", A.doc.body.appendChild(i), ub = f(function (a) {
                return i.style.color = a, A.doc.defaultView.getComputedStyle(i, G).getPropertyValue("color")
            })
        }
        return ub(a)
    }, vb = function () {
        return "hsb(" + [this.h, this.s, this.b] + ")"
    }, wb = function () {
        return "hsl(" + [this.h, this.s, this.l] + ")"
    }, xb = function () {
        return this.hex
    }, yb = function (a, b, d) {
        if (null == b && c.is(a, "object") && "r"in a && "g"in a && "b"in a && (d = a.b, b = a.g, a = a.r), null == b && c.is(a, U)) {
            var e = c.getRGB(a);
            a = e.r, b = e.g, d = e.b
        }
        return (a > 1 || b > 1 || d > 1) && (a /= 255, b /= 255, d /= 255), [a, b, d]
    }, zb = function (a, b, d, e) {
        a *= 255, b *= 255, d *= 255;
        var f = {r: a, g: b, b: d, hex: c.rgb(a, b, d), toString: xb};
        return c.is(e, "finite") && (f.opacity = e), f
    };
    c.color = function (a) {
        var b;
        return c.is(a, "object") && "h"in a && "s"in a && "b"in a ? (b = c.hsb2rgb(a), a.r = b.r, a.g = b.g, a.b = b.b, a.hex = b.hex) : c.is(a, "object") && "h"in a && "s"in a && "l"in a ? (b = c.hsl2rgb(a), a.r = b.r, a.g = b.g, a.b = b.b, a.hex = b.hex) : (c.is(a, "string") && (a = c.getRGB(a)), c.is(a, "object") && "r"in a && "g"in a && "b"in a ? (b = c.rgb2hsl(a), a.h = b.h, a.s = b.s, a.l = b.l, b = c.rgb2hsb(a), a.v = b.b) : (a = {hex: "none"}, a.r = a.g = a.b = a.h = a.s = a.v = a.l = -1)), a.toString = xb, a
    }, c.hsb2rgb = function (a, b, c, d) {
        this.is(a, "object") && "h"in a && "s"in a && "b"in a && (c = a.b, b = a.s, a = a.h, d = a.o), a *= 360;
        var e, f, g, h, i;
        return a = a % 360 / 60, i = c * b, h = i * (1 - Q(a % 2 - 1)), e = f = g = c - i, a = ~~a, e += [i, h, 0, 0, h, i][a], f += [h, i, i, h, 0, 0][a], g += [0, 0, h, i, i, h][a], zb(e, f, g, d)
    }, c.hsl2rgb = function (a, b, c, d) {
        this.is(a, "object") && "h"in a && "s"in a && "l"in a && (c = a.l, b = a.s, a = a.h), (a > 1 || b > 1 || c > 1) && (a /= 360, b /= 100, c /= 100), a *= 360;
        var e, f, g, h, i;
        return a = a % 360 / 60, i = 2 * b * (.5 > c ? c : 1 - c), h = i * (1 - Q(a % 2 - 1)), e = f = g = c - i / 2, a = ~~a, e += [i, h, 0, 0, h, i][a], f += [h, i, i, h, 0, 0][a], g += [0, 0, h, i, i, h][a], zb(e, f, g, d)
    }, c.rgb2hsb = function (a, b, c) {
        c = yb(a, b, c), a = c[0], b = c[1], c = c[2];
        var d, e, f, g;
        return f = O(a, b, c), g = f - P(a, b, c), d = 0 == g ? null : f == a ? (b - c) / g : f == b ? (c - a) / g + 2 : (a - b) / g + 4, d = (d + 360) % 6 * 60 / 360, e = 0 == g ? 0 : g / f, {
            h: d,
            s: e,
            b: f,
            toString: vb
        }
    }, c.rgb2hsl = function (a, b, c) {
        c = yb(a, b, c), a = c[0], b = c[1], c = c[2];
        var d, e, f, g, h, i;
        return g = O(a, b, c), h = P(a, b, c), i = g - h, d = 0 == i ? null : g == a ? (b - c) / i : g == b ? (c - a) / i + 2 : (a - b) / i + 4, d = (d + 360) % 6 * 60 / 360, f = (g + h) / 2, e = 0 == i ? 0 : .5 > f ? i / (2 * f) : i / (2 - 2 * f), {
            h: d,
            s: e,
            l: f,
            toString: wb
        }
    }, c._path2string = function () {
        return this.join(",").replace(gb, "$1")
    };
    c._preload = function (a, b) {
        var c = A.doc.createElement("img");
        c.style.cssText = "position:absolute;left:-9999em;top:-9999em", c.onload = function () {
            b.call(this), this.onload = null, A.doc.body.removeChild(this)
        }, c.onerror = function () {
            A.doc.body.removeChild(this)
        }, A.doc.body.appendChild(c), c.src = a
    };
    c.getRGB = f(function (a) {
        if (!a || (a = I(a)).indexOf("-") + 1)return {r: -1, g: -1, b: -1, hex: "none", error: 1, toString: g};
        if ("none" == a)return {r: -1, g: -1, b: -1, hex: "none", toString: g};
        !(fb[z](a.toLowerCase().substring(0, 2)) || "#" == a.charAt()) && (a = ub(a));
        var b, d, e, f, h, i, j = a.match(X);
        return j ? (j[2] && (e = ab(j[2].substring(5), 16), d = ab(j[2].substring(3, 5), 16), b = ab(j[2].substring(1, 3), 16)), j[3] && (e = ab((h = j[3].charAt(3)) + h, 16), d = ab((h = j[3].charAt(2)) + h, 16), b = ab((h = j[3].charAt(1)) + h, 16)), j[4] && (i = j[4][J](eb), b = _(i[0]), "%" == i[0].slice(-1) && (b *= 2.55), d = _(i[1]), "%" == i[1].slice(-1) && (d *= 2.55), e = _(i[2]), "%" == i[2].slice(-1) && (e *= 2.55), "rgba" == j[1].toLowerCase().slice(0, 4) && (f = _(i[3])), i[3] && "%" == i[3].slice(-1) && (f /= 100)), j[5] ? (i = j[5][J](eb), b = _(i[0]), "%" == i[0].slice(-1) && (b *= 2.55), d = _(i[1]), "%" == i[1].slice(-1) && (d *= 2.55), e = _(i[2]), "%" == i[2].slice(-1) && (e *= 2.55), ("deg" == i[0].slice(-3) || "°" == i[0].slice(-1)) && (b /= 360), "hsba" == j[1].toLowerCase().slice(0, 4) && (f = _(i[3])), i[3] && "%" == i[3].slice(-1) && (f /= 100), c.hsb2rgb(b, d, e, f)) : j[6] ? (i = j[6][J](eb), b = _(i[0]), "%" == i[0].slice(-1) && (b *= 2.55), d = _(i[1]), "%" == i[1].slice(-1) && (d *= 2.55), e = _(i[2]), "%" == i[2].slice(-1) && (e *= 2.55), ("deg" == i[0].slice(-3) || "°" == i[0].slice(-1)) && (b /= 360), "hsla" == j[1].toLowerCase().slice(0, 4) && (f = _(i[3])), i[3] && "%" == i[3].slice(-1) && (f /= 100), c.hsl2rgb(b, d, e, f)) : (j = {
            r: b,
            g: d,
            b: e,
            toString: g
        }, j.hex = "#" + (16777216 | e | d << 8 | b << 16).toString(16).slice(1), c.is(f, "finite") && (j.opacity = f), j)) : {
            r: -1,
            g: -1,
            b: -1,
            hex: "none",
            error: 1,
            toString: g
        }
    }, c), c.hsb = f(function (a, b, d) {
        return c.hsb2rgb(a, b, d).hex
    }), c.hsl = f(function (a, b, d) {
        return c.hsl2rgb(a, b, d).hex
    }), c.rgb = f(function (a, b, c) {
        return "#" + (16777216 | c | b << 8 | a << 16).toString(16).slice(1)
    }), c.getColor = function (a) {
        var b = this.getColor.start = this.getColor.start || {h: 0, s: 1, b: a || .75}, c = this.hsb2rgb(b.h, b.s, b.b);
        return b.h += .075, b.h > 1 && (b.h = 0, b.s -= .2, b.s <= 0 && (this.getColor.start = {
            h: 0,
            s: 1,
            b: b.b
        })), c.hex
    }, c.getColor.reset = function () {
        delete this.start
    }, c.parsePathString = function (a) {
        if (!a)return null;
        var b = Ab(a);
        if (b.arr)return Cb(b.arr);
        var d = {a: 7, c: 6, h: 1, l: 2, m: 2, r: 4, q: 4, s: 4, t: 2, v: 1, z: 0}, e = [];
        return c.is(a, V) && c.is(a[0], V) && (e = Cb(a)), e.length || I(a).replace(hb, function (a, b, c) {
            var f = [], g = b.toLowerCase();
            if (c.replace(jb, function (a, b) {
                    b && f.push(+b)
                }), "m" == g && f.length > 2 && (e.push([b][E](f.splice(0, 2))), g = "l", b = "m" == b ? "l" : "L"), "r" == g)e.push([b][E](f)); else for (; f.length >= d[g] && (e.push([b][E](f.splice(0, d[g]))), d[g]););
        }), e.toString = c._path2string, b.arr = Cb(e), e
    }, c.parseTransformString = f(function (a) {
        if (!a)return null;
        var b = [];
        return c.is(a, V) && c.is(a[0], V) && (b = Cb(a)), b.length || I(a).replace(ib, function (a, c, d) {
            {
                var e = [];
                M.call(c)
            }
            d.replace(jb, function (a, b) {
                b && e.push(+b)
            }), b.push([c][E](e))
        }), b.toString = c._path2string, b
    });
    var Ab = function (a) {
        var b = Ab.ps = Ab.ps || {};
        return b[a] ? b[a].sleep = 100 : b[a] = {sleep: 100}, setTimeout(function () {
            for (var c in b)b[z](c) && c != a && (b[c].sleep--, !b[c].sleep && delete b[c])
        }), b[a]
    };
    c.findDotsAtSegment = function (a, b, c, d, e, f, g, h, i) {
        var j = 1 - i, k = R(j, 3), l = R(j, 2), m = i * i, n = m * i, o = k * a + 3 * l * i * c + 3 * j * i * i * e + n * g, p = k * b + 3 * l * i * d + 3 * j * i * i * f + n * h, q = a + 2 * i * (c - a) + m * (e - 2 * c + a), r = b + 2 * i * (d - b) + m * (f - 2 * d + b), s = c + 2 * i * (e - c) + m * (g - 2 * e + c), t = d + 2 * i * (f - d) + m * (h - 2 * f + d), u = j * a + i * c, v = j * b + i * d, w = j * e + i * g, x = j * f + i * h, y = 90 - 180 * N.atan2(q - s, r - t) / S;
        return (q > s || t > r) && (y += 180), {
            x: o,
            y: p,
            m: {x: q, y: r},
            n: {x: s, y: t},
            start: {x: u, y: v},
            end: {x: w, y: x},
            alpha: y
        }
    }, c.bezierBBox = function (a, b, d, e, f, g, h, i) {
        c.is(a, "array") || (a = [a, b, d, e, f, g, h, i]);
        var j = Jb.apply(null, a);
        return {x: j.min.x, y: j.min.y, x2: j.max.x, y2: j.max.y, width: j.max.x - j.min.x, height: j.max.y - j.min.y}
    }, c.isPointInsideBBox = function (a, b, c) {
        return b >= a.x && b <= a.x2 && c >= a.y && c <= a.y2
    }, c.isBBoxIntersect = function (a, b) {
        var d = c.isPointInsideBBox;
        return d(b, a.x, a.y) || d(b, a.x2, a.y) || d(b, a.x, a.y2) || d(b, a.x2, a.y2) || d(a, b.x, b.y) || d(a, b.x2, b.y) || d(a, b.x, b.y2) || d(a, b.x2, b.y2) || (a.x < b.x2 && a.x > b.x || b.x < a.x2 && b.x > a.x) && (a.y < b.y2 && a.y > b.y || b.y < a.y2 && b.y > a.y)
    }, c.pathIntersection = function (a, b) {
        return n(a, b)
    }, c.pathIntersectionNumber = function (a, b) {
        return n(a, b, 1)
    }, c.isPointInsidePath = function (a, b, d) {
        var e = c.pathBBox(a);
        return c.isPointInsideBBox(e, b, d) && n(a, [["M", b, d], ["H", e.x2 + 10]], 1) % 2 == 1
    }, c._removedFactory = function (a) {
        return function () {
            b("raphael.log", null, "Raphaël: you are calling to method “" + a + "” of removed object", a)
        }
    };
    var Bb = c.pathBBox = function (a) {
        var b = Ab(a);
        if (b.bbox)return d(b.bbox);
        if (!a)return {x: 0, y: 0, width: 0, height: 0, x2: 0, y2: 0};
        a = Kb(a);
        for (var c, e = 0, f = 0, g = [], h = [], i = 0, j = a.length; j > i; i++)if (c = a[i], "M" == c[0])e = c[1], f = c[2], g.push(e), h.push(f); else {
            var k = Jb(e, f, c[1], c[2], c[3], c[4], c[5], c[6]);
            g = g[E](k.min.x, k.max.x), h = h[E](k.min.y, k.max.y), e = c[5], f = c[6]
        }
        var l = P[D](0, g), m = P[D](0, h), n = O[D](0, g), o = O[D](0, h), p = n - l, q = o - m, r = {
            x: l,
            y: m,
            x2: n,
            y2: o,
            width: p,
            height: q,
            cx: l + p / 2,
            cy: m + q / 2
        };
        return b.bbox = d(r), r
    }, Cb = function (a) {
        var b = d(a);
        return b.toString = c._path2string, b
    }, Db = c._pathToRelative = function (a) {
        var b = Ab(a);
        if (b.rel)return Cb(b.rel);
        c.is(a, V) && c.is(a && a[0], V) || (a = c.parsePathString(a));
        var d = [], e = 0, f = 0, g = 0, h = 0, i = 0;
        "M" == a[0][0] && (e = a[0][1], f = a[0][2], g = e, h = f, i++, d.push(["M", e, f]));
        for (var j = i, k = a.length; k > j; j++) {
            var l = d[j] = [], m = a[j];
            if (m[0] != M.call(m[0]))switch (l[0] = M.call(m[0]), l[0]) {
                case"a":
                    l[1] = m[1], l[2] = m[2], l[3] = m[3], l[4] = m[4], l[5] = m[5], l[6] = +(m[6] - e).toFixed(3), l[7] = +(m[7] - f).toFixed(3);
                    break;
                case"v":
                    l[1] = +(m[1] - f).toFixed(3);
                    break;
                case"m":
                    g = m[1], h = m[2];
                default:
                    for (var n = 1, o = m.length; o > n; n++)l[n] = +(m[n] - (n % 2 ? e : f)).toFixed(3)
            } else {
                l = d[j] = [], "m" == m[0] && (g = m[1] + e, h = m[2] + f);
                for (var p = 0, q = m.length; q > p; p++)d[j][p] = m[p]
            }
            var r = d[j].length;
            switch (d[j][0]) {
                case"z":
                    e = g, f = h;
                    break;
                case"h":
                    e += +d[j][r - 1];
                    break;
                case"v":
                    f += +d[j][r - 1];
                    break;
                default:
                    e += +d[j][r - 2], f += +d[j][r - 1]
            }
        }
        return d.toString = c._path2string, b.rel = Cb(d), d
    }, Eb = c._pathToAbsolute = function (a) {
        var b = Ab(a);
        if (b.abs)return Cb(b.abs);
        if (c.is(a, V) && c.is(a && a[0], V) || (a = c.parsePathString(a)), !a || !a.length)return [["M", 0, 0]];
        var d = [], e = 0, f = 0, g = 0, i = 0, j = 0;
        "M" == a[0][0] && (e = +a[0][1], f = +a[0][2], g = e, i = f, j++, d[0] = ["M", e, f]);
        for (var k, l, m = 3 == a.length && "M" == a[0][0] && "R" == a[1][0].toUpperCase() && "Z" == a[2][0].toUpperCase(), n = j, o = a.length; o > n; n++) {
            if (d.push(k = []), l = a[n], l[0] != bb.call(l[0]))switch (k[0] = bb.call(l[0]), k[0]) {
                case"A":
                    k[1] = l[1], k[2] = l[2], k[3] = l[3], k[4] = l[4], k[5] = l[5], k[6] = +(l[6] + e), k[7] = +(l[7] + f);
                    break;
                case"V":
                    k[1] = +l[1] + f;
                    break;
                case"H":
                    k[1] = +l[1] + e;
                    break;
                case"R":
                    for (var p = [e, f][E](l.slice(1)), q = 2, r = p.length; r > q; q++)p[q] = +p[q] + e, p[++q] = +p[q] + f;
                    d.pop(), d = d[E](h(p, m));
                    break;
                case"M":
                    g = +l[1] + e, i = +l[2] + f;
                default:
                    for (q = 1, r = l.length; r > q; q++)k[q] = +l[q] + (q % 2 ? e : f)
            } else if ("R" == l[0])p = [e, f][E](l.slice(1)), d.pop(), d = d[E](h(p, m)), k = ["R"][E](l.slice(-2)); else for (var s = 0, t = l.length; t > s; s++)k[s] = l[s];
            switch (k[0]) {
                case"Z":
                    e = g, f = i;
                    break;
                case"H":
                    e = k[1];
                    break;
                case"V":
                    f = k[1];
                    break;
                case"M":
                    g = k[k.length - 2], i = k[k.length - 1];
                default:
                    e = k[k.length - 2], f = k[k.length - 1]
            }
        }
        return d.toString = c._path2string, b.abs = Cb(d), d
    }, Fb = function (a, b, c, d) {
        return [a, b, c, d, c, d]
    }, Gb = function (a, b, c, d, e, f) {
        var g = 1 / 3, h = 2 / 3;
        return [g * a + h * c, g * b + h * d, g * e + h * c, g * f + h * d, e, f]
    }, Hb = function (a, b, c, d, e, g, h, i, j, k) {
        var l, m = 120 * S / 180, n = S / 180 * (+e || 0), o = [], p = f(function (a, b, c) {
            var d = a * N.cos(c) - b * N.sin(c), e = a * N.sin(c) + b * N.cos(c);
            return {x: d, y: e}
        });
        if (k)y = k[0], z = k[1], w = k[2], x = k[3]; else {
            l = p(a, b, -n), a = l.x, b = l.y, l = p(i, j, -n), i = l.x, j = l.y;
            var q = (N.cos(S / 180 * e), N.sin(S / 180 * e), (a - i) / 2), r = (b - j) / 2, s = q * q / (c * c) + r * r / (d * d);
            s > 1 && (s = N.sqrt(s), c = s * c, d = s * d);
            var t = c * c, u = d * d, v = (g == h ? -1 : 1) * N.sqrt(Q((t * u - t * r * r - u * q * q) / (t * r * r + u * q * q))), w = v * c * r / d + (a + i) / 2, x = v * -d * q / c + (b + j) / 2, y = N.asin(((b - x) / d).toFixed(9)), z = N.asin(((j - x) / d).toFixed(9));
            y = w > a ? S - y : y, z = w > i ? S - z : z, 0 > y && (y = 2 * S + y), 0 > z && (z = 2 * S + z), h && y > z && (y -= 2 * S), !h && z > y && (z -= 2 * S)
        }
        var A = z - y;
        if (Q(A) > m) {
            var B = z, C = i, D = j;
            z = y + m * (h && z > y ? 1 : -1), i = w + c * N.cos(z), j = x + d * N.sin(z), o = Hb(i, j, c, d, e, 0, h, C, D, [z, B, w, x])
        }
        A = z - y;
        var F = N.cos(y), G = N.sin(y), H = N.cos(z), I = N.sin(z), K = N.tan(A / 4), L = 4 / 3 * c * K, M = 4 / 3 * d * K, O = [a, b], P = [a + L * G, b - M * F], R = [i + L * I, j - M * H], T = [i, j];
        if (P[0] = 2 * O[0] - P[0], P[1] = 2 * O[1] - P[1], k)return [P, R, T][E](o);
        o = [P, R, T][E](o).join()[J](",");
        for (var U = [], V = 0, W = o.length; W > V; V++)U[V] = V % 2 ? p(o[V - 1], o[V], n).y : p(o[V], o[V + 1], n).x;
        return U
    }, Ib = function (a, b, c, d, e, f, g, h, i) {
        var j = 1 - i;
        return {
            x: R(j, 3) * a + 3 * R(j, 2) * i * c + 3 * j * i * i * e + R(i, 3) * g,
            y: R(j, 3) * b + 3 * R(j, 2) * i * d + 3 * j * i * i * f + R(i, 3) * h
        }
    }, Jb = f(function (a, b, c, d, e, f, g, h) {
        var i, j = e - 2 * c + a - (g - 2 * e + c), k = 2 * (c - a) - 2 * (e - c), l = a - c, m = (-k + N.sqrt(k * k - 4 * j * l)) / 2 / j, n = (-k - N.sqrt(k * k - 4 * j * l)) / 2 / j, o = [b, h], p = [a, g];
        return Q(m) > "1e12" && (m = .5), Q(n) > "1e12" && (n = .5), m > 0 && 1 > m && (i = Ib(a, b, c, d, e, f, g, h, m), p.push(i.x), o.push(i.y)), n > 0 && 1 > n && (i = Ib(a, b, c, d, e, f, g, h, n), p.push(i.x), o.push(i.y)), j = f - 2 * d + b - (h - 2 * f + d), k = 2 * (d - b) - 2 * (f - d), l = b - d, m = (-k + N.sqrt(k * k - 4 * j * l)) / 2 / j, n = (-k - N.sqrt(k * k - 4 * j * l)) / 2 / j, Q(m) > "1e12" && (m = .5), Q(n) > "1e12" && (n = .5), m > 0 && 1 > m && (i = Ib(a, b, c, d, e, f, g, h, m), p.push(i.x), o.push(i.y)), n > 0 && 1 > n && (i = Ib(a, b, c, d, e, f, g, h, n), p.push(i.x), o.push(i.y)), {
            min: {
                x: P[D](0, p),
                y: P[D](0, o)
            }, max: {x: O[D](0, p), y: O[D](0, o)}
        }
    }), Kb = c._path2curve = f(function (a, b) {
        var c = !b && Ab(a);
        if (!b && c.curve)return Cb(c.curve);
        for (var d = Eb(a), e = b && Eb(b), f = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null}, g = {
            x: 0,
            y: 0,
            bx: 0,
            by: 0,
            X: 0,
            Y: 0,
            qx: null,
            qy: null
        }, h = (function (a, b, c) {
            var d, e, f = {T: 1, Q: 1};
            if (!a)return ["C", b.x, b.y, b.x, b.y, b.x, b.y];
            switch (!(a[0]in f) && (b.qx = b.qy = null), a[0]) {
                case"M":
                    b.X = a[1], b.Y = a[2];
                    break;
                case"A":
                    a = ["C"][E](Hb[D](0, [b.x, b.y][E](a.slice(1))));
                    break;
                case"S":
                    "C" == c || "S" == c ? (d = 2 * b.x - b.bx, e = 2 * b.y - b.by) : (d = b.x, e = b.y), a = ["C", d, e][E](a.slice(1));
                    break;
                case"T":
                    "Q" == c || "T" == c ? (b.qx = 2 * b.x - b.qx, b.qy = 2 * b.y - b.qy) : (b.qx = b.x, b.qy = b.y), a = ["C"][E](Gb(b.x, b.y, b.qx, b.qy, a[1], a[2]));
                    break;
                case"Q":
                    b.qx = a[1], b.qy = a[2], a = ["C"][E](Gb(b.x, b.y, a[1], a[2], a[3], a[4]));
                    break;
                case"L":
                    a = ["C"][E](Fb(b.x, b.y, a[1], a[2]));
                    break;
                case"H":
                    a = ["C"][E](Fb(b.x, b.y, a[1], b.y));
                    break;
                case"V":
                    a = ["C"][E](Fb(b.x, b.y, b.x, a[1]));
                    break;
                case"Z":
                    a = ["C"][E](Fb(b.x, b.y, b.X, b.Y))
            }
            return a
        }), i = function (a, b) {
            if (a[b].length > 7) {
                a[b].shift();
                for (var c = a[b]; c.length;)a.splice(b++, 0, ["C"][E](c.splice(0, 6)));
                a.splice(b, 1), l = O(d.length, e && e.length || 0)
            }
        }, j = function (a, b, c, f, g) {
            a && b && "M" == a[g][0] && "M" != b[g][0] && (b.splice(g, 0, ["M", f.x, f.y]), c.bx = 0, c.by = 0, c.x = a[g][1], c.y = a[g][2], l = O(d.length, e && e.length || 0))
        }, k = 0, l = O(d.length, e && e.length || 0); l > k; k++) {
            d[k] = h(d[k], f), i(d, k), e && (e[k] = h(e[k], g)), e && i(e, k), j(d, e, f, g, k), j(e, d, g, f, k);
            var m = d[k], n = e && e[k], o = m.length, p = e && n.length;
            f.x = m[o - 2], f.y = m[o - 1], f.bx = _(m[o - 4]) || f.x, f.by = _(m[o - 3]) || f.y, g.bx = e && (_(n[p - 4]) || g.x), g.by = e && (_(n[p - 3]) || g.y), g.x = e && n[p - 2], g.y = e && n[p - 1]
        }
        return e || (c.curve = Cb(d)), e ? [d, e] : d
    }, null, Cb), Lb = (c._parseDots = f(function (a) {
        for (var b = [], d = 0, e = a.length; e > d; d++) {
            var f = {}, g = a[d].match(/^([^:]*):?([\d\.]*)/);
            if (f.color = c.getRGB(g[1]), f.color.error)return null;
            f.color = f.color.hex, g[2] && (f.offset = g[2] + "%"), b.push(f)
        }
        for (d = 1, e = b.length - 1; e > d; d++)if (!b[d].offset) {
            for (var h = _(b[d - 1].offset || 0), i = 0, j = d + 1; e > j; j++)if (b[j].offset) {
                i = b[j].offset;
                break
            }
            i || (i = 100, j = e), i = _(i);
            for (var k = (i - h) / (j - d + 1); j > d; d++)h += k, b[d].offset = h + "%"
        }
        return b
    }), c._tear = function (a, b) {
        a == b.top && (b.top = a.prev), a == b.bottom && (b.bottom = a.next), a.next && (a.next.prev = a.prev), a.prev && (a.prev.next = a.next)
    }), Mb = (c._tofront = function (a, b) {
        b.top !== a && (Lb(a, b), a.next = null, a.prev = b.top, b.top.next = a, b.top = a)
    }, c._toback = function (a, b) {
        b.bottom !== a && (Lb(a, b), a.next = b.bottom, a.prev = null, b.bottom.prev = a, b.bottom = a)
    }, c._insertafter = function (a, b, c) {
        Lb(a, c), b == c.top && (c.top = a), b.next && (b.next.prev = a), a.next = b.next, a.prev = b, b.next = a
    }, c._insertbefore = function (a, b, c) {
        Lb(a, c), b == c.bottom && (c.bottom = a), b.prev && (b.prev.next = a), a.prev = b.prev, b.prev = a, a.next = b
    }, c.toMatrix = function (a, b) {
        var c = Bb(a), d = {
            _: {transform: G}, getBBox: function () {
                return c
            }
        };
        return Nb(d, b), d.matrix
    }), Nb = (c.transformPath = function (a, b) {
        return rb(a, Mb(a, b))
    }, c._extractTransform = function (a, b) {
        if (null == b)return a._.transform;
        b = I(b).replace(/\.{3}|\u2026/g, a._.transform || G);
        var d = c.parseTransformString(b), e = 0, f = 0, g = 0, h = 1, i = 1, j = a._, k = new o;
        if (j.transform = d || [], d)for (var l = 0, m = d.length; m > l; l++) {
            var n, p, q, r, s, t = d[l], u = t.length, v = I(t[0]).toLowerCase(), w = t[0] != v, x = w ? k.invert() : 0;
            "t" == v && 3 == u ? w ? (n = x.x(0, 0), p = x.y(0, 0), q = x.x(t[1], t[2]), r = x.y(t[1], t[2]), k.translate(q - n, r - p)) : k.translate(t[1], t[2]) : "r" == v ? 2 == u ? (s = s || a.getBBox(1), k.rotate(t[1], s.x + s.width / 2, s.y + s.height / 2), e += t[1]) : 4 == u && (w ? (q = x.x(t[2], t[3]), r = x.y(t[2], t[3]), k.rotate(t[1], q, r)) : k.rotate(t[1], t[2], t[3]), e += t[1]) : "s" == v ? 2 == u || 3 == u ? (s = s || a.getBBox(1), k.scale(t[1], t[u - 1], s.x + s.width / 2, s.y + s.height / 2), h *= t[1], i *= t[u - 1]) : 5 == u && (w ? (q = x.x(t[3], t[4]), r = x.y(t[3], t[4]), k.scale(t[1], t[2], q, r)) : k.scale(t[1], t[2], t[3], t[4]), h *= t[1], i *= t[2]) : "m" == v && 7 == u && k.add(t[1], t[2], t[3], t[4], t[5], t[6]), j.dirtyT = 1, a.matrix = k
        }
        a.matrix = k, j.sx = h, j.sy = i, j.deg = e, j.dx = f = k.e, j.dy = g = k.f, 1 == h && 1 == i && !e && j.bbox ? (j.bbox.x += +f, j.bbox.y += +g) : j.dirtyT = 1
    }), Ob = function (a) {
        var b = a[0];
        switch (b.toLowerCase()) {
            case"t":
                return [b, 0, 0];
            case"m":
                return [b, 1, 0, 0, 1, 0, 0];
            case"r":
                return 4 == a.length ? [b, 0, a[2], a[3]] : [b, 0];
            case"s":
                return 5 == a.length ? [b, 1, 1, a[3], a[4]] : 3 == a.length ? [b, 1, 1] : [b, 1]
        }
    }, Pb = c._equaliseTransform = function (a, b) {
        b = I(b).replace(/\.{3}|\u2026/g, a), a = c.parseTransformString(a) || [], b = c.parseTransformString(b) || [];
        for (var d, e, f, g, h = O(a.length, b.length), i = [], j = [], k = 0; h > k; k++) {
            if (f = a[k] || Ob(b[k]), g = b[k] || Ob(f), f[0] != g[0] || "r" == f[0].toLowerCase() && (f[2] != g[2] || f[3] != g[3]) || "s" == f[0].toLowerCase() && (f[3] != g[3] || f[4] != g[4]))return;
            for (i[k] = [], j[k] = [], d = 0, e = O(f.length, g.length); e > d; d++)d in f && (i[k][d] = f[d]), d in g && (j[k][d] = g[d])
        }
        return {from: i, to: j}
    };
    c._getContainer = function (a, b, d, e) {
        var f;
        return f = null != e || c.is(a, "object") ? a : A.doc.getElementById(a), null != f ? f.tagName ? null == b ? {
            container: f,
            width: f.style.pixelWidth || f.offsetWidth,
            height: f.style.pixelHeight || f.offsetHeight
        } : {container: f, width: b, height: d} : {container: 1, x: a, y: b, width: d, height: e} : void 0
    }, c.pathToRelative = Db, c._engine = {}, c.path2curve = Kb, c.matrix = function (a, b, c, d, e, f) {
        return new o(a, b, c, d, e, f)
    }, function (a) {
        function b(a) {
            return a[0] * a[0] + a[1] * a[1]
        }

        function d(a) {
            var c = N.sqrt(b(a));
            a[0] && (a[0] /= c), a[1] && (a[1] /= c)
        }

        a.add = function (a, b, c, d, e, f) {
            var g, h, i, j, k = [[], [], []], l = [[this.a, this.c, this.e], [this.b, this.d, this.f], [0, 0, 1]], m = [[a, c, e], [b, d, f], [0, 0, 1]];
            for (a && a instanceof o && (m = [[a.a, a.c, a.e], [a.b, a.d, a.f], [0, 0, 1]]), g = 0; 3 > g; g++)for (h = 0; 3 > h; h++) {
                for (j = 0, i = 0; 3 > i; i++)j += l[g][i] * m[i][h];
                k[g][h] = j
            }
            this.a = k[0][0], this.b = k[1][0], this.c = k[0][1], this.d = k[1][1], this.e = k[0][2], this.f = k[1][2]
        }, a.invert = function () {
            var a = this, b = a.a * a.d - a.b * a.c;
            return new o(a.d / b, -a.b / b, -a.c / b, a.a / b, (a.c * a.f - a.d * a.e) / b, (a.b * a.e - a.a * a.f) / b)
        }, a.clone = function () {
            return new o(this.a, this.b, this.c, this.d, this.e, this.f)
        }, a.translate = function (a, b) {
            this.add(1, 0, 0, 1, a, b)
        }, a.scale = function (a, b, c, d) {
            null == b && (b = a), (c || d) && this.add(1, 0, 0, 1, c, d), this.add(a, 0, 0, b, 0, 0), (c || d) && this.add(1, 0, 0, 1, -c, -d)
        }, a.rotate = function (a, b, d) {
            a = c.rad(a), b = b || 0, d = d || 0;
            var e = +N.cos(a).toFixed(9), f = +N.sin(a).toFixed(9);
            this.add(e, f, -f, e, b, d), this.add(1, 0, 0, 1, -b, -d)
        }, a.x = function (a, b) {
            return a * this.a + b * this.c + this.e
        }, a.y = function (a, b) {
            return a * this.b + b * this.d + this.f
        }, a.get = function (a) {
            return +this[I.fromCharCode(97 + a)].toFixed(4)
        }, a.toString = function () {
            return c.svg ? "matrix(" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)].join() + ")" : [this.get(0), this.get(2), this.get(1), this.get(3), 0, 0].join()
        }, a.toFilter = function () {
            return "progid:DXImageTransform.Microsoft.Matrix(M11=" + this.get(0) + ", M12=" + this.get(2) + ", M21=" + this.get(1) + ", M22=" + this.get(3) + ", Dx=" + this.get(4) + ", Dy=" + this.get(5) + ", sizingmethod='auto expand')"
        }, a.offset = function () {
            return [this.e.toFixed(4), this.f.toFixed(4)]
        }, a.split = function () {
            var a = {};
            a.dx = this.e, a.dy = this.f;
            var e = [[this.a, this.c], [this.b, this.d]];
            a.scalex = N.sqrt(b(e[0])), d(e[0]), a.shear = e[0][0] * e[1][0] + e[0][1] * e[1][1], e[1] = [e[1][0] - e[0][0] * a.shear, e[1][1] - e[0][1] * a.shear], a.scaley = N.sqrt(b(e[1])), d(e[1]), a.shear /= a.scaley;
            var f = -e[0][1], g = e[1][1];
            return 0 > g ? (a.rotate = c.deg(N.acos(g)), 0 > f && (a.rotate = 360 - a.rotate)) : a.rotate = c.deg(N.asin(f)), a.isSimple = !(+a.shear.toFixed(9) || a.scalex.toFixed(9) != a.scaley.toFixed(9) && a.rotate), a.isSuperSimple = !+a.shear.toFixed(9) && a.scalex.toFixed(9) == a.scaley.toFixed(9) && !a.rotate, a.noRotation = !+a.shear.toFixed(9) && !a.rotate, a
        }, a.toTransformString = function (a) {
            var b = a || this[J]();
            return b.isSimple ? (b.scalex = +b.scalex.toFixed(4), b.scaley = +b.scaley.toFixed(4), b.rotate = +b.rotate.toFixed(4), (b.dx || b.dy ? "t" + [b.dx, b.dy] : G) + (1 != b.scalex || 1 != b.scaley ? "s" + [b.scalex, b.scaley, 0, 0] : G) + (b.rotate ? "r" + [b.rotate, 0, 0] : G)) : "m" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)]
        }
    }(o.prototype);
    var Qb = navigator.userAgent.match(/Version\/(.*?)\s/) || navigator.userAgent.match(/Chrome\/(\d+)/);
    v.safari = "Apple Computer, Inc." == navigator.vendor && (Qb && Qb[1] < 4 || "iP" == navigator.platform.slice(0, 2)) || "Google Inc." == navigator.vendor && Qb && Qb[1] < 8 ? function () {
        var a = this.rect(-99, -99, this.width + 99, this.height + 99).attr({stroke: "none"});
        setTimeout(function () {
            a.remove()
        })
    } : mb;
    for (var Rb = function () {
        this.returnValue = !1
    }, Sb = function () {
        return this.originalEvent.preventDefault()
    }, Tb = function () {
        this.cancelBubble = !0
    }, Ub = function () {
        return this.originalEvent.stopPropagation()
    }, Vb = function (a) {
        var b = A.doc.documentElement.scrollTop || A.doc.body.scrollTop, c = A.doc.documentElement.scrollLeft || A.doc.body.scrollLeft;
        return {x: a.clientX + c, y: a.clientY + b}
    }, Wb = function () {
        return A.doc.addEventListener ? function (a, b, c, d) {
            var e = function (a) {
                var b = Vb(a);
                return c.call(d, a, b.x, b.y)
            };
            if (a.addEventListener(b, e, !1), F && L[b]) {
                var f = function (b) {
                    for (var e = Vb(b), f = b, g = 0, h = b.targetTouches && b.targetTouches.length; h > g; g++)if (b.targetTouches[g].target == a) {
                        b = b.targetTouches[g], b.originalEvent = f, b.preventDefault = Sb, b.stopPropagation = Ub;
                        break
                    }
                    return c.call(d, b, e.x, e.y)
                };
                a.addEventListener(L[b], f, !1)
            }
            return function () {
                return a.removeEventListener(b, e, !1), F && L[b] && a.removeEventListener(L[b], e, !1), !0
            }
        } : A.doc.attachEvent ? function (a, b, c, d) {
            var e = function (a) {
                a = a || A.win.event;
                var b = A.doc.documentElement.scrollTop || A.doc.body.scrollTop, e = A.doc.documentElement.scrollLeft || A.doc.body.scrollLeft, f = a.clientX + e, g = a.clientY + b;
                return a.preventDefault = a.preventDefault || Rb, a.stopPropagation = a.stopPropagation || Tb, c.call(d, a, f, g)
            };
            a.attachEvent("on" + b, e);
            var f = function () {
                return a.detachEvent("on" + b, e), !0
            };
            return f
        } : void 0
    }(), Xb = [], Yb = function (a) {
        for (var c, d = a.clientX, e = a.clientY, f = A.doc.documentElement.scrollTop || A.doc.body.scrollTop, g = A.doc.documentElement.scrollLeft || A.doc.body.scrollLeft, h = Xb.length; h--;) {
            if (c = Xb[h], F && a.touches) {
                for (var i, j = a.touches.length; j--;)if (i = a.touches[j], i.identifier == c.el._drag.id) {
                    d = i.clientX, e = i.clientY, (a.originalEvent ? a.originalEvent : a).preventDefault();
                    break
                }
            } else a.preventDefault();
            var k, l = c.el.node, m = l.nextSibling, n = l.parentNode, o = l.style.display;
            A.win.opera && n.removeChild(l), l.style.display = "none", k = c.el.paper.getElementByPoint(d, e), l.style.display = o, A.win.opera && (m ? n.insertBefore(l, m) : n.appendChild(l)), k && b("raphael.drag.over." + c.el.id, c.el, k), d += g, e += f, b("raphael.drag.move." + c.el.id, c.move_scope || c.el, d - c.el._drag.x, e - c.el._drag.y, d, e, a)
        }
    }, Zb = function (a) {
        c.unmousemove(Yb).unmouseup(Zb);
        for (var d, e = Xb.length; e--;)d = Xb[e], d.el._drag = {}, b("raphael.drag.end." + d.el.id, d.end_scope || d.start_scope || d.move_scope || d.el, a);
        Xb = []
    }, $b = c.el = {}, _b = K.length; _b--;)!function (a) {
        c[a] = $b[a] = function (b, d) {
            return c.is(b, "function") && (this.events = this.events || [], this.events.push({
                name: a,
                f: b,
                unbind: Wb(this.shape || this.node || A.doc, a, b, d || this)
            })), this
        }, c["un" + a] = $b["un" + a] = function (b) {
            for (var d = this.events || [], e = d.length; e--;)d[e].name != a || !c.is(b, "undefined") && d[e].f != b || (d[e].unbind(), d.splice(e, 1), !d.length && delete this.events);
            return this
        }
    }(K[_b]);
    $b.data = function (a, d) {
        var e = kb[this.id] = kb[this.id] || {};
        if (0 == arguments.length)return e;
        if (1 == arguments.length) {
            if (c.is(a, "object")) {
                for (var f in a)a[z](f) && this.data(f, a[f]);
                return this
            }
            return b("raphael.data.get." + this.id, this, e[a], a), e[a]
        }
        return e[a] = d, b("raphael.data.set." + this.id, this, d, a), this
    }, $b.removeData = function (a) {
        return null == a ? kb[this.id] = {} : kb[this.id] && delete kb[this.id][a], this
    }, $b.getData = function () {
        return d(kb[this.id] || {})
    }, $b.hover = function (a, b, c, d) {
        return this.mouseover(a, c).mouseout(b, d || c)
    }, $b.unhover = function (a, b) {
        return this.unmouseover(a).unmouseout(b)
    };
    var ac = [];
    $b.drag = function (a, d, e, f, g, h) {
        function i(i) {
            (i.originalEvent || i).preventDefault();
            var j = i.clientX, k = i.clientY, l = A.doc.documentElement.scrollTop || A.doc.body.scrollTop, m = A.doc.documentElement.scrollLeft || A.doc.body.scrollLeft;
            if (this._drag.id = i.identifier, F && i.touches)for (var n, o = i.touches.length; o--;)if (n = i.touches[o], this._drag.id = n.identifier, n.identifier == this._drag.id) {
                j = n.clientX, k = n.clientY;
                break
            }
            this._drag.x = j + m, this._drag.y = k + l, !Xb.length && c.mousemove(Yb).mouseup(Zb), Xb.push({
                el: this,
                move_scope: f,
                start_scope: g,
                end_scope: h
            }), d && b.on("raphael.drag.start." + this.id, d), a && b.on("raphael.drag.move." + this.id, a), e && b.on("raphael.drag.end." + this.id, e), b("raphael.drag.start." + this.id, g || f || this, i.clientX + m, i.clientY + l, i)
        }

        return this._drag = {}, ac.push({el: this, start: i}), this.mousedown(i), this
    }, $b.onDragOver = function (a) {
        a ? b.on("raphael.drag.over." + this.id, a) : b.unbind("raphael.drag.over." + this.id)
    }, $b.undrag = function () {
        for (var a = ac.length; a--;)ac[a].el == this && (this.unmousedown(ac[a].start), ac.splice(a, 1), b.unbind("raphael.drag.*." + this.id));
        !ac.length && c.unmousemove(Yb).unmouseup(Zb), Xb = []
    }, v.circle = function (a, b, d) {
        var e = c._engine.circle(this, a || 0, b || 0, d || 0);
        return this.__set__ && this.__set__.push(e), e
    }, v.rect = function (a, b, d, e, f) {
        var g = c._engine.rect(this, a || 0, b || 0, d || 0, e || 0, f || 0);
        return this.__set__ && this.__set__.push(g), g
    }, v.ellipse = function (a, b, d, e) {
        var f = c._engine.ellipse(this, a || 0, b || 0, d || 0, e || 0);
        return this.__set__ && this.__set__.push(f), f
    }, v.path = function (a) {
        a && !c.is(a, U) && !c.is(a[0], V) && (a += G);
        var b = c._engine.path(c.format[D](c, arguments), this);
        return this.__set__ && this.__set__.push(b), b
    }, v.image = function (a, b, d, e, f) {
        var g = c._engine.image(this, a || "about:blank", b || 0, d || 0, e || 0, f || 0);
        return this.__set__ && this.__set__.push(g), g
    }, v.text = function (a, b, d) {
        var e = c._engine.text(this, a || 0, b || 0, I(d));
        return this.__set__ && this.__set__.push(e), e
    }, v.set = function (a) {
        !c.is(a, "array") && (a = Array.prototype.splice.call(arguments, 0, arguments.length));
        var b = new mc(a);
        return this.__set__ && this.__set__.push(b), b.paper = this, b.type = "set", b
    }, v.setStart = function (a) {
        this.__set__ = a || this.set()
    }, v.setFinish = function () {
        var a = this.__set__;
        return delete this.__set__, a
    }, v.setSize = function (a, b) {
        return c._engine.setSize.call(this, a, b)
    }, v.setViewBox = function (a, b, d, e, f) {
        return c._engine.setViewBox.call(this, a, b, d, e, f)
    }, v.top = v.bottom = null, v.raphael = c;
    var bc = function (a) {
        var b = a.getBoundingClientRect(), c = a.ownerDocument, d = c.body, e = c.documentElement, f = e.clientTop || d.clientTop || 0, g = e.clientLeft || d.clientLeft || 0, h = b.top + (A.win.pageYOffset || e.scrollTop || d.scrollTop) - f, i = b.left + (A.win.pageXOffset || e.scrollLeft || d.scrollLeft) - g;
        return {y: h, x: i}
    };
    v.getElementByPoint = function (a, b) {
        var c = this, d = c.canvas, e = A.doc.elementFromPoint(a, b);
        if (A.win.opera && "svg" == e.tagName) {
            var f = bc(d), g = d.createSVGRect();
            g.x = a - f.x, g.y = b - f.y, g.width = g.height = 1;
            var h = d.getIntersectionList(g, null);
            h.length && (e = h[h.length - 1])
        }
        if (!e)return null;
        for (; e.parentNode && e != d.parentNode && !e.raphael;)e = e.parentNode;
        return e == c.canvas.parentNode && (e = d), e = e && e.raphael ? c.getById(e.raphaelid) : null
    }, v.getElementsByBBox = function (a) {
        var b = this.set();
        return this.forEach(function (d) {
            c.isBBoxIntersect(d.getBBox(), a) && b.push(d)
        }), b
    }, v.getById = function (a) {
        for (var b = this.bottom; b;) {
            if (b.id == a)return b;
            b = b.next
        }
        return null
    }, v.forEach = function (a, b) {
        for (var c = this.bottom; c;) {
            if (a.call(b, c) === !1)return this;
            c = c.next
        }
        return this
    }, v.getElementsByPoint = function (a, b) {
        var c = this.set();
        return this.forEach(function (d) {
            d.isPointInside(a, b) && c.push(d)
        }), c
    }, $b.isPointInside = function (a, b) {
        var d = this.realPath = qb[this.type](this);
        return this.attr("transform") && this.attr("transform").length && (d = c.transformPath(d, this.attr("transform"))), c.isPointInsidePath(d, a, b)
    }, $b.getBBox = function (a) {
        if (this.removed)return {};
        var b = this._;
        return a ? ((b.dirty || !b.bboxwt) && (this.realPath = qb[this.type](this), b.bboxwt = Bb(this.realPath), b.bboxwt.toString = p, b.dirty = 0), b.bboxwt) : ((b.dirty || b.dirtyT || !b.bbox) && ((b.dirty || !this.realPath) && (b.bboxwt = 0, this.realPath = qb[this.type](this)), b.bbox = Bb(rb(this.realPath, this.matrix)), b.bbox.toString = p, b.dirty = b.dirtyT = 0), b.bbox)
    }, $b.clone = function () {
        if (this.removed)return null;
        var a = this.paper[this.type]().attr(this.attr());
        return this.__set__ && this.__set__.push(a), a
    }, $b.glow = function (a) {
        if ("text" == this.type)return null;
        a = a || {};
        var b = {
            width: (a.width || 10) + (+this.attr("stroke-width") || 1),
            fill: a.fill || !1,
            opacity: a.opacity || .5,
            offsetx: a.offsetx || 0,
            offsety: a.offsety || 0,
            color: a.color || "#000"
        }, c = b.width / 2, d = this.paper, e = d.set(), f = this.realPath || qb[this.type](this);
        f = this.matrix ? rb(f, this.matrix) : f;
        for (var g = 1; c + 1 > g; g++)e.push(d.path(f).attr({
            stroke: b.color,
            fill: b.fill ? b.color : "none",
            "stroke-linejoin": "round",
            "stroke-linecap": "round",
            "stroke-width": +(b.width / c * g).toFixed(3),
            opacity: +(b.opacity / c).toFixed(3)
        }));
        return e.insertBefore(this).translate(b.offsetx, b.offsety)
    };
    var cc = function (a, b, d, e, f, g, h, i, l) {
        return null == l ? j(a, b, d, e, f, g, h, i) : c.findDotsAtSegment(a, b, d, e, f, g, h, i, k(a, b, d, e, f, g, h, i, l))
    }, dc = function (a, b) {
        return function (d, e, f) {
            d = Kb(d);
            for (var g, h, i, j, k, l = "", m = {}, n = 0, o = 0, p = d.length; p > o; o++) {
                if (i = d[o], "M" == i[0])g = +i[1], h = +i[2]; else {
                    if (j = cc(g, h, i[1], i[2], i[3], i[4], i[5], i[6]), n + j > e) {
                        if (b && !m.start) {
                            if (k = cc(g, h, i[1], i[2], i[3], i[4], i[5], i[6], e - n), l += ["C" + k.start.x, k.start.y, k.m.x, k.m.y, k.x, k.y], f)return l;
                            m.start = l, l = ["M" + k.x, k.y + "C" + k.n.x, k.n.y, k.end.x, k.end.y, i[5], i[6]].join(), n += j, g = +i[5], h = +i[6];
                            continue
                        }
                        if (!a && !b)return k = cc(g, h, i[1], i[2], i[3], i[4], i[5], i[6], e - n), {
                            x: k.x,
                            y: k.y,
                            alpha: k.alpha
                        }
                    }
                    n += j, g = +i[5], h = +i[6]
                }
                l += i.shift() + i
            }
            return m.end = l, k = a ? n : b ? m : c.findDotsAtSegment(g, h, i[0], i[1], i[2], i[3], i[4], i[5], 1), k.alpha && (k = {
                x: k.x,
                y: k.y,
                alpha: k.alpha
            }), k
        }
    }, ec = dc(1), fc = dc(), gc = dc(0, 1);
    c.getTotalLength = ec, c.getPointAtLength = fc, c.getSubpath = function (a, b, c) {
        if (this.getTotalLength(a) - c < 1e-6)return gc(a, b).end;
        var d = gc(a, c, 1);
        return b ? gc(d, b).end : d
    }, $b.getTotalLength = function () {
        var a = this.getPath();
        if (a)return this.node.getTotalLength ? this.node.getTotalLength() : ec(a)
    }, $b.getPointAtLength = function (a) {
        var b = this.getPath();
        if (b)return fc(b, a)
    }, $b.getPath = function () {
        var a, b = c._getPath[this.type];
        if ("text" != this.type && "set" != this.type)return b && (a = b(this)), a
    }, $b.getSubpath = function (a, b) {
        var d = this.getPath();
        if (d)return c.getSubpath(d, a, b)
    };
    var hc = c.easing_formulas = {
        linear: function (a) {
            return a
        }, "<": function (a) {
            return R(a, 1.7)
        }, ">": function (a) {
            return R(a, .48)
        }, "<>": function (a) {
            var b = .48 - a / 1.04, c = N.sqrt(.1734 + b * b), d = c - b, e = R(Q(d), 1 / 3) * (0 > d ? -1 : 1), f = -c - b, g = R(Q(f), 1 / 3) * (0 > f ? -1 : 1), h = e + g + .5;
            return 3 * (1 - h) * h * h + h * h * h
        }, backIn: function (a) {
            var b = 1.70158;
            return a * a * ((b + 1) * a - b)
        }, backOut: function (a) {
            a -= 1;
            var b = 1.70158;
            return a * a * ((b + 1) * a + b) + 1
        }, elastic: function (a) {
            return a == !!a ? a : R(2, -10 * a) * N.sin(2 * (a - .075) * S / .3) + 1
        }, bounce: function (a) {
            var b, c = 7.5625, d = 2.75;
            return 1 / d > a ? b = c * a * a : 2 / d > a ? (a -= 1.5 / d, b = c * a * a + .75) : 2.5 / d > a ? (a -= 2.25 / d, b = c * a * a + .9375) : (a -= 2.625 / d, b = c * a * a + .984375), b
        }
    };
    hc.easeIn = hc["ease-in"] = hc["<"], hc.easeOut = hc["ease-out"] = hc[">"], hc.easeInOut = hc["ease-in-out"] = hc["<>"], hc["back-in"] = hc.backIn, hc["back-out"] = hc.backOut;
    var ic = [], jc = a.requestAnimationFrame || a.webkitRequestAnimationFrame || a.mozRequestAnimationFrame || a.oRequestAnimationFrame || a.msRequestAnimationFrame || function (a) {
            setTimeout(a, 16)
        }, kc = function () {
        for (var a = +new Date, d = 0; d < ic.length; d++) {
            var e = ic[d];
            if (!e.el.removed && !e.paused) {
                var f, g, h = a - e.start, i = e.ms, j = e.easing, k = e.from, l = e.diff, m = e.to, n = (e.t, e.el), o = {}, p = {};
                if (e.initstatus ? (h = (e.initstatus * e.anim.top - e.prev) / (e.percent - e.prev) * i, e.status = e.initstatus, delete e.initstatus, e.stop && ic.splice(d--, 1)) : e.status = (e.prev + (e.percent - e.prev) * (h / i)) / e.anim.top, !(0 > h))if (i > h) {
                    var q = j(h / i);
                    for (var r in k)if (k[z](r)) {
                        switch (db[r]) {
                            case T:
                                f = +k[r] + q * i * l[r];
                                break;
                            case"colour":
                                f = "rgb(" + [lc($(k[r].r + q * i * l[r].r)), lc($(k[r].g + q * i * l[r].g)), lc($(k[r].b + q * i * l[r].b))].join(",") + ")";
                                break;
                            case"path":
                                f = [];
                                for (var t = 0, u = k[r].length; u > t; t++) {
                                    f[t] = [k[r][t][0]];
                                    for (var v = 1, w = k[r][t].length; w > v; v++)f[t][v] = +k[r][t][v] + q * i * l[r][t][v];
                                    f[t] = f[t].join(H)
                                }
                                f = f.join(H);
                                break;
                            case"transform":
                                if (l[r].real)for (f = [], t = 0, u = k[r].length; u > t; t++)for (f[t] = [k[r][t][0]], v = 1, w = k[r][t].length; w > v; v++)f[t][v] = k[r][t][v] + q * i * l[r][t][v]; else {
                                    var x = function (a) {
                                        return +k[r][a] + q * i * l[r][a]
                                    };
                                    f = [["m", x(0), x(1), x(2), x(3), x(4), x(5)]]
                                }
                                break;
                            case"csv":
                                if ("clip-rect" == r)for (f = [], t = 4; t--;)f[t] = +k[r][t] + q * i * l[r][t];
                                break;
                            default:
                                var y = [][E](k[r]);
                                for (f = [], t = n.paper.customAttributes[r].length; t--;)f[t] = +y[t] + q * i * l[r][t]
                        }
                        o[r] = f
                    }
                    n.attr(o), function (a, c, d) {
                        setTimeout(function () {
                            b("raphael.anim.frame." + a, c, d)
                        })
                    }(n.id, n, e.anim)
                } else {
                    if (function (a, d, e) {
                            setTimeout(function () {
                                b("raphael.anim.frame." + d.id, d, e), b("raphael.anim.finish." + d.id, d, e), c.is(a, "function") && a.call(d)
                            })
                        }(e.callback, n, e.anim), n.attr(m), ic.splice(d--, 1), e.repeat > 1 && !e.next) {
                        for (g in m)m[z](g) && (p[g] = e.totalOrigin[g]);
                        e.el.attr(p), s(e.anim, e.el, e.anim.percents[0], null, e.totalOrigin, e.repeat - 1)
                    }
                    e.next && !e.stop && s(e.anim, e.el, e.next, null, e.totalOrigin, e.repeat)
                }
            }
        }
        c.svg && n && n.paper && n.paper.safari(), ic.length && jc(kc)
    }, lc = function (a) {
        return a > 255 ? 255 : 0 > a ? 0 : a
    };
    $b.animateWith = function (a, b, d, e, f, g) {
        var h = this;
        if (h.removed)return g && g.call(h), h;
        var i = d instanceof r ? d : c.animation(d, e, f, g);
        s(i, h, i.percents[0], null, h.attr());
        for (var j = 0, k = ic.length; k > j; j++)if (ic[j].anim == b && ic[j].el == a) {
            ic[k - 1].start = ic[j].start;
            break
        }
        return h
    }, $b.onAnimation = function (a) {
        return a ? b.on("raphael.anim.frame." + this.id, a) : b.unbind("raphael.anim.frame." + this.id), this
    }, r.prototype.delay = function (a) {
        var b = new r(this.anim, this.ms);
        return b.times = this.times, b.del = +a || 0, b
    }, r.prototype.repeat = function (a) {
        var b = new r(this.anim, this.ms);
        return b.del = this.del, b.times = N.floor(O(a, 0)) || 1, b
    }, c.animation = function (a, b, d, e) {
        if (a instanceof r)return a;
        (c.is(d, "function") || !d) && (e = e || d || null, d = null), a = Object(a), b = +b || 0;
        var f, g, h = {};
        for (g in a)a[z](g) && _(g) != g && _(g) + "%" != g && (f = !0, h[g] = a[g]);
        return f ? (d && (h.easing = d), e && (h.callback = e), new r({100: h}, b)) : new r(a, b)
    }, $b.animate = function (a, b, d, e) {
        var f = this;
        if (f.removed)return e && e.call(f), f;
        var g = a instanceof r ? a : c.animation(a, b, d, e);
        return s(g, f, g.percents[0], null, f.attr()), f
    }, $b.setTime = function (a, b) {
        return a && null != b && this.status(a, P(b, a.ms) / a.ms), this
    }, $b.status = function (a, b) {
        var c, d, e = [], f = 0;
        if (null != b)return s(a, this, -1, P(b, 1)), this;
        for (c = ic.length; c > f; f++)if (d = ic[f], d.el.id == this.id && (!a || d.anim == a)) {
            if (a)return d.status;
            e.push({anim: d.anim, status: d.status})
        }
        return a ? 0 : e
    }, $b.pause = function (a) {
        for (var c = 0; c < ic.length; c++)ic[c].el.id != this.id || a && ic[c].anim != a || b("raphael.anim.pause." + this.id, this, ic[c].anim) !== !1 && (ic[c].paused = !0);
        return this
    }, $b.resume = function (a) {
        for (var c = 0; c < ic.length; c++)if (ic[c].el.id == this.id && (!a || ic[c].anim == a)) {
            var d = ic[c];
            b("raphael.anim.resume." + this.id, this, d.anim) !== !1 && (delete d.paused, this.status(d.anim, d.status))
        }
        return this
    }, $b.stop = function (a) {
        for (var c = 0; c < ic.length; c++)ic[c].el.id != this.id || a && ic[c].anim != a || b("raphael.anim.stop." + this.id, this, ic[c].anim) !== !1 && ic.splice(c--, 1);
        return this
    }, b.on("raphael.remove", t), b.on("raphael.clear", t), $b.toString = function () {
        return "Raphaël’s object"
    };
    var mc = function (a) {
        if (this.items = [], this.length = 0, this.type = "set", a)for (var b = 0, c = a.length; c > b; b++)!a[b] || a[b].constructor != $b.constructor && a[b].constructor != mc || (this[this.items.length] = this.items[this.items.length] = a[b], this.length++)
    }, nc = mc.prototype;
    nc.push = function () {
        for (var a, b, c = 0, d = arguments.length; d > c; c++)a = arguments[c], !a || a.constructor != $b.constructor && a.constructor != mc || (b = this.items.length, this[b] = this.items[b] = a, this.length++);
        return this
    }, nc.pop = function () {
        return this.length && delete this[this.length--], this.items.pop()
    }, nc.forEach = function (a, b) {
        for (var c = 0, d = this.items.length; d > c; c++)if (a.call(b, this.items[c], c) === !1)return this;
        return this
    };
    for (var oc in $b)$b[z](oc) && (nc[oc] = function (a) {
        return function () {
            var b = arguments;
            return this.forEach(function (c) {
                c[a][D](c, b)
            })
        }
    }(oc));
    return nc.attr = function (a, b) {
        if (a && c.is(a, V) && c.is(a[0], "object"))for (var d = 0, e = a.length; e > d; d++)this.items[d].attr(a[d]); else for (var f = 0, g = this.items.length; g > f; f++)this.items[f].attr(a, b);
        return this
    }, nc.clear = function () {
        for (; this.length;)this.pop()
    }, nc.splice = function (a, b) {
        a = 0 > a ? O(this.length + a, 0) : a, b = O(0, P(this.length - a, b));
        var c, d = [], e = [], f = [];
        for (c = 2; c < arguments.length; c++)f.push(arguments[c]);
        for (c = 0; b > c; c++)e.push(this[a + c]);
        for (; c < this.length - a; c++)d.push(this[a + c]);
        var g = f.length;
        for (c = 0; c < g + d.length; c++)this.items[a + c] = this[a + c] = g > c ? f[c] : d[c - g];
        for (c = this.items.length = this.length -= b - g; this[c];)delete this[c++];
        return new mc(e)
    }, nc.exclude = function (a) {
        for (var b = 0, c = this.length; c > b; b++)if (this[b] == a)return this.splice(b, 1), !0
    }, nc.animate = function (a, b, d, e) {
        (c.is(d, "function") || !d) && (e = d || null);
        var f, g, h = this.items.length, i = h, j = this;
        if (!h)return this;
        e && (g = function () {
            !--h && e.call(j)
        }), d = c.is(d, U) ? d : g;
        var k = c.animation(a, b, d, g);
        for (f = this.items[--i].animate(k); i--;)this.items[i] && !this.items[i].removed && this.items[i].animateWith(f, k, k), this.items[i] && !this.items[i].removed || h--;
        return this
    }, nc.insertAfter = function (a) {
        for (var b = this.items.length; b--;)this.items[b].insertAfter(a);
        return this
    }, nc.getBBox = function () {
        for (var a = [], b = [], c = [], d = [], e = this.items.length; e--;)if (!this.items[e].removed) {
            var f = this.items[e].getBBox();
            a.push(f.x), b.push(f.y), c.push(f.x + f.width), d.push(f.y + f.height)
        }
        return a = P[D](0, a), b = P[D](0, b), c = O[D](0, c), d = O[D](0, d), {
            x: a,
            y: b,
            x2: c,
            y2: d,
            width: c - a,
            height: d - b
        }
    }, nc.clone = function (a) {
        a = this.paper.set();
        for (var b = 0, c = this.items.length; c > b; b++)a.push(this.items[b].clone());
        return a
    }, nc.toString = function () {
        return "Raphaël‘s set"
    }, nc.glow = function (a) {
        var b = this.paper.set();
        return this.forEach(function (c) {
            var d = c.glow(a);
            null != d && d.forEach(function (a) {
                b.push(a)
            })
        }), b
    }, nc.isPointInside = function (a, b) {
        var c = !1;
        return this.forEach(function (d) {
            return d.isPointInside(a, b) ? (c = !0, !1) : void 0
        }), c
    }, c.registerFont = function (a) {
        if (!a.face)return a;
        this.fonts = this.fonts || {};
        var b = {w: a.w, face: {}, glyphs: {}}, c = a.face["font-family"];
        for (var d in a.face)a.face[z](d) && (b.face[d] = a.face[d]);
        if (this.fonts[c] ? this.fonts[c].push(b) : this.fonts[c] = [b], !a.svg) {
            b.face["units-per-em"] = ab(a.face["units-per-em"], 10);
            for (var e in a.glyphs)if (a.glyphs[z](e)) {
                var f = a.glyphs[e];
                if (b.glyphs[e] = {
                        w: f.w, k: {}, d: f.d && "M" + f.d.replace(/[mlcxtrv]/g, function (a) {
                            return {l: "L", c: "C", x: "z", t: "m", r: "l", v: "c"}[a] || "M"
                        }) + "z"
                    }, f.k)for (var g in f.k)f[z](g) && (b.glyphs[e].k[g] = f.k[g])
            }
        }
        return a
    }, v.getFont = function (a, b, d, e) {
        if (e = e || "normal", d = d || "normal", b = +b || {
                normal: 400,
                bold: 700,
                lighter: 300,
                bolder: 800
            }[b] || 400, c.fonts) {
            var f = c.fonts[a];
            if (!f) {
                var g = new RegExp("(^|\\s)" + a.replace(/[^\w\d\s+!~.:_-]/g, G) + "(\\s|$)", "i");
                for (var h in c.fonts)if (c.fonts[z](h) && g.test(h)) {
                    f = c.fonts[h];
                    break
                }
            }
            var i;
            if (f)for (var j = 0, k = f.length; k > j && (i = f[j], i.face["font-weight"] != b || i.face["font-style"] != d && i.face["font-style"] || i.face["font-stretch"] != e); j++);
            return i
        }
    }, v.print = function (a, b, d, e, f, g, h, i) {
        g = g || "middle", h = O(P(h || 0, 1), -1), i = O(P(i || 1, 3), 1);
        var j, k = I(d)[J](G), l = 0, m = 0, n = G;
        if (c.is(e, "string") && (e = this.getFont(e)), e) {
            j = (f || 16) / e.face["units-per-em"];
            for (var o = e.face.bbox[J](w), p = +o[0], q = o[3] - o[1], r = 0, s = +o[1] + ("baseline" == g ? q + +e.face.descent : q / 2), t = 0, u = k.length; u > t; t++) {
                if ("\n" == k[t])l = 0, x = 0, m = 0, r += q * i; else {
                    var v = m && e.glyphs[k[t - 1]] || {}, x = e.glyphs[k[t]];
                    l += m ? (v.w || e.w) + (v.k && v.k[k[t]] || 0) + e.w * h : 0, m = 1
                }
                x && x.d && (n += c.transformPath(x.d, ["t", l * j, r * j, "s", j, j, p, s, "t", (a - p) / j, (b - s) / j]))
            }
        }
        return this.path(n).attr({fill: "#000", stroke: "none"})
    }, v.add = function (a) {
        if (c.is(a, "array"))for (var b, d = this.set(), e = 0, f = a.length; f > e; e++)b = a[e] || {}, x[z](b.type) && d.push(this[b.type]().attr(b));
        return d
    }, c.format = function (a, b) {
        var d = c.is(b, V) ? [0][E](b) : arguments;
        return a && c.is(a, U) && d.length - 1 && (a = a.replace(y, function (a, b) {
            return null == d[++b] ? G : d[b]
        })), a || G
    }, c.fullfill = function () {
        var a = /\{([^\}]+)\}/g, b = /(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g, c = function (a, c, d) {
            var e = d;
            return c.replace(b, function (a, b, c, d, f) {
                b = b || d, e && (b in e && (e = e[b]), "function" == typeof e && f && (e = e()))
            }), e = (null == e || e == d ? a : e) + ""
        };
        return function (b, d) {
            return String(b).replace(a, function (a, b) {
                return c(a, b, d)
            })
        }
    }(), c.ninja = function () {
        return B.was ? A.win.Raphael = B.is : delete Raphael, c
    }, c.st = nc, function (a, b, d) {
        function e() {
            /in/.test(a.readyState) ? setTimeout(e, 9) : c.eve("raphael.DOMload")
        }

        null == a.readyState && a.addEventListener && (a.addEventListener(b, d = function () {
            a.removeEventListener(b, d, !1), a.readyState = "complete"
        }, !1), a.readyState = "loading"), e()
    }(document, "DOMContentLoaded"), b.on("raphael.DOMload", function () {
        u = !0
    }), function () {
        if (c.svg) {
            var a = "hasOwnProperty", b = String, d = parseFloat, e = parseInt, f = Math, g = f.max, h = f.abs, i = f.pow, j = /[, ]+/, k = c.eve, l = "", m = " ", n = "http://www.w3.org/1999/xlink", o = {
                block: "M5,0 0,2.5 5,5z",
                classic: "M5,0 0,2.5 5,5 3.5,3 3.5,2z",
                diamond: "M2.5,0 5,2.5 2.5,5 0,2.5z",
                open: "M6,1 1,3.5 6,6",
                oval: "M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"
            }, p = {};
            c.toString = function () {
                return "Your browser supports SVG.\nYou are running Raphaël " + this.version
            };
            var q = function (d, e) {
                if (e) {
                    "string" == typeof d && (d = q(d));
                    for (var f in e)e[a](f) && ("xlink:" == f.substring(0, 6) ? d.setAttributeNS(n, f.substring(6), b(e[f])) : d.setAttribute(f, b(e[f])))
                } else d = c._g.doc.createElementNS("http://www.w3.org/2000/svg", d), d.style && (d.style.webkitTapHighlightColor = "rgba(0,0,0,0)");
                return d
            }, r = function (a, e) {
                var j = "linear", k = a.id + e, m = .5, n = .5, o = a.node, p = a.paper, r = o.style, s = c._g.doc.getElementById(k);
                if (!s) {
                    if (e = b(e).replace(c._radial_gradient, function (a, b, c) {
                            if (j = "radial", b && c) {
                                m = d(b), n = d(c);
                                var e = 2 * (n > .5) - 1;
                                i(m - .5, 2) + i(n - .5, 2) > .25 && (n = f.sqrt(.25 - i(m - .5, 2)) * e + .5) && .5 != n && (n = n.toFixed(5) - 1e-5 * e)
                            }
                            return l
                        }), e = e.split(/\s*\-\s*/), "linear" == j) {
                        var t = e.shift();
                        if (t = -d(t), isNaN(t))return null;
                        var u = [0, 0, f.cos(c.rad(t)), f.sin(c.rad(t))], v = 1 / (g(h(u[2]), h(u[3])) || 1);
                        u[2] *= v, u[3] *= v, u[2] < 0 && (u[0] = -u[2], u[2] = 0), u[3] < 0 && (u[1] = -u[3], u[3] = 0)
                    }
                    var w = c._parseDots(e);
                    if (!w)return null;
                    if (k = k.replace(/[\(\)\s,\xb0#]/g, "_"), a.gradient && k != a.gradient.id && (p.defs.removeChild(a.gradient), delete a.gradient), !a.gradient) {
                        s = q(j + "Gradient", {id: k}), a.gradient = s, q(s, "radial" == j ? {fx: m, fy: n} : {
                            x1: u[0],
                            y1: u[1],
                            x2: u[2],
                            y2: u[3],
                            gradientTransform: a.matrix.invert()
                        }), p.defs.appendChild(s);
                        for (var x = 0, y = w.length; y > x; x++)s.appendChild(q("stop", {
                            offset: w[x].offset ? w[x].offset : x ? "100%" : "0%",
                            "stop-color": w[x].color || "#fff"
                        }))
                    }
                }
                return q(o, {
                    fill: "url(#" + k + ")",
                    opacity: 1,
                    "fill-opacity": 1
                }), r.fill = l, r.opacity = 1, r.fillOpacity = 1, 1
            }, s = function (a) {
                var b = a.getBBox(1);
                q(a.pattern, {patternTransform: a.matrix.invert() + " translate(" + b.x + "," + b.y + ")"})
            }, t = function (d, e, f) {
                if ("path" == d.type) {
                    for (var g, h, i, j, k, m = b(e).toLowerCase().split("-"), n = d.paper, r = f ? "end" : "start", s = d.node, t = d.attrs, u = t["stroke-width"], v = m.length, w = "classic", x = 3, y = 3, z = 5; v--;)switch (m[v]) {
                        case"block":
                        case"classic":
                        case"oval":
                        case"diamond":
                        case"open":
                        case"none":
                            w = m[v];
                            break;
                        case"wide":
                            y = 5;
                            break;
                        case"narrow":
                            y = 2;
                            break;
                        case"long":
                            x = 5;
                            break;
                        case"short":
                            x = 2
                    }
                    if ("open" == w ? (x += 2, y += 2, z += 2, i = 1, j = f ? 4 : 1, k = {
                            fill: "none",
                            stroke: t.stroke
                        }) : (j = i = x / 2, k = {
                            fill: t.stroke,
                            stroke: "none"
                        }), d._.arrows ? f ? (d._.arrows.endPath && p[d._.arrows.endPath]--, d._.arrows.endMarker && p[d._.arrows.endMarker]--) : (d._.arrows.startPath && p[d._.arrows.startPath]--, d._.arrows.startMarker && p[d._.arrows.startMarker]--) : d._.arrows = {}, "none" != w) {
                        var A = "raphael-marker-" + w, B = "raphael-marker-" + r + w + x + y;
                        c._g.doc.getElementById(A) ? p[A]++ : (n.defs.appendChild(q(q("path"), {
                            "stroke-linecap": "round",
                            d: o[w],
                            id: A
                        })), p[A] = 1);
                        var C, D = c._g.doc.getElementById(B);
                        D ? (p[B]++, C = D.getElementsByTagName("use")[0]) : (D = q(q("marker"), {
                            id: B,
                            markerHeight: y,
                            markerWidth: x,
                            orient: "auto",
                            refX: j,
                            refY: y / 2
                        }), C = q(q("use"), {
                            "xlink:href": "#" + A,
                            transform: (f ? "rotate(180 " + x / 2 + " " + y / 2 + ") " : l) + "scale(" + x / z + "," + y / z + ")",
                            "stroke-width": (1 / ((x / z + y / z) / 2)).toFixed(4)
                        }), D.appendChild(C), n.defs.appendChild(D), p[B] = 1), q(C, k);
                        var E = i * ("diamond" != w && "oval" != w);
                        f ? (g = d._.arrows.startdx * u || 0, h = c.getTotalLength(t.path) - E * u) : (g = E * u, h = c.getTotalLength(t.path) - (d._.arrows.enddx * u || 0)), k = {}, k["marker-" + r] = "url(#" + B + ")", (h || g) && (k.d = c.getSubpath(t.path, g, h)), q(s, k), d._.arrows[r + "Path"] = A, d._.arrows[r + "Marker"] = B, d._.arrows[r + "dx"] = E, d._.arrows[r + "Type"] = w, d._.arrows[r + "String"] = e
                    } else f ? (g = d._.arrows.startdx * u || 0, h = c.getTotalLength(t.path) - g) : (g = 0, h = c.getTotalLength(t.path) - (d._.arrows.enddx * u || 0)), d._.arrows[r + "Path"] && q(s, {d: c.getSubpath(t.path, g, h)}), delete d._.arrows[r + "Path"], delete d._.arrows[r + "Marker"], delete d._.arrows[r + "dx"], delete d._.arrows[r + "Type"], delete d._.arrows[r + "String"];
                    for (k in p)if (p[a](k) && !p[k]) {
                        var F = c._g.doc.getElementById(k);
                        F && F.parentNode.removeChild(F)
                    }
                }
            }, u = {
                "": [0],
                none: [0],
                "-": [3, 1],
                ".": [1, 1],
                "-.": [3, 1, 1, 1],
                "-..": [3, 1, 1, 1, 1, 1],
                ". ": [1, 3],
                "- ": [4, 3],
                "--": [8, 3],
                "- .": [4, 3, 1, 3],
                "--.": [8, 3, 1, 3],
                "--..": [8, 3, 1, 3, 1, 3]
            }, v = function (a, c, d) {
                if (c = u[b(c).toLowerCase()]) {
                    for (var e = a.attrs["stroke-width"] || "1", f = {
                            round: e,
                            square: e,
                            butt: 0
                        }[a.attrs["stroke-linecap"] || d["stroke-linecap"]] || 0, g = [], h = c.length; h--;)g[h] = c[h] * e + (h % 2 ? 1 : -1) * f;
                    q(a.node, {"stroke-dasharray": g.join(",")})
                }
            }, w = function (d, f) {
                var i = d.node, k = d.attrs, m = i.style.visibility;
                i.style.visibility = "hidden";
                for (var o in f)if (f[a](o)) {
                    if (!c._availableAttrs[a](o))continue;
                    var p = f[o];
                    switch (k[o] = p, o) {
                        case"blur":
                            d.blur(p);
                            break;
                        case"title":
                            var u = i.getElementsByTagName("title");
                            if (u.length && (u = u[0]))u.firstChild.nodeValue = p; else {
                                u = q("title");
                                var w = c._g.doc.createTextNode(p);
                                u.appendChild(w), i.appendChild(u)
                            }
                            break;
                        case"href":
                        case"target":
                            var x = i.parentNode;
                            if ("a" != x.tagName.toLowerCase()) {
                                var z = q("a");
                                x.insertBefore(z, i), z.appendChild(i), x = z
                            }
                            "target" == o ? x.setAttributeNS(n, "show", "blank" == p ? "new" : p) : x.setAttributeNS(n, o, p);
                            break;
                        case"cursor":
                            i.style.cursor = p;
                            break;
                        case"transform":
                            d.transform(p);
                            break;
                        case"arrow-start":
                            t(d, p);
                            break;
                        case"arrow-end":
                            t(d, p, 1);
                            break;
                        case"clip-rect":
                            var A = b(p).split(j);
                            if (4 == A.length) {
                                d.clip && d.clip.parentNode.parentNode.removeChild(d.clip.parentNode);
                                var B = q("clipPath"), C = q("rect");
                                B.id = c.createUUID(), q(C, {
                                    x: A[0],
                                    y: A[1],
                                    width: A[2],
                                    height: A[3]
                                }), B.appendChild(C), d.paper.defs.appendChild(B), q(i, {"clip-path": "url(#" + B.id + ")"}), d.clip = C
                            }
                            if (!p) {
                                var D = i.getAttribute("clip-path");
                                if (D) {
                                    var E = c._g.doc.getElementById(D.replace(/(^url\(#|\)$)/g, l));
                                    E && E.parentNode.removeChild(E), q(i, {"clip-path": l}), delete d.clip
                                }
                            }
                            break;
                        case"path":
                            "path" == d.type && (q(i, {d: p ? k.path = c._pathToAbsolute(p) : "M0,0"}), d._.dirty = 1, d._.arrows && ("startString"in d._.arrows && t(d, d._.arrows.startString), "endString"in d._.arrows && t(d, d._.arrows.endString, 1)));
                            break;
                        case"width":
                            if (i.setAttribute(o, p), d._.dirty = 1, !k.fx)break;
                            o = "x", p = k.x;
                        case"x":
                            k.fx && (p = -k.x - (k.width || 0));
                        case"rx":
                            if ("rx" == o && "rect" == d.type)break;
                        case"cx":
                            i.setAttribute(o, p), d.pattern && s(d), d._.dirty = 1;
                            break;
                        case"height":
                            if (i.setAttribute(o, p), d._.dirty = 1, !k.fy)break;
                            o = "y", p = k.y;
                        case"y":
                            k.fy && (p = -k.y - (k.height || 0));
                        case"ry":
                            if ("ry" == o && "rect" == d.type)break;
                        case"cy":
                            i.setAttribute(o, p), d.pattern && s(d), d._.dirty = 1;
                            break;
                        case"r":
                            "rect" == d.type ? q(i, {rx: p, ry: p}) : i.setAttribute(o, p), d._.dirty = 1;
                            break;
                        case"src":
                            "image" == d.type && i.setAttributeNS(n, "href", p);
                            break;
                        case"stroke-width":
                            (1 != d._.sx || 1 != d._.sy) && (p /= g(h(d._.sx), h(d._.sy)) || 1), d.paper._vbSize && (p *= d.paper._vbSize), i.setAttribute(o, p), k["stroke-dasharray"] && v(d, k["stroke-dasharray"], f), d._.arrows && ("startString"in d._.arrows && t(d, d._.arrows.startString), "endString"in d._.arrows && t(d, d._.arrows.endString, 1));
                            break;
                        case"stroke-dasharray":
                            v(d, p, f);
                            break;
                        case"fill":
                            var F = b(p).match(c._ISURL);
                            if (F) {
                                B = q("pattern");
                                var G = q("image");
                                B.id = c.createUUID(), q(B, {
                                    x: 0,
                                    y: 0,
                                    patternUnits: "userSpaceOnUse",
                                    height: 1,
                                    width: 1
                                }), q(G, {x: 0, y: 0, "xlink:href": F[1]}), B.appendChild(G), function (a) {
                                    c._preload(F[1], function () {
                                        var b = this.offsetWidth, c = this.offsetHeight;
                                        q(a, {width: b, height: c}), q(G, {width: b, height: c}), d.paper.safari()
                                    })
                                }(B), d.paper.defs.appendChild(B), q(i, {fill: "url(#" + B.id + ")"}), d.pattern = B, d.pattern && s(d);
                                break
                            }
                            var H = c.getRGB(p);
                            if (H.error) {
                                if (("circle" == d.type || "ellipse" == d.type || "r" != b(p).charAt()) && r(d, p)) {
                                    if ("opacity"in k || "fill-opacity"in k) {
                                        var I = c._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g, l));
                                        if (I) {
                                            var J = I.getElementsByTagName("stop");
                                            q(J[J.length - 1], {"stop-opacity": ("opacity"in k ? k.opacity : 1) * ("fill-opacity"in k ? k["fill-opacity"] : 1)})
                                        }
                                    }
                                    k.gradient = p, k.fill = "none";
                                    break
                                }
                            } else delete f.gradient, delete k.gradient, !c.is(k.opacity, "undefined") && c.is(f.opacity, "undefined") && q(i, {opacity: k.opacity}), !c.is(k["fill-opacity"], "undefined") && c.is(f["fill-opacity"], "undefined") && q(i, {"fill-opacity": k["fill-opacity"]});
                            H[a]("opacity") && q(i, {"fill-opacity": H.opacity > 1 ? H.opacity / 100 : H.opacity});
                        case"stroke":
                            H = c.getRGB(p), i.setAttribute(o, H.hex), "stroke" == o && H[a]("opacity") && q(i, {"stroke-opacity": H.opacity > 1 ? H.opacity / 100 : H.opacity}), "stroke" == o && d._.arrows && ("startString"in d._.arrows && t(d, d._.arrows.startString), "endString"in d._.arrows && t(d, d._.arrows.endString, 1));
                            break;
                        case"gradient":
                            ("circle" == d.type || "ellipse" == d.type || "r" != b(p).charAt()) && r(d, p);
                            break;
                        case"opacity":
                            k.gradient && !k[a]("stroke-opacity") && q(i, {"stroke-opacity": p > 1 ? p / 100 : p});
                        case"fill-opacity":
                            if (k.gradient) {
                                I = c._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g, l)), I && (J = I.getElementsByTagName("stop"), q(J[J.length - 1], {"stop-opacity": p}));
                                break
                            }
                        default:
                            "font-size" == o && (p = e(p, 10) + "px");
                            var K = o.replace(/(\-.)/g, function (a) {
                                return a.substring(1).toUpperCase()
                            });
                            i.style[K] = p, d._.dirty = 1, i.setAttribute(o, p)
                    }
                }
                y(d, f), i.style.visibility = m
            }, x = 1.2, y = function (d, f) {
                if ("text" == d.type && (f[a]("text") || f[a]("font") || f[a]("font-size") || f[a]("x") || f[a]("y"))) {
                    var g = d.attrs, h = d.node, i = h.firstChild ? e(c._g.doc.defaultView.getComputedStyle(h.firstChild, l).getPropertyValue("font-size"), 10) : 10;
                    if (f[a]("text")) {
                        for (g.text = f.text; h.firstChild;)h.removeChild(h.firstChild);
                        for (var j, k = b(f.text).split("\n"), m = [], n = 0, o = k.length; o > n; n++)j = q("tspan"), n && q(j, {
                            dy: i * x,
                            x: g.x
                        }), j.appendChild(c._g.doc.createTextNode(k[n])), h.appendChild(j), m[n] = j
                    } else for (m = h.getElementsByTagName("tspan"), n = 0, o = m.length; o > n; n++)n ? q(m[n], {
                        dy: i * x,
                        x: g.x
                    }) : q(m[0], {dy: 0});
                    q(h, {x: g.x, y: g.y}), d._.dirty = 1;
                    var p = d._getBBox(), r = g.y - (p.y + p.height / 2);
                    r && c.is(r, "finite") && q(m[0], {dy: r})
                }
            }, z = function (a, b) {
                this[0] = this.node = a, a.raphael = !0, this.id = c._oid++, a.raphaelid = this.id, this.matrix = c.matrix(), this.realPath = null, this.paper = b, this.attrs = this.attrs || {}, this._ = {
                    transform: [],
                    sx: 1,
                    sy: 1,
                    deg: 0,
                    dx: 0,
                    dy: 0,
                    dirty: 1
                }, !b.bottom && (b.bottom = this), this.prev = b.top, b.top && (b.top.next = this), b.top = this, this.next = null
            }, A = c.el;
            z.prototype = A, A.constructor = z, c._engine.path = function (a, b) {
                var c = q("path");
                b.canvas && b.canvas.appendChild(c);
                var d = new z(c, b);
                return d.type = "path", w(d, {fill: "none", stroke: "#000", path: a}), d
            }, A.rotate = function (a, c, e) {
                if (this.removed)return this;
                if (a = b(a).split(j), a.length - 1 && (c = d(a[1]), e = d(a[2])), a = d(a[0]), null == e && (c = e), null == c || null == e) {
                    var f = this.getBBox(1);
                    c = f.x + f.width / 2, e = f.y + f.height / 2
                }
                return this.transform(this._.transform.concat([["r", a, c, e]])), this
            }, A.scale = function (a, c, e, f) {
                if (this.removed)return this;
                if (a = b(a).split(j), a.length - 1 && (c = d(a[1]), e = d(a[2]), f = d(a[3])), a = d(a[0]), null == c && (c = a), null == f && (e = f), null == e || null == f)var g = this.getBBox(1);
                return e = null == e ? g.x + g.width / 2 : e, f = null == f ? g.y + g.height / 2 : f, this.transform(this._.transform.concat([["s", a, c, e, f]])), this
            }, A.translate = function (a, c) {
                return this.removed ? this : (a = b(a).split(j), a.length - 1 && (c = d(a[1])), a = d(a[0]) || 0, c = +c || 0, this.transform(this._.transform.concat([["t", a, c]])), this)
            }, A.transform = function (b) {
                var d = this._;
                if (null == b)return d.transform;
                if (c._extractTransform(this, b), this.clip && q(this.clip, {transform: this.matrix.invert()}), this.pattern && s(this), this.node && q(this.node, {transform: this.matrix}), 1 != d.sx || 1 != d.sy) {
                    var e = this.attrs[a]("stroke-width") ? this.attrs["stroke-width"] : 1;
                    this.attr({"stroke-width": e})
                }
                return this
            }, A.hide = function () {
                return !this.removed && this.paper.safari(this.node.style.display = "none"), this
            }, A.show = function () {
                return !this.removed && this.paper.safari(this.node.style.display = ""), this
            }, A.remove = function () {
                if (!this.removed && this.node.parentNode) {
                    var a = this.paper;
                    a.__set__ && a.__set__.exclude(this), k.unbind("raphael.*.*." + this.id), this.gradient && a.defs.removeChild(this.gradient), c._tear(this, a), "a" == this.node.parentNode.tagName.toLowerCase() ? this.node.parentNode.parentNode.removeChild(this.node.parentNode) : this.node.parentNode.removeChild(this.node);
                    for (var b in this)this[b] = "function" == typeof this[b] ? c._removedFactory(b) : null;
                    this.removed = !0
                }
            }, A._getBBox = function () {
                if ("none" == this.node.style.display) {
                    this.show();
                    var a = !0
                }
                var b = {};
                try {
                    b = this.node.getBBox()
                } catch (c) {
                } finally {
                    b = b || {}
                }
                return a && this.hide(), b
            }, A.attr = function (b, d) {
                if (this.removed)return this;
                if (null == b) {
                    var e = {};
                    for (var f in this.attrs)this.attrs[a](f) && (e[f] = this.attrs[f]);
                    return e.gradient && "none" == e.fill && (e.fill = e.gradient) && delete e.gradient, e.transform = this._.transform, e
                }
                if (null == d && c.is(b, "string")) {
                    if ("fill" == b && "none" == this.attrs.fill && this.attrs.gradient)return this.attrs.gradient;
                    if ("transform" == b)return this._.transform;
                    for (var g = b.split(j), h = {}, i = 0, l = g.length; l > i; i++)b = g[i], h[b] = b in this.attrs ? this.attrs[b] : c.is(this.paper.customAttributes[b], "function") ? this.paper.customAttributes[b].def : c._availableAttrs[b];
                    return l - 1 ? h : h[g[0]]
                }
                if (null == d && c.is(b, "array")) {
                    for (h = {}, i = 0, l = b.length; l > i; i++)h[b[i]] = this.attr(b[i]);
                    return h
                }
                if (null != d) {
                    var m = {};
                    m[b] = d
                } else null != b && c.is(b, "object") && (m = b);
                for (var n in m)k("raphael.attr." + n + "." + this.id, this, m[n]);
                for (n in this.paper.customAttributes)if (this.paper.customAttributes[a](n) && m[a](n) && c.is(this.paper.customAttributes[n], "function")) {
                    var o = this.paper.customAttributes[n].apply(this, [].concat(m[n]));
                    this.attrs[n] = m[n];
                    for (var p in o)o[a](p) && (m[p] = o[p])
                }
                return w(this, m), this
            }, A.toFront = function () {
                if (this.removed)return this;
                "a" == this.node.parentNode.tagName.toLowerCase() ? this.node.parentNode.parentNode.appendChild(this.node.parentNode) : this.node.parentNode.appendChild(this.node);
                var a = this.paper;
                return a.top != this && c._tofront(this, a), this
            }, A.toBack = function () {
                if (this.removed)return this;
                var a = this.node.parentNode;
                "a" == a.tagName.toLowerCase() ? a.parentNode.insertBefore(this.node.parentNode, this.node.parentNode.parentNode.firstChild) : a.firstChild != this.node && a.insertBefore(this.node, this.node.parentNode.firstChild), c._toback(this, this.paper);
                this.paper;
                return this
            }, A.insertAfter = function (a) {
                if (this.removed)return this;
                var b = a.node || a[a.length - 1].node;
                return b.nextSibling ? b.parentNode.insertBefore(this.node, b.nextSibling) : b.parentNode.appendChild(this.node), c._insertafter(this, a, this.paper), this
            }, A.insertBefore = function (a) {
                if (this.removed)return this;
                var b = a.node || a[0].node;
                return b.parentNode.insertBefore(this.node, b), c._insertbefore(this, a, this.paper), this
            }, A.blur = function (a) {
                var b = this;
                if (0 !== +a) {
                    var d = q("filter"), e = q("feGaussianBlur");
                    b.attrs.blur = a, d.id = c.createUUID(), q(e, {stdDeviation: +a || 1.5}), d.appendChild(e), b.paper.defs.appendChild(d), b._blur = d, q(b.node, {filter: "url(#" + d.id + ")"})
                } else b._blur && (b._blur.parentNode.removeChild(b._blur), delete b._blur, delete b.attrs.blur), b.node.removeAttribute("filter");
                return b
            }, c._engine.circle = function (a, b, c, d) {
                var e = q("circle");
                a.canvas && a.canvas.appendChild(e);
                var f = new z(e, a);
                return f.attrs = {cx: b, cy: c, r: d, fill: "none", stroke: "#000"}, f.type = "circle", q(e, f.attrs), f
            }, c._engine.rect = function (a, b, c, d, e, f) {
                var g = q("rect");
                a.canvas && a.canvas.appendChild(g);
                var h = new z(g, a);
                return h.attrs = {
                    x: b,
                    y: c,
                    width: d,
                    height: e,
                    r: f || 0,
                    rx: f || 0,
                    ry: f || 0,
                    fill: "none",
                    stroke: "#000"
                }, h.type = "rect", q(g, h.attrs), h
            }, c._engine.ellipse = function (a, b, c, d, e) {
                var f = q("ellipse");
                a.canvas && a.canvas.appendChild(f);
                var g = new z(f, a);
                return g.attrs = {
                    cx: b,
                    cy: c,
                    rx: d,
                    ry: e,
                    fill: "none",
                    stroke: "#000"
                }, g.type = "ellipse", q(f, g.attrs), g
            }, c._engine.image = function (a, b, c, d, e, f) {
                var g = q("image");
                q(g, {
                    x: c,
                    y: d,
                    width: e,
                    height: f,
                    preserveAspectRatio: "none"
                }), g.setAttributeNS(n, "href", b), a.canvas && a.canvas.appendChild(g);
                var h = new z(g, a);
                return h.attrs = {x: c, y: d, width: e, height: f, src: b}, h.type = "image", h
            }, c._engine.text = function (a, b, d, e) {
                var f = q("text");
                a.canvas && a.canvas.appendChild(f);
                var g = new z(f, a);
                return g.attrs = {
                    x: b,
                    y: d,
                    "text-anchor": "middle",
                    text: e,
                    font: c._availableAttrs.font,
                    stroke: "none",
                    fill: "#000"
                }, g.type = "text", w(g, g.attrs), g
            }, c._engine.setSize = function (a, b) {
                return this.width = a || this.width, this.height = b || this.height, this.canvas.setAttribute("width", this.width), this.canvas.setAttribute("height", this.height), this._viewBox && this.setViewBox.apply(this, this._viewBox), this
            }, c._engine.create = function () {
                var a = c._getContainer.apply(0, arguments), b = a && a.container, d = a.x, e = a.y, f = a.width, g = a.height;
                if (!b)throw new Error("SVG container not found.");
                var h, i = q("svg"), j = "overflow:hidden;";
                return d = d || 0, e = e || 0, f = f || 512, g = g || 342, q(i, {
                    height: g,
                    version: 1.1,
                    width: f,
                    xmlns: "http://www.w3.org/2000/svg"
                }), 1 == b ? (i.style.cssText = j + "position:absolute;left:" + d + "px;top:" + e + "px", c._g.doc.body.appendChild(i), h = 1) : (i.style.cssText = j + "position:relative", b.firstChild ? b.insertBefore(i, b.firstChild) : b.appendChild(i)), b = new c._Paper, b.width = f, b.height = g, b.canvas = i, b.clear(), b._left = b._top = 0, h && (b.renderfix = function () {
                }), b.renderfix(), b
            }, c._engine.setViewBox = function (a, b, c, d, e) {
                k("raphael.setViewBox", this, this._viewBox, [a, b, c, d, e]);
                var f, h, i = g(c / this.width, d / this.height), j = this.top, l = e ? "xMidYMid meet" : "xMinYMin";
                for (null == a ? (this._vbSize && (i = 1), delete this._vbSize, f = "0 0 " + this.width + m + this.height) : (this._vbSize = i, f = a + m + b + m + c + m + d), q(this.canvas, {
                    viewBox: f,
                    preserveAspectRatio: l
                }); i && j;)h = "stroke-width"in j.attrs ? j.attrs["stroke-width"] : 1, j.attr({"stroke-width": h}), j._.dirty = 1, j._.dirtyT = 1, j = j.prev;
                return this._viewBox = [a, b, c, d, !!e], this
            }, c.prototype.renderfix = function () {
                var a, b = this.canvas, c = b.style;
                try {
                    a = b.getScreenCTM() || b.createSVGMatrix()
                } catch (d) {
                    a = b.createSVGMatrix()
                }
                var e = -a.e % 1, f = -a.f % 1;
                (e || f) && (e && (this._left = (this._left + e) % 1, c.left = this._left + "px"), f && (this._top = (this._top + f) % 1, c.top = this._top + "px"))
            }, c.prototype.clear = function () {
                c.eve("raphael.clear", this);
                for (var a = this.canvas; a.firstChild;)a.removeChild(a.firstChild);
                this.bottom = this.top = null, (this.desc = q("desc")).appendChild(c._g.doc.createTextNode("Created with Raphaël " + c.version)), a.appendChild(this.desc), a.appendChild(this.defs = q("defs"))
            }, c.prototype.remove = function () {
                k("raphael.remove", this), this.canvas.parentNode && this.canvas.parentNode.removeChild(this.canvas);
                for (var a in this)this[a] = "function" == typeof this[a] ? c._removedFactory(a) : null
            };
            var B = c.st;
            for (var C in A)A[a](C) && !B[a](C) && (B[C] = function (a) {
                return function () {
                    var b = arguments;
                    return this.forEach(function (c) {
                        c[a].apply(c, b)
                    })
                }
            }(C))
        }
    }(), function () {
        if (c.vml) {
            var a = "hasOwnProperty", b = String, d = parseFloat, e = Math, f = e.round, g = e.max, h = e.min, i = e.abs, j = "fill", k = /[, ]+/, l = c.eve, m = " progid:DXImageTransform.Microsoft", n = " ", o = "", p = {
                M: "m",
                L: "l",
                C: "c",
                Z: "x",
                m: "t",
                l: "r",
                c: "v",
                z: "x"
            }, q = /([clmz]),?([^clmz]*)/gi, r = / progid:\S+Blur\([^\)]+\)/g, s = /-?[^,\s-]+/g, t = "position:absolute;left:0;top:0;width:1px;height:1px", u = 21600, v = {
                path: 1,
                rect: 1,
                image: 1
            }, w = {circle: 1, ellipse: 1}, x = function (a) {
                var d = /[ahqstv]/gi, e = c._pathToAbsolute;
                if (b(a).match(d) && (e = c._path2curve), d = /[clmz]/g, e == c._pathToAbsolute && !b(a).match(d)) {
                    var g = b(a).replace(q, function (a, b, c) {
                        var d = [], e = "m" == b.toLowerCase(), g = p[b];
                        return c.replace(s, function (a) {
                            e && 2 == d.length && (g += d + p["m" == b ? "l" : "L"], d = []), d.push(f(a * u))
                        }), g + d
                    });
                    return g
                }
                var h, i, j = e(a);
                g = [];
                for (var k = 0, l = j.length; l > k; k++) {
                    h = j[k], i = j[k][0].toLowerCase(), "z" == i && (i = "x");
                    for (var m = 1, r = h.length; r > m; m++)i += f(h[m] * u) + (m != r - 1 ? "," : o);
                    g.push(i)
                }
                return g.join(n)
            }, y = function (a, b, d) {
                var e = c.matrix();
                return e.rotate(-a, .5, .5), {dx: e.x(b, d), dy: e.y(b, d)}
            }, z = function (a, b, c, d, e, f) {
                var g = a._, h = a.matrix, k = g.fillpos, l = a.node, m = l.style, o = 1, p = "", q = u / b, r = u / c;
                if (m.visibility = "hidden", b && c) {
                    if (l.coordsize = i(q) + n + i(r), m.rotation = f * (0 > b * c ? -1 : 1), f) {
                        var s = y(f, d, e);
                        d = s.dx, e = s.dy
                    }
                    if (0 > b && (p += "x"), 0 > c && (p += " y") && (o = -1), m.flip = p, l.coordorigin = d * -q + n + e * -r, k || g.fillsize) {
                        var t = l.getElementsByTagName(j);
                        t = t && t[0], l.removeChild(t), k && (s = y(f, h.x(k[0], k[1]), h.y(k[0], k[1])), t.position = s.dx * o + n + s.dy * o), g.fillsize && (t.size = g.fillsize[0] * i(b) + n + g.fillsize[1] * i(c)), l.appendChild(t)
                    }
                    m.visibility = "visible"
                }
            };
            c.toString = function () {
                return "Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël " + this.version
            };
            var A = function (a, c, d) {
                for (var e = b(c).toLowerCase().split("-"), f = d ? "end" : "start", g = e.length, h = "classic", i = "medium", j = "medium"; g--;)switch (e[g]) {
                    case"block":
                    case"classic":
                    case"oval":
                    case"diamond":
                    case"open":
                    case"none":
                        h = e[g];
                        break;
                    case"wide":
                    case"narrow":
                        j = e[g];
                        break;
                    case"long":
                    case"short":
                        i = e[g]
                }
                var k = a.node.getElementsByTagName("stroke")[0];
                k[f + "arrow"] = h, k[f + "arrowlength"] = i, k[f + "arrowwidth"] = j
            }, B = function (e, i) {
                e.attrs = e.attrs || {};
                var l = e.node, m = e.attrs, p = l.style, q = v[e.type] && (i.x != m.x || i.y != m.y || i.width != m.width || i.height != m.height || i.cx != m.cx || i.cy != m.cy || i.rx != m.rx || i.ry != m.ry || i.r != m.r), r = w[e.type] && (m.cx != i.cx || m.cy != i.cy || m.r != i.r || m.rx != i.rx || m.ry != i.ry), s = e;
                for (var t in i)i[a](t) && (m[t] = i[t]);
                if (q && (m.path = c._getPath[e.type](e), e._.dirty = 1), i.href && (l.href = i.href), i.title && (l.title = i.title), i.target && (l.target = i.target), i.cursor && (p.cursor = i.cursor), "blur"in i && e.blur(i.blur), (i.path && "path" == e.type || q) && (l.path = x(~b(m.path).toLowerCase().indexOf("r") ? c._pathToAbsolute(m.path) : m.path), "image" == e.type && (e._.fillpos = [m.x, m.y], e._.fillsize = [m.width, m.height], z(e, 1, 1, 0, 0, 0))), "transform"in i && e.transform(i.transform), r) {
                    var y = +m.cx, B = +m.cy, D = +m.rx || +m.r || 0, E = +m.ry || +m.r || 0;
                    l.path = c.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x", f((y - D) * u), f((B - E) * u), f((y + D) * u), f((B + E) * u), f(y * u)), e._.dirty = 1
                }
                if ("clip-rect"in i) {
                    var G = b(i["clip-rect"]).split(k);
                    if (4 == G.length) {
                        G[2] = +G[2] + +G[0], G[3] = +G[3] + +G[1];
                        var H = l.clipRect || c._g.doc.createElement("div"), I = H.style;
                        I.clip = c.format("rect({1}px {2}px {3}px {0}px)", G), l.clipRect || (I.position = "absolute", I.top = 0, I.left = 0, I.width = e.paper.width + "px", I.height = e.paper.height + "px", l.parentNode.insertBefore(H, l), H.appendChild(l), l.clipRect = H)
                    }
                    i["clip-rect"] || l.clipRect && (l.clipRect.style.clip = "auto")
                }
                if (e.textpath) {
                    var J = e.textpath.style;
                    i.font && (J.font = i.font), i["font-family"] && (J.fontFamily = '"' + i["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g, o) + '"'), i["font-size"] && (J.fontSize = i["font-size"]), i["font-weight"] && (J.fontWeight = i["font-weight"]), i["font-style"] && (J.fontStyle = i["font-style"])
                }
                if ("arrow-start"in i && A(s, i["arrow-start"]), "arrow-end"in i && A(s, i["arrow-end"], 1), null != i.opacity || null != i["stroke-width"] || null != i.fill || null != i.src || null != i.stroke || null != i["stroke-width"] || null != i["stroke-opacity"] || null != i["fill-opacity"] || null != i["stroke-dasharray"] || null != i["stroke-miterlimit"] || null != i["stroke-linejoin"] || null != i["stroke-linecap"]) {
                    var K = l.getElementsByTagName(j), L = !1;
                    if (K = K && K[0], !K && (L = K = F(j)), "image" == e.type && i.src && (K.src = i.src), i.fill && (K.on = !0), (null == K.on || "none" == i.fill || null === i.fill) && (K.on = !1), K.on && i.fill) {
                        var M = b(i.fill).match(c._ISURL);
                        if (M) {
                            K.parentNode == l && l.removeChild(K), K.rotate = !0, K.src = M[1], K.type = "tile";
                            var N = e.getBBox(1);
                            K.position = N.x + n + N.y, e._.fillpos = [N.x, N.y], c._preload(M[1], function () {
                                e._.fillsize = [this.offsetWidth, this.offsetHeight]
                            })
                        } else K.color = c.getRGB(i.fill).hex, K.src = o, K.type = "solid", c.getRGB(i.fill).error && (s.type in{
                            circle: 1,
                            ellipse: 1
                        } || "r" != b(i.fill).charAt()) && C(s, i.fill, K) && (m.fill = "none", m.gradient = i.fill, K.rotate = !1)
                    }
                    if ("fill-opacity"in i || "opacity"in i) {
                        var O = ((+m["fill-opacity"] + 1 || 2) - 1) * ((+m.opacity + 1 || 2) - 1) * ((+c.getRGB(i.fill).o + 1 || 2) - 1);
                        O = h(g(O, 0), 1), K.opacity = O, K.src && (K.color = "none")
                    }
                    l.appendChild(K);
                    var P = l.getElementsByTagName("stroke") && l.getElementsByTagName("stroke")[0], Q = !1;
                    !P && (Q = P = F("stroke")), (i.stroke && "none" != i.stroke || i["stroke-width"] || null != i["stroke-opacity"] || i["stroke-dasharray"] || i["stroke-miterlimit"] || i["stroke-linejoin"] || i["stroke-linecap"]) && (P.on = !0), ("none" == i.stroke || null === i.stroke || null == P.on || 0 == i.stroke || 0 == i["stroke-width"]) && (P.on = !1);
                    var R = c.getRGB(i.stroke);
                    P.on && i.stroke && (P.color = R.hex), O = ((+m["stroke-opacity"] + 1 || 2) - 1) * ((+m.opacity + 1 || 2) - 1) * ((+R.o + 1 || 2) - 1);
                    var S = .75 * (d(i["stroke-width"]) || 1);
                    if (O = h(g(O, 0), 1), null == i["stroke-width"] && (S = m["stroke-width"]), i["stroke-width"] && (P.weight = S), S && 1 > S && (O *= S) && (P.weight = 1), P.opacity = O, i["stroke-linejoin"] && (P.joinstyle = i["stroke-linejoin"] || "miter"), P.miterlimit = i["stroke-miterlimit"] || 8, i["stroke-linecap"] && (P.endcap = "butt" == i["stroke-linecap"] ? "flat" : "square" == i["stroke-linecap"] ? "square" : "round"), "stroke-dasharray"in i) {
                        var T = {
                            "-": "shortdash",
                            ".": "shortdot",
                            "-.": "shortdashdot",
                            "-..": "shortdashdotdot",
                            ". ": "dot",
                            "- ": "dash",
                            "--": "longdash",
                            "- .": "dashdot",
                            "--.": "longdashdot",
                            "--..": "longdashdotdot"
                        };
                        P.dashstyle = T[a](i["stroke-dasharray"]) ? T[i["stroke-dasharray"]] : o
                    }
                    Q && l.appendChild(P)
                }
                if ("text" == s.type) {
                    s.paper.canvas.style.display = o;
                    var U = s.paper.span, V = 100, W = m.font && m.font.match(/\d+(?:\.\d*)?(?=px)/);
                    p = U.style, m.font && (p.font = m.font), m["font-family"] && (p.fontFamily = m["font-family"]), m["font-weight"] && (p.fontWeight = m["font-weight"]), m["font-style"] && (p.fontStyle = m["font-style"]), W = d(m["font-size"] || W && W[0]) || 10, p.fontSize = W * V + "px", s.textpath.string && (U.innerHTML = b(s.textpath.string).replace(/</g, "&#60;").replace(/&/g, "&#38;").replace(/\n/g, "<br>"));
                    var X = U.getBoundingClientRect();
                    s.W = m.w = (X.right - X.left) / V, s.H = m.h = (X.bottom - X.top) / V, s.X = m.x, s.Y = m.y + s.H / 2, ("x"in i || "y"in i) && (s.path.v = c.format("m{0},{1}l{2},{1}", f(m.x * u), f(m.y * u), f(m.x * u) + 1));
                    for (var Y = ["x", "y", "text", "font", "font-family", "font-weight", "font-style", "font-size"], Z = 0, $ = Y.length; $ > Z; Z++)if (Y[Z]in i) {
                        s._.dirty = 1;
                        break
                    }
                    switch (m["text-anchor"]) {
                        case"start":
                            s.textpath.style["v-text-align"] = "left", s.bbx = s.W / 2;
                            break;
                        case"end":
                            s.textpath.style["v-text-align"] = "right", s.bbx = -s.W / 2;
                            break;
                        default:
                            s.textpath.style["v-text-align"] = "center", s.bbx = 0
                    }
                    s.textpath.style["v-text-kern"] = !0
                }
            }, C = function (a, f, g) {
                a.attrs = a.attrs || {};
                var h = (a.attrs, Math.pow), i = "linear", j = ".5 .5";
                if (a.attrs.gradient = f, f = b(f).replace(c._radial_gradient, function (a, b, c) {
                        return i = "radial", b && c && (b = d(b), c = d(c), h(b - .5, 2) + h(c - .5, 2) > .25 && (c = e.sqrt(.25 - h(b - .5, 2)) * (2 * (c > .5) - 1) + .5), j = b + n + c), o
                    }), f = f.split(/\s*\-\s*/), "linear" == i) {
                    var k = f.shift();
                    if (k = -d(k), isNaN(k))return null
                }
                var l = c._parseDots(f);
                if (!l)return null;
                if (a = a.shape || a.node, l.length) {
                    a.removeChild(g), g.on = !0, g.method = "none", g.color = l[0].color, g.color2 = l[l.length - 1].color;
                    for (var m = [], p = 0, q = l.length; q > p; p++)l[p].offset && m.push(l[p].offset + n + l[p].color);
                    g.colors = m.length ? m.join() : "0% " + g.color, "radial" == i ? (g.type = "gradientTitle", g.focus = "100%", g.focussize = "0 0", g.focusposition = j, g.angle = 0) : (g.type = "gradient", g.angle = (270 - k) % 360), a.appendChild(g)
                }
                return 1
            }, D = function (a, b) {
                this[0] = this.node = a, a.raphael = !0, this.id = c._oid++, a.raphaelid = this.id, this.X = 0, this.Y = 0, this.attrs = {}, this.paper = b, this.matrix = c.matrix(), this._ = {
                    transform: [],
                    sx: 1,
                    sy: 1,
                    dx: 0,
                    dy: 0,
                    deg: 0,
                    dirty: 1,
                    dirtyT: 1
                }, !b.bottom && (b.bottom = this), this.prev = b.top, b.top && (b.top.next = this), b.top = this, this.next = null
            }, E = c.el;
            D.prototype = E, E.constructor = D, E.transform = function (a) {
                if (null == a)return this._.transform;
                var d, e = this.paper._viewBoxShift, f = e ? "s" + [e.scale, e.scale] + "-1-1t" + [e.dx, e.dy] : o;
                e && (d = a = b(a).replace(/\.{3}|\u2026/g, this._.transform || o)), c._extractTransform(this, f + a);
                var g, h = this.matrix.clone(), i = this.skew, j = this.node, k = ~b(this.attrs.fill).indexOf("-"), l = !b(this.attrs.fill).indexOf("url(");
                if (h.translate(1, 1), l || k || "image" == this.type)if (i.matrix = "1 0 0 1", i.offset = "0 0", g = h.split(), k && g.noRotation || !g.isSimple) {
                    j.style.filter = h.toFilter();
                    var m = this.getBBox(), p = this.getBBox(1), q = m.x - p.x, r = m.y - p.y;
                    j.coordorigin = q * -u + n + r * -u, z(this, 1, 1, q, r, 0)
                } else j.style.filter = o, z(this, g.scalex, g.scaley, g.dx, g.dy, g.rotate); else j.style.filter = o, i.matrix = b(h), i.offset = h.offset();
                return d && (this._.transform = d), this
            }, E.rotate = function (a, c, e) {
                if (this.removed)return this;
                if (null != a) {
                    if (a = b(a).split(k), a.length - 1 && (c = d(a[1]), e = d(a[2])), a = d(a[0]), null == e && (c = e), null == c || null == e) {
                        var f = this.getBBox(1);
                        c = f.x + f.width / 2, e = f.y + f.height / 2
                    }
                    return this._.dirtyT = 1, this.transform(this._.transform.concat([["r", a, c, e]])), this
                }
            }, E.translate = function (a, c) {
                return this.removed ? this : (a = b(a).split(k), a.length - 1 && (c = d(a[1])), a = d(a[0]) || 0, c = +c || 0, this._.bbox && (this._.bbox.x += a, this._.bbox.y += c), this.transform(this._.transform.concat([["t", a, c]])), this)
            }, E.scale = function (a, c, e, f) {
                if (this.removed)return this;
                if (a = b(a).split(k), a.length - 1 && (c = d(a[1]), e = d(a[2]), f = d(a[3]), isNaN(e) && (e = null), isNaN(f) && (f = null)), a = d(a[0]), null == c && (c = a), null == f && (e = f), null == e || null == f)var g = this.getBBox(1);
                return e = null == e ? g.x + g.width / 2 : e, f = null == f ? g.y + g.height / 2 : f, this.transform(this._.transform.concat([["s", a, c, e, f]])), this._.dirtyT = 1, this
            }, E.hide = function () {
                return !this.removed && (this.node.style.display = "none"), this
            }, E.show = function () {
                return !this.removed && (this.node.style.display = o), this
            }, E._getBBox = function () {
                return this.removed ? {} : {
                    x: this.X + (this.bbx || 0) - this.W / 2,
                    y: this.Y - this.H,
                    width: this.W,
                    height: this.H
                }
            }, E.remove = function () {
                if (!this.removed && this.node.parentNode) {
                    this.paper.__set__ && this.paper.__set__.exclude(this), c.eve.unbind("raphael.*.*." + this.id), c._tear(this, this.paper), this.node.parentNode.removeChild(this.node), this.shape && this.shape.parentNode.removeChild(this.shape);
                    for (var a in this)this[a] = "function" == typeof this[a] ? c._removedFactory(a) : null;
                    this.removed = !0
                }
            }, E.attr = function (b, d) {
                if (this.removed)return this;
                if (null == b) {
                    var e = {};
                    for (var f in this.attrs)this.attrs[a](f) && (e[f] = this.attrs[f]);
                    return e.gradient && "none" == e.fill && (e.fill = e.gradient) && delete e.gradient, e.transform = this._.transform, e
                }
                if (null == d && c.is(b, "string")) {
                    if (b == j && "none" == this.attrs.fill && this.attrs.gradient)return this.attrs.gradient;
                    for (var g = b.split(k), h = {}, i = 0, m = g.length; m > i; i++)b = g[i], h[b] = b in this.attrs ? this.attrs[b] : c.is(this.paper.customAttributes[b], "function") ? this.paper.customAttributes[b].def : c._availableAttrs[b];
                    return m - 1 ? h : h[g[0]]
                }
                if (this.attrs && null == d && c.is(b, "array")) {
                    for (h = {}, i = 0, m = b.length; m > i; i++)h[b[i]] = this.attr(b[i]);
                    return h
                }
                var n;
                null != d && (n = {}, n[b] = d), null == d && c.is(b, "object") && (n = b);
                for (var o in n)l("raphael.attr." + o + "." + this.id, this, n[o]);
                if (n) {
                    for (o in this.paper.customAttributes)if (this.paper.customAttributes[a](o) && n[a](o) && c.is(this.paper.customAttributes[o], "function")) {
                        var p = this.paper.customAttributes[o].apply(this, [].concat(n[o]));
                        this.attrs[o] = n[o];
                        for (var q in p)p[a](q) && (n[q] = p[q])
                    }
                    n.text && "text" == this.type && (this.textpath.string = n.text), B(this, n)
                }
                return this
            }, E.toFront = function () {
                return !this.removed && this.node.parentNode.appendChild(this.node), this.paper && this.paper.top != this && c._tofront(this, this.paper), this
            }, E.toBack = function () {
                return this.removed ? this : (this.node.parentNode.firstChild != this.node && (this.node.parentNode.insertBefore(this.node, this.node.parentNode.firstChild), c._toback(this, this.paper)), this)
            }, E.insertAfter = function (a) {
                return this.removed ? this : (a.constructor == c.st.constructor && (a = a[a.length - 1]), a.node.nextSibling ? a.node.parentNode.insertBefore(this.node, a.node.nextSibling) : a.node.parentNode.appendChild(this.node), c._insertafter(this, a, this.paper), this)
            }, E.insertBefore = function (a) {
                return this.removed ? this : (a.constructor == c.st.constructor && (a = a[0]), a.node.parentNode.insertBefore(this.node, a.node), c._insertbefore(this, a, this.paper), this)
            }, E.blur = function (a) {
                var b = this.node.runtimeStyle, d = b.filter;
                return d = d.replace(r, o), 0 !== +a ? (this.attrs.blur = a, b.filter = d + n + m + ".Blur(pixelradius=" + (+a || 1.5) + ")", b.margin = c.format("-{0}px 0 0 -{0}px", f(+a || 1.5))) : (b.filter = d, b.margin = 0, delete this.attrs.blur), this
            }, c._engine.path = function (a, b) {
                var c = F("shape");
                c.style.cssText = t, c.coordsize = u + n + u, c.coordorigin = b.coordorigin;
                var d = new D(c, b), e = {fill: "none", stroke: "#000"};
                a && (e.path = a), d.type = "path", d.path = [], d.Path = o, B(d, e), b.canvas.appendChild(c);
                var f = F("skew");
                return f.on = !0, c.appendChild(f), d.skew = f, d.transform(o), d
            }, c._engine.rect = function (a, b, d, e, f, g) {
                var h = c._rectPath(b, d, e, f, g), i = a.path(h), j = i.attrs;
                return i.X = j.x = b, i.Y = j.y = d, i.W = j.width = e, i.H = j.height = f, j.r = g, j.path = h, i.type = "rect", i
            }, c._engine.ellipse = function (a, b, c, d, e) {
                {
                    var f = a.path();
                    f.attrs
                }
                return f.X = b - d, f.Y = c - e, f.W = 2 * d, f.H = 2 * e, f.type = "ellipse", B(f, {
                    cx: b,
                    cy: c,
                    rx: d,
                    ry: e
                }), f
            }, c._engine.circle = function (a, b, c, d) {
                {
                    var e = a.path();
                    e.attrs
                }
                return e.X = b - d, e.Y = c - d, e.W = e.H = 2 * d, e.type = "circle", B(e, {cx: b, cy: c, r: d}), e
            }, c._engine.image = function (a, b, d, e, f, g) {
                var h = c._rectPath(d, e, f, g), i = a.path(h).attr({stroke: "none"}), k = i.attrs, l = i.node, m = l.getElementsByTagName(j)[0];
                return k.src = b, i.X = k.x = d, i.Y = k.y = e, i.W = k.width = f, i.H = k.height = g, k.path = h, i.type = "image", m.parentNode == l && l.removeChild(m), m.rotate = !0, m.src = b, m.type = "tile", i._.fillpos = [d, e], i._.fillsize = [f, g], l.appendChild(m), z(i, 1, 1, 0, 0, 0), i
            }, c._engine.text = function (a, d, e, g) {
                var h = F("shape"), i = F("path"), j = F("textpath");
                d = d || 0, e = e || 0, g = g || "", i.v = c.format("m{0},{1}l{2},{1}", f(d * u), f(e * u), f(d * u) + 1), i.textpathok = !0, j.string = b(g), j.on = !0, h.style.cssText = t, h.coordsize = u + n + u, h.coordorigin = "0 0";
                var k = new D(h, a), l = {fill: "#000", stroke: "none", font: c._availableAttrs.font, text: g};
                k.shape = h, k.path = i, k.textpath = j, k.type = "text", k.attrs.text = b(g), k.attrs.x = d, k.attrs.y = e, k.attrs.w = 1, k.attrs.h = 1, B(k, l), h.appendChild(j), h.appendChild(i), a.canvas.appendChild(h);
                var m = F("skew");
                return m.on = !0, h.appendChild(m), k.skew = m, k.transform(o), k
            }, c._engine.setSize = function (a, b) {
                var d = this.canvas.style;
                return this.width = a, this.height = b, a == +a && (a += "px"), b == +b && (b += "px"), d.width = a, d.height = b, d.clip = "rect(0 " + a + " " + b + " 0)", this._viewBox && c._engine.setViewBox.apply(this, this._viewBox), this
            }, c._engine.setViewBox = function (a, b, d, e, f) {
                c.eve("raphael.setViewBox", this, this._viewBox, [a, b, d, e, f]);
                var h, i, j = this.width, k = this.height, l = 1 / g(d / j, e / k);
                return f && (h = k / e, i = j / d, j > d * h && (a -= (j - d * h) / 2 / h), k > e * i && (b -= (k - e * i) / 2 / i)), this._viewBox = [a, b, d, e, !!f], this._viewBoxShift = {
                    dx: -a,
                    dy: -b,
                    scale: l
                }, this.forEach(function (a) {
                    a.transform("...")
                }), this
            };
            var F;
            c._engine.initWin = function (a) {
                var b = a.document;
                b.createStyleSheet().addRule(".rvml", "behavior:url(#default#VML)");
                try {
                    !b.namespaces.rvml && b.namespaces.add("rvml", "urn:schemas-microsoft-com:vml"), F = function (a) {
                        return b.createElement("<rvml:" + a + ' class="rvml">')
                    }
                } catch (c) {
                    F = function (a) {
                        return b.createElement("<" + a + ' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')
                    }
                }
            }, c._engine.initWin(c._g.win), c._engine.create = function () {
                var a = c._getContainer.apply(0, arguments), b = a.container, d = a.height, e = a.width, f = a.x, g = a.y;
                if (!b)throw new Error("VML container not found.");
                var h = new c._Paper, i = h.canvas = c._g.doc.createElement("div"), j = i.style;
                return f = f || 0, g = g || 0, e = e || 512, d = d || 342, h.width = e, h.height = d, e == +e && (e += "px"), d == +d && (d += "px"), h.coordsize = 1e3 * u + n + 1e3 * u, h.coordorigin = "0 0", h.span = c._g.doc.createElement("span"), h.span.style.cssText = "position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;", i.appendChild(h.span), j.cssText = c.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden", e, d), 1 == b ? (c._g.doc.body.appendChild(i), j.left = f + "px", j.top = g + "px", j.position = "absolute") : b.firstChild ? b.insertBefore(i, b.firstChild) : b.appendChild(i), h.renderfix = function () {
                }, h
            }, c.prototype.clear = function () {
                c.eve("raphael.clear", this), this.canvas.innerHTML = o, this.span = c._g.doc.createElement("span"), this.span.style.cssText = "position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;", this.canvas.appendChild(this.span), this.bottom = this.top = null
            }, c.prototype.remove = function () {
                c.eve("raphael.remove", this), this.canvas.parentNode.removeChild(this.canvas);
                for (var a in this)this[a] = "function" == typeof this[a] ? c._removedFactory(a) : null;
                return !0
            };
            var G = c.st;
            for (var H in E)E[a](H) && !G[a](H) && (G[H] = function (a) {
                return function () {
                    var b = arguments;
                    return this.forEach(function (c) {
                        c[a].apply(c, b)
                    })
                }
            }(H))
        }
    }(), B.was ? A.win.Raphael = c : Raphael = c, c
}), function () {
    function a(b, c) {
        if (!b || "function" == typeof b)return c;
        var d = {};
        for (var e in c)d[e] = c[e];
        for (e in b)b[e] && (d[e] = "object" == typeof d[e] ? a(d[e], b[e]) : b[e]);
        return d
    }

    function b(a, b) {
        if ("function" == typeof Object.create)a.super_ = b, a.prototype = Object.create(b.prototype, {
            constructor: {
                value: a,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }); else {
            a.super_ = b;
            var c = function () {
            };
            c.prototype = b.prototype, a.prototype = new c, a.prototype.constructor = a
        }
    }

    function c(a, b, c) {
        var d, e, f = "M{0},{1}";
        for (d = 2, e = 2 * c.length + 2; e > d; d += 2)f += " L{" + d + "},{" + (d + 1) + "}";
        var g = [b.x, b.y];
        for (d = 0, e = c.length; e > d; d++)g.push(c[d].x), g.push(c[d].y);
        var h = a.paper.path(f, g);
        h.attr("stroke", a.options["element-color"]), h.attr("stroke-width", a.options["line-width"]);
        var i = a.options.font, j = a.options["font-family"], k = a.options["font-weight"];
        return i && h.attr({font: i}), j && h.attr({"font-family": j}), k && h.attr({"font-weight": k}), h
    }

    function d(a, b, c, d) {
        var e, f;
        "[object Array]" !== Object.prototype.toString.call(c) && (c = [c]);
        var g = "M{0},{1}";
        for (e = 2, f = 2 * c.length + 2; f > e; e += 2)g += " L{" + e + "},{" + (e + 1) + "}";
        var h = [b.x, b.y];
        for (e = 0, f = c.length; f > e; e++)h.push(c[e].x), h.push(c[e].y);
        var i = a.paper.path(g, h);
        i.attr({
            stroke: a.options["line-color"],
            "stroke-width": a.options["line-width"],
            "arrow-end": a.options["arrow-end"]
        });
        var j = a.options.font, k = a.options["font-family"], l = a.options["font-weight"];
        if (j && i.attr({font: j}), k && i.attr({"font-family": k}), l && i.attr({"font-weight": l}), d) {
            var m = !1, n = a.paper.text(0, 0, d), o = !1, p = c[0];
            b.y === p.y && (o = !0);
            var q = 0, r = 0;
            m ? (q = b.x > p.x ? b.x - (b.x - p.x) / 2 : p.x - (p.x - b.x) / 2, r = b.y > p.y ? b.y - (b.y - p.y) / 2 : p.y - (p.y - b.y) / 2, o ? (q -= n.getBBox().width / 2, r -= a.options["text-margin"]) : (q += a.options["text-margin"], r -= n.getBBox().height / 2)) : (q = b.x, r = b.y, o ? (q += a.options["text-margin"] / 2, r -= a.options["text-margin"]) : (q += a.options["text-margin"] / 2, r += a.options["text-margin"])), n.attr({
                "text-anchor": "start",
                "font-size": a.options["font-size"],
                fill: a.options["font-color"],
                x: q,
                y: r
            }), j && n.attr({font: j}), k && n.attr({"font-family": k}), l && n.attr({"font-weight": l})
        }
        return i
    }

    function e(a, b, c, d, e, f, g, h) {
        var i, j, k, l, m, n = {x: null, y: null, onLine1: !1, onLine2: !1};
        return i = (h - f) * (c - a) - (g - e) * (d - b), 0 === i ? n : (j = b - f, k = a - e, l = (g - e) * j - (h - f) * k, m = (c - a) * j - (d - b) * k, j = l / i, k = m / i, n.x = a + j * (c - a), n.y = b + j * (d - b), j > 0 && 1 > j && (n.onLine1 = !0), k > 0 && 1 > k && (n.onLine2 = !0), n)
    }

    function f(a, b) {
        b = b || {}, this.paper = new Raphael(a), this.options = r.defaults(b, q), this.symbols = [], this.lines = [], this.start = null
    }

    function g(a, b, c) {
        this.chart = a, this.group = this.chart.paper.set(), this.symbol = c, this.connectedTo = [], this.symbolType = b.symbolType, this.flowstate = b.flowstate || "future", this.next_direction = b.next && b.direction_next ? b.direction_next : void 0, this.text = this.chart.paper.text(0, 0, b.text), b.key && (this.text.node.id = b.key + "t"), this.text.node.setAttribute("class", this.getAttr("class") + "t"), this.text.attr({
            "text-anchor": "start",
            x: this.getAttr("text-margin"),
            fill: this.getAttr("font-color"),
            "font-size": this.getAttr("font-size")
        });
        var d = this.getAttr("font"), e = this.getAttr("font-family"), f = this.getAttr("font-weight");
        d && this.text.attr({font: d}), e && this.text.attr({"font-family": e}), f && this.text.attr({"font-weight": f}), b.link && this.text.attr("href", b.link), b.target && this.text.attr("target", b.target);
        var g = this.getAttr("maxWidth");
        if (g) {
            for (var h = b.text.split(" "), i = "", j = 0, k = h.length; k > j; j++) {
                var l = h[j];
                this.text.attr("text", i + " " + l), i += this.text.getBBox().width > g ? "\n" + l : " " + l
            }
            this.text.attr("text", i.substring(1))
        }
        if (this.group.push(this.text), c) {
            var m = this.getAttr("text-margin");
            c.attr({
                fill: this.getAttr("fill"),
                stroke: this.getAttr("element-color"),
                "stroke-width": this.getAttr("line-width"),
                width: this.text.getBBox().width + 2 * m,
                height: this.text.getBBox().height + 2 * m
            }), c.node.setAttribute("class", this.getAttr("class")), b.link && c.attr("href", b.link), b.target && c.attr("target", b.target), b.key && (c.node.id = b.key), this.group.push(c), c.insertBefore(this.text), this.text.attr({y: c.getBBox().height / 2}), this.initialize()
        }
    }

    function h(a, b) {
        var c = a.paper.rect(0, 0, 0, 0, 20);
        b = b || {}, b.text = b.text || "Start", g.call(this, a, b, c)
    }

    function i(a, b) {
        var c = a.paper.rect(0, 0, 0, 0, 20);
        b = b || {}, b.text = b.text || "End", g.call(this, a, b, c)
    }

    function j(a, b) {
        var c = a.paper.rect(0, 0, 0, 0);
        b = b || {}, g.call(this, a, b, c)
    }

    function k(a, b) {
        var c = a.paper.rect(0, 0, 0, 0);
        b = b || {}, g.call(this, a, b, c), c.attr({width: this.text.getBBox().width + 4 * this.getAttr("text-margin")}), this.text.attr({x: 2 * this.getAttr("text-margin")});
        var d = a.paper.rect(0, 0, 0, 0);
        d.attr({
            x: this.getAttr("text-margin"),
            stroke: this.getAttr("element-color"),
            "stroke-width": this.getAttr("line-width"),
            width: this.text.getBBox().width + 2 * this.getAttr("text-margin"),
            height: this.text.getBBox().height + 2 * this.getAttr("text-margin"),
            fill: this.getAttr("fill")
        }), b.key && (d.node.id = b.key + "i");
        var e = this.getAttr("font"), f = this.getAttr("font-family"), h = this.getAttr("font-weight");
        e && d.attr({font: e}), f && d.attr({"font-family": f}), h && d.attr({"font-weight": h}), b.link && d.attr("href", b.link), b.target && d.attr("target", b.target), this.group.push(d), d.insertBefore(this.text), this.initialize()
    }

    function l(a, b) {
        b = b || {}, g.call(this, a, b), this.textMargin = this.getAttr("text-margin"), this.text.attr({x: 3 * this.textMargin});
        var d = this.text.getBBox().width + 4 * this.textMargin, e = this.text.getBBox().height + 2 * this.textMargin, f = this.textMargin, h = e / 2, i = {
            x: f,
            y: h
        }, j = [{x: f - this.textMargin, y: e}, {
            x: f - this.textMargin + d,
            y: e
        }, {x: f - this.textMargin + d + 2 * this.textMargin, y: 0}, {
            x: f - this.textMargin + 2 * this.textMargin,
            y: 0
        }, {x: f, y: h}], k = c(a, i, j);
        k.attr({
            stroke: this.getAttr("element-color"),
            "stroke-width": this.getAttr("line-width"),
            fill: this.getAttr("fill")
        }), b.link && k.attr("href", b.link), b.target && k.attr("target", b.target), b.key && (k.node.id = b.key), k.node.setAttribute("class", this.getAttr("class")), this.text.attr({y: k.getBBox().height / 2}), this.group.push(k), k.insertBefore(this.text), this.initialize()
    }

    function m(a, b) {
        b = b || {}, g.call(this, a, b), this.textMargin = this.getAttr("text-margin"), this.yes_direction = "bottom", this.no_direction = "right", b.yes && b.direction_yes && b.no && !b.direction_no ? "right" === b.direction_yes ? (this.no_direction = "bottom", this.yes_direction = "right") : (this.no_direction = "right", this.yes_direction = "bottom") : b.yes && !b.direction_yes && b.no && b.direction_no ? "right" === b.direction_no ? (this.yes_direction = "bottom", this.no_direction = "right") : (this.yes_direction = "right", this.no_direction = "bottom") : (this.yes_direction = "bottom", this.no_direction = "right"), this.yes_direction = this.yes_direction || "bottom", this.no_direction = this.no_direction || "right", this.text.attr({x: 2 * this.textMargin});
        var d = this.text.getBBox().width + 3 * this.textMargin;
        d += d / 2;
        var e = this.text.getBBox().height + 2 * this.textMargin;
        e += e / 2, e = Math.max(.5 * d, e);
        var f = d / 4, h = e / 4;
        this.text.attr({x: f + this.textMargin / 2});
        var i = {x: f, y: h}, j = [{x: f - d / 4, y: h + e / 4}, {
            x: f - d / 4 + d / 2,
            y: h + e / 4 + e / 2
        }, {x: f - d / 4 + d, y: h + e / 4}, {x: f - d / 4 + d / 2, y: h + e / 4 - e / 2}, {
            x: f - d / 4,
            y: h + e / 4
        }], k = c(a, i, j);
        k.attr({
            stroke: this.getAttr("element-color"),
            "stroke-width": this.getAttr("line-width"),
            fill: this.getAttr("fill")
        }), b.link && k.attr("href", b.link), b.target && k.attr("target", b.target), b.key && (k.node.id = b.key), k.node.setAttribute("class", this.getAttr("class")), this.text.attr({y: k.getBBox().height / 2}), this.group.push(k), k.insertBefore(this.text), this.initialize()
    }

    function n(a) {
        function b(a) {
            var b = a.indexOf("(") + 1, c = a.indexOf(")");
            return b >= 0 && c >= 0 ? d.symbols[a.substring(0, b - 1)] : d.symbols[a]
        }

        function c(a) {
            var b = "next", c = a.indexOf("(") + 1, d = a.indexOf(")");
            return c >= 0 && d >= 0 && (b = D.substring(c, d), b.indexOf(",") < 0 && "yes" !== b && "no" !== b && (b = "next, " + b)), b
        }

        a = a || "", a = a.trim();
        for (var d = {
            symbols: {}, start: null, drawSVG: function (a, b) {
                function c(a) {
                    if (g[a.key])return g[a.key];
                    switch (a.symbolType) {
                        case"start":
                            g[a.key] = new h(e, a);
                            break;
                        case"end":
                            g[a.key] = new i(e, a);
                            break;
                        case"operation":
                            g[a.key] = new j(e, a);
                            break;
                        case"inputoutput":
                            g[a.key] = new l(e, a);
                            break;
                        case"subroutine":
                            g[a.key] = new k(e, a);
                            break;
                        case"condition":
                            g[a.key] = new m(e, a);
                            break;
                        default:
                            return new Error("Wrong symbol type!")
                    }
                    return g[a.key]
                }

                var d = this;
                this.diagram && this.diagram.clean();
                var e = new f(a, b);
                this.diagram = e;
                var g = {};
                !function n(a, b, f) {
                    var g = c(a);
                    return d.start === a ? e.startWith(g) : b && f && !b.pathOk && (b instanceof m ? (f.yes === a && b.yes(g), f.no === a && b.no(g)) : b.then(g)), g.pathOk ? g : (g instanceof m ? (a.yes && n(a.yes, g, a), a.no && n(a.no, g, a)) : a.next && n(a.next, g, a), g)
                }(this.start), e.render()
            }, clean: function () {
                this.diagram.clean()
            }
        }, e = [], g = 0, n = 1, o = a.length; o > n; n++)if ("\n" === a[n] && "\\" !== a[n - 1]) {
            var p = a.substring(g, n);
            g = n + 1, e.push(p.replace(/\\\n/g, "\n"))
        }
        g < a.length && e.push(a.substr(g));
        for (var q = 1, r = e.length; r > q;) {
            var s = e[q];
            s.indexOf(": ") < 0 && s.indexOf("(") < 0 && s.indexOf(")") < 0 && s.indexOf("->") < 0 && s.indexOf("=>") < 0 ? (e[q - 1] += "\n" + s, e.splice(q, 1), r--) : q++
        }
        for (; e.length > 0;) {
            var t = e.splice(0, 1)[0];
            if (t.indexOf("=>") >= 0) {
                var u, v = t.split("=>"), w = {
                    key: v[0],
                    symbolType: v[1],
                    text: null,
                    link: null,
                    target: null,
                    flowstate: null
                };
                if (w.symbolType.indexOf(": ") >= 0 && (u = w.symbolType.split(": "), w.symbolType = u[0], w.text = u[1]), w.text && w.text.indexOf(":>") >= 0 ? (u = w.text.split(":>"), w.text = u[0], w.link = u[1]) : w.symbolType.indexOf(":>") >= 0 && (u = w.symbolType.split(":>"), w.symbolType = u[0], w.link = u[1]), w.symbolType.indexOf("\n") >= 0 && (w.symbolType = w.symbolType.split("\n")[0]), w.link) {
                    var x = w.link.indexOf("[") + 1, y = w.link.indexOf("]");
                    x >= 0 && y >= 0 && (w.target = w.link.substring(x, y), w.link = w.link.substring(0, x - 1))
                }
                if (w.text && w.text.indexOf("|") >= 0) {
                    var z = w.text.split("|");
                    w.text = z[0], w.flowstate = z[1].trim()
                }
                d.symbols[w.key] = w
            } else if (t.indexOf("->") >= 0)for (var A = t.split("->"), B = 0, C = A.length; C > B; B++) {
                var D = A[B], E = b(D), F = c(D), G = null;
                if (F.indexOf(",") >= 0) {
                    var H = F.split(",");
                    F = H[0], G = H[1].trim()
                }
                if (d.start || (d.start = E), C > B + 1) {
                    var I = A[B + 1];
                    E[F] = b(I), E["direction_" + F] = G, G = null
                }
            }
        }
        return d
    }

    Array.prototype.indexOf || (Array.prototype.indexOf = function (a) {
        "use strict";
        if (null === this)throw new TypeError;
        var b = Object(this), c = b.length >>> 0;
        if (0 === c)return -1;
        var d = 0;
        if (arguments.length > 0 && (d = Number(arguments[1]), d != d ? d = 0 : 0 !== d && 1 / 0 != d && d != -1 / 0 && (d = (d > 0 || -1) * Math.floor(Math.abs(d)))), d >= c)return -1;
        for (var e = d >= 0 ? d : Math.max(c - Math.abs(d), 0); c > e; e++)if (e in b && b[e] === a)return e;
        return -1
    }), Array.prototype.lastIndexOf || (Array.prototype.lastIndexOf = function (a) {
        "use strict";
        if (null === this)throw new TypeError;
        var b = Object(this), c = b.length >>> 0;
        if (0 === c)return -1;
        var d = c;
        arguments.length > 1 && (d = Number(arguments[1]), d != d ? d = 0 : 0 !== d && d != 1 / 0 && d != -(1 / 0) && (d = (d > 0 || -1) * Math.floor(Math.abs(d))));
        for (var e = d >= 0 ? Math.min(d, c - 1) : c - Math.abs(d); e >= 0; e--)if (e in b && b[e] === a)return e;
        return -1
    }), String.prototype.trim || (String.prototype.trim = function () {
        return this.replace(/^\s+|\s+$/g, "")
    });
    var o = this, p = {};
    "undefined" != typeof module && module.exports ? module.exports = p : o.flowchart = o.flowchart || p;
    var q = {
        x: 0,
        y: 0,
        "line-width": 3,
        "line-length": 50,
        "text-margin": 10,
        "font-size": 14,
        "font-color": "black",
        "line-color": "black",
        "element-color": "black",
        fill: "white",
        "yes-text": "yes",
        "no-text": "no",
        "arrow-end": "block",
        "class": "flowchart",
        symbols: {start: {}, end: {}, condition: {}, inputoutput: {}, operation: {}, subroutine: {}}
    }, r = {defaults: a, inherits: b};
    f.prototype.handle = function (a) {
        this.symbols.indexOf(a) <= -1 && this.symbols.push(a);
        var b = this;
        return a instanceof m ? (a.yes = function (c) {
            return a.yes_symbol = c, a.no_symbol && (a.pathOk = !0), b.handle(c)
        }, a.no = function (c) {
            return a.no_symbol = c, a.yes_symbol && (a.pathOk = !0), b.handle(c)
        }) : a.then = function (c) {
            return a.next = c, a.pathOk = !0, b.handle(c)
        }, a
    }, f.prototype.startWith = function (a) {
        return this.start = a, this.handle(a)
    }, f.prototype.render = function () {
        var a, b = 0, c = 0, d = 0, e = 0, f = 0, g = 0;
        for (d = 0, e = this.symbols.length; e > d; d++)a = this.symbols[d], a.width > b && (b = a.width), a.height > c && (c = a.height);
        for (d = 0, e = this.symbols.length; e > d; d++)a = this.symbols[d], a.shiftX(this.options.x + (b - a.width) / 2 + this.options["line-width"]), a.shiftY(this.options.y + (c - a.height) / 2 + this.options["line-width"]);
        for (this.start.render(), d = 0, e = this.symbols.length; e > d; d++)a = this.symbols[d], a.renderLines();
        for (f = this.maxXFromLine, d = 0, e = this.symbols.length; e > d; d++) {
            a = this.symbols[d];
            var h = a.getX() + a.width, i = a.getY() + a.height;
            h > f && (f = h), i > g && (g = i)
        }
        this.paper.setSize(f + this.options["line-width"], g + this.options["line-width"])
    }, f.prototype.clean = function () {
        if (this.paper) {
            var a = this.paper.canvas;
            a.parentNode.removeChild(a)
        }
    }, g.prototype.getAttr = function (a) {
        if (!this.chart)return void 0;
        var b, c = this.chart.options ? this.chart.options[a] : void 0, d = this.chart.options.symbols ? this.chart.options.symbols[this.symbolType][a] : void 0;
        return this.chart.options.flowstate && this.chart.options.flowstate[this.flowstate] && (b = this.chart.options.flowstate[this.flowstate][a]), b || d || c
    }, g.prototype.initialize = function () {
        this.group.transform("t" + this.getAttr("line-width") + "," + this.getAttr("line-width")), this.width = this.group.getBBox().width, this.height = this.group.getBBox().height
    }, g.prototype.getCenter = function () {
        return {x: this.getX() + this.width / 2, y: this.getY() + this.height / 2}
    }, g.prototype.getX = function () {
        return this.group.getBBox().x
    }, g.prototype.getY = function () {
        return this.group.getBBox().y
    }, g.prototype.shiftX = function (a) {
        this.group.transform("t" + (this.getX() + a) + "," + this.getY())
    }, g.prototype.setX = function (a) {
        this.group.transform("t" + a + "," + this.getY())
    }, g.prototype.shiftY = function (a) {
        this.group.transform("t" + this.getX() + "," + (this.getY() + a))
    }, g.prototype.setY = function (a) {
        this.group.transform("t" + this.getX() + "," + a)
    }, g.prototype.getTop = function () {
        var a = this.getY(), b = this.getX() + this.width / 2;
        return {x: b, y: a}
    }, g.prototype.getBottom = function () {
        var a = this.getY() + this.height, b = this.getX() + this.width / 2;
        return {x: b, y: a}
    }, g.prototype.getLeft = function () {
        var a = this.getY() + this.group.getBBox().height / 2, b = this.getX();
        return {x: b, y: a}
    }, g.prototype.getRight = function () {
        var a = this.getY() + this.group.getBBox().height / 2, b = this.getX() + this.group.getBBox().width;
        return {x: b, y: a}
    }, g.prototype.render = function () {
        if (this.next) {
            var a = this.getAttr("line-length");
            if ("right" === this.next_direction) {
                {
                    var b = this.getRight();
                    this.next.getLeft()
                }
                if (!this.next.isPositioned) {
                    this.next.setY(b.y - this.next.height / 2), this.next.shiftX(this.group.getBBox().x + this.width + a);
                    var c = this;
                    !function e() {
                        for (var b, d = !1, f = 0, g = c.chart.symbols.length; g > f; f++) {
                            b = c.chart.symbols[f];
                            var h = Math.abs(b.getCenter().x - c.next.getCenter().x);
                            if (b.getCenter().y > c.next.getCenter().y && h <= c.next.width / 2) {
                                d = !0;
                                break
                            }
                        }
                        d && (c.next.setX(b.getX() + b.width + a), e())
                    }(), this.next.isPositioned = !0, this.next.render()
                }
            } else {
                {
                    var d = this.getBottom();
                    this.next.getTop()
                }
                this.next.isPositioned || (this.next.shiftY(this.getY() + this.height + a), this.next.setX(d.x - this.next.width / 2), this.next.isPositioned = !0, this.next.render())
            }
        }
    }, g.prototype.renderLines = function () {
        this.next && (this.next_direction ? this.drawLineTo(this.next, "", this.next_direction) : this.drawLineTo(this.next))
    }, g.prototype.drawLineTo = function (a, b, c) {
        this.connectedTo.indexOf(a) < 0 && this.connectedTo.push(a);
        var f, g = this.getCenter().x, h = this.getCenter().y, i = (this.getTop(), this.getRight()), j = this.getBottom(), k = this.getLeft(), l = a.getCenter().x, m = a.getCenter().y, n = a.getTop(), o = a.getRight(), p = (a.getBottom(), a.getLeft()), q = g === l, r = h === m, s = m > h, t = h > m, u = g > l, v = l > g, w = 0, x = this.getAttr("line-length"), y = this.getAttr("line-width");
        if (c && "bottom" !== c || !q || !s)if (c && "right" !== c || !r || !v)if (c && "left" !== c || !r || !u)if (c && "right" !== c || !q || !t)if (c && "right" !== c || !q || !s)if (c && "bottom" !== c || !u)if (c && "bottom" !== c || !v)if (c && "right" === c && u)f = d(this.chart, i, [{
            x: i.x + x / 2,
            y: i.y
        }, {x: i.x + x / 2, y: n.y - x / 2}, {x: n.x, y: n.y - x / 2}, {
            x: n.x,
            y: n.y
        }], b), this.rightStart = !0, a.topEnd = !0, w = i.x + x / 2; else if (c && "right" === c && v)f = d(this.chart, i, [{
            x: n.x,
            y: i.y
        }, {
            x: n.x,
            y: n.y
        }], b), this.rightStart = !0, a.topEnd = !0, w = i.x + x / 2; else if (c && "bottom" === c && q && t)f = d(this.chart, j, [{
            x: j.x,
            y: j.y + x / 2
        }, {x: i.x + x / 2, y: j.y + x / 2}, {x: i.x + x / 2, y: n.y - x / 2}, {x: n.x, y: n.y - x / 2}, {
            x: n.x,
            y: n.y
        }], b), this.bottomStart = !0, a.topEnd = !0, w = j.x + x / 2; else if ("left" === c && q && t) {
            var z = k.x - x / 2;
            p.x < k.x && (z = p.x - x / 2), f = d(this.chart, k, [{x: z, y: k.y}, {x: z, y: n.y - x / 2}, {
                x: n.x,
                y: n.y - x / 2
            }, {x: n.x, y: n.y}], b), this.leftStart = !0, a.topEnd = !0, w = k.x
        } else"left" === c && (f = d(this.chart, k, [{x: n.x + (k.x - n.x) / 2, y: k.y}, {
            x: n.x + (k.x - n.x) / 2,
            y: n.y - x / 2
        }, {x: n.x, y: n.y - x / 2}, {
            x: n.x,
            y: n.y
        }], b), this.leftStart = !0, a.topEnd = !0, w = k.x); else f = d(this.chart, j, [{
            x: j.x,
            y: j.y + x / 2
        }, {x: j.x + (j.x - n.x) / 2, y: j.y + x / 2}, {x: j.x + (j.x - n.x) / 2, y: n.y - x / 2}, {
            x: n.x,
            y: n.y - x / 2
        }, {
            x: n.x,
            y: n.y
        }], b), this.bottomStart = !0, a.topEnd = !0, w = j.x + (j.x - n.x) / 2; else f = this.leftEnd && t ? d(this.chart, j, [{
            x: j.x,
            y: j.y + x / 2
        }, {x: j.x + (j.x - n.x) / 2, y: j.y + x / 2}, {x: j.x + (j.x - n.x) / 2, y: n.y - x / 2}, {
            x: n.x,
            y: n.y - x / 2
        }, {x: n.x, y: n.y}], b) : d(this.chart, j, [{x: j.x, y: n.y - x / 2}, {x: n.x, y: n.y - x / 2}, {
            x: n.x,
            y: n.y
        }], b), this.bottomStart = !0, a.topEnd = !0, w = j.x + (j.x - n.x) / 2; else f = d(this.chart, i, [{
            x: i.x + x / 2,
            y: i.y
        }, {x: i.x + x / 2, y: n.y - x / 2}, {x: n.x, y: n.y - x / 2}, {
            x: n.x,
            y: n.y
        }], b), this.rightStart = !0, a.topEnd = !0, w = i.x + x / 2; else f = d(this.chart, i, [{
            x: i.x + x / 2,
            y: i.y
        }, {x: i.x + x / 2, y: n.y - x / 2}, {x: n.x, y: n.y - x / 2}, {
            x: n.x,
            y: n.y
        }], b), this.rightStart = !0, a.topEnd = !0, w = i.x + x / 2; else f = d(this.chart, k, o, b), this.leftStart = !0, a.rightEnd = !0, w = o.x; else f = d(this.chart, i, p, b), this.rightStart = !0, a.leftEnd = !0, w = p.x; else f = d(this.chart, j, n, b), this.bottomStart = !0, a.topEnd = !0, w = j.x;
        if (f) {
            for (var A = 0, B = this.chart.lines.length; B > A; A++)for (var C, D = this.chart.lines[A], E = D.attr("path"), F = f.attr("path"), G = 0, H = E.length - 1; H > G; G++) {
                var I = [];
                I.push(["M", E[G][1], E[G][2]]), I.push(["L", E[G + 1][1], E[G + 1][2]]);
                for (var J = I[0][1], K = I[0][2], L = I[1][1], M = I[1][2], N = 0, O = F.length - 1; O > N; N++) {
                    var P = [];
                    P.push(["M", F[N][1], F[N][2]]), P.push(["L", F[N + 1][1], F[N + 1][2]]);
                    var Q = P[0][1], R = P[0][2], S = P[1][1], T = P[1][2], U = e(J, K, L, M, Q, R, S, T);
                    if (U.onLine1 && U.onLine2) {
                        var V;
                        R === T ? Q > S ? (V = ["L", U.x + 2 * y, R], F.splice(N + 1, 0, V), V = ["C", U.x + 2 * y, R, U.x, R - 4 * y, U.x - 2 * y, R], F.splice(N + 2, 0, V), f.attr("path", F)) : (V = ["L", U.x - 2 * y, R], F.splice(N + 1, 0, V), V = ["C", U.x - 2 * y, R, U.x, R - 4 * y, U.x + 2 * y, R], F.splice(N + 2, 0, V), f.attr("path", F)) : R > T ? (V = ["L", Q, U.y + 2 * y], F.splice(N + 1, 0, V), V = ["C", Q, U.y + 2 * y, Q + 4 * y, U.y, Q, U.y - 2 * y], F.splice(N + 2, 0, V), f.attr("path", F)) : (V = ["L", Q, U.y - 2 * y], F.splice(N + 1, 0, V), V = ["C", Q, U.y - 2 * y, Q + 4 * y, U.y, Q, U.y + 2 * y], F.splice(N + 2, 0, V), f.attr("path", F)), N += 2, C += 2
                    }
                }
            }
            this.chart.lines.push(f)
        }
        (!this.chart.maxXFromLine || this.chart.maxXFromLine && w > this.chart.maxXFromLine) && (this.chart.maxXFromLine = w)
    }, r.inherits(h, g), r.inherits(i, g), r.inherits(j, g), r.inherits(k, g), r.inherits(l, g), l.prototype.getLeft = function () {
        var a = this.getY() + this.group.getBBox().height / 2, b = this.getX() + this.textMargin;
        return {x: b, y: a}
    }, l.prototype.getRight = function () {
        var a = this.getY() + this.group.getBBox().height / 2, b = this.getX() + this.group.getBBox().width - this.textMargin;
        return {x: b, y: a}
    }, r.inherits(m, g), m.prototype.render = function () {
        this.yes_direction && (this[this.yes_direction + "_symbol"] = this.yes_symbol), this.no_direction && (this[this.no_direction + "_symbol"] = this.no_symbol);
        var a = this.getAttr("line-length");
        if (this.bottom_symbol) {
            {
                var b = this.getBottom();
                this.bottom_symbol.getTop()
            }
            this.bottom_symbol.isPositioned || (this.bottom_symbol.shiftY(this.getY() + this.height + a), this.bottom_symbol.setX(b.x - this.bottom_symbol.width / 2), this.bottom_symbol.isPositioned = !0, this.bottom_symbol.render())
        }
        if (this.right_symbol) {
            {
                var c = this.getRight();
                this.right_symbol.getLeft()
            }
            if (!this.right_symbol.isPositioned) {
                this.right_symbol.setY(c.y - this.right_symbol.height / 2), this.right_symbol.shiftX(this.group.getBBox().x + this.width + a);
                var d = this;
                !function e() {
                    for (var b, c = !1, f = 0, g = d.chart.symbols.length; g > f; f++) {
                        b = d.chart.symbols[f];
                        var h = Math.abs(b.getCenter().x - d.right_symbol.getCenter().x);
                        if (b.getCenter().y > d.right_symbol.getCenter().y && h <= d.right_symbol.width / 2) {
                            c = !0;
                            break
                        }
                    }
                    c && (d.right_symbol.setX(b.getX() + b.width + a), e())
                }(), this.right_symbol.isPositioned = !0, this.right_symbol.render()
            }
        }
    }, m.prototype.renderLines = function () {
        this.yes_symbol && this.drawLineTo(this.yes_symbol, this.getAttr("yes-text"), this.yes_direction), this.no_symbol && this.drawLineTo(this.no_symbol, this.getAttr("no-text"), this.no_direction)
    }, p.parse = n
}(), function () {
    function a(a) {
        var b = c;
        a && (c[a] || (c[a] = {}), b = c[a]), b.define && b.define.packaged || (d.original = b.define, b.define = d, b.define.packaged = !0), b.require && b.require.packaged || (f.original = b.require, b.require = f, b.require.packaged = !0)
    }

    var b = "", c = function () {
        return this
    }();
    if (c || "undefined" == typeof window || (c = window), b || "undefined" == typeof requirejs) {
        var d = function (a, b, c) {
            return "string" != typeof a ? void(d.original ? d.original.apply(this, arguments) : (console.error("dropping module because define wasn't a string."), console.trace())) : (2 == arguments.length && (c = b), void(d.modules[a] || (d.payloads[a] = c, d.modules[a] = null)))
        };
        d.modules = {}, d.payloads = {};
        var e = function (a, b, c) {
            if ("string" == typeof b) {
                var d = h(a, b);
                if (void 0 != d)return c && c(), d
            } else if ("[object Array]" === Object.prototype.toString.call(b)) {
                for (var e = [], g = 0, i = b.length; i > g; ++g) {
                    var j = h(a, b[g]);
                    if (void 0 == j && f.original)return;
                    e.push(j)
                }
                return c && c.apply(null, e) || !0
            }
        }, f = function (a, b) {
            var c = e("", a, b);
            return void 0 == c && f.original ? f.original.apply(this, arguments) : c
        }, g = function (a, b) {
            if (-1 !== b.indexOf("!")) {
                var c = b.split("!");
                return g(a, c[0]) + "!" + g(a, c[1])
            }
            if ("." == b.charAt(0)) {
                var d = a.split("/").slice(0, -1).join("/");
                for (b = d + "/" + b; -1 !== b.indexOf(".") && e != b;) {
                    var e = b;
                    b = b.replace(/\/\.\//, "/").replace(/[^\/]+\/\.\.\//, "")
                }
            }
            return b
        }, h = function (a, b) {
            b = g(a, b);
            var c = d.modules[b];
            if (!c) {
                if (c = d.payloads[b], "function" == typeof c) {
                    var f = {}, h = {id: b, uri: "", exports: f, packaged: !0}, i = function (a, c) {
                        return e(b, a, c)
                    }, j = c(i, f, h);
                    f = j || h.exports, d.modules[b] = f, delete d.payloads[b]
                }
                c = d.modules[b] = f || c
            }
            return c
        };
        a(b)
    }
}(), define("ace/lib/regexp", ["require", "exports", "module"], function () {
    "use strict";
    function a(a) {
        return (a.global ? "g" : "") + (a.ignoreCase ? "i" : "") + (a.multiline ? "m" : "") + (a.extended ? "x" : "") + (a.sticky ? "y" : "")
    }

    function b(a, b, c) {
        if (Array.prototype.indexOf)return a.indexOf(b, c);
        for (var d = c || 0; d < a.length; d++)if (a[d] === b)return d;
        return -1
    }

    var c = {
        exec: RegExp.prototype.exec,
        test: RegExp.prototype.test,
        match: String.prototype.match,
        replace: String.prototype.replace,
        split: String.prototype.split
    }, d = void 0 === c.exec.call(/()??/, "")[1], e = function () {
        var a = /^/g;
        return c.test.call(a, ""), !a.lastIndex
    }();
    e && d || (RegExp.prototype.exec = function (f) {
        var g, h, i = c.exec.apply(this, arguments);
        if ("string" == typeof f && i) {
            if (!d && i.length > 1 && b(i, "") > -1 && (h = RegExp(this.source, c.replace.call(a(this), "g", "")), c.replace.call(f.slice(i.index), h, function () {
                    for (var a = 1; a < arguments.length - 2; a++)void 0 === arguments[a] && (i[a] = void 0)
                })), this._xregexp && this._xregexp.captureNames)for (var j = 1; j < i.length; j++)g = this._xregexp.captureNames[j - 1], g && (i[g] = i[j]);
            !e && this.global && !i[0].length && this.lastIndex > i.index && this.lastIndex--
        }
        return i
    }, e || (RegExp.prototype.test = function (a) {
        var b = c.exec.call(this, a);
        return b && this.global && !b[0].length && this.lastIndex > b.index && this.lastIndex--, !!b
    }))
}), define("ace/lib/es5-shim", ["require", "exports", "module"], function () {
    function a() {
    }

    function b(a) {
        try {
            return Object.defineProperty(a, "sentinel", {}), "sentinel"in a
        } catch (b) {
        }
    }

    function c(a) {
        return a = +a, a !== a ? a = 0 : 0 !== a && a !== 1 / 0 && a !== -(1 / 0) && (a = (a > 0 || -1) * Math.floor(Math.abs(a))), a
    }

    Function.prototype.bind || (Function.prototype.bind = function (b) {
        var c = this;
        if ("function" != typeof c)throw new TypeError("Function.prototype.bind called on incompatible " + c);
        var d = l.call(arguments, 1), e = function () {
            if (this instanceof e) {
                var a = c.apply(this, d.concat(l.call(arguments)));
                return Object(a) === a ? a : this
            }
            return c.apply(b, d.concat(l.call(arguments)))
        };
        return c.prototype && (a.prototype = c.prototype, e.prototype = new a, a.prototype = null), e
    });
    var d, e, f, g, h, i = Function.prototype.call, j = Array.prototype, k = Object.prototype, l = j.slice, m = i.bind(k.toString), n = i.bind(k.hasOwnProperty);
    if ((h = n(k, "__defineGetter__")) && (d = i.bind(k.__defineGetter__), e = i.bind(k.__defineSetter__), f = i.bind(k.__lookupGetter__), g = i.bind(k.__lookupSetter__)), 2 != [1, 2].splice(0).length)if (function () {
            function a(a) {
                var b = new Array(a + 2);
                return b[0] = b[1] = 0, b
            }

            var b, c = [];
            return c.splice.apply(c, a(20)), c.splice.apply(c, a(26)), b = c.length, c.splice(5, 0, "XXX"), b + 1 == c.length, b + 1 == c.length ? !0 : void 0
        }()) {
        var o = Array.prototype.splice;
        Array.prototype.splice = function (a, b) {
            return arguments.length ? o.apply(this, [void 0 === a ? 0 : a, void 0 === b ? this.length - a : b].concat(l.call(arguments, 2))) : []
        }
    } else Array.prototype.splice = function (a, b) {
        var c = this.length;
        a > 0 ? a > c && (a = c) : void 0 == a ? a = 0 : 0 > a && (a = Math.max(c + a, 0)), c > a + b || (b = c - a);
        var d = this.slice(a, a + b), e = l.call(arguments, 2), f = e.length;
        if (a === c)f && this.push.apply(this, e); else {
            var g = Math.min(b, c - a), h = a + g, i = h + f - g, j = c - h, k = c - g;
            if (h > i)for (var m = 0; j > m; ++m)this[i + m] = this[h + m]; else if (i > h)for (m = j; m--;)this[i + m] = this[h + m];
            if (f && a === k)this.length = k, this.push.apply(this, e); else for (this.length = k + f, m = 0; f > m; ++m)this[a + m] = e[m]
        }
        return d
    };
    Array.isArray || (Array.isArray = function (a) {
        return "[object Array]" == m(a)
    });
    var p = Object("a"), q = "a" != p[0] || !(0 in p);
    if (Array.prototype.forEach || (Array.prototype.forEach = function (a) {
            var b = H(this), c = q && "[object String]" == m(this) ? this.split("") : b, d = arguments[1], e = -1, f = c.length >>> 0;
            if ("[object Function]" != m(a))throw new TypeError;
            for (; ++e < f;)e in c && a.call(d, c[e], e, b)
        }), Array.prototype.map || (Array.prototype.map = function (a) {
            var b = H(this), c = q && "[object String]" == m(this) ? this.split("") : b, d = c.length >>> 0, e = Array(d), f = arguments[1];
            if ("[object Function]" != m(a))throw new TypeError(a + " is not a function");
            for (var g = 0; d > g; g++)g in c && (e[g] = a.call(f, c[g], g, b));
            return e
        }), Array.prototype.filter || (Array.prototype.filter = function (a) {
            var b, c = H(this), d = q && "[object String]" == m(this) ? this.split("") : c, e = d.length >>> 0, f = [], g = arguments[1];
            if ("[object Function]" != m(a))throw new TypeError(a + " is not a function");
            for (var h = 0; e > h; h++)h in d && (b = d[h], a.call(g, b, h, c) && f.push(b));
            return f
        }), Array.prototype.every || (Array.prototype.every = function (a) {
            var b = H(this), c = q && "[object String]" == m(this) ? this.split("") : b, d = c.length >>> 0, e = arguments[1];
            if ("[object Function]" != m(a))throw new TypeError(a + " is not a function");
            for (var f = 0; d > f; f++)if (f in c && !a.call(e, c[f], f, b))return !1;
            return !0
        }), Array.prototype.some || (Array.prototype.some = function (a) {
            var b = H(this), c = q && "[object String]" == m(this) ? this.split("") : b, d = c.length >>> 0, e = arguments[1];
            if ("[object Function]" != m(a))throw new TypeError(a + " is not a function");
            for (var f = 0; d > f; f++)if (f in c && a.call(e, c[f], f, b))return !0;
            return !1
        }), Array.prototype.reduce || (Array.prototype.reduce = function (a) {
            var b = H(this), c = q && "[object String]" == m(this) ? this.split("") : b, d = c.length >>> 0;
            if ("[object Function]" != m(a))throw new TypeError(a + " is not a function");
            if (!d && 1 == arguments.length)throw new TypeError("reduce of empty array with no initial value");
            var e, f = 0;
            if (arguments.length >= 2)e = arguments[1]; else for (; ;) {
                if (f in c) {
                    e = c[f++];
                    break
                }
                if (++f >= d)throw new TypeError("reduce of empty array with no initial value")
            }
            for (; d > f; f++)f in c && (e = a.call(void 0, e, c[f], f, b));
            return e
        }), Array.prototype.reduceRight || (Array.prototype.reduceRight = function (a) {
            var b = H(this), c = q && "[object String]" == m(this) ? this.split("") : b, d = c.length >>> 0;
            if ("[object Function]" != m(a))throw new TypeError(a + " is not a function");
            if (!d && 1 == arguments.length)throw new TypeError("reduceRight of empty array with no initial value");
            var e, f = d - 1;
            if (arguments.length >= 2)e = arguments[1]; else for (; ;) {
                if (f in c) {
                    e = c[f--];
                    break
                }
                if (--f < 0)throw new TypeError("reduceRight of empty array with no initial value")
            }
            do f in this && (e = a.call(void 0, e, c[f], f, b)); while (f--);
            return e
        }), Array.prototype.indexOf && -1 == [0, 1].indexOf(1, 2) || (Array.prototype.indexOf = function (a) {
            var b = q && "[object String]" == m(this) ? this.split("") : H(this), d = b.length >>> 0;
            if (!d)return -1;
            var e = 0;
            for (arguments.length > 1 && (e = c(arguments[1])), e = e >= 0 ? e : Math.max(0, d + e); d > e; e++)if (e in b && b[e] === a)return e;
            return -1
        }), Array.prototype.lastIndexOf && -1 == [0, 1].lastIndexOf(0, -3) || (Array.prototype.lastIndexOf = function (a) {
            var b = q && "[object String]" == m(this) ? this.split("") : H(this), d = b.length >>> 0;
            if (!d)return -1;
            var e = d - 1;
            for (arguments.length > 1 && (e = Math.min(e, c(arguments[1]))), e = e >= 0 ? e : d - Math.abs(e); e >= 0; e--)if (e in b && a === b[e])return e;
            return -1
        }), Object.getPrototypeOf || (Object.getPrototypeOf = function (a) {
            return a.__proto__ || (a.constructor ? a.constructor.prototype : k)
        }), !Object.getOwnPropertyDescriptor) {
        var r = "Object.getOwnPropertyDescriptor called on a non-object: ";
        Object.getOwnPropertyDescriptor = function (a, b) {
            if ("object" != typeof a && "function" != typeof a || null === a)throw new TypeError(r + a);
            if (n(a, b)) {
                var c, d, e;
                if (c = {enumerable: !0, configurable: !0}, h) {
                    var i = a.__proto__;
                    a.__proto__ = k;
                    var d = f(a, b), e = g(a, b);
                    if (a.__proto__ = i, d || e)return d && (c.get = d), e && (c.set = e), c
                }
                return c.value = a[b], c
            }
        }
    }
    if (Object.getOwnPropertyNames || (Object.getOwnPropertyNames = function (a) {
            return Object.keys(a)
        }), !Object.create) {
        var s;
        s = null === Object.prototype.__proto__ ? function () {
            return {__proto__: null}
        } : function () {
            var a = {};
            for (var b in a)a[b] = null;
            return a.constructor = a.hasOwnProperty = a.propertyIsEnumerable = a.isPrototypeOf = a.toLocaleString = a.toString = a.valueOf = a.__proto__ = null, a
        }, Object.create = function (a, b) {
            var c;
            if (null === a)c = s(); else {
                if ("object" != typeof a)throw new TypeError("typeof prototype[" + typeof a + "] != 'object'");
                var d = function () {
                };
                d.prototype = a, c = new d, c.__proto__ = a
            }
            return void 0 !== b && Object.defineProperties(c, b), c
        }
    }
    if (Object.defineProperty) {
        var t = b({}), u = "undefined" == typeof document || b(document.createElement("div"));
        if (!t || !u)var v = Object.defineProperty
    }
    if (!Object.defineProperty || v) {
        var w = "Property description must be an object: ", x = "Object.defineProperty called on non-object: ", y = "getters & setters can not be defined on this javascript engine";
        Object.defineProperty = function (a, b, c) {
            if ("object" != typeof a && "function" != typeof a || null === a)throw new TypeError(x + a);
            if ("object" != typeof c && "function" != typeof c || null === c)throw new TypeError(w + c);
            if (v)try {
                return v.call(Object, a, b, c)
            } catch (i) {
            }
            if (n(c, "value"))if (h && (f(a, b) || g(a, b))) {
                var j = a.__proto__;
                a.__proto__ = k, delete a[b], a[b] = c.value, a.__proto__ = j
            } else a[b] = c.value; else {
                if (!h)throw new TypeError(y);
                n(c, "get") && d(a, b, c.get), n(c, "set") && e(a, b, c.set)
            }
            return a
        }
    }
    Object.defineProperties || (Object.defineProperties = function (a, b) {
        for (var c in b)n(b, c) && Object.defineProperty(a, c, b[c]);
        return a
    }), Object.seal || (Object.seal = function (a) {
        return a
    }), Object.freeze || (Object.freeze = function (a) {
        return a
    });
    try {
        Object.freeze(function () {
        })
    } catch (z) {
        Object.freeze = function (a) {
            return function (b) {
                return "function" == typeof b ? b : a(b)
            }
        }(Object.freeze)
    }
    if (Object.preventExtensions || (Object.preventExtensions = function (a) {
            return a
        }), Object.isSealed || (Object.isSealed = function () {
            return !1
        }), Object.isFrozen || (Object.isFrozen = function () {
            return !1
        }), Object.isExtensible || (Object.isExtensible = function (a) {
            if (Object(a) === a)throw new TypeError;
            for (var b = ""; n(a, b);)b += "?";
            a[b] = !0;
            var c = n(a, b);
            return delete a[b], c
        }), !Object.keys) {
        var A = !0, B = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"], C = B.length;
        for (var D in{toString: null})A = !1;
        Object.keys = function I(a) {
            if ("object" != typeof a && "function" != typeof a || null === a)throw new TypeError("Object.keys called on a non-object");
            var I = [];
            for (var b in a)n(a, b) && I.push(b);
            if (A)for (var c = 0, d = C; d > c; c++) {
                var e = B[c];
                n(a, e) && I.push(e)
            }
            return I
        }
    }
    Date.now || (Date.now = function () {
        return (new Date).getTime()
    });
    var E = "	\n\f\r   ᠎             　\u2028\u2029﻿";
    if (!String.prototype.trim || E.trim()) {
        E = "[" + E + "]";
        var F = new RegExp("^" + E + E + "*"), G = new RegExp(E + E + "*$");
        String.prototype.trim = function () {
            return String(this).replace(F, "").replace(G, "")
        }
    }
    var H = function (a) {
        if (null == a)throw new TypeError("can't convert " + a + " to object");
        return Object(a)
    }
}), define("ace/lib/fixoldbrowsers", ["require", "exports", "module", "ace/lib/regexp", "ace/lib/es5-shim"], function (a) {
    "use strict";
    a("./regexp"), a("./es5-shim")
}), define("ace/lib/dom", ["require", "exports", "module"], function (a, b) {
    "use strict";
    var c = "http://www.w3.org/1999/xhtml";
    b.getDocumentHead = function (a) {
        return a || (a = document), a.head || a.getElementsByTagName("head")[0] || a.documentElement
    }, b.createElement = function (a, b) {
        return document.createElementNS ? document.createElementNS(b || c, a) : document.createElement(a)
    }, b.hasCssClass = function (a, b) {
        var c = (a.className || "").split(/\s+/g);
        return -1 !== c.indexOf(b)
    }, b.addCssClass = function (a, c) {
        b.hasCssClass(a, c) || (a.className += " " + c)
    }, b.removeCssClass = function (a, b) {
        for (var c = a.className.split(/\s+/g); ;) {
            var d = c.indexOf(b);
            if (-1 == d)break;
            c.splice(d, 1)
        }
        a.className = c.join(" ")
    }, b.toggleCssClass = function (a, b) {
        for (var c = a.className.split(/\s+/g), d = !0; ;) {
            var e = c.indexOf(b);
            if (-1 == e)break;
            d = !1, c.splice(e, 1)
        }
        return d && c.push(b), a.className = c.join(" "), d
    }, b.setCssClass = function (a, c, d) {
        d ? b.addCssClass(a, c) : b.removeCssClass(a, c)
    }, b.hasCssString = function (a, b) {
        var c, d = 0;
        if (b = b || document, b.createStyleSheet && (c = b.styleSheets)) {
            for (; d < c.length;)if (c[d++].owningElement.id === a)return !0
        } else if (c = b.getElementsByTagName("style"))for (; d < c.length;)if (c[d++].id === a)return !0;
        return !1
    }, b.importCssString = function (a, d, e) {
        if (e = e || document, d && b.hasCssString(d, e))return null;
        var f;
        e.createStyleSheet ? (f = e.createStyleSheet(), f.cssText = a, d && (f.owningElement.id = d)) : (f = e.createElementNS ? e.createElementNS(c, "style") : e.createElement("style"), f.appendChild(e.createTextNode(a)), d && (f.id = d), b.getDocumentHead(e).appendChild(f))
    }, b.importCssStylsheet = function (a, c) {
        if (c.createStyleSheet)c.createStyleSheet(a); else {
            var d = b.createElement("link");
            d.rel = "stylesheet", d.href = a, b.getDocumentHead(c).appendChild(d)
        }
    }, b.getInnerWidth = function (a) {
        return parseInt(b.computedStyle(a, "paddingLeft"), 10) + parseInt(b.computedStyle(a, "paddingRight"), 10) + a.clientWidth
    }, b.getInnerHeight = function (a) {
        return parseInt(b.computedStyle(a, "paddingTop"), 10) + parseInt(b.computedStyle(a, "paddingBottom"), 10) + a.clientHeight
    }, "undefined" != typeof document && (void 0 !== window.pageYOffset ? (b.getPageScrollTop = function () {
        return window.pageYOffset
    }, b.getPageScrollLeft = function () {
        return window.pageXOffset
    }) : (b.getPageScrollTop = function () {
        return document.body.scrollTop
    }, b.getPageScrollLeft = function () {
        return document.body.scrollLeft
    }), b.computedStyle = window.getComputedStyle ? function (a, b) {
        return b ? (window.getComputedStyle(a, "") || {})[b] || "" : window.getComputedStyle(a, "") || {}
    } : function (a, b) {
        return b ? a.currentStyle[b] : a.currentStyle
    }, b.scrollbarWidth = function (a) {
        var c = b.createElement("ace_inner");
        c.style.width = "100%", c.style.minWidth = "0px", c.style.height = "200px", c.style.display = "block";
        var d = b.createElement("ace_outer"), e = d.style;
        e.position = "absolute", e.left = "-10000px", e.overflow = "hidden", e.width = "200px", e.minWidth = "0px", e.height = "150px", e.display = "block", d.appendChild(c);
        var f = a.documentElement;
        f.appendChild(d);
        var g = c.offsetWidth;
        e.overflow = "scroll";
        var h = c.offsetWidth;
        return g == h && (h = d.clientWidth), f.removeChild(d), g - h
    }, b.setInnerHtml = function (a, b) {
        var c = a.cloneNode(!1);
        return c.innerHTML = b, a.parentNode.replaceChild(c, a), c
    }, "textContent"in document.documentElement ? (b.setInnerText = function (a, b) {
        a.textContent = b
    }, b.getInnerText = function (a) {
        return a.textContent
    }) : (b.setInnerText = function (a, b) {
        a.innerText = b
    }, b.getInnerText = function (a) {
        return a.innerText
    }), b.getParentWindow = function (a) {
        return a.defaultView || a.parentWindow
    })
}), define("ace/lib/oop", ["require", "exports", "module"], function (a, b) {
    "use strict";
    b.inherits = function (a, b) {
        a.super_ = b, a.prototype = Object.create(b.prototype, {
            constructor: {
                value: a,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        })
    }, b.mixin = function (a, b) {
        for (var c in b)a[c] = b[c];
        return a
    }, b.implement = function (a, c) {
        b.mixin(a, c)
    }
}), define("ace/lib/keys", ["require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/oop"], function (a, b) {
    "use strict";
    a("./fixoldbrowsers");
    var c = a("./oop"), d = function () {
        var a, b, d = {
            MODIFIER_KEYS: {16: "Shift", 17: "Ctrl", 18: "Alt", 224: "Meta"},
            KEY_MODS: {ctrl: 1, alt: 2, option: 2, shift: 4, "super": 8, meta: 8, command: 8, cmd: 8},
            FUNCTION_KEYS: {
                8: "Backspace",
                9: "Tab",
                13: "Return",
                19: "Pause",
                27: "Esc",
                32: "Space",
                33: "PageUp",
                34: "PageDown",
                35: "End",
                36: "Home",
                37: "Left",
                38: "Up",
                39: "Right",
                40: "Down",
                44: "Print",
                45: "Insert",
                46: "Delete",
                96: "Numpad0",
                97: "Numpad1",
                98: "Numpad2",
                99: "Numpad3",
                100: "Numpad4",
                101: "Numpad5",
                102: "Numpad6",
                103: "Numpad7",
                104: "Numpad8",
                105: "Numpad9",
                "-13": "NumpadEnter",
                112: "F1",
                113: "F2",
                114: "F3",
                115: "F4",
                116: "F5",
                117: "F6",
                118: "F7",
                119: "F8",
                120: "F9",
                121: "F10",
                122: "F11",
                123: "F12",
                144: "Numlock",
                145: "Scrolllock"
            },
            PRINTABLE_KEYS: {
                32: " ",
                48: "0",
                49: "1",
                50: "2",
                51: "3",
                52: "4",
                53: "5",
                54: "6",
                55: "7",
                56: "8",
                57: "9",
                59: ";",
                61: "=",
                65: "a",
                66: "b",
                67: "c",
                68: "d",
                69: "e",
                70: "f",
                71: "g",
                72: "h",
                73: "i",
                74: "j",
                75: "k",
                76: "l",
                77: "m",
                78: "n",
                79: "o",
                80: "p",
                81: "q",
                82: "r",
                83: "s",
                84: "t",
                85: "u",
                86: "v",
                87: "w",
                88: "x",
                89: "y",
                90: "z",
                107: "+",
                109: "-",
                110: ".",
                186: ";",
                187: "=",
                188: ",",
                189: "-",
                190: ".",
                191: "/",
                192: "`",
                219: "[",
                220: "\\",
                221: "]",
                222: "'"
            }
        };
        for (b in d.FUNCTION_KEYS)a = d.FUNCTION_KEYS[b].toLowerCase(), d[a] = parseInt(b, 10);
        for (b in d.PRINTABLE_KEYS)a = d.PRINTABLE_KEYS[b].toLowerCase(), d[a] = parseInt(b, 10);
        return c.mixin(d, d.MODIFIER_KEYS), c.mixin(d, d.PRINTABLE_KEYS), c.mixin(d, d.FUNCTION_KEYS), d.enter = d["return"], d.escape = d.esc, d.del = d["delete"], d[173] = "-", function () {
            for (var a = ["cmd", "ctrl", "alt", "shift"], b = Math.pow(2, a.length); b--;)d.KEY_MODS[b] = a.filter(function (a) {
                return b & d.KEY_MODS[a]
            }).join("-") + "-"
        }(), d.KEY_MODS[0] = "", d.KEY_MODS[-1] = "input-", d
    }();
    c.mixin(b, d), b.keyCodeToString = function (a) {
        var b = d[a];
        return "string" != typeof b && (b = String.fromCharCode(a)), b.toLowerCase()
    }
}), define("ace/lib/useragent", ["require", "exports", "module"], function (a, b) {
    "use strict";
    if (b.OS = {LINUX: "LINUX", MAC: "MAC", WINDOWS: "WINDOWS"}, b.getOS = function () {
            return b.isMac ? b.OS.MAC : b.isLinux ? b.OS.LINUX : b.OS.WINDOWS
        }, "object" == typeof navigator) {
        var c = (navigator.platform.match(/mac|win|linux/i) || ["other"])[0].toLowerCase(), d = navigator.userAgent;
        b.isWin = "win" == c, b.isMac = "mac" == c, b.isLinux = "linux" == c, b.isIE = parseFloat("Microsoft Internet Explorer" == navigator.appName || navigator.appName.indexOf("MSAppHost") >= 0 ? (d.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/) || [])[1] : (d.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/) || [])[1]), b.isOldIE = b.isIE && b.isIE < 9, b.isGecko = b.isMozilla = (window.Controllers || window.controllers) && "Gecko" === window.navigator.product, b.isOldGecko = b.isGecko && parseInt((d.match(/rv\:(\d+)/) || [])[1], 10) < 4, b.isOpera = window.opera && "[object Opera]" == Object.prototype.toString.call(window.opera), b.isWebKit = parseFloat(d.split("WebKit/")[1]) || void 0, b.isChrome = parseFloat(d.split(" Chrome/")[1]) || void 0, b.isAIR = d.indexOf("AdobeAIR") >= 0, b.isIPad = d.indexOf("iPad") >= 0, b.isTouchPad = d.indexOf("TouchPad") >= 0, b.isChromeOS = d.indexOf(" CrOS ") >= 0
    }
}), define("ace/lib/event", ["require", "exports", "module", "ace/lib/keys", "ace/lib/useragent"], function (a, b) {
    "use strict";
    function c(a, b, c) {
        var i = f(b);
        if (!e.isMac && g) {
            if (g.altGr) {
                if (3 == (3 & i))return;
                g.altGr = 0
            }
            if (18 === c || 17 === c) {
                var j = "location"in b ? b.location : b.keyLocation;
                if (17 === c && 1 === j)1 == g[c] && (h = b.timeStamp); else if (18 === c && 3 === i && 2 === j) {
                    var k = b.timestamp - h;
                    50 > k && (g.altGr = !0)
                }
            }
        }
        if (c in d.MODIFIER_KEYS && (c = -1), 8 & i && (91 === c || 93 === c) && (c = -1), !i && 13 === c) {
            var j = "location"in b ? b.location : b.keyLocation;
            if (3 === j && (a(b, i, -c), b.defaultPrevented))return
        }
        if (e.isChromeOS && 8 & i) {
            if (a(b, i, c), b.defaultPrevented)return;
            i &= -9
        }
        return i || c in d.FUNCTION_KEYS || c in d.PRINTABLE_KEYS ? a(b, i, c) : !1
    }

    var d = a("./keys"), e = a("./useragent");
    b.addListener = function (a, b, c) {
        if (a.addEventListener)return a.addEventListener(b, c, !1);
        if (a.attachEvent) {
            var d = function () {
                c.call(a, window.event)
            };
            c._wrapper = d, a.attachEvent("on" + b, d)
        }
    }, b.removeListener = function (a, b, c) {
        return a.removeEventListener ? a.removeEventListener(b, c, !1) : void(a.detachEvent && a.detachEvent("on" + b, c._wrapper || c))
    }, b.stopEvent = function (a) {
        return b.stopPropagation(a), b.preventDefault(a), !1
    }, b.stopPropagation = function (a) {
        a.stopPropagation ? a.stopPropagation() : a.cancelBubble = !0
    }, b.preventDefault = function (a) {
        a.preventDefault ? a.preventDefault() : a.returnValue = !1
    }, b.getButton = function (a) {
        return "dblclick" == a.type ? 0 : "contextmenu" == a.type || e.isMac && a.ctrlKey && !a.altKey && !a.shiftKey ? 2 : a.preventDefault ? a.button : {
            1: 0,
            2: 2,
            4: 1
        }[a.button]
    }, b.capture = function (a, c, d) {
        function e(a) {
            c && c(a), d && d(a), b.removeListener(document, "mousemove", c, !0), b.removeListener(document, "mouseup", e, !0), b.removeListener(document, "dragstart", e, !0)
        }

        return b.addListener(document, "mousemove", c, !0), b.addListener(document, "mouseup", e, !0), b.addListener(document, "dragstart", e, !0), e
    }, b.addMouseWheelListener = function (a, c) {
        "onmousewheel"in a ? b.addListener(a, "mousewheel", function (a) {
            var b = 8;
            void 0 !== a.wheelDeltaX ? (a.wheelX = -a.wheelDeltaX / b, a.wheelY = -a.wheelDeltaY / b) : (a.wheelX = 0, a.wheelY = -a.wheelDelta / b), c(a)
        }) : "onwheel"in a ? b.addListener(a, "wheel", function (a) {
            var b = .35;
            switch (a.deltaMode) {
                case a.DOM_DELTA_PIXEL:
                    a.wheelX = a.deltaX * b || 0, a.wheelY = a.deltaY * b || 0;
                    break;
                case a.DOM_DELTA_LINE:
                case a.DOM_DELTA_PAGE:
                    a.wheelX = 5 * (a.deltaX || 0), a.wheelY = 5 * (a.deltaY || 0)
            }
            c(a)
        }) : b.addListener(a, "DOMMouseScroll", function (a) {
            a.axis && a.axis == a.HORIZONTAL_AXIS ? (a.wheelX = 5 * (a.detail || 0), a.wheelY = 0) : (a.wheelX = 0, a.wheelY = 5 * (a.detail || 0)), c(a)
        })
    }, b.addMultiMouseDownListener = function (a, c, d, f) {
        var g, h, i, j = 0, k = {2: "dblclick", 3: "tripleclick", 4: "quadclick"};
        b.addListener(a, "mousedown", function (a) {
            if (0 !== b.getButton(a) ? j = 0 : a.detail > 1 ? (j++, j > 4 && (j = 1)) : j = 1, e.isIE) {
                var l = Math.abs(a.clientX - g) > 5 || Math.abs(a.clientY - h) > 5;
                (!i || l) && (j = 1), i && clearTimeout(i), i = setTimeout(function () {
                    i = null
                }, c[j - 1] || 600), 1 == j && (g = a.clientX, h = a.clientY)
            }
            if (a._clicks = j, d[f]("mousedown", a), j > 4)j = 0; else if (j > 1)return d[f](k[j], a)
        }), e.isOldIE && b.addListener(a, "dblclick", function (a) {
            j = 2, i && clearTimeout(i), i = setTimeout(function () {
                i = null
            }, c[j - 1] || 600), d[f]("mousedown", a), d[f](k[j], a)
        })
    };
    var f = !e.isMac || !e.isOpera || "KeyboardEvent"in window ? function (a) {
        return 0 | (a.ctrlKey ? 1 : 0) | (a.altKey ? 2 : 0) | (a.shiftKey ? 4 : 0) | (a.metaKey ? 8 : 0)
    } : function (a) {
        return 0 | (a.metaKey ? 1 : 0) | (a.altKey ? 2 : 0) | (a.shiftKey ? 4 : 0) | (a.ctrlKey ? 8 : 0)
    };
    b.getModifierString = function (a) {
        return d.KEY_MODS[f(a)]
    };
    var g = null, h = 0;
    if (b.addCommandKeyListener = function (a, d) {
            var f = b.addListener;
            if (e.isOldGecko || e.isOpera && !("KeyboardEvent"in window)) {
                var h = null;
                f(a, "keydown", function (a) {
                    h = a.keyCode
                }), f(a, "keypress", function (a) {
                    return c(d, a, h)
                })
            } else {
                var i = null;
                f(a, "keydown", function (a) {
                    g[a.keyCode] = (g[a.keyCode] || 0) + 1;
                    var b = c(d, a, a.keyCode);
                    return i = a.defaultPrevented, b
                }), f(a, "keypress", function (a) {
                    i && (a.ctrlKey || a.altKey || a.shiftKey || a.metaKey) && (b.stopEvent(a), i = null)
                }), f(a, "keyup", function (a) {
                    g[a.keyCode] = null
                }), g || (g = Object.create(null), f(window, "focus", function () {
                    g = Object.create(null)
                }))
            }
        }, window.postMessage && !e.isOldIE) {
        var i = 1;
        b.nextTick = function (a, c) {
            c = c || window;
            var d = "zero-timeout-message-" + i;
            b.addListener(c, "message", function e(f) {
                f.data == d && (b.stopPropagation(f), b.removeListener(c, "message", e), a())
            }), c.postMessage(d, "*")
        }
    }
    b.nextFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame, b.nextFrame = b.nextFrame ? b.nextFrame.bind(window) : function (a) {
        setTimeout(a, 17)
    }
}), define("ace/lib/lang", ["require", "exports", "module"], function (a, b) {
    "use strict";
    b.last = function (a) {
        return a[a.length - 1]
    }, b.stringReverse = function (a) {
        return a.split("").reverse().join("")
    }, b.stringRepeat = function (a, b) {
        for (var c = ""; b > 0;)1 & b && (c += a), (b >>= 1) && (a += a);
        return c
    };
    var c = /^\s\s*/, d = /\s\s*$/;
    b.stringTrimLeft = function (a) {
        return a.replace(c, "")
    }, b.stringTrimRight = function (a) {
        return a.replace(d, "")
    }, b.copyObject = function (a) {
        var b = {};
        for (var c in a)b[c] = a[c];
        return b
    }, b.copyArray = function (a) {
        for (var b = [], c = 0, d = a.length; d > c; c++)b[c] = a[c] && "object" == typeof a[c] ? this.copyObject(a[c]) : a[c];
        return b
    }, b.deepCopy = function (a) {
        if ("object" != typeof a || !a)return a;
        var c = a.constructor;
        if (c === RegExp)return a;
        var d = c();
        for (var e in a)d[e] = "object" == typeof a[e] ? b.deepCopy(a[e]) : a[e];
        return d
    }, b.arrayToMap = function (a) {
        for (var b = {}, c = 0; c < a.length; c++)b[a[c]] = 1;
        return b
    }, b.createMap = function (a) {
        var b = Object.create(null);
        for (var c in a)b[c] = a[c];
        return b
    }, b.arrayRemove = function (a, b) {
        for (var c = 0; c <= a.length; c++)b === a[c] && a.splice(c, 1)
    }, b.escapeRegExp = function (a) {
        return a.replace(/([.*+?^${}()|[\]\/\\])/g, "\\$1")
    }, b.escapeHTML = function (a) {
        return a.replace(/&/g, "&#38;").replace(/"/g, "&#34;").replace(/'/g, "&#39;").replace(/</g, "&#60;")
    }, b.getMatchOffsets = function (a, b) {
        var c = [];
        return a.replace(b, function (a) {
            c.push({offset: arguments[arguments.length - 2], length: a.length})
        }), c
    }, b.deferredCall = function (a) {
        var b = null, c = function () {
            b = null, a()
        }, d = function (a) {
            return d.cancel(), b = setTimeout(c, a || 0), d
        };
        return d.schedule = d, d.call = function () {
            return this.cancel(), a(), d
        }, d.cancel = function () {
            return clearTimeout(b), b = null, d
        }, d.isPending = function () {
            return b
        }, d
    }, b.delayedCall = function (a, b) {
        var c = null, d = function () {
            c = null, a()
        }, e = function (a) {
            null == c && (c = setTimeout(d, a || b))
        };
        return e.delay = function (a) {
            c && clearTimeout(c), c = setTimeout(d, a || b)
        }, e.schedule = e, e.call = function () {
            this.cancel(), a()
        }, e.cancel = function () {
            c && clearTimeout(c), c = null
        }, e.isPending = function () {
            return c
        }, e
    }
}), define("ace/keyboard/textinput", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/lib/dom", "ace/lib/lang"], function (a, b) {
    "use strict";
    var c = a("../lib/event"), d = a("../lib/useragent"), e = a("../lib/dom"), f = a("../lib/lang"), g = d.isChrome < 18, h = d.isIE, i = function (a, b) {
        function i(a) {
            if (!p) {
                if (p = !0, C)b = 0, c = a ? 0 : l.value.length - 1; else var b = a ? 2 : 1, c = 2;
                try {
                    l.setSelectionRange(b, c)
                } catch (d) {
                }
                p = !1
            }
        }

        function j() {
            p || (l.value = m, d.isWebKit && v.schedule())
        }

        function k() {
            clearTimeout(P), P = setTimeout(function () {
                q && (l.style.cssText = q, q = ""), null == b.renderer.$keepTextAreaAtCursor && (b.renderer.$keepTextAreaAtCursor = !0, b.renderer.$moveTextAreaToCursor())
            }, d.isOldIE ? 200 : 0)
        }

        var l = e.createElement("textarea");
        l.className = "ace_text-input", d.isTouchPad && l.setAttribute("x-palm-disable-auto-cap", !0),
            l.setAttribute("wrap", "off"), l.setAttribute("autocorrect", "off"), l.setAttribute("autocapitalize", "off"),
            l.setAttribute("spellcheck", !1), l.style.opacity = "0", d.isOldIE && (l.style.top = "-1000px"), a.insertBefore(l, a.firstChild);
        var m = "", n = !1, o = !1, p = !1, q = "", r = !0;
        try {
            var s = document.activeElement === l
        } catch (t) {
        }
        c.addListener(l, "blur", function (a) {
            b.onBlur(a), s = !1
        }), c.addListener(l, "focus", function (a) {
            s = !0, b.onFocus(a), i()
        }), this.focus = function () {
            return q ? l.focus() : (l.style.position = "fixed", l.style.top = "-1000px", l.focus(), void setTimeout(function () {
                l.style.position = ""
            }, 0))
        }, this.blur = function () {
            l.blur()
        }, this.isFocused = function () {
            return s
        };
        var u = f.delayedCall(function () {
            s && i(r)
        }), v = f.delayedCall(function () {
            p || (l.value = m, s && i())
        });
        d.isWebKit || b.addEventListener("changeSelection", function () {
            b.selection.isEmpty() != r && (r = !r, u.schedule())
        }), j(), s && b.onFocus();
        var w = function (a) {
            return 0 === a.selectionStart && a.selectionEnd === a.value.length
        };
        if (!l.setSelectionRange && l.createTextRange && (l.setSelectionRange = function (a, b) {
                var c = this.createTextRange();
                c.collapse(!0), c.moveStart("character", a), c.moveEnd("character", b), c.select()
            }, w = function (a) {
                try {
                    var b = a.ownerDocument.selection.createRange()
                } catch (c) {
                }
                return b && b.parentElement() == a ? b.text == a.value : !1
            }), d.isOldIE) {
            var x = !1, y = function (a) {
                if (!x) {
                    var b = l.value;
                    if (!p && b && b != m) {
                        if (a && b == m[0])return z.schedule();
                        E(b), x = !0, j(), x = !1
                    }
                }
            }, z = f.delayedCall(y);
            c.addListener(l, "propertychange", y);
            var A = {13: 1, 27: 1};
            c.addListener(l, "keyup", function (a) {
                return !p || l.value && !A[a.keyCode] || setTimeout(N, 0), (l.value.charCodeAt(0) || 0) < 129 ? z.call() : void(p ? M() : L())
            }), c.addListener(l, "keydown", function () {
                z.schedule(50)
            })
        }
        var B = function () {
            n ? n = !1 : w(l) ? (b.selectAll(), i()) : C && i(b.selection.isEmpty())
        }, C = null;
        this.setInputHandler = function (a) {
            C = a
        }, this.getInputHandler = function () {
            return C
        };
        var D = !1, E = function (a) {
            C && (a = C(a), C = null), o ? (i(), a && b.onPaste(a), o = !1) : a == m.charAt(0) ? D ? b.execCommand("del", {source: "ace"}) : d.isLinux && d.isChrome || b.execCommand("backspace", {source: "ace"}) : (a.substring(0, 2) == m ? a = a.substr(2) : a.charAt(0) == m.charAt(0) ? a = a.substr(1) : a.charAt(a.length - 1) == m.charAt(0) && (a = a.slice(0, -1)), a.charAt(a.length - 1) == m.charAt(0) && (a = a.slice(0, -1)), a && b.onTextInput(a)), D && (D = !1)
        }, F = function () {
            if (!p) {
                var a = l.value;
                E(a), j()
            }
        }, G = function (a, b) {
            var c = a.clipboardData || window.clipboardData;
            if (c && !g) {
                var d = h ? "Text" : "text/plain";
                return b ? c.setData(d, b) !== !1 : c.getData(d)
            }
        }, H = function (a, d) {
            var e = b.getCopyText();
            return e ? void(G(a, e) ? (d ? b.onCut() : b.onCopy(), c.preventDefault(a)) : (n = !0, l.value = e, l.select(), setTimeout(function () {
                n = !1, j(), i(), d ? b.onCut() : b.onCopy()
            }))) : c.preventDefault(a)
        }, I = function (a) {
            H(a, !0)
        }, J = function (a) {
            H(a, !1)
        }, K = function (a) {
            var e = G(a);
            "string" == typeof e ? (e && b.onPaste(e), d.isIE && setTimeout(i), c.preventDefault(a)) : (l.value = "", o = !0)
        };
        c.addCommandKeyListener(l, b.onCommandKey.bind(b)), c.addListener(l, "select", B), c.addListener(l, "input", F), c.addListener(l, "cut", I), c.addListener(l, "copy", J), c.addListener(l, "paste", K), "oncut"in l && "oncopy"in l && "onpaste"in l || c.addListener(a, "keydown", function (a) {
            if ((!d.isMac || a.metaKey) && a.ctrlKey)switch (a.keyCode) {
                case 67:
                    J(a);
                    break;
                case 86:
                    K(a);
                    break;
                case 88:
                    I(a)
            }
        });
        var L = function () {
            p || !b.onCompositionStart || b.$readOnly || (p = {}, b.onCompositionStart(), setTimeout(M, 0), b.on("mousedown", N), b.selection.isEmpty() || (b.insert(""), b.session.markUndoGroup(), b.selection.clearSelection()), b.session.markUndoGroup())
        }, M = function () {
            if (p && b.onCompositionUpdate && !b.$readOnly) {
                var a = l.value.replace(/\x01/g, "");
                if (p.lastValue !== a && (b.onCompositionUpdate(a), p.lastValue && b.undo(), p.lastValue = a, p.lastValue)) {
                    var c = b.selection.getRange();
                    b.insert(p.lastValue), b.session.markUndoGroup(), p.range = b.selection.getRange(), b.selection.setRange(c), b.selection.clearSelection()
                }
            }
        }, N = function (a) {
            if (b.onCompositionEnd && !b.$readOnly) {
                var c = p;
                p = !1;
                var d = setTimeout(function () {
                    d = null;
                    var a = l.value.replace(/\x01/g, "");
                    p || (a == c.lastValue ? j() : !c.lastValue && a && (j(), E(a)))
                });
                C = function (a) {
                    return d && clearTimeout(d), a = a.replace(/\x01/g, ""), a == c.lastValue ? "" : (c.lastValue && d && b.undo(), a)
                }, b.onCompositionEnd(), b.removeListener("mousedown", N), "compositionend" == a.type && c.range && b.selection.setRange(c.range)
            }
        }, O = f.delayedCall(M, 50);
        c.addListener(l, "compositionstart", L), d.isGecko ? c.addListener(l, "text", function () {
            O.schedule()
        }) : (c.addListener(l, "keyup", function () {
            O.schedule()
        }), c.addListener(l, "keydown", function () {
            O.schedule()
        })), c.addListener(l, "compositionend", N), this.getElement = function () {
            return l
        }, this.setReadOnly = function (a) {
            l.readOnly = a
        }, this.onContextMenu = function (a) {
            D = !0, i(b.selection.isEmpty()), b._emit("nativecontextmenu", {
                target: b,
                domEvent: a
            }), this.moveToMouse(a, !0)
        }, this.moveToMouse = function (a, f) {
            if (f || !d.isOldIE) {
                q || (q = l.style.cssText), l.style.cssText = (f ? "z-index:100000;" : "") + "height:" + l.style.height + ";" + (d.isIE ? "opacity:0.1;" : "");
                var g = b.container.getBoundingClientRect(), h = e.computedStyle(b.container), i = g.top + (parseInt(h.borderTopWidth) || 0), j = g.left + (parseInt(g.borderLeftWidth) || 0), m = g.bottom - i - l.clientHeight - 2, n = function (a) {
                    l.style.left = a.clientX - j - 2 + "px", l.style.top = Math.min(a.clientY - i - 2, m) + "px"
                };
                n(a), "mousedown" == a.type && (b.renderer.$keepTextAreaAtCursor && (b.renderer.$keepTextAreaAtCursor = null), d.isWin && !d.isOldIE && c.capture(b.container, n, k))
            }
        }, this.onContextMenuClose = k;
        var P, Q = function (a) {
            b.textInput.onContextMenu(a), k()
        };
        c.addListener(b.renderer.scroller, "contextmenu", Q), c.addListener(l, "contextmenu", Q)
    };
    b.TextInput = i
}), define("ace/mouse/default_handlers", ["require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/lib/useragent"], function (a, b) {
    "use strict";
    function c(a) {
        a.$clickSelection = null;
        var b = a.editor;
        b.setDefaultHandler("mousedown", this.onMouseDown.bind(a)), b.setDefaultHandler("dblclick", this.onDoubleClick.bind(a)), b.setDefaultHandler("tripleclick", this.onTripleClick.bind(a)), b.setDefaultHandler("quadclick", this.onQuadClick.bind(a)), b.setDefaultHandler("mousewheel", this.onMouseWheel.bind(a));
        var c = ["select", "startSelect", "selectEnd", "selectAllEnd", "selectByWordsEnd", "selectByLinesEnd", "dragWait", "dragWaitEnd", "focusWait"];
        c.forEach(function (b) {
            a[b] = this[b]
        }, this), a.selectByLines = this.extendSelectionBy.bind(a, "getLineRange"), a.selectByWords = this.extendSelectionBy.bind(a, "getWordRange")
    }

    function d(a, b, c, d) {
        return Math.sqrt(Math.pow(c - a, 2) + Math.pow(d - b, 2))
    }

    function e(a, b) {
        if (a.start.row == a.end.row)var c = 2 * b.column - a.start.column - a.end.column; else if (a.start.row != a.end.row - 1 || a.start.column || a.end.column)var c = 2 * b.row - a.start.row - a.end.row; else var c = b.column - 4;
        return 0 > c ? {cursor: a.start, anchor: a.end} : {cursor: a.end, anchor: a.start}
    }

    var f = (a("../lib/dom"), a("../lib/event"), a("../lib/useragent"), 0);
    (function () {
        this.onMouseDown = function (a) {
            var b = a.inSelection(), c = a.getDocumentPosition();
            this.mousedownEvent = a;
            var d = this.editor, e = a.getButton();
            if (0 !== e) {
                var f = d.getSelectionRange(), g = f.isEmpty();
                return d.$blockScrolling++, g && d.selection.moveToPosition(c), d.$blockScrolling--, void d.textInput.onContextMenu(a.domEvent)
            }
            return this.mousedownEvent.time = Date.now(), !b || d.isFocused() || (d.focus(), !this.$focusTimout || this.$clickSelection || d.inMultiSelectMode) ? (this.captureMouse(a), this.startSelect(c, a.domEvent._clicks > 1), a.preventDefault()) : (this.setState("focusWait"), void this.captureMouse(a))
        }, this.startSelect = function (a, b) {
            a = a || this.editor.renderer.screenToTextCoordinates(this.x, this.y);
            var c = this.editor;
            c.$blockScrolling++, this.mousedownEvent.getShiftKey() ? c.selection.selectToPosition(a) : b || c.selection.moveToPosition(a), b || this.select(), c.renderer.scroller.setCapture && c.renderer.scroller.setCapture(), c.setStyle("ace_selecting"), this.setState("select"), c.$blockScrolling--
        }, this.select = function () {
            var a, b = this.editor, c = b.renderer.screenToTextCoordinates(this.x, this.y);
            if (b.$blockScrolling++, this.$clickSelection) {
                var d = this.$clickSelection.comparePoint(c);
                if (-1 == d)a = this.$clickSelection.end; else if (1 == d)a = this.$clickSelection.start; else {
                    var f = e(this.$clickSelection, c);
                    c = f.cursor, a = f.anchor
                }
                b.selection.setSelectionAnchor(a.row, a.column)
            }
            b.selection.selectToPosition(c), b.$blockScrolling--, b.renderer.scrollCursorIntoView()
        }, this.extendSelectionBy = function (a) {
            var b, c = this.editor, d = c.renderer.screenToTextCoordinates(this.x, this.y), f = c.selection[a](d.row, d.column);
            if (c.$blockScrolling++, this.$clickSelection) {
                var g = this.$clickSelection.comparePoint(f.start), h = this.$clickSelection.comparePoint(f.end);
                if (-1 == g && 0 >= h)b = this.$clickSelection.end, (f.end.row != d.row || f.end.column != d.column) && (d = f.start); else if (1 == h && g >= 0)b = this.$clickSelection.start, (f.start.row != d.row || f.start.column != d.column) && (d = f.end); else if (-1 == g && 1 == h)d = f.end, b = f.start; else {
                    var i = e(this.$clickSelection, d);
                    d = i.cursor, b = i.anchor
                }
                c.selection.setSelectionAnchor(b.row, b.column)
            }
            c.selection.selectToPosition(d), c.$blockScrolling--, c.renderer.scrollCursorIntoView()
        }, this.selectEnd = this.selectAllEnd = this.selectByWordsEnd = this.selectByLinesEnd = function () {
            this.$clickSelection = null, this.editor.unsetStyle("ace_selecting"), this.editor.renderer.scroller.releaseCapture && this.editor.renderer.scroller.releaseCapture()
        }, this.focusWait = function () {
            var a = d(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y), b = Date.now();
            (a > f || b - this.mousedownEvent.time > this.$focusTimout) && this.startSelect(this.mousedownEvent.getDocumentPosition())
        }, this.onDoubleClick = function (a) {
            var b = a.getDocumentPosition(), c = this.editor, d = c.session, e = d.getBracketRange(b);
            e ? (e.isEmpty() && (e.start.column--, e.end.column++), this.setState("select")) : (e = c.selection.getWordRange(b.row, b.column), this.setState("selectByWords")), this.$clickSelection = e, this.select()
        }, this.onTripleClick = function (a) {
            var b = a.getDocumentPosition(), c = this.editor;
            this.setState("selectByLines");
            var d = c.getSelectionRange();
            d.isMultiLine() && d.contains(b.row, b.column) ? (this.$clickSelection = c.selection.getLineRange(d.start.row), this.$clickSelection.end = c.selection.getLineRange(d.end.row).end) : this.$clickSelection = c.selection.getLineRange(b.row), this.select()
        }, this.onQuadClick = function () {
            var a = this.editor;
            a.selectAll(), this.$clickSelection = a.getSelectionRange(), this.setState("selectAll")
        }, this.onMouseWheel = function (a) {
            if (!a.getAccelKey()) {
                a.getShiftKey() && a.wheelY && !a.wheelX && (a.wheelX = a.wheelY, a.wheelY = 0);
                var b = a.domEvent.timeStamp, c = b - (this.$lastScrollTime || 0), d = this.editor, e = d.renderer.isScrollableBy(a.wheelX * a.speed, a.wheelY * a.speed);
                return e || 200 > c ? (this.$lastScrollTime = b, d.renderer.scrollBy(a.wheelX * a.speed, a.wheelY * a.speed), a.stop()) : void 0
            }
        }
    }).call(c.prototype), b.DefaultHandlers = c
}), define("ace/tooltip", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom"], function (a, b) {
    "use strict";
    function c(a) {
        this.isOpen = !1, this.$element = null, this.$parentNode = a
    }

    var d = (a("./lib/oop"), a("./lib/dom"));
    (function () {
        this.$init = function () {
            return this.$element = d.createElement("div"), this.$element.className = "ace_tooltip", this.$element.style.display = "none", this.$parentNode.appendChild(this.$element), this.$element
        }, this.getElement = function () {
            return this.$element || this.$init()
        }, this.setText = function (a) {
            d.setInnerText(this.getElement(), a)
        }, this.setHtml = function (a) {
            this.getElement().innerHTML = a
        }, this.setPosition = function (a, b) {
            this.getElement().style.left = a + "px", this.getElement().style.top = b + "px"
        }, this.setClassName = function (a) {
            d.addCssClass(this.getElement(), a)
        }, this.show = function (a, b, c) {
            null != a && this.setText(a), null != b && null != c && this.setPosition(b, c), this.isOpen || (this.getElement().style.display = "block", this.isOpen = !0)
        }, this.hide = function () {
            this.isOpen && (this.getElement().style.display = "none", this.isOpen = !1)
        }, this.getHeight = function () {
            return this.getElement().offsetHeight
        }, this.getWidth = function () {
            return this.getElement().offsetWidth
        }
    }).call(c.prototype), b.Tooltip = c
}), define("ace/mouse/default_gutter_handler", ["require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/event", "ace/tooltip"], function (a, b) {
    "use strict";
    function c(a) {
        function b() {
            var b = l.getDocumentPosition().row, d = i.$annotations[b];
            if (!d)return c();
            var e = h.session.getLength();
            if (b == e) {
                var g = h.renderer.pixelToScreenCoordinates(0, l.y).row, k = l.$pos;
                if (g > h.session.documentToScreenRow(k.row, k.column))return c()
            }
            if (m != d)if (m = d.text.join("<br/>"), j.setHtml(m), j.show(), h.on("mousewheel", c), a.$tooltipFollowsMouse)f(l); else {
                var n = i.$cells[h.session.documentToScreenRow(b, 0)].element, o = n.getBoundingClientRect(), p = j.getElement().style;
                p.left = o.right + "px", p.top = o.bottom + "px"
            }
        }

        function c() {
            k && (k = clearTimeout(k)), m && (j.hide(), m = null, h.removeEventListener("mousewheel", c))
        }

        function f(a) {
            j.setPosition(a.x, a.y)
        }

        var h = a.editor, i = h.renderer.$gutterLayer, j = new d(h.container);
        a.editor.setDefaultHandler("guttermousedown", function (b) {
            if (h.isFocused() && 0 == b.getButton()) {
                var c = i.getRegion(b);
                if ("foldWidgets" != c) {
                    var d = b.getDocumentPosition().row, e = h.session.selection;
                    if (b.getShiftKey())e.selectTo(d, 0); else {
                        if (2 == b.domEvent.detail)return h.selectAll(), b.preventDefault();
                        a.$clickSelection = h.selection.getLineRange(d)
                    }
                    return a.setState("selectByLines"), a.captureMouse(b), b.preventDefault()
                }
            }
        });
        var k, l, m;
        a.editor.setDefaultHandler("guttermousemove", function (d) {
            var g = d.domEvent.target || d.domEvent.srcElement;
            return e.hasCssClass(g, "ace_fold-widget") ? c() : (m && a.$tooltipFollowsMouse && f(d), l = d, void(k || (k = setTimeout(function () {
                k = null, l && !a.isMousePressed ? b() : c()
            }, 50))))
        }), g.addListener(h.renderer.$gutter, "mouseout", function () {
            l = null, m && !k && (k = setTimeout(function () {
                k = null, c()
            }, 50))
        }), h.on("changeSession", c)
    }

    function d(a) {
        h.call(this, a)
    }

    var e = a("../lib/dom"), f = a("../lib/oop"), g = a("../lib/event"), h = a("../tooltip").Tooltip;
    f.inherits(d, h), function () {
        this.setPosition = function (a, b) {
            var c = window.innerWidth || document.documentElement.clientWidth, d = window.innerHeight || document.documentElement.clientHeight, e = this.getWidth(), f = this.getHeight();
            a += 15, b += 15, a + e > c && (a -= a + e - c), b + f > d && (b -= 20 + f), h.prototype.setPosition.call(this, a, b)
        }
    }.call(d.prototype), b.GutterHandler = c
}), define("ace/mouse/mouse_event", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent"], function (a, b) {
    "use strict";
    var c = a("../lib/event"), d = a("../lib/useragent"), e = b.MouseEvent = function (a, b) {
        this.domEvent = a, this.editor = b, this.x = this.clientX = a.clientX, this.y = this.clientY = a.clientY, this.$pos = null, this.$inSelection = null, this.propagationStopped = !1, this.defaultPrevented = !1
    };
    (function () {
        this.stopPropagation = function () {
            c.stopPropagation(this.domEvent), this.propagationStopped = !0
        }, this.preventDefault = function () {
            c.preventDefault(this.domEvent), this.defaultPrevented = !0
        }, this.stop = function () {
            this.stopPropagation(), this.preventDefault()
        }, this.getDocumentPosition = function () {
            return this.$pos ? this.$pos : (this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY), this.$pos)
        }, this.inSelection = function () {
            if (null !== this.$inSelection)return this.$inSelection;
            var a = this.editor, b = a.getSelectionRange();
            if (b.isEmpty())this.$inSelection = !1; else {
                var c = this.getDocumentPosition();
                this.$inSelection = b.contains(c.row, c.column)
            }
            return this.$inSelection
        }, this.getButton = function () {
            return c.getButton(this.domEvent)
        }, this.getShiftKey = function () {
            return this.domEvent.shiftKey
        }, this.getAccelKey = d.isMac ? function () {
            return this.domEvent.metaKey
        } : function () {
            return this.domEvent.ctrlKey
        }
    }).call(e.prototype)
}), define("ace/mouse/dragdrop_handler", ["require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/lib/useragent"], function (a, b) {
    "use strict";
    function c(a) {
        function b(a, b) {
            var c = Date.now(), e = !b || a.row != b.row, f = !b || a.column != b.column;
            if (!C || e || f)q.$blockScrolling += 1, q.moveCursorToPosition(a), q.$blockScrolling -= 1, C = c, D = {
                x: u,
                y: v
            }; else {
                var g = d(D.x, D.y, u, v);
                g > j ? C = null : c - C >= i && (q.renderer.scrollCursorIntoView(), C = null)
            }
        }

        function c(a, b) {
            var c = Date.now(), d = q.renderer.layerConfig.lineHeight, e = q.renderer.layerConfig.characterWidth, f = q.renderer.scroller.getBoundingClientRect(), g = {
                x: {
                    left: u - f.left,
                    right: f.right - u
                }, y: {top: v - f.top, bottom: f.bottom - v}
            }, i = Math.min(g.x.left, g.x.right), j = Math.min(g.y.top, g.y.bottom), k = {row: a.row, column: a.column};
            2 >= i / e && (k.column += g.x.left < g.x.right ? -3 : 2), 1 >= j / d && (k.row += g.y.top < g.y.bottom ? -1 : 1);
            var l = a.row != k.row, m = a.column != k.column, n = !b || a.row != b.row;
            l || m && !n ? B ? c - B >= h && q.renderer.scrollCursorIntoView(k) : B = c : B = null
        }

        function k() {
            var a = y;
            y = q.renderer.screenToTextCoordinates(u, v), b(y, a), c(y, a)
        }

        function l() {
            x = q.selection.toOrientedRange(), t = q.session.addMarker(x, "ace_selection", q.getSelectionStyle()), q.clearSelection(), q.isFocused() && q.renderer.$cursorLayer.setBlinking(!1), clearInterval(w), k(), w = setInterval(k, 20), F = 0, f.addListener(document, "mousemove", n)
        }

        function m() {
            clearInterval(w), q.session.removeMarker(t), t = null, q.$blockScrolling += 1, q.selection.fromOrientedRange(x), q.$blockScrolling -= 1, q.isFocused() && !A && q.renderer.$cursorLayer.setBlinking(!q.getReadOnly()), x = null, y = null, F = 0, B = null, C = null, f.removeListener(document, "mousemove", n)
        }

        function n() {
            null == G && (G = setTimeout(function () {
                null != G && t && m()
            }, 20))
        }

        function o(a) {
            var b = a.types;
            return !b || Array.prototype.some.call(b, function (a) {
                return "text/plain" == a || "Text" == a
            })
        }

        function p(a) {
            var b = ["copy", "copymove", "all", "uninitialized"], c = ["move", "copymove", "linkmove", "all", "uninitialized"], d = g.isMac ? a.altKey : a.ctrlKey, e = "uninitialized";
            try {
                e = a.dataTransfer.effectAllowed.toLowerCase()
            } catch (a) {
            }
            var f = "none";
            return d && b.indexOf(e) >= 0 ? f = "copy" : c.indexOf(e) >= 0 ? f = "move" : b.indexOf(e) >= 0 && (f = "copy"), f
        }

        var q = a.editor, r = e.createElement("img");
        r.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==", g.isOpera && (r.style.cssText = "width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");
        var s = ["dragWait", "dragWaitEnd", "startDrag", "dragReadyEnd", "onMouseDrag"];
        s.forEach(function (b) {
            a[b] = this[b]
        }, this), q.addEventListener("mousedown", this.onMouseDown.bind(a));
        var t, u, v, w, x, y, z, A, B, C, D, E = q.container, F = 0;
        this.onDragStart = function (a) {
            if (this.cancelDrag || !E.draggable) {
                var b = this;
                return setTimeout(function () {
                    b.startSelect(), b.captureMouse(a)
                }, 0), a.preventDefault()
            }
            x = q.getSelectionRange();
            var c = a.dataTransfer;
            c.effectAllowed = q.getReadOnly() ? "copy" : "copyMove", g.isOpera && (q.container.appendChild(r), r.scrollTop = 0), c.setDragImage && c.setDragImage(r, 0, 0), g.isOpera && q.container.removeChild(r), c.clearData(), c.setData("Text", q.session.getTextRange()), A = !0, this.setState("drag")
        }, this.onDragEnd = function (a) {
            if (E.draggable = !1, A = !1, this.setState(null), !q.getReadOnly()) {
                var b = a.dataTransfer.dropEffect;
                z || "move" != b || q.session.remove(q.getSelectionRange()), q.renderer.$cursorLayer.setBlinking(!0)
            }
            this.editor.unsetStyle("ace_dragging"), this.editor.renderer.setCursorStyle("")
        }, this.onDragEnter = function (a) {
            return !q.getReadOnly() && o(a.dataTransfer) ? (u = a.clientX, v = a.clientY, t || l(), F++, a.dataTransfer.dropEffect = z = p(a), f.preventDefault(a)) : void 0
        }, this.onDragOver = function (a) {
            return !q.getReadOnly() && o(a.dataTransfer) ? (u = a.clientX, v = a.clientY, t || (l(), F++), null !== G && (G = null), a.dataTransfer.dropEffect = z = p(a), f.preventDefault(a)) : void 0
        }, this.onDragLeave = function (a) {
            return F--, 0 >= F && t ? (m(), z = null, f.preventDefault(a)) : void 0
        }, this.onDrop = function (a) {
            if (y) {
                var b = a.dataTransfer;
                if (A)switch (z) {
                    case"move":
                        x = x.contains(y.row, y.column) ? {start: y, end: y} : q.moveText(x, y);
                        break;
                    case"copy":
                        x = q.moveText(x, y, !0)
                } else {
                    var c = b.getData("Text");
                    x = {start: y, end: q.session.insert(y, c)}, q.focus(), z = null
                }
                return m(), f.preventDefault(a)
            }
        }, f.addListener(E, "dragstart", this.onDragStart.bind(a)), f.addListener(E, "dragend", this.onDragEnd.bind(a)), f.addListener(E, "dragenter", this.onDragEnter.bind(a)), f.addListener(E, "dragover", this.onDragOver.bind(a)), f.addListener(E, "dragleave", this.onDragLeave.bind(a)), f.addListener(E, "drop", this.onDrop.bind(a));
        var G = null
    }

    function d(a, b, c, d) {
        return Math.sqrt(Math.pow(c - a, 2) + Math.pow(d - b, 2))
    }

    var e = a("../lib/dom"), f = a("../lib/event"), g = a("../lib/useragent"), h = 200, i = 200, j = 5;
    (function () {
        this.dragWait = function () {
            var a = Date.now() - this.mousedownEvent.time;
            a > this.editor.getDragDelay() && this.startDrag()
        }, this.dragWaitEnd = function () {
            var a = this.editor.container;
            a.draggable = !1, this.startSelect(this.mousedownEvent.getDocumentPosition()), this.selectEnd()
        }, this.dragReadyEnd = function () {
            this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()), this.editor.unsetStyle("ace_dragging"), this.editor.renderer.setCursorStyle(""), this.dragWaitEnd()
        }, this.startDrag = function () {
            this.cancelDrag = !1;
            var a = this.editor, b = a.container;
            b.draggable = !0, a.renderer.$cursorLayer.setBlinking(!1), a.setStyle("ace_dragging");
            var c = g.isWin ? "default" : "move";
            a.renderer.setCursorStyle(c), this.setState("dragReady")
        }, this.onMouseDrag = function () {
            var a = this.editor.container;
            if (g.isIE && "dragReady" == this.state) {
                var b = d(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
                b > 3 && a.dragDrop()
            }
            if ("dragWait" === this.state) {
                var b = d(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
                b > 0 && (a.draggable = !1, this.startSelect(this.mousedownEvent.getDocumentPosition()))
            }
        }, this.onMouseDown = function (a) {
            if (this.$dragEnabled) {
                this.mousedownEvent = a;
                var b = this.editor, c = a.inSelection(), d = a.getButton(), e = a.domEvent.detail || 1;
                if (1 === e && 0 === d && c) {
                    if (a.editor.inMultiSelectMode && (a.getAccelKey() || a.getShiftKey()))return;
                    this.mousedownEvent.time = Date.now();
                    var f = a.domEvent.target || a.domEvent.srcElement;
                    if ("unselectable"in f && (f.unselectable = "on"), b.getDragDelay()) {
                        if (g.isWebKit) {
                            this.cancelDrag = !0;
                            var h = b.container;
                            h.draggable = !0
                        }
                        this.setState("dragWait")
                    } else this.startDrag();
                    this.captureMouse(a, this.onMouseDrag.bind(this)), a.defaultPrevented = !0
                }
            }
        }
    }).call(c.prototype), b.DragdropHandler = c
}), define("ace/lib/net", ["require", "exports", "module", "ace/lib/dom"], function (a, b) {
    "use strict";
    var c = a("./dom");
    b.get = function (a, b) {
        var c = new XMLHttpRequest;
        c.open("GET", a, !0), c.onreadystatechange = function () {
            4 === c.readyState && b(c.responseText)
        }, c.send(null)
    }, b.loadScript = function (a, b) {
        var d = c.getDocumentHead(), e = document.createElement("script");
        e.src = a, d.appendChild(e), e.onload = e.onreadystatechange = function (a, c) {
            (c || !e.readyState || "loaded" == e.readyState || "complete" == e.readyState) && (e = e.onload = e.onreadystatechange = null, c || b())
        }
    }, b.qualifyURL = function (a) {
        var b = document.createElement("a");
        return b.href = a, b.href
    }
}), define("ace/lib/event_emitter", ["require", "exports", "module"], function (a, b) {
    "use strict";
    var c = {}, d = function () {
        this.propagationStopped = !0
    }, e = function () {
        this.defaultPrevented = !0
    };
    c._emit = c._dispatchEvent = function (a, b) {
        this._eventRegistry || (this._eventRegistry = {}), this._defaultHandlers || (this._defaultHandlers = {});
        var c = this._eventRegistry[a] || [], f = this._defaultHandlers[a];
        if (c.length || f) {
            "object" == typeof b && b || (b = {}), b.type || (b.type = a), b.stopPropagation || (b.stopPropagation = d), b.preventDefault || (b.preventDefault = e), c = c.slice();
            for (var g = 0; g < c.length && (c[g](b, this), !b.propagationStopped); g++);
            return f && !b.defaultPrevented ? f(b, this) : void 0
        }
    }, c._signal = function (a, b) {
        var c = (this._eventRegistry || {})[a];
        if (c) {
            c = c.slice();
            for (var d = 0; d < c.length; d++)c[d](b, this)
        }
    }, c.once = function (a, b) {
        var c = this;
        b && this.addEventListener(a, function d() {
            c.removeEventListener(a, d), b.apply(null, arguments)
        })
    }, c.setDefaultHandler = function (a, b) {
        var c = this._defaultHandlers;
        if (c || (c = this._defaultHandlers = {_disabled_: {}}), c[a]) {
            var d = c[a], e = c._disabled_[a];
            e || (c._disabled_[a] = e = []), e.push(d);
            var f = e.indexOf(b);
            -1 != f && e.splice(f, 1)
        }
        c[a] = b
    }, c.removeDefaultHandler = function (a, b) {
        var c = this._defaultHandlers;
        if (c) {
            var d = c._disabled_[a];
            if (c[a] == b) {
                {
                    c[a]
                }
                d && this.setDefaultHandler(a, d.pop())
            } else if (d) {
                var e = d.indexOf(b);
                -1 != e && d.splice(e, 1)
            }
        }
    }, c.on = c.addEventListener = function (a, b, c) {
        this._eventRegistry = this._eventRegistry || {};
        var d = this._eventRegistry[a];
        return d || (d = this._eventRegistry[a] = []), -1 == d.indexOf(b) && d[c ? "unshift" : "push"](b), b
    }, c.off = c.removeListener = c.removeEventListener = function (a, b) {
        this._eventRegistry = this._eventRegistry || {};
        var c = this._eventRegistry[a];
        if (c) {
            var d = c.indexOf(b);
            -1 !== d && c.splice(d, 1)
        }
    }, c.removeAllListeners = function (a) {
        this._eventRegistry && (this._eventRegistry[a] = [])
    }, b.EventEmitter = c
}), define("ace/lib/app_config", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function (a, b) {
    "no use strict";
    function c() {
     //   "undefined" != typeof console && console.warn && console.warn.apply(console, arguments)
    }

    function d(a, b) {
        var c = new Error(a);
        c.data = b, "object" == typeof console && console.error && console.error(c), setTimeout(function () {
            throw c
        })
    }

    var e = a("./oop"), f = a("./event_emitter").EventEmitter, g = {
        setOptions: function (a) {
            Object.keys(a).forEach(function (b) {
                this.setOption(b, a[b])
            }, this)
        }, getOptions: function (a) {
            var b = {};
            return a ? Array.isArray(a) || (b = a, a = Object.keys(b)) : a = Object.keys(this.$options), a.forEach(function (a) {
                b[a] = this.getOption(a)
            }, this), b
        }, setOption: function (a, b) {
            if (this["$" + a] !== b) {
                var d = this.$options[a];
                if (!d)return c('misspelled option "' + a + '"');
                if (d.forwardTo)return this[d.forwardTo] && this[d.forwardTo].setOption(a, b);
                d.handlesSet || (this["$" + a] = b), d && d.set && d.set.call(this, b)
            }
        }, getOption: function (a) {
            var b = this.$options[a];
            return b ? b.forwardTo ? this[b.forwardTo] && this[b.forwardTo].getOption(a) : b && b.get ? b.get.call(this) : this["$" + a] : c('misspelled option "' + a + '"')
        }
    }, h = function () {
        this.$defaultOptions = {}
    };
    (function () {
        e.implement(this, f), this.defineOptions = function (a, b, c) {
            return a.$options || (this.$defaultOptions[b] = a.$options = {}), Object.keys(c).forEach(function (b) {
                var d = c[b];
                "string" == typeof d && (d = {forwardTo: d}), d.name || (d.name = b), a.$options[d.name] = d, "initialValue"in d && (a["$" + d.name] = d.initialValue)
            }), e.implement(a, g), this
        }, this.resetOptions = function (a) {
            Object.keys(a.$options).forEach(function (b) {
                var c = a.$options[b];
                "value"in c && a.setOption(b, c.value)
            })
        }, this.setDefaultValue = function (a, b, c) {
            var d = this.$defaultOptions[a] || (this.$defaultOptions[a] = {});
            d[b] && (d.forwardTo ? this.setDefaultValue(d.forwardTo, b, c) : d[b].value = c)
        }, this.setDefaultValues = function (a, b) {
            Object.keys(b).forEach(function (c) {
                this.setDefaultValue(a, c, b[c])
            }, this)
        }, this.warn = c, this.reportError = d
    }).call(h.prototype), b.AppConfig = h
}), define("ace/config", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/lib/net", "ace/lib/app_config"], function (a, b, c) {
    "no use strict";
    function d(d) {
        if (j.packaged = d || a.packaged || c.packaged || i.define && define.packaged, !i.document)return "";
        for (var f = {}, g = "", h = document.currentScript || document._currentScript, k = h && h.ownerDocument || document, l = k.getElementsByTagName("script"), m = 0; m < l.length; m++) {
            var n = l[m], o = n.src || n.getAttribute("src");
            if (o) {
                for (var p = n.attributes, q = 0, r = p.length; r > q; q++) {
                    var s = p[q];
                    0 === s.name.indexOf("data-ace-") && (f[e(s.name.replace(/^data-ace-/, ""))] = s.value)
                }
                var t = o.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);
                t && (g = t[1])
            }
        }
        g && (f.base = f.base || g, f.packaged = !0), f.basePath = f.base, f.workerPath = f.workerPath || f.base, f.modePath = f.modePath || f.base, f.themePath = f.themePath || f.base, delete f.base;
        for (var u in f)"undefined" != typeof f[u] && b.set(u, f[u])
    }

    function e(a) {
        return a.replace(/-(.)/g, function (a, b) {
            return b.toUpperCase()
        })
    }

    var f = a("./lib/lang"), g = (a("./lib/oop"), a("./lib/net")), h = a("./lib/app_config").AppConfig;
    c.exports = b = new h;
    var i = function () {
        return this
    }(), j = {
        packaged: !1,
        workerPath: null,
        modePath: null,
        themePath: null,
        basePath: "",
        suffix: ".js",
        $moduleUrls: {}
    };
    b.get = function (a) {
        if (!j.hasOwnProperty(a))throw new Error("Unknown config key: " + a);
        return j[a]
    }, b.set = function (a, b) {
        if (!j.hasOwnProperty(a))throw new Error("Unknown config key: " + a);
        j[a] = b
    }, b.all = function () {
        return f.copyObject(j)
    }, b.moduleUrl = function (a, b) {
        if (j.$moduleUrls[a])return j.$moduleUrls[a];
        var c = a.split("/");
        b = b || c[c.length - 2] || "";
        var d = "snippets" == b ? "/" : "-", e = c[c.length - 1];
        if ("worker" == b && "-" == d) {
            var f = new RegExp("^" + b + "[\\-_]|[\\-_]" + b + "$", "g");
            e = e.replace(f, "")
        }
        (!e || e == b) && c.length > 1 && (e = c[c.length - 2]);
        var g = j[b + "Path"];
        return null == g ? g = j.basePath : "/" == d && (b = d = ""), g && "/" != g.slice(-1) && (g += "/"), g + b + d + e + this.get("suffix")
    }, b.setModuleUrl = function (a, b) {
        return j.$moduleUrls[a] = b
    }, b.$loading = {}, b.loadModule = function (c, d) {
        var e, f;
        Array.isArray(c) && (f = c[0], c = c[1]);
        try {
            e = a(c)
        } catch (h) {
        }
        if (e && !b.$loading[c])return d && d(e);
        if (b.$loading[c] || (b.$loading[c] = []), b.$loading[c].push(d), !(b.$loading[c].length > 1)) {
            var i = function () {
                a([c], function (a) {
                    b._emit("load.module", {name: c, module: a});
                    var d = b.$loading[c];
                    b.$loading[c] = null, d.forEach(function (b) {
                        b && b(a)
                    })
                })
            };
            return b.get("packaged") ? void g.loadScript(b.moduleUrl(c, f), i) : i()
        }
    }, d(!0), b.init = d
}), define("ace/mouse/mouse_handler", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/mouse/default_handlers", "ace/mouse/default_gutter_handler", "ace/mouse/mouse_event", "ace/mouse/dragdrop_handler", "ace/config"], function (a, b) {
    "use strict";
    var c = a("../lib/event"), d = a("../lib/useragent"), e = a("./default_handlers").DefaultHandlers, f = a("./default_gutter_handler").GutterHandler, g = a("./mouse_event").MouseEvent, h = a("./dragdrop_handler").DragdropHandler, i = a("../config"), j = function (a) {
        var b = this;
        this.editor = a, new e(this), new f(this), new h(this);
        var g = function () {
            document.hasFocus && document.hasFocus() || window.focus(), a.focus()
        }, i = a.renderer.getMouseEventTarget();
        c.addListener(i, "click", this.onMouseEvent.bind(this, "click")), c.addListener(i, "mousemove", this.onMouseMove.bind(this, "mousemove")), c.addMultiMouseDownListener(i, [400, 300, 250], this, "onMouseEvent"), a.renderer.scrollBarV && (c.addMultiMouseDownListener(a.renderer.scrollBarV.inner, [400, 300, 250], this, "onMouseEvent"), c.addMultiMouseDownListener(a.renderer.scrollBarH.inner, [400, 300, 250], this, "onMouseEvent"), d.isIE && (c.addListener(a.renderer.scrollBarV.element, "mousedown", g), c.addListener(a.renderer.scrollBarH.element, "mousedown", g))), c.addMouseWheelListener(a.container, this.onMouseWheel.bind(this, "mousewheel"));
        var j = a.renderer.$gutter;
        c.addListener(j, "mousedown", this.onMouseEvent.bind(this, "guttermousedown")), c.addListener(j, "click", this.onMouseEvent.bind(this, "gutterclick")), c.addListener(j, "dblclick", this.onMouseEvent.bind(this, "gutterdblclick")), c.addListener(j, "mousemove", this.onMouseEvent.bind(this, "guttermousemove")), c.addListener(i, "mousedown", g), c.addListener(j, "mousedown", function (b) {
            return a.focus(), c.preventDefault(b)
        }), a.on("mousemove", function (c) {
            if (!b.state && !b.$dragDelay && b.$dragEnabled) {
                var d = a.renderer.screenToTextCoordinates(c.x, c.y), e = a.session.selection.getRange(), f = a.renderer;
                f.setCursorStyle(!e.isEmpty() && e.insideStart(d.row, d.column) ? "default" : "")
            }
        })
    };
    (function () {
        this.onMouseEvent = function (a, b) {
            this.editor._emit(a, new g(b, this.editor))
        }, this.onMouseMove = function (a, b) {
            var c = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;
            c && c.length && this.editor._emit(a, new g(b, this.editor))
        }, this.onMouseWheel = function (a, b) {
            var c = new g(b, this.editor);
            c.speed = 2 * this.$scrollSpeed, c.wheelX = b.wheelX, c.wheelY = b.wheelY, this.editor._emit(a, c)
        }, this.setState = function (a) {
            this.state = a
        }, this.captureMouse = function (a, b) {
            this.x = a.x, this.y = a.y, this.isMousePressed = !0;
            var e = this.editor.renderer;
            e.$keepTextAreaAtCursor && (e.$keepTextAreaAtCursor = null);
            var f = this, h = function (a) {
                if (a) {
                    if (d.isWebKit && !a.which && f.releaseMouse)return f.releaseMouse();
                    f.x = a.clientX, f.y = a.clientY, b && b(a), f.mouseEvent = new g(a, f.editor), f.$mouseMoved = !0
                }
            }, i = function (a) {
                clearInterval(k), j(), f[f.state + "End"] && f[f.state + "End"](a), f.state = "", null == e.$keepTextAreaAtCursor && (e.$keepTextAreaAtCursor = !0, e.$moveTextAreaToCursor()), f.isMousePressed = !1, f.$onCaptureMouseMove = f.releaseMouse = null, a && f.onMouseEvent("mouseup", a)
            }, j = function () {
                f[f.state] && f[f.state](), f.$mouseMoved = !1
            };
            if (d.isOldIE && "dblclick" == a.domEvent.type)return setTimeout(function () {
                i(a)
            });
            f.$onCaptureMouseMove = h, f.releaseMouse = c.capture(this.editor.container, h, i);
            var k = setInterval(j, 20)
        }, this.releaseMouse = null, this.cancelContextMenu = function () {
            var a = function (b) {
                b && b.domEvent && "contextmenu" != b.domEvent.type || (this.editor.off("nativecontextmenu", a), b && b.domEvent && c.stopEvent(b.domEvent))
            }.bind(this);
            setTimeout(a, 10), this.editor.on("nativecontextmenu", a)
        }
    }).call(j.prototype), i.defineOptions(j.prototype, "mouseHandler", {
        scrollSpeed: {initialValue: 2},
        dragDelay: {initialValue: d.isMac ? 150 : 0},
        dragEnabled: {initialValue: !0},
        focusTimout: {initialValue: 0},
        tooltipFollowsMouse: {initialValue: !0}
    }), b.MouseHandler = j
}), define("ace/mouse/fold_handler", ["require", "exports", "module"], function (a, b) {
    "use strict";
    function c(a) {
        a.on("click", function (b) {
            var c = b.getDocumentPosition(), d = a.session, e = d.getFoldAt(c.row, c.column, 1);
            e && (b.getAccelKey() ? d.removeFold(e) : d.expandFold(e), b.stop())
        }), a.on("gutterclick", function (b) {
            var c = a.renderer.$gutterLayer.getRegion(b);
            if ("foldWidgets" == c) {
                var d = b.getDocumentPosition().row, e = a.session;
                e.foldWidgets && e.foldWidgets[d] && a.session.onFoldWidgetClick(d, b), a.isFocused() || a.focus(), b.stop()
            }
        }), a.on("gutterdblclick", function (b) {
            var c = a.renderer.$gutterLayer.getRegion(b);
            if ("foldWidgets" == c) {
                var d = b.getDocumentPosition().row, e = a.session, f = e.getParentFoldRangeData(d, !0), g = f.range || f.firstRange;
                if (g) {
                    d = g.start.row;
                    var h = e.getFoldAt(d, e.getLine(d).length, 1);
                    h ? e.removeFold(h) : (e.addFold("...", g), a.renderer.scrollCursorIntoView({
                        row: g.start.row,
                        column: 0
                    }))
                }
                b.stop()
            }
        })
    }

    b.FoldHandler = c
}), define("ace/keyboard/keybinding", ["require", "exports", "module", "ace/lib/keys", "ace/lib/event"], function (a, b) {
    "use strict";
    var c = a("../lib/keys"), d = a("../lib/event"), e = function (a) {
        this.$editor = a, this.$data = {editor: a}, this.$handlers = [], this.setDefaultHandler(a.commands)
    };
    (function () {
        this.setDefaultHandler = function (a) {
            this.removeKeyboardHandler(this.$defaultHandler), this.$defaultHandler = a, this.addKeyboardHandler(a, 0)
        }, this.setKeyboardHandler = function (a) {
            var b = this.$handlers;
            if (b[b.length - 1] != a) {
                for (; b[b.length - 1] && b[b.length - 1] != this.$defaultHandler;)this.removeKeyboardHandler(b[b.length - 1]);
                this.addKeyboardHandler(a, 1)
            }
        }, this.addKeyboardHandler = function (a, b) {
            if (a) {
                "function" != typeof a || a.handleKeyboard || (a.handleKeyboard = a);
                var c = this.$handlers.indexOf(a);
                -1 != c && this.$handlers.splice(c, 1), void 0 == b ? this.$handlers.push(a) : this.$handlers.splice(b, 0, a), -1 == c && a.attach && a.attach(this.$editor)
            }
        }, this.removeKeyboardHandler = function (a) {
            var b = this.$handlers.indexOf(a);
            return -1 == b ? !1 : (this.$handlers.splice(b, 1), a.detach && a.detach(this.$editor), !0)
        }, this.getKeyboardHandler = function () {
            return this.$handlers[this.$handlers.length - 1]
        }, this.getStatusText = function () {
            var a = this.$data, b = a.editor;
            return this.$handlers.map(function (c) {
                return c.getStatusText && c.getStatusText(b, a) || ""
            }).filter(Boolean).join(" ")
        }, this.$callKeyboardHandlers = function (a, b, c, e) {
            for (var f, g = !1, h = this.$editor.commands, i = this.$handlers.length; i-- && (f = this.$handlers[i].handleKeyboard(this.$data, a, b, c, e), !(f && f.command && (g = "null" == f.command ? !0 : h.exec(f.command, this.$editor, f.args, e), g && e && -1 != a && 1 != f.passEvent && 1 != f.command.passEvent && d.stopEvent(e), g))););
            return g
        }, this.onCommandKey = function (a, b, d) {
            var e = c.keyCodeToString(d);
            this.$callKeyboardHandlers(b, e, d, a)
        }, this.onTextInput = function (a) {
            var b = this.$callKeyboardHandlers(-1, a);
            b || this.$editor.commands.exec("insertstring", this.$editor, a)
        }
    }).call(e.prototype), b.KeyBinding = e
}), define("ace/range", ["require", "exports", "module"], function (a, b) {
    "use strict";
    var c = function (a, b) {
        return a.row - b.row || a.column - b.column
    }, d = function (a, b, c, d) {
        this.start = {row: a, column: b}, this.end = {row: c, column: d}
    };
    (function () {
        this.isEqual = function (a) {
            return this.start.row === a.start.row && this.end.row === a.end.row && this.start.column === a.start.column && this.end.column === a.end.column
        }, this.toString = function () {
            return "Range: [" + this.start.row + "/" + this.start.column + "] -> [" + this.end.row + "/" + this.end.column + "]"
        }, this.contains = function (a, b) {
            return 0 == this.compare(a, b)
        }, this.compareRange = function (a) {
            var b, c = a.end, d = a.start;
            return b = this.compare(c.row, c.column), 1 == b ? (b = this.compare(d.row, d.column), 1 == b ? 2 : 0 == b ? 1 : 0) : -1 == b ? -2 : (b = this.compare(d.row, d.column), -1 == b ? -1 : 1 == b ? 42 : 0)
        }, this.comparePoint = function (a) {
            return this.compare(a.row, a.column)
        }, this.containsRange = function (a) {
            return 0 == this.comparePoint(a.start) && 0 == this.comparePoint(a.end)
        }, this.intersects = function (a) {
            var b = this.compareRange(a);
            return -1 == b || 0 == b || 1 == b
        }, this.isEnd = function (a, b) {
            return this.end.row == a && this.end.column == b
        }, this.isStart = function (a, b) {
            return this.start.row == a && this.start.column == b
        }, this.setStart = function (a, b) {
            "object" == typeof a ? (this.start.column = a.column, this.start.row = a.row) : (this.start.row = a, this.start.column = b)
        }, this.setEnd = function (a, b) {
            "object" == typeof a ? (this.end.column = a.column, this.end.row = a.row) : (this.end.row = a, this.end.column = b)
        }, this.inside = function (a, b) {
            return 0 == this.compare(a, b) ? this.isEnd(a, b) || this.isStart(a, b) ? !1 : !0 : !1
        }, this.insideStart = function (a, b) {
            return 0 == this.compare(a, b) ? this.isEnd(a, b) ? !1 : !0 : !1
        }, this.insideEnd = function (a, b) {
            return 0 == this.compare(a, b) ? this.isStart(a, b) ? !1 : !0 : !1
        }, this.compare = function (a, b) {
            return this.isMultiLine() || a !== this.start.row ? a < this.start.row ? -1 : a > this.end.row ? 1 : this.start.row === a ? b >= this.start.column ? 0 : -1 : this.end.row === a ? b <= this.end.column ? 0 : 1 : 0 : b < this.start.column ? -1 : b > this.end.column ? 1 : 0
        }, this.compareStart = function (a, b) {
            return this.start.row == a && this.start.column == b ? -1 : this.compare(a, b)
        }, this.compareEnd = function (a, b) {
            return this.end.row == a && this.end.column == b ? 1 : this.compare(a, b)
        }, this.compareInside = function (a, b) {
            return this.end.row == a && this.end.column == b ? 1 : this.start.row == a && this.start.column == b ? -1 : this.compare(a, b)
        }, this.clipRows = function (a, b) {
            if (this.end.row > b)var c = {row: b + 1, column: 0}; else if (this.end.row < a)var c = {row: a, column: 0};
            if (this.start.row > b)var e = {row: b + 1, column: 0}; else if (this.start.row < a)var e = {
                row: a,
                column: 0
            };
            return d.fromPoints(e || this.start, c || this.end)
        }, this.extend = function (a, b) {
            var c = this.compare(a, b);
            if (0 == c)return this;
            if (-1 == c)var e = {row: a, column: b}; else var f = {row: a, column: b};
            return d.fromPoints(e || this.start, f || this.end)
        }, this.isEmpty = function () {
            return this.start.row === this.end.row && this.start.column === this.end.column
        }, this.isMultiLine = function () {
            return this.start.row !== this.end.row
        }, this.clone = function () {
            return d.fromPoints(this.start, this.end)
        }, this.collapseRows = function () {
            return 0 == this.end.column ? new d(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0) : new d(this.start.row, 0, this.end.row, 0)
        }, this.toScreenRange = function (a) {
            var b = a.documentToScreenPosition(this.start), c = a.documentToScreenPosition(this.end);
            return new d(b.row, b.column, c.row, c.column)
        }, this.moveBy = function (a, b) {
            this.start.row += a, this.start.column += b, this.end.row += a, this.end.column += b
        }
    }).call(d.prototype), d.fromPoints = function (a, b) {
        return new d(a.row, a.column, b.row, b.column)
    }, d.comparePoints = c, d.comparePoints = function (a, b) {
        return a.row - b.row || a.column - b.column
    }, b.Range = d
}), define("ace/selection", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter", "ace/range"], function (a, b) {
    "use strict";
    var c = a("./lib/oop"), d = a("./lib/lang"), e = a("./lib/event_emitter").EventEmitter, f = a("./range").Range, g = function (a) {
        this.session = a, this.doc = a.getDocument(), this.clearSelection(), this.lead = this.selectionLead = this.doc.createAnchor(0, 0), this.anchor = this.selectionAnchor = this.doc.createAnchor(0, 0);
        var b = this;
        this.lead.on("change", function (a) {
            b._emit("changeCursor"), b.$isEmpty || b._emit("changeSelection"), b.$keepDesiredColumnOnChange || a.old.column == a.value.column || (b.$desiredColumn = null)
        }), this.selectionAnchor.on("change", function () {
            b.$isEmpty || b._emit("changeSelection")
        })
    };
    (function () {
        c.implement(this, e), this.isEmpty = function () {
            return this.$isEmpty || this.anchor.row == this.lead.row && this.anchor.column == this.lead.column
        }, this.isMultiLine = function () {
            return this.isEmpty() ? !1 : this.getRange().isMultiLine()
        }, this.getCursor = function () {
            return this.lead.getPosition()
        }, this.setSelectionAnchor = function (a, b) {
            this.anchor.setPosition(a, b), this.$isEmpty && (this.$isEmpty = !1, this._emit("changeSelection"))
        }, this.getSelectionAnchor = function () {
            return this.$isEmpty ? this.getSelectionLead() : this.anchor.getPosition()
        }, this.getSelectionLead = function () {
            return this.lead.getPosition()
        }, this.shiftSelection = function (a) {
            if (this.$isEmpty)return void this.moveCursorTo(this.lead.row, this.lead.column + a);
            var b = this.getSelectionAnchor(), c = this.getSelectionLead(), d = this.isBackwards();
            d && 0 === b.column || this.setSelectionAnchor(b.row, b.column + a), (d || 0 !== c.column) && this.$moveSelection(function () {
                this.moveCursorTo(c.row, c.column + a)
            })
        }, this.isBackwards = function () {
            var a = this.anchor, b = this.lead;
            return a.row > b.row || a.row == b.row && a.column > b.column
        }, this.getRange = function () {
            var a = this.anchor, b = this.lead;
            return this.isEmpty() ? f.fromPoints(b, b) : this.isBackwards() ? f.fromPoints(b, a) : f.fromPoints(a, b)
        }, this.clearSelection = function () {
            this.$isEmpty || (this.$isEmpty = !0, this._emit("changeSelection"))
        }, this.selectAll = function () {
            var a = this.doc.getLength() - 1;
            this.setSelectionAnchor(0, 0), this.moveCursorTo(a, this.doc.getLine(a).length)
        }, this.setRange = this.setSelectionRange = function (a, b) {
            b ? (this.setSelectionAnchor(a.end.row, a.end.column), this.selectTo(a.start.row, a.start.column)) : (this.setSelectionAnchor(a.start.row, a.start.column), this.selectTo(a.end.row, a.end.column)), this.getRange().isEmpty() && (this.$isEmpty = !0), this.$desiredColumn = null
        }, this.$moveSelection = function (a) {
            var b = this.lead;
            this.$isEmpty && this.setSelectionAnchor(b.row, b.column), a.call(this)
        }, this.selectTo = function (a, b) {
            this.$moveSelection(function () {
                this.moveCursorTo(a, b)
            })
        }, this.selectToPosition = function (a) {
            this.$moveSelection(function () {
                this.moveCursorToPosition(a)
            })
        }, this.moveTo = function (a, b) {
            this.clearSelection(), this.moveCursorTo(a, b)
        }, this.moveToPosition = function (a) {
            this.clearSelection(), this.moveCursorToPosition(a)
        }, this.selectUp = function () {
            this.$moveSelection(this.moveCursorUp)
        }, this.selectDown = function () {
            this.$moveSelection(this.moveCursorDown)
        }, this.selectRight = function () {
            this.$moveSelection(this.moveCursorRight)
        }, this.selectLeft = function () {
            this.$moveSelection(this.moveCursorLeft)
        }, this.selectLineStart = function () {
            this.$moveSelection(this.moveCursorLineStart)
        }, this.selectLineEnd = function () {
            this.$moveSelection(this.moveCursorLineEnd)
        }, this.selectFileEnd = function () {
            this.$moveSelection(this.moveCursorFileEnd)
        }, this.selectFileStart = function () {
            this.$moveSelection(this.moveCursorFileStart)
        }, this.selectWordRight = function () {
            this.$moveSelection(this.moveCursorWordRight)
        }, this.selectWordLeft = function () {
            this.$moveSelection(this.moveCursorWordLeft)
        }, this.getWordRange = function (a, b) {
            if ("undefined" == typeof b) {
                var c = a || this.lead;
                a = c.row, b = c.column
            }
            return this.session.getWordRange(a, b)
        }, this.selectWord = function () {
            this.setSelectionRange(this.getWordRange())
        }, this.selectAWord = function () {
            var a = this.getCursor(), b = this.session.getAWordRange(a.row, a.column);
            this.setSelectionRange(b)
        }, this.getLineRange = function (a, b) {
            var c, d = "number" == typeof a ? a : this.lead.row, e = this.session.getFoldLine(d);
            return e ? (d = e.start.row, c = e.end.row) : c = d, b === !0 ? new f(d, 0, c, this.session.getLine(c).length) : new f(d, 0, c + 1, 0)
        }, this.selectLine = function () {
            this.setSelectionRange(this.getLineRange())
        }, this.moveCursorUp = function () {
            this.moveCursorBy(-1, 0)
        }, this.moveCursorDown = function () {
            this.moveCursorBy(1, 0)
        }, this.moveCursorLeft = function () {
            var a, b = this.lead.getPosition();
            if (a = this.session.getFoldAt(b.row, b.column, -1))this.moveCursorTo(a.start.row, a.start.column); else if (0 === b.column)b.row > 0 && this.moveCursorTo(b.row - 1, this.doc.getLine(b.row - 1).length); else {
                var c = this.session.getTabSize();
                this.session.isTabStop(b) && this.doc.getLine(b.row).slice(b.column - c, b.column).split(" ").length - 1 == c ? this.moveCursorBy(0, -c) : this.moveCursorBy(0, -1)
            }
        }, this.moveCursorRight = function () {
            var a, b = this.lead.getPosition();
            if (a = this.session.getFoldAt(b.row, b.column, 1))this.moveCursorTo(a.end.row, a.end.column); else if (this.lead.column == this.doc.getLine(this.lead.row).length)this.lead.row < this.doc.getLength() - 1 && this.moveCursorTo(this.lead.row + 1, 0); else {
                var c = this.session.getTabSize(), b = this.lead;
                this.session.isTabStop(b) && this.doc.getLine(b.row).slice(b.column, b.column + c).split(" ").length - 1 == c ? this.moveCursorBy(0, c) : this.moveCursorBy(0, 1)
            }
        }, this.moveCursorLineStart = function () {
            var a = this.lead.row, b = this.lead.column, c = this.session.documentToScreenRow(a, b), d = this.session.screenToDocumentPosition(c, 0), e = this.session.getDisplayLine(a, null, d.row, d.column), f = e.match(/^\s*/);
            f[0].length == b || this.session.$useEmacsStyleLineStart || (d.column += f[0].length), this.moveCursorToPosition(d)
        }, this.moveCursorLineEnd = function () {
            var a = this.lead, b = this.session.getDocumentLastRowColumnPosition(a.row, a.column);
            if (this.lead.column == b.column) {
                var c = this.session.getLine(b.row);
                if (b.column == c.length) {
                    var d = c.search(/\s+$/);
                    d > 0 && (b.column = d)
                }
            }
            this.moveCursorTo(b.row, b.column)
        }, this.moveCursorFileEnd = function () {
            var a = this.doc.getLength() - 1, b = this.doc.getLine(a).length;
            this.moveCursorTo(a, b)
        }, this.moveCursorFileStart = function () {
            this.moveCursorTo(0, 0)
        }, this.moveCursorLongWordRight = function () {
            var a, b = this.lead.row, c = this.lead.column, d = this.doc.getLine(b), e = d.substring(c);
            this.session.nonTokenRe.lastIndex = 0, this.session.tokenRe.lastIndex = 0;
            var f = this.session.getFoldAt(b, c, 1);
            return f ? void this.moveCursorTo(f.end.row, f.end.column) : ((a = this.session.nonTokenRe.exec(e)) && (c += this.session.nonTokenRe.lastIndex, this.session.nonTokenRe.lastIndex = 0, e = d.substring(c)), c >= d.length ? (this.moveCursorTo(b, d.length), this.moveCursorRight(), void(b < this.doc.getLength() - 1 && this.moveCursorWordRight())) : ((a = this.session.tokenRe.exec(e)) && (c += this.session.tokenRe.lastIndex, this.session.tokenRe.lastIndex = 0), void this.moveCursorTo(b, c)))
        }, this.moveCursorLongWordLeft = function () {
            var a, b = this.lead.row, c = this.lead.column;
            if (a = this.session.getFoldAt(b, c, -1))return void this.moveCursorTo(a.start.row, a.start.column);
            var e = this.session.getFoldStringAt(b, c, -1);
            null == e && (e = this.doc.getLine(b).substring(0, c));
            var f, g = d.stringReverse(e);
            return this.session.nonTokenRe.lastIndex = 0, this.session.tokenRe.lastIndex = 0, (f = this.session.nonTokenRe.exec(g)) && (c -= this.session.nonTokenRe.lastIndex, g = g.slice(this.session.nonTokenRe.lastIndex), this.session.nonTokenRe.lastIndex = 0), 0 >= c ? (this.moveCursorTo(b, 0), this.moveCursorLeft(), void(b > 0 && this.moveCursorWordLeft())) : ((f = this.session.tokenRe.exec(g)) && (c -= this.session.tokenRe.lastIndex, this.session.tokenRe.lastIndex = 0), void this.moveCursorTo(b, c))
        }, this.$shortWordEndIndex = function (a) {
            var b, c, d = 0, e = /\s/, f = this.session.tokenRe;
            if (f.lastIndex = 0, b = this.session.tokenRe.exec(a))d = this.session.tokenRe.lastIndex; else {
                for (; (c = a[d]) && e.test(c);)d++;
                if (1 > d)for (f.lastIndex = 0; (c = a[d]) && !f.test(c);)if (f.lastIndex = 0, d++, e.test(c)) {
                    if (d > 2) {
                        d--;
                        break
                    }
                    for (; (c = a[d]) && e.test(c);)d++;
                    if (d > 2)break
                }
            }
            return f.lastIndex = 0, d
        }, this.moveCursorShortWordRight = function () {
            var a = this.lead.row, b = this.lead.column, c = this.doc.getLine(a), d = c.substring(b), e = this.session.getFoldAt(a, b, 1);
            if (e)return this.moveCursorTo(e.end.row, e.end.column);
            if (b == c.length) {
                var f = this.doc.getLength();
                do a++, d = this.doc.getLine(a); while (f > a && /^\s*$/.test(d));
                /^\s+/.test(d) || (d = ""), b = 0
            }
            var g = this.$shortWordEndIndex(d);
            this.moveCursorTo(a, b + g)
        }, this.moveCursorShortWordLeft = function () {
            var a, b = this.lead.row, c = this.lead.column;
            if (a = this.session.getFoldAt(b, c, -1))return this.moveCursorTo(a.start.row, a.start.column);
            var e = this.session.getLine(b).substring(0, c);
            if (0 === c) {
                do b--, e = this.doc.getLine(b); while (b > 0 && /^\s*$/.test(e));
                c = e.length, /\s+$/.test(e) || (e = "")
            }
            var f = d.stringReverse(e), g = this.$shortWordEndIndex(f);
            return this.moveCursorTo(b, c - g)
        }, this.moveCursorWordRight = function () {
            this.session.$selectLongWords ? this.moveCursorLongWordRight() : this.moveCursorShortWordRight()
        }, this.moveCursorWordLeft = function () {
            this.session.$selectLongWords ? this.moveCursorLongWordLeft() : this.moveCursorShortWordLeft()
        }, this.moveCursorBy = function (a, b) {
            var c = this.session.documentToScreenPosition(this.lead.row, this.lead.column);
            0 === b && (this.$desiredColumn ? c.column = this.$desiredColumn : this.$desiredColumn = c.column);
            var d = this.session.screenToDocumentPosition(c.row + a, c.column);
            0 !== a && 0 === b && d.row === this.lead.row && d.column === this.lead.column && this.session.lineWidgets && this.session.lineWidgets[d.row] && d.row++, this.moveCursorTo(d.row, d.column + b, 0 === b)
        }, this.moveCursorToPosition = function (a) {
            this.moveCursorTo(a.row, a.column)
        }, this.moveCursorTo = function (a, b, c) {
            var d = this.session.getFoldAt(a, b, 1);
            d && (a = d.start.row, b = d.start.column), this.$keepDesiredColumnOnChange = !0, this.lead.setPosition(a, b), this.$keepDesiredColumnOnChange = !1, c || (this.$desiredColumn = null)
        }, this.moveCursorToScreen = function (a, b, c) {
            var d = this.session.screenToDocumentPosition(a, b);
            this.moveCursorTo(d.row, d.column, c)
        }, this.detach = function () {
            this.lead.detach(), this.anchor.detach(), this.session = this.doc = null
        }, this.fromOrientedRange = function (a) {
            this.setSelectionRange(a, a.cursor == a.start), this.$desiredColumn = a.desiredColumn || this.$desiredColumn
        }, this.toOrientedRange = function (a) {
            var b = this.getRange();
            return a ? (a.start.column = b.start.column, a.start.row = b.start.row, a.end.column = b.end.column, a.end.row = b.end.row) : a = b, a.cursor = this.isBackwards() ? a.start : a.end, a.desiredColumn = this.$desiredColumn, a
        }, this.getRangeOfMovements = function (a) {
            var b = this.getCursor();
            try {
                a.call(null, this);
                var c = this.getCursor();
                return f.fromPoints(b, c)
            } catch (d) {
                return f.fromPoints(b, b)
            } finally {
                this.moveCursorToPosition(b)
            }
        }, this.toJSON = function () {
            if (this.rangeCount)var a = this.ranges.map(function (a) {
                var b = a.clone();
                return b.isBackwards = a.cursor == a.start, b
            }); else {
                var a = this.getRange();
                a.isBackwards = this.isBackwards()
            }
            return a
        }, this.fromJSON = function (a) {
            if (void 0 == a.start) {
                if (this.rangeList) {
                    this.toSingleRange(a[0]);
                    for (var b = a.length; b--;) {
                        var c = f.fromPoints(a[b].start, a[b].end);
                        a.isBackwards && (c.cursor = c.start), this.addRange(c, !0)
                    }
                    return
                }
                a = a[0]
            }
            this.rangeList && this.toSingleRange(a), this.setSelectionRange(a, a.isBackwards)
        }, this.isEqual = function (a) {
            if ((a.length || this.rangeCount) && a.length != this.rangeCount)return !1;
            if (!a.length || !this.ranges)return this.getRange().isEqual(a);
            for (var b = this.ranges.length; b--;)if (!this.ranges[b].isEqual(a[b]))return !1;
            return !0
        }
    }).call(g.prototype), b.Selection = g
}), define("ace/tokenizer", ["require", "exports", "module", "ace/config"], function (a, b) {
    "use strict";
    var c = a("./config"), d = 2e3, e = function (a) {
        this.states = a, this.regExps = {}, this.matchMappings = {};
        for (var b in this.states) {
            for (var c = this.states[b], d = [], e = 0, f = this.matchMappings[b] = {defaultToken: "text"}, g = "g", h = [], i = 0; i < c.length; i++) {
                var j = c[i];
                if (j.defaultToken && (f.defaultToken = j.defaultToken), j.caseInsensitive && (g = "gi"), null != j.regex) {
                    j.regex instanceof RegExp && (j.regex = j.regex.toString().slice(1, -1));
                    var k = j.regex, l = new RegExp("(?:(" + k + ")|(.))").exec("a").length - 2;
                    Array.isArray(j.token) ? 1 == j.token.length || 1 == l ? j.token = j.token[0] : l - 1 != j.token.length ? (this.reportError("number of classes and regexp groups doesn't match", {
                        rule: j,
                        groupCount: l - 1
                    }), j.token = j.token[0]) : (j.tokenArray = j.token, j.token = null, j.onMatch = this.$arrayTokens) : "function" != typeof j.token || j.onMatch || (j.onMatch = l > 1 ? this.$applyToken : j.token), l > 1 && (/\\\d/.test(j.regex) ? k = j.regex.replace(/\\([0-9]+)/g, function (a, b) {
                        return "\\" + (parseInt(b, 10) + e + 1)
                    }) : (l = 1, k = this.removeCapturingGroups(j.regex)), j.splitRegex || "string" == typeof j.token || h.push(j)), f[e] = i, e += l, d.push(k), j.onMatch || (j.onMatch = null)
                }
            }
            d.length || (f[0] = 0, d.push("$")), h.forEach(function (a) {
                a.splitRegex = this.createSplitterRegexp(a.regex, g)
            }, this), this.regExps[b] = new RegExp("(" + d.join(")|(") + ")|($)", g)
        }
    };
    (function () {
        this.$setMaxTokenCount = function (a) {
            d = 0 | a
        }, this.$applyToken = function (a) {
            var b = this.splitRegex.exec(a).slice(1), c = this.token.apply(this, b);
            if ("string" == typeof c)return [{type: c, value: a}];
            for (var d = [], e = 0, f = c.length; f > e; e++)b[e] && (d[d.length] = {type: c[e], value: b[e]});
            return d
        }, this.$arrayTokens = function (a) {
            if (!a)return [];
            var b = this.splitRegex.exec(a);
            if (!b)return "text";
            for (var c = [], d = this.tokenArray, e = 0, f = d.length; f > e; e++)b[e + 1] && (c[c.length] = {
                type: d[e],
                value: b[e + 1]
            });
            return c
        }, this.removeCapturingGroups = function (a) {
            var b = a.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g, function (a, b) {
                return b ? "(?:" : a
            });
            return b
        }, this.createSplitterRegexp = function (a, b) {
            if (-1 != a.indexOf("(?=")) {
                var c = 0, d = !1, e = {};
                a.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g, function (a, b, f, g, h, i) {
                    return d ? d = "]" != h : h ? d = !0 : g ? (c == e.stack && (e.end = i + 1, e.stack = -1), c--) : f && (c++, 1 != f.length && (e.stack = c, e.start = i)), a
                }), null != e.end && /^\)*$/.test(a.substr(e.end)) && (a = a.substring(0, e.start) + a.substr(e.end))
            }
            return new RegExp(a, (b || "").replace("g", ""))
        }, this.getLineTokens = function (a, b) {
            if (b && "string" != typeof b) {
                var c = b.slice(0);
                b = c[0], "#tmp" === b && (c.shift(), b = c.shift())
            } else var c = [];
            var e = b || "start", f = this.states[e];
            f || (e = "start", f = this.states[e]);
            var g = this.matchMappings[e], h = this.regExps[e];
            h.lastIndex = 0;
            for (var i, j = [], k = 0, l = 0, m = {type: null, value: ""}; i = h.exec(a);) {
                var n = g.defaultToken, o = null, p = i[0], q = h.lastIndex;
                if (q - p.length > k) {
                    var r = a.substring(k, q - p.length);
                    m.type == n ? m.value += r : (m.type && j.push(m), m = {type: n, value: r})
                }
                for (var s = 0; s < i.length - 2; s++)if (void 0 !== i[s + 1]) {
                    o = f[g[s]], n = o.onMatch ? o.onMatch(p, e, c) : o.token, o.next && (e = "string" == typeof o.next ? o.next : o.next(e, c), f = this.states[e], f || (this.reportError("state doesn't exist", e), e = "start", f = this.states[e]), g = this.matchMappings[e], k = q, h = this.regExps[e], h.lastIndex = q);
                    break
                }
                if (p)if ("string" == typeof n)o && o.merge === !1 || m.type !== n ? (m.type && j.push(m), m = {
                    type: n,
                    value: p
                }) : m.value += p; else if (n) {
                    m.type && j.push(m), m = {type: null, value: ""};
                    for (var s = 0; s < n.length; s++)j.push(n[s])
                }
                if (k == a.length)break;
                if (k = q, l++ > d) {
                    for (l > 2 * a.length && this.reportError("infinite loop with in ace tokenizer", {
                        startState: b,
                        line: a
                    }); k < a.length;)m.type && j.push(m), m = {value: a.substring(k, k += 2e3), type: "overflow"};
                    e = "start", c = [];
                    break
                }
            }
            return m.type && j.push(m), c.length > 1 && c[0] !== e && c.unshift("#tmp", e), {
                tokens: j,
                state: c.length ? c : e
            }
        }, this.reportError = c.reportError
    }).call(e.prototype), b.Tokenizer = e
}), define("ace/mode/text_highlight_rules", ["require", "exports", "module", "ace/lib/lang"], function (a, b) {
    "use strict";
    var c = a("../lib/lang"), d = function () {
        this.$rules = {start: [{token: "empty_line", regex: "^$"}, {defaultToken: "text"}]}
    };
    (function () {
        this.addRules = function (a, b) {
            if (b)for (var c in a) {
                for (var d = a[c], e = 0; e < d.length; e++) {
                    var f = d[e];
                    (f.next || f.onMatch) && ("string" != typeof f.next ? f.nextState && 0 !== f.nextState.indexOf(b) && (f.nextState = b + f.nextState) : 0 !== f.next.indexOf(b) && (f.next = b + f.next))
                }
                this.$rules[b + c] = d
            } else for (var c in a)this.$rules[c] = a[c]
        }, this.getRules = function () {
            return this.$rules
        }, this.embedRules = function (a, b, d, e, f) {
            var g = "function" == typeof a ? (new a).getRules() : a;
            if (e)for (var h = 0; h < e.length; h++)e[h] = b + e[h]; else {
                e = [];
                for (var i in g)e.push(b + i)
            }
            if (this.addRules(g, b), d)for (var j = Array.prototype[f ? "push" : "unshift"], h = 0; h < e.length; h++)j.apply(this.$rules[e[h]], c.deepCopy(d));
            this.$embeds || (this.$embeds = []), this.$embeds.push(b)
        }, this.getEmbeds = function () {
            return this.$embeds
        };
        var a = function (a, b) {
            return ("start" != a || b.length) && b.unshift(this.nextState, a), this.nextState
        }, b = function (a, b) {
            return b.shift(), b.shift() || "start"
        };
        this.normalizeRules = function () {
            function c(f) {
                var g = e[f];
                g.processed = !0;
                for (var h = 0; h < g.length; h++) {
                    var i = g[h];
                    !i.regex && i.start && (i.regex = i.start, i.next || (i.next = []), i.next.push({defaultToken: i.token}, {
                        token: i.token + ".end",
                        regex: i.end || i.start,
                        next: "pop"
                    }), i.token = i.token + ".start", i.push = !0);
                    var j = i.next || i.push;
                    if (j && Array.isArray(j)) {
                        var k = i.stateName;
                        k || (k = i.token, "string" != typeof k && (k = k[0] || ""), e[k] && (k += d++)), e[k] = j, i.next = k, c(k)
                    } else"pop" == j && (i.next = b);
                    if (i.push && (i.nextState = i.next || i.push, i.next = a, delete i.push), i.rules)for (var l in i.rules)e[l] ? e[l].push && e[l].push.apply(e[l], i.rules[l]) : e[l] = i.rules[l];
                    if (i.include || "string" == typeof i)var m = i.include || i, n = e[m]; else Array.isArray(i) && (n = i);
                    if (n) {
                        var o = [h, 1].concat(n);
                        i.noEscape && (o = o.filter(function (a) {
                            return !a.next
                        })), g.splice.apply(g, o), h--, n = null
                    }
                    i.keywordMap && (i.token = this.createKeywordMapper(i.keywordMap, i.defaultToken || "text", i.caseInsensitive), delete i.defaultToken)
                }
            }

            var d = 0, e = this.$rules;
            Object.keys(e).forEach(c, this)
        }, this.createKeywordMapper = function (a, b, c, d) {
            var e = Object.create(null);
            return Object.keys(a).forEach(function (b) {
                var f = a[b];
                c && (f = f.toLowerCase());
                for (var g = f.split(d || "|"), h = g.length; h--;)e[g[h]] = b
            }), Object.getPrototypeOf(e) && (e.__proto__ = null), this.$keywordList = Object.keys(e), a = null, c ? function (a) {
                return e[a.toLowerCase()] || b
            } : function (a) {
                return e[a] || b
            }
        }, this.getKeywords = function () {
            return this.$keywords
        }
    }).call(d.prototype), b.TextHighlightRules = d
}), define("ace/mode/behaviour", ["require", "exports", "module"], function (a, b) {
    "use strict";
    var c = function () {
        this.$behaviours = {}
    };
    (function () {
        this.add = function (a, b, c) {
            switch (void 0) {
                case this.$behaviours:
                    this.$behaviours = {};
                case this.$behaviours[a]:
                    this.$behaviours[a] = {}
            }
            this.$behaviours[a][b] = c
        }, this.addBehaviours = function (a) {
            for (var b in a)for (var c in a[b])this.add(b, c, a[b][c])
        }, this.remove = function (a) {
            this.$behaviours && this.$behaviours[a] && delete this.$behaviours[a]
        }, this.inherit = function (a, b) {
            if ("function" == typeof a)var c = (new a).getBehaviours(b); else var c = a.getBehaviours(b);
            this.addBehaviours(c)
        }, this.getBehaviours = function (a) {
            if (a) {
                for (var b = {}, c = 0; c < a.length; c++)this.$behaviours[a[c]] && (b[a[c]] = this.$behaviours[a[c]]);
                return b
            }
            return this.$behaviours
        }
    }).call(c.prototype), b.Behaviour = c
}), define("ace/unicode", ["require", "exports", "module"], function (a, b) {
    "use strict";
    function c(a) {
        var c = /\w{4}/g;
        for (var d in a)b.packages[d] = a[d].replace(c, "\\u$&")
    }

    b.packages = {}, c({
        L: "0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
        Ll: "0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",
        Lu: "0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",
        Lt: "01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",
        Lm: "02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",
        Lo: "01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
        M: "0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",
        Mn: "0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",
        Mc: "0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",
        Me: "0488048906DE20DD-20E020E2-20E4A670-A672",
        N: "0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
        Nd: "0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
        Nl: "16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",
        No: "00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",
        P: "0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",
        Pd: "002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",
        Ps: "0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",
        Pe: "0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",
        Pi: "00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",
        Pf: "00BB2019201D203A2E032E052E0A2E0D2E1D2E21",
        Pc: "005F203F20402054FE33FE34FE4D-FE4FFF3F",
        Po: "0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",
        S: "0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",
        Sm: "002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",
        Sc: "002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",
        Sk: "005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",
        So: "00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",
        Z: "002000A01680180E2000-200A20282029202F205F3000",
        Zs: "002000A01680180E2000-200A202F205F3000",
        Zl: "2028",
        Zp: "2029",
        C: "0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",
        Cc: "0000-001F007F-009F",
        Cf: "00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",
        Co: "E000-F8FF",
        Cs: "D800-DFFF",
        Cn: "03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"
    })
}), define("ace/token_iterator", ["require", "exports", "module"], function (a, b) {
    "use strict";
    var c = function (a, b, c) {
        this.$session = a, this.$row = b, this.$rowTokens = a.getTokens(b);
        var d = a.getTokenAt(b, c);
        this.$tokenIndex = d ? d.index : -1
    };
    (function () {
        this.stepBackward = function () {
            for (this.$tokenIndex -= 1; this.$tokenIndex < 0;) {
                if (this.$row -= 1, this.$row < 0)return this.$row = 0, null;
                this.$rowTokens = this.$session.getTokens(this.$row), this.$tokenIndex = this.$rowTokens.length - 1
            }
            return this.$rowTokens[this.$tokenIndex]
        }, this.stepForward = function () {
            this.$tokenIndex += 1;
            for (var a; this.$tokenIndex >= this.$rowTokens.length;) {
                if (this.$row += 1, a || (a = this.$session.getLength()), this.$row >= a)return this.$row = a - 1, null;
                this.$rowTokens = this.$session.getTokens(this.$row), this.$tokenIndex = 0
            }
            return this.$rowTokens[this.$tokenIndex]
        }, this.getCurrentToken = function () {
            return this.$rowTokens[this.$tokenIndex]
        }, this.getCurrentTokenRow = function () {
            return this.$row
        }, this.getCurrentTokenColumn = function () {
            var a = this.$rowTokens, b = this.$tokenIndex, c = a[b].start;
            if (void 0 !== c)return c;
            for (c = 0; b > 0;)b -= 1, c += a[b].value.length;
            return c
        }
    }).call(c.prototype), b.TokenIterator = c
}), define("ace/mode/text", ["require", "exports", "module", "ace/tokenizer", "ace/mode/text_highlight_rules", "ace/mode/behaviour", "ace/unicode", "ace/lib/lang", "ace/token_iterator", "ace/range"], function (a, b) {
    "use strict";
    var c = a("../tokenizer").Tokenizer, d = a("./text_highlight_rules").TextHighlightRules, e = a("./behaviour").Behaviour, f = a("../unicode"), g = a("../lib/lang"), h = a("../token_iterator").TokenIterator, i = a("../range").Range, j = function () {
        this.HighlightRules = d, this.$behaviour = new e
    };
    (function () {
        this.tokenRe = new RegExp("^[" + f.packages.L + f.packages.Mn + f.packages.Mc + f.packages.Nd + f.packages.Pc + "\\$_]+", "g"), this.nonTokenRe = new RegExp("^(?:[^" + f.packages.L + f.packages.Mn + f.packages.Mc + f.packages.Nd + f.packages.Pc + "\\$_]|\\s])+", "g"), this.getTokenizer = function () {
            return this.$tokenizer || (this.$highlightRules = this.$highlightRules || new this.HighlightRules, this.$tokenizer = new c(this.$highlightRules.getRules())), this.$tokenizer
        }, this.lineCommentStart = "", this.blockComment = "", this.toggleCommentLines = function (a, b, c, d) {
            function e(a) {
                for (var b = c; d >= b; b++)a(f.getLine(b), b)
            }

            var f = b.doc, h = !0, i = !0, j = 1 / 0, k = b.getTabSize(), l = !1;
            if (this.lineCommentStart) {
                if (Array.isArray(this.lineCommentStart))var m = this.lineCommentStart.map(g.escapeRegExp).join("|"), n = this.lineCommentStart[0]; else var m = g.escapeRegExp(this.lineCommentStart), n = this.lineCommentStart;
                m = new RegExp("^(\\s*)(?:" + m + ") ?"), l = b.getUseSoftTabs();
                var o = function (a, b) {
                    var c = a.match(m);
                    if (c) {
                        var d = c[1].length, e = c[0].length;
                        s(a, d, e) || " " != c[0][e - 1] || e--, f.removeInLine(b, d, e)
                    }
                }, p = n + " ", q = function (a, b) {
                    (!h || /\S/.test(a)) && (s(a, j, j) ? f.insertInLine({
                        row: b,
                        column: j
                    }, p) : f.insertInLine({row: b, column: j}, n))
                }, r = function (a) {
                    return m.test(a)
                }, s = function (a, b, c) {
                    for (var d = 0; b-- && " " == a.charAt(b);)d++;
                    if (d % k != 0)return !1;
                    for (var d = 0; " " == a.charAt(c++);)d++;
                    return k > 2 ? d % k != k - 1 : d % k == 0
                }
            } else {
                if (!this.blockComment)return !1;
                var n = this.blockComment.start, t = this.blockComment.end, m = new RegExp("^(\\s*)(?:" + g.escapeRegExp(n) + ")"), u = new RegExp("(?:" + g.escapeRegExp(t) + ")\\s*$"), q = function (a, b) {
                    r(a, b) || (!h || /\S/.test(a)) && (f.insertInLine({
                        row: b,
                        column: a.length
                    }, t), f.insertInLine({row: b, column: j}, n))
                }, o = function (a, b) {
                    var c;
                    (c = a.match(u)) && f.removeInLine(b, a.length - c[0].length, a.length), (c = a.match(m)) && f.removeInLine(b, c[1].length, c[0].length)
                }, r = function (a, c) {
                    if (m.test(a))return !0;
                    for (var d = b.getTokens(c), e = 0; e < d.length; e++)if ("comment" === d[e].type)return !0
                }
            }
            var v = 1 / 0;
            e(function (a, b) {
                var c = a.search(/\S/);
                -1 !== c ? (j > c && (j = c), i && !r(a, b) && (i = !1)) : v > a.length && (v = a.length)
            }), 1 / 0 == j && (j = v, h = !1, i = !1), l && j % k != 0 && (j = Math.floor(j / k) * k), e(i ? o : q)
        }, this.toggleBlockComment = function (a, b, c, d) {
            var e = this.blockComment;
            if (e) {
                !e.start && e[0] && (e = e[0]);
                var f, g, j = new h(b, d.row, d.column), k = j.getCurrentToken(), l = (b.selection, b.selection.toOrientedRange());
                if (k && /comment/.test(k.type)) {
                    for (var m, n; k && /comment/.test(k.type);) {
                        var o = k.value.indexOf(e.start);
                        if (-1 != o) {
                            var p = j.getCurrentTokenRow(), q = j.getCurrentTokenColumn() + o;
                            m = new i(p, q, p, q + e.start.length);
                            break
                        }
                        k = j.stepBackward()
                    }
                    for (var j = new h(b, d.row, d.column), k = j.getCurrentToken(); k && /comment/.test(k.type);) {
                        var o = k.value.indexOf(e.end);
                        if (-1 != o) {
                            var p = j.getCurrentTokenRow(), q = j.getCurrentTokenColumn() + o;
                            n = new i(p, q, p, q + e.end.length);
                            break
                        }
                        k = j.stepForward()
                    }
                    n && b.remove(n), m && (b.remove(m), f = m.start.row, g = -e.start.length)
                } else g = e.start.length, f = c.start.row, b.insert(c.end, e.end), b.insert(c.start, e.start);
                l.start.row == f && (l.start.column += g), l.end.row == f && (l.end.column += g), b.selection.fromOrientedRange(l)
            }
        }, this.getNextLineIndent = function (a, b) {
            return this.$getIndent(b)
        }, this.checkOutdent = function () {
            return !1
        }, this.autoOutdent = function () {
        }, this.$getIndent = function (a) {
            return a.match(/^\s*/)[0]
        }, this.createWorker = function () {
            return null
        }, this.createModeDelegates = function (a) {
            this.$embeds = [], this.$modes = {};
            for (var b in a)a[b] && (this.$embeds.push(b), this.$modes[b] = new a[b]);
            for (var c = ["toggleBlockComment", "toggleCommentLines", "getNextLineIndent", "checkOutdent", "autoOutdent", "transformAction", "getCompletions"], b = 0; b < c.length; b++)!function (a) {
                var d = c[b], e = a[d];
                a[c[b]] = function () {
                    return this.$delegator(d, arguments, e)
                }
            }(this)
        }, this.$delegator = function (a, b, c) {
            var d = b[0];
            "string" != typeof d && (d = d[0]);
            for (var e = 0; e < this.$embeds.length; e++)if (this.$modes[this.$embeds[e]]) {
                var f = d.split(this.$embeds[e]);
                if (!f[0] && f[1]) {
                    b[0] = f[1];
                    var g = this.$modes[this.$embeds[e]];
                    return g[a].apply(g, b)
                }
            }
            var h = c.apply(this, b);
            return c ? h : void 0
        }, this.transformAction = function (a, b) {
            if (this.$behaviour) {
                var c = this.$behaviour.getBehaviours();
                for (var d in c)if (c[d][b]) {
                    var e = c[d][b].apply(this, arguments);
                    if (e)return e
                }
            }
        }, this.getKeywords = function (a) {
            if (!this.completionKeywords) {
                var b = this.$tokenizer.rules, c = [];
                for (var d in b)for (var e = b[d], f = 0, g = e.length; g > f; f++)if ("string" == typeof e[f].token)/keyword|support|storage/.test(e[f].token) && c.push(e[f].regex); else if ("object" == typeof e[f].token)for (var h = 0, i = e[f].token.length; i > h; h++)if (/keyword|support|storage/.test(e[f].token[h])) {
                    var d = e[f].regex.match(/\(.+?\)/g)[h];
                    c.push(d.substr(1, d.length - 2))
                }
                this.completionKeywords = c
            }
            return a ? c.concat(this.$keywordList || []) : this.$keywordList
        }, this.$createKeywordList = function () {
            return this.$highlightRules || this.getTokenizer(), this.$keywordList = this.$highlightRules.$keywordList || []
        }, this.getCompletions = function () {
            var a = this.$keywordList || this.$createKeywordList();
            return a.map(function (a) {
                return {name: a, value: a, score: 0, meta: "keyword"}
            })
        }, this.$id = "ace/mode/text"
    }).call(j.prototype), b.Mode = j
}), define("ace/anchor", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function (a, b) {
    "use strict";
    var c = a("./lib/oop"), d = a("./lib/event_emitter").EventEmitter, e = b.Anchor = function (a, b, c) {
        this.$onChange = this.onChange.bind(this), this.attach(a), "undefined" == typeof c ? this.setPosition(b.row, b.column) : this.setPosition(b, c)
    };
    (function () {
        c.implement(this, d), this.getPosition = function () {
            return this.$clipPositionToDocument(this.row, this.column)
        }, this.getDocument = function () {
            return this.document
        }, this.$insertRight = !1, this.onChange = function (a) {
            var b = a.data, c = b.range;
            if ((c.start.row != c.end.row || c.start.row == this.row) && !(c.start.row > this.row || c.start.row == this.row && c.start.column > this.column)) {
                var d = this.row, e = this.column, f = c.start, g = c.end;
                "insertText" === b.action ? f.row === d && f.column <= e ? f.column === e && this.$insertRight || (f.row === g.row ? e += g.column - f.column : (e -= f.column, d += g.row - f.row)) : f.row !== g.row && f.row < d && (d += g.row - f.row) : "insertLines" === b.action ? f.row === d && 0 === e && this.$insertRight || f.row <= d && (d += g.row - f.row) : "removeText" === b.action ? f.row === d && f.column < e ? e = g.column >= e ? f.column : Math.max(0, e - (g.column - f.column)) : f.row !== g.row && f.row < d ? (g.row === d && (e = Math.max(0, e - g.column) + f.column), d -= g.row - f.row) : g.row === d && (d -= g.row - f.row, e = Math.max(0, e - g.column) + f.column) : "removeLines" == b.action && f.row <= d && (g.row <= d ? d -= g.row - f.row : (d = f.row, e = 0)), this.setPosition(d, e, !0)
            }
        }, this.setPosition = function (a, b, c) {
            var d;
            if (d = c ? {
                    row: a,
                    column: b
                } : this.$clipPositionToDocument(a, b), this.row != d.row || this.column != d.column) {
                var e = {row: this.row, column: this.column};
                this.row = d.row, this.column = d.column, this._signal("change", {old: e, value: d})
            }
        }, this.detach = function () {
            this.document.removeEventListener("change", this.$onChange)
        }, this.attach = function (a) {
            this.document = a || this.document, this.document.on("change", this.$onChange)
        }, this.$clipPositionToDocument = function (a, b) {
            var c = {};
            return a >= this.document.getLength() ? (c.row = Math.max(0, this.document.getLength() - 1), c.column = this.document.getLine(c.row).length) : 0 > a ? (c.row = 0, c.column = 0) : (c.row = a, c.column = Math.min(this.document.getLine(c.row).length, Math.max(0, b))), 0 > b && (c.column = 0), c
        }
    }).call(e.prototype)
}), define("ace/document", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter", "ace/range", "ace/anchor"], function (a, b) {
    "use strict";
    var c = a("./lib/oop"), d = a("./lib/event_emitter").EventEmitter, e = a("./range").Range, f = a("./anchor").Anchor, g = function (a) {
        this.$lines = [], 0 === a.length ? this.$lines = [""] : Array.isArray(a) ? this._insertLines(0, a) : this.insert({
            row: 0,
            column: 0
        }, a)
    };
    (function () {
        c.implement(this, d), this.setValue = function (a) {
            var b = this.getLength();
            this.remove(new e(0, 0, b, this.getLine(b - 1).length)), this.insert({row: 0, column: 0}, a)
        }, this.getValue = function () {
            return this.getAllLines().join(this.getNewLineCharacter())
        }, this.createAnchor = function (a, b) {
            return new f(this, a, b)
        }, this.$split = 0 === "aaa".split(/a/).length ? function (a) {
            return a.replace(/\r\n|\r/g, "\n").split("\n")
        } : function (a) {
            return a.split(/\r\n|\r|\n/)
        }, this.$detectNewLine = function (a) {
            var b = a.match(/^.*?(\r\n|\r|\n)/m);
            this.$autoNewLine = b ? b[1] : "\n", this._signal("changeNewLineMode")
        }, this.getNewLineCharacter = function () {
            switch (this.$newLineMode) {
                case"windows":
                    return "\r\n";
                case"unix":
                    return "\n";
                default:
                    return this.$autoNewLine || "\n"
            }
        }, this.$autoNewLine = "", this.$newLineMode = "auto", this.setNewLineMode = function (a) {
            this.$newLineMode !== a && (this.$newLineMode = a, this._signal("changeNewLineMode"))
        }, this.getNewLineMode = function () {
            return this.$newLineMode
        }, this.isNewLine = function (a) {
            return "\r\n" == a || "\r" == a || "\n" == a
        }, this.getLine = function (a) {
            return this.$lines[a] || ""
        }, this.getLines = function (a, b) {
            return this.$lines.slice(a, b + 1)
        }, this.getAllLines = function () {
            return this.getLines(0, this.getLength())
        }, this.getLength = function () {
            return this.$lines.length
        }, this.getTextRange = function (a) {
            if (a.start.row == a.end.row)return this.getLine(a.start.row).substring(a.start.column, a.end.column);
            var b = this.getLines(a.start.row, a.end.row);
            b[0] = (b[0] || "").substring(a.start.column);
            var c = b.length - 1;
            return a.end.row - a.start.row == c && (b[c] = b[c].substring(0, a.end.column)), b.join(this.getNewLineCharacter())
        }, this.$clipPosition = function (a) {
            var b = this.getLength();
            return a.row >= b ? (a.row = Math.max(0, b - 1), a.column = this.getLine(b - 1).length) : a.row < 0 && (a.row = 0), a
        }, this.insert = function (a, b) {
            if (!b || 0 === b.length)return a;
            a = this.$clipPosition(a), this.getLength() <= 1 && this.$detectNewLine(b);
            var c = this.$split(b), d = c.splice(0, 1)[0], e = 0 == c.length ? null : c.splice(c.length - 1, 1)[0];
            return a = this.insertInLine(a, d), null !== e && (a = this.insertNewLine(a), a = this._insertLines(a.row, c), a = this.insertInLine(a, e || "")), a
        }, this.insertLines = function (a, b) {
            return a >= this.getLength() ? this.insert({
                row: a,
                column: 0
            }, "\n" + b.join("\n")) : this._insertLines(Math.max(a, 0), b)
        }, this._insertLines = function (a, b) {
            if (0 == b.length)return {row: a, column: 0};
            for (; b.length > 2e4;) {
                var c = this._insertLines(a, b.slice(0, 2e4));
                b = b.slice(2e4), a = c.row
            }
            var d = [a, 0];
            d.push.apply(d, b), this.$lines.splice.apply(this.$lines, d);
            var f = new e(a, 0, a + b.length, 0), g = {action: "insertLines", range: f, lines: b};
            return this._signal("change", {data: g}), f.end
        }, this.insertNewLine = function (a) {
            a = this.$clipPosition(a);
            var b = this.$lines[a.row] || "";
            this.$lines[a.row] = b.substring(0, a.column), this.$lines.splice(a.row + 1, 0, b.substring(a.column, b.length));
            var c = {row: a.row + 1, column: 0}, d = {
                action: "insertText",
                range: e.fromPoints(a, c),
                text: this.getNewLineCharacter()
            };
            return this._signal("change", {data: d}), c
        }, this.insertInLine = function (a, b) {
            if (0 == b.length)return a;
            var c = this.$lines[a.row] || "";
            this.$lines[a.row] = c.substring(0, a.column) + b + c.substring(a.column);
            var d = {row: a.row, column: a.column + b.length}, f = {
                action: "insertText",
                range: e.fromPoints(a, d),
                text: b
            };
            return this._signal("change", {data: f}), d
        }, this.remove = function (a) {
            if (a instanceof e || (a = e.fromPoints(a.start, a.end)), a.start = this.$clipPosition(a.start), a.end = this.$clipPosition(a.end), a.isEmpty())return a.start;
            var b = a.start.row, c = a.end.row;
            if (a.isMultiLine()) {
                var d = 0 == a.start.column ? b : b + 1, f = c - 1;
                a.end.column > 0 && this.removeInLine(c, 0, a.end.column), f >= d && this._removeLines(d, f), d != b && (this.removeInLine(b, a.start.column, this.getLine(b).length), this.removeNewLine(a.start.row))
            } else this.removeInLine(b, a.start.column, a.end.column);
            return a.start
        }, this.removeInLine = function (a, b, c) {
            if (b != c) {
                var d = new e(a, b, a, c), f = this.getLine(a), g = f.substring(b, c), h = f.substring(0, b) + f.substring(c, f.length);
                this.$lines.splice(a, 1, h);
                var i = {action: "removeText", range: d, text: g};
                return this._signal("change", {data: i}), d.start
            }
        }, this.removeLines = function (a, b) {
            return 0 > a || b >= this.getLength() ? this.remove(new e(a, 0, b + 1, 0)) : this._removeLines(a, b)
        }, this._removeLines = function (a, b) {
            var c = new e(a, 0, b + 1, 0), d = this.$lines.splice(a, b - a + 1), f = {
                action: "removeLines",
                range: c,
                nl: this.getNewLineCharacter(),
                lines: d
            };
            return this._signal("change", {data: f}), d
        }, this.removeNewLine = function (a) {
            var b = this.getLine(a), c = this.getLine(a + 1), d = new e(a, b.length, a + 1, 0), f = b + c;
            this.$lines.splice(a, 2, f);
            var g = {action: "removeText", range: d, text: this.getNewLineCharacter()};
            this._signal("change", {data: g})
        }, this.replace = function (a, b) {
            if (a instanceof e || (a = e.fromPoints(a.start, a.end)), 0 == b.length && a.isEmpty())return a.start;
            if (b == this.getTextRange(a))return a.end;
            if (this.remove(a), b)var c = this.insert(a.start, b); else c = a.start;
            return c
        }, this.applyDeltas = function (a) {
            for (var b = 0; b < a.length; b++) {
                var c = a[b], d = e.fromPoints(c.range.start, c.range.end);
                "insertLines" == c.action ? this.insertLines(d.start.row, c.lines) : "insertText" == c.action ? this.insert(d.start, c.text) : "removeLines" == c.action ? this._removeLines(d.start.row, d.end.row - 1) : "removeText" == c.action && this.remove(d)
            }
        }, this.revertDeltas = function (a) {
            for (var b = a.length - 1; b >= 0; b--) {
                var c = a[b], d = e.fromPoints(c.range.start, c.range.end);
                "insertLines" == c.action ? this._removeLines(d.start.row, d.end.row - 1) : "insertText" == c.action ? this.remove(d) : "removeLines" == c.action ? this._insertLines(d.start.row, c.lines) : "removeText" == c.action && this.insert(d.start, c.text)
            }
        }, this.indexToPosition = function (a, b) {
            for (var c = this.$lines || this.getAllLines(), d = this.getNewLineCharacter().length, e = b || 0, f = c.length; f > e; e++)if (a -= c[e].length + d, 0 > a)return {
                row: e,
                column: a + c[e].length + d
            };
            return {row: f - 1, column: c[f - 1].length}
        }, this.positionToIndex = function (a, b) {
            for (var c = this.$lines || this.getAllLines(), d = this.getNewLineCharacter().length, e = 0, f = Math.min(a.row, c.length), g = b || 0; f > g; ++g)e += c[g].length + d;
            return e + a.column
        }
    }).call(g.prototype), b.Document = g
}), define("ace/background_tokenizer", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function (a, b) {
    "use strict";
    var c = a("./lib/oop"), d = a("./lib/event_emitter").EventEmitter, e = function (a) {
        this.running = !1, this.lines = [], this.states = [], this.currentLine = 0, this.tokenizer = a;
        var b = this;
        this.$worker = function () {
            if (b.running) {
                for (var a = new Date, c = b.currentLine, d = -1, e = b.doc; b.lines[c];)c++;
                var f = c, g = e.getLength(), h = 0;
                for (b.running = !1; g > c;) {
                    b.$tokenizeRow(c), d = c;
                    do c++; while (b.lines[c]);
                    if (h++, h % 5 === 0 && new Date - a > 20) {
                        b.running = setTimeout(b.$worker, 20);
                        break
                    }
                }
                b.currentLine = c, d >= f && b.fireUpdateEvent(f, d)
            }
        }
    };
    (function () {
        c.implement(this, d), this.setTokenizer = function (a) {
            this.tokenizer = a, this.lines = [], this.states = [], this.start(0)
        }, this.setDocument = function (a) {
            this.doc = a, this.lines = [], this.states = [], this.stop()
        }, this.fireUpdateEvent = function (a, b) {
            var c = {first: a, last: b};
            this._signal("update", {data: c})
        }, this.start = function (a) {
            this.currentLine = Math.min(a || 0, this.currentLine, this.doc.getLength()), this.lines.splice(this.currentLine, this.lines.length), this.states.splice(this.currentLine, this.states.length), this.stop(), this.running = setTimeout(this.$worker, 700)
        }, this.scheduleStart = function () {
            this.running || (this.running = setTimeout(this.$worker, 700))
        }, this.$updateOnChange = function (a) {
            var b = a.range, c = b.start.row, d = b.end.row - c;
            if (0 === d)this.lines[c] = null; else if ("removeText" == a.action || "removeLines" == a.action)this.lines.splice(c, d + 1, null), this.states.splice(c, d + 1, null); else {
                var e = Array(d + 1);
                e.unshift(c, 1), this.lines.splice.apply(this.lines, e), this.states.splice.apply(this.states, e)
            }
            this.currentLine = Math.min(c, this.currentLine, this.doc.getLength()), this.stop()
        }, this.stop = function () {
            this.running && clearTimeout(this.running), this.running = !1
        }, this.getTokens = function (a) {
            return this.lines[a] || this.$tokenizeRow(a)
        }, this.getState = function (a) {
            return this.currentLine == a && this.$tokenizeRow(a), this.states[a] || "start"
        }, this.$tokenizeRow = function (a) {
            var b = this.doc.getLine(a), c = this.states[a - 1], d = this.tokenizer.getLineTokens(b, c, a);
            return this.states[a] + "" != d.state + "" ? (this.states[a] = d.state, this.lines[a + 1] = null, this.currentLine > a + 1 && (this.currentLine = a + 1)) : this.currentLine == a && (this.currentLine = a + 1), this.lines[a] = d.tokens
        }
    }).call(e.prototype), b.BackgroundTokenizer = e
}), define("ace/search_highlight", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/range"], function (a, b) {
    "use strict";
    var c = a("./lib/lang"), d = (a("./lib/oop"), a("./range").Range), e = function (a, b, c) {
        this.setRegexp(a), this.clazz = b, this.type = c || "text"
    };
    (function () {
        this.MAX_RANGES = 500, this.setRegexp = function (a) {
            this.regExp + "" != a + "" && (this.regExp = a, this.cache = [])
        }, this.update = function (a, b, e, f) {
            if (this.regExp)for (var g = f.firstRow, h = f.lastRow, i = g; h >= i; i++) {
                var j = this.cache[i];
                null == j && (j = c.getMatchOffsets(e.getLine(i), this.regExp), j.length > this.MAX_RANGES && (j = j.slice(0, this.MAX_RANGES)), j = j.map(function (a) {
                    return new d(i, a.offset, i, a.offset + a.length)
                }), this.cache[i] = j.length ? j : "");
                for (var k = j.length; k--;)b.drawSingleLineMarker(a, j[k].toScreenRange(e), this.clazz, f)
            }
        }
    }).call(e.prototype), b.SearchHighlight = e
}), define("ace/edit_session/fold_line", ["require", "exports", "module", "ace/range"], function (a, b) {
    "use strict";
    function c(a, b) {
        this.foldData = a, Array.isArray(b) ? this.folds = b : b = this.folds = [b];
        var c = b[b.length - 1];
        this.range = new d(b[0].start.row, b[0].start.column, c.end.row, c.end.column), this.start = this.range.start, this.end = this.range.end, this.folds.forEach(function (a) {
            a.setFoldLine(this)
        }, this)
    }

    var d = a("../range").Range;
    (function () {
        this.shiftRow = function (a) {
            this.start.row += a, this.end.row += a, this.folds.forEach(function (b) {
                b.start.row += a, b.end.row += a
            })
        }, this.addFold = function (a) {
            if (a.sameRow) {
                if (a.start.row < this.startRow || a.endRow > this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");
                this.folds.push(a), this.folds.sort(function (a, b) {
                    return -a.range.compareEnd(b.start.row, b.start.column)
                }), this.range.compareEnd(a.start.row, a.start.column) > 0 ? (this.end.row = a.end.row, this.end.column = a.end.column) : this.range.compareStart(a.end.row, a.end.column) < 0 && (this.start.row = a.start.row, this.start.column = a.start.column)
            } else if (a.start.row == this.end.row)this.folds.push(a), this.end.row = a.end.row, this.end.column = a.end.column; else {
                if (a.end.row != this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");
                this.folds.unshift(a), this.start.row = a.start.row, this.start.column = a.start.column
            }
            a.foldLine = this
        }, this.containsRow = function (a) {
            return a >= this.start.row && a <= this.end.row
        }, this.walk = function (a, b, c) {
            var d, e, f, g = 0, h = this.folds, i = !0;
            null == b && (b = this.end.row, c = this.end.column);
            for (var j = 0; j < h.length; j++) {
                if (d = h[j], e = d.range.compareStart(b, c), -1 == e)return void a(null, b, c, g, i);
                if (f = a(null, d.start.row, d.start.column, g, i), f = !f && a(d.placeholder, d.start.row, d.start.column, g), f || 0 === e)return;
                i = !d.sameRow, g = d.end.column
            }
            a(null, b, c, g, i)
        }, this.getNextFoldTo = function (a, b) {
            for (var c, d, e = 0; e < this.folds.length; e++) {
                if (c = this.folds[e], d = c.range.compareEnd(a, b), -1 == d)return {fold: c, kind: "after"};
                if (0 === d)return {fold: c, kind: "inside"}
            }
            return null
        }, this.addRemoveChars = function (a, b, c) {
            var d, e, f = this.getNextFoldTo(a, b);
            if (f)if (d = f.fold, "inside" == f.kind && d.start.column != b && d.start.row != a)window.console && window.console.log(a, b, d); else if (d.start.row == a) {
                e = this.folds;
                var g = e.indexOf(d);
                for (0 === g && (this.start.column += c), g; g < e.length; g++) {
                    if (d = e[g], d.start.column += c, !d.sameRow)return;
                    d.end.column += c
                }
                this.end.column += c
            }
        }, this.split = function (a, b) {
            var d = this.getNextFoldTo(a, b);
            if (!d || "inside" == d.kind)return null;
            var e = d.fold, f = this.folds, g = this.foldData, h = f.indexOf(e), i = f[h - 1];
            this.end.row = i.end.row, this.end.column = i.end.column, f = f.splice(h, f.length - h);
            var j = new c(g, f);
            return g.splice(g.indexOf(this) + 1, 0, j), j
        }, this.merge = function (a) {
            for (var b = a.folds, c = 0; c < b.length; c++)this.addFold(b[c]);
            var d = this.foldData;
            d.splice(d.indexOf(a), 1)
        }, this.toString = function () {
            var a = [this.range.toString() + ": ["];
            return this.folds.forEach(function (b) {
                a.push("  " + b.toString())
            }), a.push("]"), a.join("\n")
        }, this.idxToPosition = function (a) {
            for (var b = 0, c = 0; c < this.folds.length; c++) {
                var d = this.folds[c];
                if (a -= d.start.column - b, 0 > a)return {row: d.start.row, column: d.start.column + a};
                if (a -= d.placeholder.length, 0 > a)return d.start;
                b = d.end.column
            }
            return {row: this.end.row, column: this.end.column + a}
        }
    }).call(c.prototype), b.FoldLine = c
}), define("ace/range_list", ["require", "exports", "module", "ace/range"], function (a, b) {
    "use strict";
    var c = a("./range").Range, d = c.comparePoints, e = function () {
        this.ranges = []
    };
    (function () {
        this.comparePoints = d, this.pointIndex = function (a, b, c) {
            for (var e = this.ranges, f = c || 0; f < e.length; f++) {
                var g = e[f], h = d(a, g.end);
                if (!(h > 0)) {
                    var i = d(a, g.start);
                    return 0 === h ? b && 0 !== i ? -f - 2 : f : i > 0 || 0 === i && !b ? f : -f - 1
                }
            }
            return -f - 1
        }, this.add = function (a) {
            var b = !a.isEmpty(), c = this.pointIndex(a.start, b);
            0 > c && (c = -c - 1);
            var d = this.pointIndex(a.end, b, c);
            return 0 > d ? d = -d - 1 : d++, this.ranges.splice(c, d - c, a)
        }, this.addList = function (a) {
            for (var b = [], c = a.length; c--;)b.push.call(b, this.add(a[c]));
            return b
        }, this.substractPoint = function (a) {
            var b = this.pointIndex(a);
            return b >= 0 ? this.ranges.splice(b, 1) : void 0
        }, this.merge = function () {
            var a = [], b = this.ranges;
            b = b.sort(function (a, b) {
                return d(a.start, b.start)
            });
            for (var c, e = b[0], f = 1; f < b.length; f++) {
                c = e, e = b[f];
                var g = d(c.end, e.start);
                0 > g || (0 != g || c.isEmpty() || e.isEmpty()) && (d(c.end, e.end) < 0 && (c.end.row = e.end.row, c.end.column = e.end.column), b.splice(f, 1), a.push(e), e = c, f--)
            }
            return this.ranges = b, a
        }, this.contains = function (a, b) {
            return this.pointIndex({row: a, column: b}) >= 0
        }, this.containsPoint = function (a) {
            return this.pointIndex(a) >= 0
        }, this.rangeAtPoint = function (a) {
            var b = this.pointIndex(a);
            return b >= 0 ? this.ranges[b] : void 0
        }, this.clipRows = function (a, b) {
            var c = this.ranges;
            if (c[0].start.row > b || c[c.length - 1].start.row < a)return [];
            var d = this.pointIndex({row: a, column: 0});
            0 > d && (d = -d - 1);
            var e = this.pointIndex({row: b, column: 0}, d);
            0 > e && (e = -e - 1);
            for (var f = [], g = d; e > g; g++)f.push(c[g]);
            return f
        }, this.removeAll = function () {
            return this.ranges.splice(0, this.ranges.length)
        }, this.attach = function (a) {
            this.session && this.detach(), this.session = a, this.onChange = this.$onChange.bind(this), this.session.on("change", this.onChange)
        }, this.detach = function () {
            this.session && (this.session.removeListener("change", this.onChange), this.session = null)
        }, this.$onChange = function (a) {
            var b = a.data.range;
            if ("i" == a.data.action[0])var c = b.start, d = b.end; else var d = b.start, c = b.end;
            for (var e = c.row, f = d.row, g = f - e, h = -c.column + d.column, i = this.ranges, j = 0, k = i.length; k > j; j++) {
                var l = i[j];
                if (!(l.end.row < e)) {
                    if (l.start.row > e)break;
                    if (l.start.row == e && l.start.column >= c.column && (l.start.column == c.column && this.$insertRight || (l.start.column += h, l.start.row += g)), l.end.row == e && l.end.column >= c.column) {
                        if (l.end.column == c.column && this.$insertRight)continue;
                        l.end.column == c.column && h > 0 && k - 1 > j && l.end.column > l.start.column && l.end.column == i[j + 1].start.column && (l.end.column -= h), l.end.column += h, l.end.row += g
                    }
                }
            }
            if (0 != g && k > j)for (; k > j; j++) {
                var l = i[j];
                l.start.row += g, l.end.row += g
            }
        }
    }).call(e.prototype), b.RangeList = e
}), define("ace/edit_session/fold", ["require", "exports", "module", "ace/range", "ace/range_list", "ace/lib/oop"], function (a, b) {
    "use strict";
    function c(a, b) {
        a.row -= b.row, 0 == a.row && (a.column -= b.column)
    }

    function d(a, b) {
        c(a.start, b), c(a.end, b)
    }

    function e(a, b) {
        0 == a.row && (a.column += b.column), a.row += b.row
    }

    function f(a, b) {
        e(a.start, b), e(a.end, b)
    }

    var g = (a("../range").Range, a("../range_list").RangeList), h = a("../lib/oop"), i = b.Fold = function (a, b) {
        this.foldLine = null, this.placeholder = b, this.range = a, this.start = a.start, this.end = a.end, this.sameRow = a.start.row == a.end.row, this.subFolds = this.ranges = []
    };
    h.inherits(i, g), function () {
        this.toString = function () {
            return '"' + this.placeholder + '" ' + this.range.toString()
        }, this.setFoldLine = function (a) {
            this.foldLine = a, this.subFolds.forEach(function (b) {
                b.setFoldLine(a)
            })
        }, this.clone = function () {
            var a = this.range.clone(), b = new i(a, this.placeholder);
            return this.subFolds.forEach(function (a) {
                b.subFolds.push(a.clone())
            }), b.collapseChildren = this.collapseChildren, b
        }, this.addSubFold = function (a) {
            if (!this.range.isEqual(a)) {
                if (!this.range.containsRange(a))throw new Error("A fold can't intersect already existing fold" + a.range + this.range);
                d(a, this.start);
                for (var b = a.start.row, c = a.start.column, e = 0, f = -1; e < this.subFolds.length && (f = this.subFolds[e].range.compare(b, c), 1 == f); e++);
                var g = this.subFolds[e];
                if (0 == f)return g.addSubFold(a);
                for (var b = a.range.end.row, c = a.range.end.column, h = e, f = -1; h < this.subFolds.length && (f = this.subFolds[h].range.compare(b, c), 1 == f); h++);
                {
                    this.subFolds[h]
                }
                if (0 == f)throw new Error("A fold can't intersect already existing fold" + a.range + this.range);
                {
                    this.subFolds.splice(e, h - e, a)
                }
                return a.setFoldLine(this.foldLine), a
            }
        }, this.restoreRange = function (a) {
            return f(a, this.start)
        }
    }.call(i.prototype)
}), define("ace/edit_session/folding", ["require", "exports", "module", "ace/range", "ace/edit_session/fold_line", "ace/edit_session/fold", "ace/token_iterator"], function (a, b) {
    "use strict";
    function c() {
        this.getFoldAt = function (a, b, c) {
            var d = this.getFoldLine(a);
            if (!d)return null;
            for (var e = d.folds, f = 0; f < e.length; f++) {
                var g = e[f];
                if (g.range.contains(a, b)) {
                    if (1 == c && g.range.isEnd(a, b))continue;
                    if (-1 == c && g.range.isStart(a, b))continue;
                    return g
                }
            }
        }, this.getFoldsInRange = function (a) {
            var b = a.start, c = a.end, d = this.$foldData, e = [];
            b.column += 1, c.column -= 1;
            for (var f = 0; f < d.length; f++) {
                var g = d[f].range.compareRange(a);
                if (2 != g) {
                    if (-2 == g)break;
                    for (var h = d[f].folds, i = 0; i < h.length; i++) {
                        var j = h[i];
                        if (g = j.range.compareRange(a), -2 == g)break;
                        if (2 != g) {
                            if (42 == g)break;
                            e.push(j)
                        }
                    }
                }
            }
            return b.column -= 1, c.column += 1, e
        }, this.getFoldsInRangeList = function (a) {
            if (Array.isArray(a)) {
                var b = [];
                a.forEach(function (a) {
                    b = b.concat(this.getFoldsInRange(a))
                }, this)
            } else var b = this.getFoldsInRange(a);
            return b
        }, this.getAllFolds = function () {
            for (var a = [], b = this.$foldData, c = 0; c < b.length; c++)for (var d = 0; d < b[c].folds.length; d++)a.push(b[c].folds[d]);
            return a
        }, this.getFoldStringAt = function (a, b, c, d) {
            if (d = d || this.getFoldLine(a), !d)return null;
            for (var e, f, g = {end: {column: 0}}, h = 0; h < d.folds.length; h++) {
                f = d.folds[h];
                var i = f.range.compareEnd(a, b);
                if (-1 == i) {
                    e = this.getLine(f.start.row).substring(g.end.column, f.start.column);
                    break
                }
                if (0 === i)return null;
                g = f
            }
            return e || (e = this.getLine(f.start.row).substring(g.end.column)), -1 == c ? e.substring(0, b - g.end.column) : 1 == c ? e.substring(b - g.end.column) : e
        }, this.getFoldLine = function (a, b) {
            var c = this.$foldData, d = 0;
            for (b && (d = c.indexOf(b)), -1 == d && (d = 0), d; d < c.length; d++) {
                var e = c[d];
                if (e.start.row <= a && e.end.row >= a)return e;
                if (e.end.row > a)return null
            }
            return null
        }, this.getNextFoldLine = function (a, b) {
            var c = this.$foldData, d = 0;
            for (b && (d = c.indexOf(b)), -1 == d && (d = 0), d; d < c.length; d++) {
                var e = c[d];
                if (e.end.row >= a)return e
            }
            return null
        }, this.getFoldedRowCount = function (a, b) {
            for (var c = this.$foldData, d = b - a + 1, e = 0; e < c.length; e++) {
                var f = c[e], g = f.end.row, h = f.start.row;
                if (g >= b) {
                    b > h && (h >= a ? d -= b - h : d = 0);
                    break
                }
                g >= a && (d -= h >= a ? g - h : g - a + 1)
            }
            return d
        }, this.$addFoldLine = function (a) {
            return this.$foldData.push(a), this.$foldData.sort(function (a, b) {
                return a.start.row - b.start.row
            }), a
        }, this.addFold = function (a, b) {
            var c, d = this.$foldData, g = !1;
            a instanceof f ? c = a : (c = new f(b, a), c.collapseChildren = b.collapseChildren), this.$clipRangeToDocument(c.range);
            var h = c.start.row, i = c.start.column, j = c.end.row, k = c.end.column;
            if (!(j > h || h == j && k - 2 >= i))throw new Error("The range has to be at least 2 characters width");
            var l = this.getFoldAt(h, i, 1), m = this.getFoldAt(j, k, -1);
            if (l && m == l)return l.addSubFold(c);
            l && !l.range.isStart(h, i) && this.removeFold(l), m && !m.range.isEnd(j, k) && this.removeFold(m);
            var n = this.getFoldsInRange(c.range);
            n.length > 0 && (this.removeFolds(n), n.forEach(function (a) {
                c.addSubFold(a)
            }));
            for (var o = 0; o < d.length; o++) {
                var p = d[o];
                if (j == p.start.row) {
                    p.addFold(c), g = !0;
                    break
                }
                if (h == p.end.row) {
                    if (p.addFold(c), g = !0, !c.sameRow) {
                        var q = d[o + 1];
                        if (q && q.start.row == j) {
                            p.merge(q);
                            break
                        }
                    }
                    break
                }
                if (j <= p.start.row)break
            }
            return g || (p = this.$addFoldLine(new e(this.$foldData, c))), this.$useWrapMode ? this.$updateWrapData(p.start.row, p.start.row) : this.$updateRowLengthCache(p.start.row, p.start.row), this.$modified = !0, this._emit("changeFold", {
                data: c,
                action: "add"
            }), c
        }, this.addFolds = function (a) {
            a.forEach(function (a) {
                this.addFold(a)
            }, this)
        }, this.removeFold = function (a) {
            var b = a.foldLine, c = b.start.row, d = b.end.row, e = this.$foldData, f = b.folds;
            if (1 == f.length)e.splice(e.indexOf(b), 1); else if (b.range.isEnd(a.end.row, a.end.column))f.pop(), b.end.row = f[f.length - 1].end.row, b.end.column = f[f.length - 1].end.column; else if (b.range.isStart(a.start.row, a.start.column))f.shift(), b.start.row = f[0].start.row, b.start.column = f[0].start.column; else if (a.sameRow)f.splice(f.indexOf(a), 1); else {
                var g = b.split(a.start.row, a.start.column);
                f = g.folds, f.shift(), g.start.row = f[0].start.row, g.start.column = f[0].start.column
            }
            this.$updating || (this.$useWrapMode ? this.$updateWrapData(c, d) : this.$updateRowLengthCache(c, d)), this.$modified = !0, this._emit("changeFold", {
                data: a,
                action: "remove"
            })
        }, this.removeFolds = function (a) {
            for (var b = [], c = 0; c < a.length; c++)b.push(a[c]);
            b.forEach(function (a) {
                this.removeFold(a)
            }, this), this.$modified = !0
        }, this.expandFold = function (a) {
            this.removeFold(a), a.subFolds.forEach(function (b) {
                a.restoreRange(b), this.addFold(b)
            }, this), a.collapseChildren > 0 && this.foldAll(a.start.row + 1, a.end.row, a.collapseChildren - 1), a.subFolds = []
        }, this.expandFolds = function (a) {
            a.forEach(function (a) {
                this.expandFold(a)
            }, this)
        }, this.unfold = function (a, b) {
            var c, e;
            if (null == a ? (c = new d(0, 0, this.getLength(), 0), b = !0) : c = "number" == typeof a ? new d(a, 0, a, this.getLine(a).length) : "row"in a ? d.fromPoints(a, a) : a, e = this.getFoldsInRangeList(c), b)this.removeFolds(e); else for (var f = e; f.length;)this.expandFolds(f), f = this.getFoldsInRangeList(c);
            return e.length ? e : void 0
        }, this.isRowFolded = function (a, b) {
            return !!this.getFoldLine(a, b)
        }, this.getRowFoldEnd = function (a, b) {
            var c = this.getFoldLine(a, b);
            return c ? c.end.row : a
        }, this.getRowFoldStart = function (a, b) {
            var c = this.getFoldLine(a, b);
            return c ? c.start.row : a
        }, this.getFoldDisplayLine = function (a, b, c, d, e) {
            null == d && (d = a.start.row), null == e && (e = 0), null == b && (b = a.end.row), null == c && (c = this.getLine(b).length);
            var f = this.doc, g = "";
            return a.walk(function (a, b, c, h) {
                if (!(d > b)) {
                    if (b == d) {
                        if (e > c)return;
                        h = Math.max(e, h)
                    }
                    g += null != a ? a : f.getLine(b).substring(h, c)
                }
            }, b, c), g
        }, this.getDisplayLine = function (a, b, c, d) {
            var e = this.getFoldLine(a);
            if (e)return this.getFoldDisplayLine(e, a, b, c, d);
            var f;
            return f = this.doc.getLine(a), f.substring(d || 0, b || f.length)
        }, this.$cloneFoldData = function () {
            var a = [];
            return a = this.$foldData.map(function (b) {
                var c = b.folds.map(function (a) {
                    return a.clone()
                });
                return new e(a, c)
            })
        }, this.toggleFold = function (a) {
            var b, c, d = this.selection, e = d.getRange();
            if (e.isEmpty()) {
                var f = e.start;
                if (b = this.getFoldAt(f.row, f.column))return void this.expandFold(b);
                (c = this.findMatchingBracket(f)) ? 1 == e.comparePoint(c) ? e.end = c : (e.start = c, e.start.column++, e.end.column--) : (c = this.findMatchingBracket({
                    row: f.row,
                    column: f.column + 1
                })) ? (1 == e.comparePoint(c) ? e.end = c : e.start = c, e.start.column++) : e = this.getCommentFoldRange(f.row, f.column) || e
            } else {
                var g = this.getFoldsInRange(e);
                if (a && g.length)return void this.expandFolds(g);
                1 == g.length && (b = g[0])
            }
            if (b || (b = this.getFoldAt(e.start.row, e.start.column)), b && b.range.toString() == e.toString())return void this.expandFold(b);
            var h = "...";
            if (!e.isMultiLine()) {
                if (h = this.getTextRange(e), h.length < 4)return;
                h = h.trim().substring(0, 2) + ".."
            }
            this.addFold(h, e)
        }, this.getCommentFoldRange = function (a, b, c) {
            var e = new g(this, a, b), f = e.getCurrentToken();
            if (f && /^comment|string/.test(f.type)) {
                var h = new d, i = new RegExp(f.type.replace(/\..*/, "\\."));
                if (1 != c) {
                    do f = e.stepBackward(); while (f && i.test(f.type));
                    e.stepForward()
                }
                if (h.start.row = e.getCurrentTokenRow(), h.start.column = e.getCurrentTokenColumn() + 2, e = new g(this, a, b), -1 != c) {
                    do f = e.stepForward(); while (f && i.test(f.type));
                    f = e.stepBackward()
                } else f = e.getCurrentToken();
                return h.end.row = e.getCurrentTokenRow(), h.end.column = e.getCurrentTokenColumn() + f.value.length - 2, h
            }
        }, this.foldAll = function (a, b, c) {
            void 0 == c && (c = 1e5);
            var d = this.foldWidgets;
            if (d) {
                b = b || this.getLength(), a = a || 0;
                for (var e = a; b > e; e++)if (null == d[e] && (d[e] = this.getFoldWidget(e)), "start" == d[e]) {
                    var f = this.getFoldWidgetRange(e);
                    if (f && f.isMultiLine() && f.end.row <= b && f.start.row >= a) {
                        e = f.end.row;
                        try {
                            var g = this.addFold("...", f);
                            g && (g.collapseChildren = c)
                        } catch (h) {
                        }
                    }
                }
            }
        }, this.$foldStyles = {
            manual: 1,
            markbegin: 1,
            markbeginend: 1
        }, this.$foldStyle = "markbegin", this.setFoldStyle = function (a) {
            if (!this.$foldStyles[a])throw new Error("invalid fold style: " + a + "[" + Object.keys(this.$foldStyles).join(", ") + "]");
            if (this.$foldStyle != a) {
                this.$foldStyle = a, "manual" == a && this.unfold();
                var b = this.$foldMode;
                this.$setFolding(null), this.$setFolding(b)
            }
        }, this.$setFolding = function (a) {
            if (this.$foldMode != a) {
                if (this.$foldMode = a, this.off("change", this.$updateFoldWidgets), this.off("tokenizerUpdate", this.$tokenizerUpdateFoldWidgets), this._emit("changeAnnotation"), !a || "manual" == this.$foldStyle)return void(this.foldWidgets = null);
                this.foldWidgets = [], this.getFoldWidget = a.getFoldWidget.bind(a, this, this.$foldStyle), this.getFoldWidgetRange = a.getFoldWidgetRange.bind(a, this, this.$foldStyle), this.$updateFoldWidgets = this.updateFoldWidgets.bind(this), this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this), this.on("change", this.$updateFoldWidgets), this.on("tokenizerUpdate", this.$tokenizerUpdateFoldWidgets)
            }
        }, this.getParentFoldRangeData = function (a, b) {
            var c = this.foldWidgets;
            if (!c || b && c[a])return {};
            for (var d, e = a - 1; e >= 0;) {
                var f = c[e];
                if (null == f && (f = c[e] = this.getFoldWidget(e)), "start" == f) {
                    var g = this.getFoldWidgetRange(e);
                    if (d || (d = g), g && g.end.row >= a)break
                }
                e--
            }
            return {range: -1 !== e && g, firstRange: d}
        }, this.onFoldWidgetClick = function (a, b) {
            b = b.domEvent;
            var c = {
                children: b.shiftKey,
                all: b.ctrlKey || b.metaKey,
                siblings: b.altKey
            }, d = this.$toggleFoldWidget(a, c);
            if (!d) {
                var e = b.target || b.srcElement;
                e && /ace_fold-widget/.test(e.className) && (e.className += " ace_invalid")
            }
        }, this.$toggleFoldWidget = function (a, b) {
            if (this.getFoldWidget) {
                var c = this.getFoldWidget(a), d = this.getLine(a), e = "end" === c ? -1 : 1, f = this.getFoldAt(a, -1 === e ? 0 : d.length, e);
                if (f)return void(b.children || b.all ? this.removeFold(f) : this.expandFold(f));
                var g = this.getFoldWidgetRange(a, !0);
                if (g && !g.isMultiLine() && (f = this.getFoldAt(g.start.row, g.start.column, 1), f && g.isEqual(f.range)))return void this.removeFold(f);
                if (b.siblings) {
                    var h = this.getParentFoldRangeData(a);
                    if (h.range)var i = h.range.start.row + 1, j = h.range.end.row;
                    this.foldAll(i, j, b.all ? 1e4 : 0)
                } else b.children ? (j = g ? g.end.row : this.getLength(), this.foldAll(a + 1, j, b.all ? 1e4 : 0)) : g && (b.all && (g.collapseChildren = 1e4), this.addFold("...", g));
                return g
            }
        }, this.toggleFoldWidget = function () {
            var a = this.selection.getCursor().row;
            a = this.getRowFoldStart(a);
            var b = this.$toggleFoldWidget(a, {});
            if (!b) {
                var c = this.getParentFoldRangeData(a, !0);
                if (b = c.range || c.firstRange) {
                    a = b.start.row;
                    var d = this.getFoldAt(a, this.getLine(a).length, 1);
                    d ? this.removeFold(d) : this.addFold("...", b)
                }
            }
        }, this.updateFoldWidgets = function (a) {
            var b = a.data, c = b.range, d = c.start.row, e = c.end.row - d;
            if (0 === e)this.foldWidgets[d] = null; else if ("removeText" == b.action || "removeLines" == b.action)this.foldWidgets.splice(d, e + 1, null); else {
                var f = Array(e + 1);
                f.unshift(d, 1), this.foldWidgets.splice.apply(this.foldWidgets, f)
            }
        }, this.tokenizerUpdateFoldWidgets = function (a) {
            var b = a.data;
            b.first != b.last && this.foldWidgets.length > b.first && this.foldWidgets.splice(b.first, this.foldWidgets.length)
        }
    }

    var d = a("../range").Range, e = a("./fold_line").FoldLine, f = a("./fold").Fold, g = a("../token_iterator").TokenIterator;
    b.Folding = c
}), define("ace/edit_session/bracket_match", ["require", "exports", "module", "ace/token_iterator", "ace/range"], function (a, b) {
    "use strict";
    function c() {
        this.findMatchingBracket = function (a, b) {
            if (0 == a.column)return null;
            var c = b || this.getLine(a.row).charAt(a.column - 1);
            if ("" == c)return null;
            var d = c.match(/([\(\[\{])|([\)\]\}])/);
            return d ? d[1] ? this.$findClosingBracket(d[1], a) : this.$findOpeningBracket(d[2], a) : null
        }, this.getBracketRange = function (a) {
            var b, c = this.getLine(a.row), d = !0, f = c.charAt(a.column - 1), g = f && f.match(/([\(\[\{])|([\)\]\}])/);
            if (g || (f = c.charAt(a.column), a = {
                    row: a.row,
                    column: a.column + 1
                }, g = f && f.match(/([\(\[\{])|([\)\]\}])/), d = !1), !g)return null;
            if (g[1]) {
                var h = this.$findClosingBracket(g[1], a);
                if (!h)return null;
                b = e.fromPoints(a, h), d || (b.end.column++, b.start.column--), b.cursor = b.end
            } else {
                var h = this.$findOpeningBracket(g[2], a);
                if (!h)return null;
                b = e.fromPoints(h, a), d || (b.start.column++, b.end.column--), b.cursor = b.start
            }
            return b
        }, this.$brackets = {
            ")": "(",
            "(": ")",
            "]": "[",
            "[": "]",
            "{": "}",
            "}": "{"
        }, this.$findOpeningBracket = function (a, b, c) {
            var e = this.$brackets[a], f = 1, g = new d(this, b.row, b.column), h = g.getCurrentToken();
            if (h || (h = g.stepForward()), h) {
                c || (c = new RegExp("(\\.?" + h.type.replace(".", "\\.").replace("rparen", ".paren").replace(/\b(?:end|start|begin)\b/, "") + ")+"));
                for (var i = b.column - g.getCurrentTokenColumn() - 2, j = h.value; ;) {
                    for (; i >= 0;) {
                        var k = j.charAt(i);
                        if (k == e) {
                            if (f -= 1, 0 == f)return {
                                row: g.getCurrentTokenRow(),
                                column: i + g.getCurrentTokenColumn()
                            }
                        } else k == a && (f += 1);
                        i -= 1
                    }
                    do h = g.stepBackward(); while (h && !c.test(h.type));
                    if (null == h)break;
                    j = h.value, i = j.length - 1
                }
                return null
            }
        }, this.$findClosingBracket = function (a, b, c) {
            var e = this.$brackets[a], f = 1, g = new d(this, b.row, b.column), h = g.getCurrentToken();
            if (h || (h = g.stepForward()), h) {
                c || (c = new RegExp("(\\.?" + h.type.replace(".", "\\.").replace("lparen", ".paren").replace(/\b(?:end|start|begin)\b/, "") + ")+"));
                for (var i = b.column - g.getCurrentTokenColumn(); ;) {
                    for (var j = h.value, k = j.length; k > i;) {
                        var l = j.charAt(i);
                        if (l == e) {
                            if (f -= 1, 0 == f)return {
                                row: g.getCurrentTokenRow(),
                                column: i + g.getCurrentTokenColumn()
                            }
                        } else l == a && (f += 1);
                        i += 1
                    }
                    do h = g.stepForward(); while (h && !c.test(h.type));
                    if (null == h)break;
                    i = 0
                }
                return null
            }
        }
    }

    var d = a("../token_iterator").TokenIterator, e = a("../range").Range;
    b.BracketMatch = c
}), define("ace/edit_session", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/config", "ace/lib/event_emitter", "ace/selection", "ace/mode/text", "ace/range", "ace/document", "ace/background_tokenizer", "ace/search_highlight", "ace/edit_session/folding", "ace/edit_session/bracket_match"], function (a, b) {
    "use strict";
    var c = a("./lib/oop"), d = a("./lib/lang"), e = a("./config"), f = a("./lib/event_emitter").EventEmitter, g = a("./selection").Selection, h = a("./mode/text").Mode, i = a("./range").Range, j = a("./document").Document, k = a("./background_tokenizer").BackgroundTokenizer, l = a("./search_highlight").SearchHighlight, m = function (a, b) {
        this.$breakpoints = [], this.$decorations = [], this.$frontMarkers = {}, this.$backMarkers = {}, this.$markerId = 1, this.$undoSelect = !0, this.$foldData = [], this.$foldData.toString = function () {
            return this.join("\n")
        }, this.on("changeFold", this.onChangeFold.bind(this)), this.$onChange = this.onChange.bind(this), "object" == typeof a && a.getLine || (a = new j(a)), this.setDocument(a), this.selection = new g(this), e.resetOptions(this), this.setMode(b), e._signal("session", this)
    };
    (function () {
        function a(a) {
            return 4352 > a ? !1 : a >= 4352 && 4447 >= a || a >= 4515 && 4519 >= a || a >= 4602 && 4607 >= a || a >= 9001 && 9002 >= a || a >= 11904 && 11929 >= a || a >= 11931 && 12019 >= a || a >= 12032 && 12245 >= a || a >= 12272 && 12283 >= a || a >= 12288 && 12350 >= a || a >= 12353 && 12438 >= a || a >= 12441 && 12543 >= a || a >= 12549 && 12589 >= a || a >= 12593 && 12686 >= a || a >= 12688 && 12730 >= a || a >= 12736 && 12771 >= a || a >= 12784 && 12830 >= a || a >= 12832 && 12871 >= a || a >= 12880 && 13054 >= a || a >= 13056 && 19903 >= a || a >= 19968 && 42124 >= a || a >= 42128 && 42182 >= a || a >= 43360 && 43388 >= a || a >= 44032 && 55203 >= a || a >= 55216 && 55238 >= a || a >= 55243 && 55291 >= a || a >= 63744 && 64255 >= a || a >= 65040 && 65049 >= a || a >= 65072 && 65106 >= a || a >= 65108 && 65126 >= a || a >= 65128 && 65131 >= a || a >= 65281 && 65376 >= a || a >= 65504 && 65510 >= a
        }

        c.implement(this, f), this.setDocument = function (a) {
            this.doc && this.doc.removeListener("change", this.$onChange), this.doc = a, a.on("change", this.$onChange), this.bgTokenizer && this.bgTokenizer.setDocument(this.getDocument()), this.resetCaches()
        }, this.getDocument = function () {
            return this.doc
        }, this.$resetRowCache = function (a) {
            if (!a)return this.$docRowCache = [], void(this.$screenRowCache = []);
            var b = this.$docRowCache.length, c = this.$getRowCacheIndex(this.$docRowCache, a) + 1;
            b > c && (this.$docRowCache.splice(c, b), this.$screenRowCache.splice(c, b))
        }, this.$getRowCacheIndex = function (a, b) {
            for (var c = 0, d = a.length - 1; d >= c;) {
                var e = c + d >> 1, f = a[e];
                if (b > f)c = e + 1; else {
                    if (!(f > b))return e;
                    d = e - 1
                }
            }
            return c - 1
        }, this.resetCaches = function () {
            this.$modified = !0, this.$wrapData = [], this.$rowLengthCache = [], this.$resetRowCache(0), this.bgTokenizer && this.bgTokenizer.start(0)
        }, this.onChangeFold = function (a) {
            var b = a.data;
            this.$resetRowCache(b.start.row)
        }, this.onChange = function (a) {
            var b = a.data;
            this.$modified = !0, this.$resetRowCache(b.range.start.row);
            var c = this.$updateInternalDataOnChange(a);
            this.$fromUndo || !this.$undoManager || b.ignore || (this.$deltasDoc.push(b), c && 0 != c.length && this.$deltasFold.push({
                action: "removeFolds",
                folds: c
            }), this.$informUndoManager.schedule()), this.bgTokenizer && this.bgTokenizer.$updateOnChange(b), this._signal("change", a)
        }, this.setValue = function (a) {
            this.doc.setValue(a), this.selection.moveTo(0, 0), this.$resetRowCache(0), this.$deltas = [], this.$deltasDoc = [], this.$deltasFold = [], this.setUndoManager(this.$undoManager), this.getUndoManager().reset()
        }, this.getValue = this.toString = function () {
            return this.doc.getValue()
        }, this.getSelection = function () {
            return this.selection
        }, this.getState = function (a) {
            return this.bgTokenizer.getState(a)
        }, this.getTokens = function (a) {
            return this.bgTokenizer.getTokens(a)
        }, this.getTokenAt = function (a, b) {
            var c, d = this.bgTokenizer.getTokens(a), e = 0;
            if (null == b)f = d.length - 1, e = this.getLine(a).length; else for (var f = 0; f < d.length && (e += d[f].value.length, !(e >= b)); f++);
            return (c = d[f]) ? (c.index = f, c.start = e - c.value.length, c) : null
        }, this.setUndoManager = function (a) {
            if (this.$undoManager = a, this.$deltas = [], this.$deltasDoc = [], this.$deltasFold = [], this.$informUndoManager && this.$informUndoManager.cancel(), a) {
                var b = this;
                this.$syncInformUndoManager = function () {
                    b.$informUndoManager.cancel(), b.$deltasFold.length && (b.$deltas.push({
                        group: "fold",
                        deltas: b.$deltasFold
                    }), b.$deltasFold = []), b.$deltasDoc.length && (b.$deltas.push({
                        group: "doc",
                        deltas: b.$deltasDoc
                    }), b.$deltasDoc = []), b.$deltas.length > 0 && a.execute({
                        action: "aceupdate",
                        args: [b.$deltas, b],
                        merge: b.mergeUndoDeltas
                    }), b.mergeUndoDeltas = !1, b.$deltas = []
                }, this.$informUndoManager = d.delayedCall(this.$syncInformUndoManager)
            }
        }, this.markUndoGroup = function () {
            this.$syncInformUndoManager && this.$syncInformUndoManager()
        }, this.$defaultUndoManager = {
            undo: function () {
            }, redo: function () {
            }, reset: function () {
            }
        }, this.getUndoManager = function () {
            return this.$undoManager || this.$defaultUndoManager
        }, this.getTabString = function () {
            return this.getUseSoftTabs() ? d.stringRepeat(" ", this.getTabSize()) : "	"
        }, this.setUseSoftTabs = function (a) {
            this.setOption("useSoftTabs", a)
        }, this.getUseSoftTabs = function () {
            return this.$useSoftTabs && !this.$mode.$indentWithTabs
        }, this.setTabSize = function (a) {
            this.setOption("tabSize", a)
        }, this.getTabSize = function () {
            return this.$tabSize
        }, this.isTabStop = function (a) {
            return this.$useSoftTabs && a.column % this.$tabSize === 0
        }, this.$overwrite = !1, this.setOverwrite = function (a) {
            this.setOption("overwrite", a)
        }, this.getOverwrite = function () {
            return this.$overwrite
        }, this.toggleOverwrite = function () {
            this.setOverwrite(!this.$overwrite)
        }, this.addGutterDecoration = function (a, b) {
            this.$decorations[a] || (this.$decorations[a] = ""), this.$decorations[a] += " " + b, this._signal("changeBreakpoint", {})
        }, this.removeGutterDecoration = function (a, b) {
            this.$decorations[a] = (this.$decorations[a] || "").replace(" " + b, ""), this._signal("changeBreakpoint", {})
        }, this.getBreakpoints = function () {
            return this.$breakpoints
        }, this.setBreakpoints = function (a) {
            this.$breakpoints = [];
            for (var b = 0; b < a.length; b++)this.$breakpoints[a[b]] = "ace_breakpoint";
            this._signal("changeBreakpoint", {})
        }, this.clearBreakpoints = function () {
            this.$breakpoints = [], this._signal("changeBreakpoint", {})
        }, this.setBreakpoint = function (a, b) {
            void 0 === b && (b = "ace_breakpoint"), b ? this.$breakpoints[a] = b : delete this.$breakpoints[a], this._signal("changeBreakpoint", {})
        }, this.clearBreakpoint = function (a) {
            delete this.$breakpoints[a], this._signal("changeBreakpoint", {})
        }, this.addMarker = function (a, b, c, d) {
            var e = this.$markerId++, f = {
                range: a,
                type: c || "line",
                renderer: "function" == typeof c ? c : null,
                clazz: b,
                inFront: !!d,
                id: e
            };
            return d ? (this.$frontMarkers[e] = f, this._signal("changeFrontMarker")) : (this.$backMarkers[e] = f, this._signal("changeBackMarker")), e
        }, this.addDynamicMarker = function (a, b) {
            if (a.update) {
                var c = this.$markerId++;
                return a.id = c, a.inFront = !!b, b ? (this.$frontMarkers[c] = a, this._signal("changeFrontMarker")) : (this.$backMarkers[c] = a, this._signal("changeBackMarker")), a
            }
        }, this.removeMarker = function (a) {
            var b = this.$frontMarkers[a] || this.$backMarkers[a];
            if (b) {
                var c = b.inFront ? this.$frontMarkers : this.$backMarkers;
                b && (delete c[a], this._signal(b.inFront ? "changeFrontMarker" : "changeBackMarker"))
            }
        }, this.getMarkers = function (a) {
            return a ? this.$frontMarkers : this.$backMarkers
        }, this.highlight = function (a) {
            if (!this.$searchHighlight) {
                var b = new l(null, "ace_selected-word", "text");
                this.$searchHighlight = this.addDynamicMarker(b)
            }
            this.$searchHighlight.setRegexp(a)
        }, this.highlightLines = function (a, b, c, d) {
            "number" != typeof b && (c = b, b = a), c || (c = "ace_step");
            var e = new i(a, 0, b, 1 / 0);
            return e.id = this.addMarker(e, c, "fullLine", d), e
        }, this.setAnnotations = function (a) {
            this.$annotations = a, this._signal("changeAnnotation", {})
        }, this.getAnnotations = function () {
            return this.$annotations || []
        }, this.clearAnnotations = function () {
            this.setAnnotations([])
        }, this.$detectNewLine = function (a) {
            var b = a.match(/^.*?(\r?\n)/m);
            this.$autoNewLine = b ? b[1] : "\n"
        }, this.getWordRange = function (a, b) {
            var c = this.getLine(a), d = !1;
            if (b > 0 && (d = !!c.charAt(b - 1).match(this.tokenRe)), d || (d = !!c.charAt(b).match(this.tokenRe)), d)var e = this.tokenRe; else if (/^\s+$/.test(c.slice(b - 1, b + 1)))var e = /\s/; else var e = this.nonTokenRe;
            var f = b;
            if (f > 0) {
                do f--; while (f >= 0 && c.charAt(f).match(e));
                f++
            }
            for (var g = b; g < c.length && c.charAt(g).match(e);)g++;
            return new i(a, f, a, g)
        }, this.getAWordRange = function (a, b) {
            for (var c = this.getWordRange(a, b), d = this.getLine(c.end.row); d.charAt(c.end.column).match(/[ \t]/);)c.end.column += 1;
            return c
        }, this.setNewLineMode = function (a) {
            this.doc.setNewLineMode(a)
        }, this.getNewLineMode = function () {
            return this.doc.getNewLineMode()
        }, this.setUseWorker = function (a) {
            this.setOption("useWorker", a)
        }, this.getUseWorker = function () {
            return this.$useWorker
        }, this.onReloadTokenizer = function (a) {
            var b = a.data;
            this.bgTokenizer.start(b.first), this._signal("tokenizerUpdate", a)
        }, this.$modes = {}, this.$mode = null, this.$modeId = null, this.setMode = function (a, b) {
            if (a && "object" == typeof a) {
                if (a.getTokenizer)return this.$onChangeMode(a);
                var c = a, d = c.path
            } else d = a || "ace/mode/text";
            return this.$modes["ace/mode/text"] || (this.$modes["ace/mode/text"] = new h), this.$modes[d] && !c ? (this.$onChangeMode(this.$modes[d]), void(b && b())) : (this.$modeId = d, e.loadModule(["mode", d], function (a) {
                return this.$modeId !== d ? b && b() : (this.$modes[d] && !c ? this.$onChangeMode(this.$modes[d]) : a && a.Mode && (a = new a.Mode(c), c || (this.$modes[d] = a, a.$id = d), this.$onChangeMode(a)), void(b && b()))
            }.bind(this)), void(this.$mode || this.$onChangeMode(this.$modes["ace/mode/text"], !0)))
        }, this.$onChangeMode = function (a, b) {
            if (b || (this.$modeId = a.$id), this.$mode !== a) {
                this.$mode = a, this.$stopWorker(), this.$useWorker && this.$startWorker();
                var c = a.getTokenizer();
                if (void 0 !== c.addEventListener) {
                    var d = this.onReloadTokenizer.bind(this);
                    c.addEventListener("update", d)
                }
                if (this.bgTokenizer)this.bgTokenizer.setTokenizer(c); else {
                    this.bgTokenizer = new k(c);
                    var e = this;
                    this.bgTokenizer.addEventListener("update", function (a) {
                        e._signal("tokenizerUpdate", a)
                    })
                }
                this.bgTokenizer.setDocument(this.getDocument()), this.tokenRe = a.tokenRe, this.nonTokenRe = a.nonTokenRe, b || (a.attachToSession && a.attachToSession(this), this.$options.wrapMethod.set.call(this, this.$wrapMethod), this.$setFolding(a.foldingRules), this.bgTokenizer.start(0), this._emit("changeMode"))
            }
        }, this.$stopWorker = function () {
            this.$worker && (this.$worker.terminate(), this.$worker = null)
        }, this.$startWorker = function () {
            try {
                this.$worker = this.$mode.createWorker(this)
            } catch (a) {
                e.warn("Could not load worker", a), this.$worker = null
            }
        }, this.getMode = function () {
            return this.$mode
        }, this.$scrollTop = 0, this.setScrollTop = function (a) {
            this.$scrollTop === a || isNaN(a) || (this.$scrollTop = a, this._signal("changeScrollTop", a))
        }, this.getScrollTop = function () {
            return this.$scrollTop
        }, this.$scrollLeft = 0, this.setScrollLeft = function (a) {
            this.$scrollLeft === a || isNaN(a) || (this.$scrollLeft = a, this._signal("changeScrollLeft", a))
        }, this.getScrollLeft = function () {
            return this.$scrollLeft
        }, this.getScreenWidth = function () {
            return this.$computeWidth(), this.lineWidgets ? Math.max(this.getLineWidgetMaxWidth(), this.screenWidth) : this.screenWidth
        }, this.getLineWidgetMaxWidth = function () {
            if (null != this.lineWidgetsWidth)return this.lineWidgetsWidth;
            var a = 0;
            return this.lineWidgets.forEach(function (b) {
                b && b.screenWidth > a && (a = b.screenWidth)
            }), this.lineWidgetWidth = a
        }, this.$computeWidth = function (a) {
            if (this.$modified || a) {
                if (this.$modified = !1, this.$useWrapMode)return this.screenWidth = this.$wrapLimit;
                for (var b = this.doc.getAllLines(), c = this.$rowLengthCache, d = 0, e = 0, f = this.$foldData[e], g = f ? f.start.row : 1 / 0, h = b.length, i = 0; h > i; i++) {
                    if (i > g) {
                        if (i = f.end.row + 1, i >= h)break;
                        f = this.$foldData[e++], g = f ? f.start.row : 1 / 0
                    }
                    null == c[i] && (c[i] = this.$getStringScreenWidth(b[i])[0]), c[i] > d && (d = c[i])
                }
                this.screenWidth = d
            }
        }, this.getLine = function (a) {
            return this.doc.getLine(a)
        }, this.getLines = function (a, b) {
            return this.doc.getLines(a, b)
        }, this.getLength = function () {
            return this.doc.getLength()
        }, this.getTextRange = function (a) {
            return this.doc.getTextRange(a || this.selection.getRange())
        }, this.insert = function (a, b) {
            return this.doc.insert(a, b)
        }, this.remove = function (a) {
            return this.doc.remove(a)
        }, this.undoChanges = function (a, b) {
            if (a.length) {
                this.$fromUndo = !0;
                for (var c = null, d = a.length - 1; -1 != d; d--) {
                    var e = a[d];
                    "doc" == e.group ? (this.doc.revertDeltas(e.deltas), c = this.$getUndoSelection(e.deltas, !0, c)) : e.deltas.forEach(function (a) {
                        this.addFolds(a.folds)
                    }, this)
                }
                return this.$fromUndo = !1, c && this.$undoSelect && !b && this.selection.setSelectionRange(c), c
            }
        }, this.redoChanges = function (a, b) {
            if (a.length) {
                this.$fromUndo = !0;
                for (var c = null, d = 0; d < a.length; d++) {
                    var e = a[d];
                    "doc" == e.group && (this.doc.applyDeltas(e.deltas), c = this.$getUndoSelection(e.deltas, !1, c))
                }
                return this.$fromUndo = !1, c && this.$undoSelect && !b && this.selection.setSelectionRange(c), c
            }
        }, this.setUndoSelect = function (a) {
            this.$undoSelect = a
        }, this.$getUndoSelection = function (a, b, c) {
            function d(a) {
                var c = "insertText" === a.action || "insertLines" === a.action;
                return b ? !c : c
            }

            var e, f, g = a[0], h = !1;
            d(g) ? (e = i.fromPoints(g.range.start, g.range.end), h = !0) : (e = i.fromPoints(g.range.start, g.range.start), h = !1);
            for (var j = 1; j < a.length; j++)g = a[j], d(g) ? (f = g.range.start, -1 == e.compare(f.row, f.column) && e.setStart(g.range.start), f = g.range.end, 1 == e.compare(f.row, f.column) && e.setEnd(g.range.end), h = !0) : (f = g.range.start, -1 == e.compare(f.row, f.column) && (e = i.fromPoints(g.range.start, g.range.start)), h = !1);
            if (null != c) {
                0 === i.comparePoints(c.start, e.start) && (c.start.column += e.end.column - e.start.column, c.end.column += e.end.column - e.start.column);
                var k = c.compareRange(e);
                1 == k ? e.setStart(c.start) : -1 == k && e.setEnd(c.end)
            }
            return e
        }, this.replace = function (a, b) {
            return this.doc.replace(a, b)
        }, this.moveText = function (a, b, c) {
            var d = this.getTextRange(a), e = this.getFoldsInRange(a), f = i.fromPoints(b, b);
            if (!c) {
                this.remove(a);
                var g = a.start.row - a.end.row, h = g ? -a.end.column : a.start.column - a.end.column;
                h && (f.start.row == a.end.row && f.start.column > a.end.column && (f.start.column += h), f.end.row == a.end.row && f.end.column > a.end.column && (f.end.column += h)), g && f.start.row >= a.end.row && (f.start.row += g, f.end.row += g)
            }
            if (f.end = this.insert(f.start, d), e.length) {
                var j = a.start, k = f.start, g = k.row - j.row, h = k.column - j.column;
                this.addFolds(e.map(function (a) {
                    return a = a.clone(), a.start.row == j.row && (a.start.column += h), a.end.row == j.row && (a.end.column += h), a.start.row += g, a.end.row += g, a
                }))
            }
            return f
        }, this.indentRows = function (a, b, c) {
            c = c.replace(/\t/g, this.getTabString());
            for (var d = a; b >= d; d++)this.insert({row: d, column: 0}, c)
        }, this.outdentRows = function (a) {
            for (var b = a.collapseRows(), c = new i(0, 0, 0, 0), d = this.getTabSize(), e = b.start.row; e <= b.end.row; ++e) {
                var f = this.getLine(e);
                c.start.row = e, c.end.row = e;
                for (var g = 0; d > g && " " == f.charAt(g); ++g);
                d > g && "	" == f.charAt(g) ? (c.start.column = g, c.end.column = g + 1) : (c.start.column = 0, c.end.column = g), this.remove(c)
            }
        }, this.$moveLines = function (a, b, c) {
            if (a = this.getRowFoldStart(a), b = this.getRowFoldEnd(b), 0 > c) {
                var d = this.getRowFoldStart(a + c);
                if (0 > d)return 0;
                var e = d - a
            } else if (c > 0) {
                var d = this.getRowFoldEnd(b + c);
                if (d > this.doc.getLength() - 1)return 0;
                var e = d - b
            } else {
                a = this.$clipRowToDocument(a), b = this.$clipRowToDocument(b);
                var e = b - a + 1
            }
            var f = new i(a, 0, b, Number.MAX_VALUE), g = this.getFoldsInRange(f).map(function (a) {
                return a = a.clone(), a.start.row += e, a.end.row += e, a
            }), h = 0 == c ? this.doc.getLines(a, b) : this.doc.removeLines(a, b);
            return this.doc.insertLines(a + e, h), g.length && this.addFolds(g), e
        }, this.moveLinesUp = function (a, b) {
            return this.$moveLines(a, b, -1)
        }, this.moveLinesDown = function (a, b) {
            return this.$moveLines(a, b, 1)
        }, this.duplicateLines = function (a, b) {
            return this.$moveLines(a, b, 0)
        }, this.$clipRowToDocument = function (a) {
            return Math.max(0, Math.min(a, this.doc.getLength() - 1))
        }, this.$clipColumnToRow = function (a, b) {
            return 0 > b ? 0 : Math.min(this.doc.getLine(a).length, b)
        }, this.$clipPositionToDocument = function (a, b) {
            if (b = Math.max(0, b), 0 > a)a = 0, b = 0; else {
                var c = this.doc.getLength();
                a >= c ? (a = c - 1, b = this.doc.getLine(c - 1).length) : b = Math.min(this.doc.getLine(a).length, b)
            }
            return {row: a, column: b}
        }, this.$clipRangeToDocument = function (a) {
            a.start.row < 0 ? (a.start.row = 0, a.start.column = 0) : a.start.column = this.$clipColumnToRow(a.start.row, a.start.column);
            var b = this.doc.getLength() - 1;
            return a.end.row > b ? (a.end.row = b, a.end.column = this.doc.getLine(b).length) : a.end.column = this.$clipColumnToRow(a.end.row, a.end.column), a
        }, this.$wrapLimit = 80, this.$useWrapMode = !1, this.$wrapLimitRange = {
            min: null,
            max: null
        }, this.setUseWrapMode = function (a) {
            if (a != this.$useWrapMode) {
                if (this.$useWrapMode = a, this.$modified = !0, this.$resetRowCache(0), a) {
                    var b = this.getLength();
                    this.$wrapData = Array(b), this.$updateWrapData(0, b - 1)
                }
                this._signal("changeWrapMode")
            }
        }, this.getUseWrapMode = function () {
            return this.$useWrapMode
        }, this.setWrapLimitRange = function (a, b) {
            (this.$wrapLimitRange.min !== a || this.$wrapLimitRange.max !== b) && (this.$wrapLimitRange = {
                min: a,
                max: b
            }, this.$modified = !0, this.$useWrapMode && this._signal("changeWrapMode"))
        }, this.adjustWrapLimit = function (a, b) {
            var c = this.$wrapLimitRange;
            c.max < 0 && (c = {min: b, max: b});
            var d = this.$constrainWrapLimit(a, c.min, c.max);
            return d != this.$wrapLimit && d > 1 ? (this.$wrapLimit = d, this.$modified = !0, this.$useWrapMode && (this.$updateWrapData(0, this.getLength() - 1), this.$resetRowCache(0), this._signal("changeWrapLimit")), !0) : !1
        }, this.$constrainWrapLimit = function (a, b, c) {
            return b && (a = Math.max(b, a)), c && (a = Math.min(c, a)), a
        }, this.getWrapLimit = function () {
            return this.$wrapLimit
        }, this.setWrapLimit = function (a) {
            this.setWrapLimitRange(a, a)
        },this.getWrapLimitRange = function () {
            return {min: this.$wrapLimitRange.min, max: this.$wrapLimitRange.max}
        },this.$updateInternalDataOnChange = function (a) {
            var b, c = this.$useWrapMode, d = a.data.action, e = a.data.range.start.row, f = a.data.range.end.row, g = a.data.range.start, h = a.data.range.end, i = null;
            if (-1 != d.indexOf("Lines") ? (f = "insertLines" == d ? e + a.data.lines.length : e, b = a.data.lines ? a.data.lines.length : f - e) : b = f - e, this.$updating = !0, 0 != b)if (-1 != d.indexOf("remove")) {
                this[c ? "$wrapData" : "$rowLengthCache"].splice(e, b);
                var j = this.$foldData;
                i = this.getFoldsInRange(a.data.range), this.removeFolds(i);
                var k = this.getFoldLine(h.row), l = 0;
                if (k) {
                    k.addRemoveChars(h.row, h.column, g.column - h.column), k.shiftRow(-b);
                    var m = this.getFoldLine(e);
                    m && m !== k && (m.merge(k), k = m), l = j.indexOf(k) + 1
                }
                for (l; l < j.length; l++) {
                    var k = j[l];
                    k.start.row >= h.row && k.shiftRow(-b)
                }
                f = e
            } else {
                var n = Array(b);
                n.unshift(e, 0);
                var o = c ? this.$wrapData : this.$rowLengthCache;
                o.splice.apply(o, n);
                var j = this.$foldData, k = this.getFoldLine(e), l = 0;
                if (k) {
                    var p = k.range.compareInside(g.row, g.column);
                    0 == p ? (k = k.split(g.row, g.column), k && (k.shiftRow(b), k.addRemoveChars(f, 0, h.column - g.column))) : -1 == p && (k.addRemoveChars(e, 0, h.column - g.column), k.shiftRow(b)), l = j.indexOf(k) + 1
                }
                for (l; l < j.length; l++) {
                    var k = j[l];
                    k.start.row >= e && k.shiftRow(b)
                }
            } else {
                b = Math.abs(a.data.range.start.column - a.data.range.end.column), -1 != d.indexOf("remove") && (i = this.getFoldsInRange(a.data.range), this.removeFolds(i), b = -b);
                var k = this.getFoldLine(e);
                k && k.addRemoveChars(e, g.column, b)
            }
            return c && this.$wrapData.length != this.doc.getLength() && console.error("doc.getLength() and $wrapData.length have to be the same!"), this.$updating = !1, c ? this.$updateWrapData(e, f) : this.$updateRowLengthCache(e, f), i
        },this.$updateRowLengthCache = function (a, b) {
            this.$rowLengthCache[a] = null, this.$rowLengthCache[b] = null
        },this.$updateWrapData = function (a, b) {
            var c, d, e = this.doc.getAllLines(), f = this.getTabSize(), g = this.$wrapData, h = this.$wrapLimit, i = a;
            for (b = Math.min(b, e.length - 1); b >= i;)d = this.getFoldLine(i, d), d ? (c = [], d.walk(function (a, b, d, f) {
                var g;
                if (null != a) {
                    g = this.$getDisplayTokens(a, c.length), g[0] = j;
                    for (var h = 1; h < g.length; h++)g[h] = m
                } else g = this.$getDisplayTokens(e[b].substring(f, d), c.length);
                c = c.concat(g)
            }.bind(this), d.end.row, e[d.end.row].length + 1), g[d.start.row] = this.$computeWrapSplits(c, h, f), i = d.end.row + 1) : (c = this.$getDisplayTokens(e[i]), g[i] = this.$computeWrapSplits(c, h, f), i++)
        };
        var b = 1, g = 2, j = 3, m = 4, n = 9, o = 10, p = 11, q = 12;
        this.$computeWrapSplits = function (a, b) {
            function c(b) {
                var c = a.slice(f, b), e = c.length;
                c.join("").replace(/12/g, function () {
                    e -= 1
                }).replace(/2/g, function () {
                    e -= 1
                }), h += e, d.push(h), f = b
            }

            if (0 == a.length)return [];
            for (var d = [], e = a.length, f = 0, h = 0, i = this.$wrapAsCode; e - f > b;) {
                var k = f + b;
                if (a[k - 1] >= o && a[k] >= o)c(k); else if (a[k] != j && a[k] != m) {
                    for (var l = Math.max(k - (i ? 10 : b - (b >> 2)), f - 1); k > l && a[k] < j;)k--;
                    if (i) {
                        for (; k > l && a[k] < j;)k--;
                        for (; k > l && a[k] == n;)k--
                    } else for (; k > l && a[k] < o;)k--;
                    k > l ? c(++k) : (k = f + b, a[k] == g && k--, c(k))
                } else {
                    for (k; k != f - 1 && a[k] != j; k--);
                    if (k > f) {
                        c(k);
                        continue
                    }
                    for (k = f + b; k < a.length && a[k] == m; k++);
                    if (k == a.length)break;
                    c(k)
                }
            }
            return d
        }, this.$getDisplayTokens = function (c, d) {
            var e, f = [];
            d = d || 0;
            for (var h = 0; h < c.length; h++) {
                var i = c.charCodeAt(h);
                if (9 == i) {
                    e = this.getScreenTabSize(f.length + d), f.push(p);
                    for (var j = 1; e > j; j++)f.push(q)
                } else 32 == i ? f.push(o) : i > 39 && 48 > i || i > 57 && 64 > i ? f.push(n) : i >= 4352 && a(i) ? f.push(b, g) : f.push(b)
            }
            return f
        }, this.$getStringScreenWidth = function (b, c, d) {
            if (0 == c)return [0, 0];
            null == c && (c = 1 / 0), d = d || 0;
            var e, f;
            for (f = 0; f < b.length && (e = b.charCodeAt(f), d += 9 == e ? this.getScreenTabSize(d) : e >= 4352 && a(e) ? 2 : 1, !(d > c)); f++);
            return [d, f]
        }, this.lineWidgets = null, this.getRowLength = function (a) {
            if (this.lineWidgets)var b = this.lineWidgets[a] && this.lineWidgets[a].rowCount || 0; else b = 0;
            return this.$useWrapMode && this.$wrapData[a] ? this.$wrapData[a].length + 1 + b : 1 + b
        }, this.getRowLineCount = function (a) {
            return this.$useWrapMode && this.$wrapData[a] ? this.$wrapData[a].length + 1 : 1
        }, this.getScreenLastRowColumn = function (a) {
            var b = this.screenToDocumentPosition(a, Number.MAX_VALUE);
            return this.documentToScreenColumn(b.row, b.column)
        }, this.getDocumentLastRowColumn = function (a, b) {
            var c = this.documentToScreenRow(a, b);
            return this.getScreenLastRowColumn(c)
        }, this.getDocumentLastRowColumnPosition = function (a, b) {
            var c = this.documentToScreenRow(a, b);
            return this.screenToDocumentPosition(c, Number.MAX_VALUE / 10)
        }, this.getRowSplitData = function (a) {
            return this.$useWrapMode ? this.$wrapData[a] : void 0
        }, this.getScreenTabSize = function (a) {
            return this.$tabSize - a % this.$tabSize
        }, this.screenToDocumentRow = function (a, b) {
            return this.screenToDocumentPosition(a, b).row
        }, this.screenToDocumentColumn = function (a, b) {
            return this.screenToDocumentPosition(a, b).column
        }, this.screenToDocumentPosition = function (a, b) {
            if (0 > a)return {row: 0, column: 0};
            var c, d, e = 0, f = 0, g = 0, h = 0, i = this.$screenRowCache, j = this.$getRowCacheIndex(i, a), k = i.length;
            if (k && j >= 0)var g = i[j], e = this.$docRowCache[j], l = a > i[k - 1]; else var l = !k;
            for (var m = this.getLength() - 1, n = this.getNextFoldLine(e), o = n ? n.start.row : 1 / 0; a >= g && (h = this.getRowLength(e), !(g + h > a || e >= m));)g += h, e++, e > o && (e = n.end.row + 1, n = this.getNextFoldLine(e, n), o = n ? n.start.row : 1 / 0), l && (this.$docRowCache.push(e), this.$screenRowCache.push(g));
            if (n && n.start.row <= e)c = this.getFoldDisplayLine(n), e = n.start.row; else {
                if (a >= g + h || e > m)return {row: m, column: this.getLine(m).length};
                c = this.getLine(e), n = null
            }
            if (this.$useWrapMode) {
                var p = this.$wrapData[e];
                if (p) {
                    var q = Math.floor(a - g);
                    d = p[q], q > 0 && p.length && (f = p[q - 1] || p[p.length - 1], c = c.substring(f))
                }
            }
            return f += this.$getStringScreenWidth(c, b)[1], this.$useWrapMode && f >= d && (f = d - 1), n ? n.idxToPosition(f) : {
                row: e,
                column: f
            }
        }, this.documentToScreenPosition = function (a, b) {
            if ("undefined" == typeof b)var c = this.$clipPositionToDocument(a.row, a.column); else c = this.$clipPositionToDocument(a, b);
            a = c.row, b = c.column;
            var d = 0, e = null, f = null;
            f = this.getFoldAt(a, b, 1), f && (a = f.start.row, b = f.start.column);
            var g, h = 0, i = this.$docRowCache, j = this.$getRowCacheIndex(i, a), k = i.length;
            if (k && j >= 0)var h = i[j], d = this.$screenRowCache[j], l = a > i[k - 1]; else var l = !k;
            for (var m = this.getNextFoldLine(h), n = m ? m.start.row : 1 / 0; a > h;) {
                if (h >= n) {
                    if (g = m.end.row + 1, g > a)break;
                    m = this.getNextFoldLine(g, m), n = m ? m.start.row : 1 / 0
                } else g = h + 1;
                d += this.getRowLength(h), h = g, l && (this.$docRowCache.push(h), this.$screenRowCache.push(d))
            }
            var o = "";
            if (m && h >= n ? (o = this.getFoldDisplayLine(m, a, b), e = m.start.row) : (o = this.getLine(a).substring(0, b), e = a), this.$useWrapMode) {
                var p = this.$wrapData[e];
                if (p) {
                    for (var q = 0; o.length >= p[q];)d++, q++;
                    o = o.substring(p[q - 1] || 0, o.length)
                }
            }
            return {row: d, column: this.$getStringScreenWidth(o)[0]}
        }, this.documentToScreenColumn = function (a, b) {
            return this.documentToScreenPosition(a, b).column
        }, this.documentToScreenRow = function (a, b) {
            return this.documentToScreenPosition(a, b).row
        }, this.getScreenLength = function () {
            var a = 0, b = null;
            if (this.$useWrapMode)for (var c = this.$wrapData.length, d = 0, e = 0, b = this.$foldData[e++], f = b ? b.start.row : 1 / 0; c > d;) {
                var g = this.$wrapData[d];
                a += g ? g.length + 1 : 1, d++, d > f && (d = b.end.row + 1, b = this.$foldData[e++], f = b ? b.start.row : 1 / 0)
            } else {
                a = this.getLength();
                for (var h = this.$foldData, e = 0; e < h.length; e++)b = h[e], a -= b.end.row - b.start.row
            }
            return this.lineWidgets && (a += this.$getWidgetScreenLength()), a
        }, this.$setFontMetrics = function () {
        }, this.destroy = function () {
            this.bgTokenizer && (this.bgTokenizer.setDocument(null), this.bgTokenizer = null), this.$stopWorker()
        }
    }).call(m.prototype), a("./edit_session/folding").Folding.call(m.prototype), a("./edit_session/bracket_match").BracketMatch.call(m.prototype), e.defineOptions(m.prototype, "session", {
        wrap: {
            set: function (a) {
                if (a && "off" != a ? "free" == a ? a = !0 : "printMargin" == a ? a = -1 : "string" == typeof a && (a = parseInt(a, 10) || !1) : a = !1, this.$wrap != a)if (this.$wrap = a, a) {
                    var b = "number" == typeof a ? a : null;
                    this.setWrapLimitRange(b, b), this.setUseWrapMode(!0)
                } else this.setUseWrapMode(!1)
            }, get: function () {
                return this.getUseWrapMode() ? -1 == this.$wrap ? "printMargin" : this.getWrapLimitRange().min ? this.$wrap : "free" : "off"
            }, handlesSet: !0
        }, wrapMethod: {
            set: function (a) {
                a = "auto" == a ? "text" != this.$mode.type : "text" != a, a != this.$wrapAsCode && (this.$wrapAsCode = a, this.$useWrapMode && (this.$modified = !0, this.$resetRowCache(0), this.$updateWrapData(0, this.getLength() - 1)))
            }, initialValue: "auto"
        }, firstLineNumber: {
            set: function () {
                this._signal("changeBreakpoint")
            }, initialValue: 1
        }, useWorker: {
            set: function (a) {
                this.$useWorker = a, this.$stopWorker(), a && this.$startWorker()
            }, initialValue: !0
        }, useSoftTabs: {initialValue: !0}, tabSize: {
            set: function (a) {
                isNaN(a) || this.$tabSize === a || (this.$modified = !0, this.$rowLengthCache = [], this.$tabSize = a, this._signal("changeTabSize"))
            }, initialValue: 4, handlesSet: !0
        }, overwrite: {
            set: function () {
                this._signal("changeOverwrite")
            }, initialValue: !1
        }, newLineMode: {
            set: function (a) {
                this.doc.setNewLineMode(a)
            }, get: function () {
                return this.doc.getNewLineMode()
            }, handlesSet: !0
        }, mode: {
            set: function (a) {
                this.setMode(a)
            }, get: function () {
                return this.$modeId
            }
        }
    }), b.EditSession = m
}), define("ace/search", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/range"], function (a, b) {
    "use strict";
    var c = a("./lib/lang"), d = a("./lib/oop"), e = a("./range").Range, f = function () {
        this.$options = {}
    };
    (function () {
        this.set = function (a) {
            return d.mixin(this.$options, a), this
        }, this.getOptions = function () {
            return c.copyObject(this.$options)
        }, this.setOptions = function (a) {
            this.$options = a
        }, this.find = function (a) {
            var b = this.$options, c = this.$matchIterator(a, b);
            if (!c)return !1;
            var d = null;
            return c.forEach(function (a, c, f) {
                if (a.start)d = a; else {
                    var g = a.offset + (f || 0);
                    if (d = new e(c, g, c, g + a.length), !a.length && b.start && b.start.start && 0 != b.skipCurrent && d.isEqual(b.start))return d = null, !1
                }
                return !0
            }), d
        }, this.findAll = function (a) {
            var b = this.$options;
            if (!b.needle)return [];
            this.$assembleRegExp(b);
            var d = b.range, f = d ? a.getLines(d.start.row, d.end.row) : a.doc.getAllLines(), g = [], h = b.re;
            if (b.$isMultiLine) {
                var i, j = h.length, k = f.length - j;
                a:for (var l = h.offset || 0; k >= l; l++) {
                    for (var m = 0; j > m; m++)if (-1 == f[l + m].search(h[m]))continue a;
                    var n = f[l], o = f[l + j - 1], p = n.length - n.match(h[0])[0].length, q = o.match(h[j - 1])[0].length;
                    i && i.end.row === l && i.end.column > p || (g.push(i = new e(l, p, l + j - 1, q)), j > 2 && (l = l + j - 2))
                }
            } else for (var r = 0; r < f.length; r++)for (var s = c.getMatchOffsets(f[r], h), m = 0; m < s.length; m++) {
                var t = s[m];
                g.push(new e(r, t.offset, r, t.offset + t.length))
            }
            if (d) {
                for (var u = d.start.column, v = d.start.column, r = 0, m = g.length - 1; m > r && g[r].start.column < u && g[r].start.row == d.start.row;)r++;
                for (; m > r && g[m].end.column > v && g[m].end.row == d.end.row;)m--;
                for (g = g.slice(r, m + 1), r = 0, m = g.length; m > r; r++)g[r].start.row += d.start.row, g[r].end.row += d.start.row
            }
            return g
        }, this.replace = function (a, b) {
            var c = this.$options, d = this.$assembleRegExp(c);
            if (c.$isMultiLine)return b;
            if (d) {
                var e = d.exec(a);
                if (!e || e[0].length != a.length)return null;
                if (b = a.replace(d, b), c.preserveCase) {
                    b = b.split("");
                    for (var f = Math.min(a.length, a.length); f--;) {
                        var g = a[f];
                        b[f] = g && g.toLowerCase() != g ? b[f].toUpperCase() : b[f].toLowerCase()
                    }
                    b = b.join("")
                }
                return b
            }
        }, this.$matchIterator = function (a, b) {
            var d = this.$assembleRegExp(b);
            if (!d)return !1;
            var f;
            if (b.$isMultiLine)var g = d.length, h = function (b, c, h) {
                var i = b.search(d[0]);
                if (-1 != i) {
                    for (var j = 1; g > j; j++)if (b = a.getLine(c + j), -1 == b.search(d[j]))return;
                    var k = b.match(d[g - 1])[0].length, l = new e(c, i, c + g - 1, k);
                    return 1 == d.offset ? (l.start.row--, l.start.column = Number.MAX_VALUE) : h && (l.start.column += h), f(l) ? !0 : void 0
                }
            }; else if (b.backwards)var h = function (a, b, e) {
                for (var g = c.getMatchOffsets(a, d), h = g.length - 1; h >= 0; h--)if (f(g[h], b, e))return !0
            }; else var h = function (a, b, e) {
                for (var g = c.getMatchOffsets(a, d), h = 0; h < g.length; h++)if (f(g[h], b, e))return !0
            };
            var i = this.$lineIterator(a, b);
            return {
                forEach: function (a) {
                    f = a, i.forEach(h)
                }
            }
        }, this.$assembleRegExp = function (a, b) {
            if (a.needle instanceof RegExp)return a.re = a.needle;
            var d = a.needle;
            if (!a.needle)return a.re = !1;
            a.regExp || (d = c.escapeRegExp(d)), a.wholeWord && (d = "\\b" + d + "\\b");
            var e = a.caseSensitive ? "gm" : "gmi";
            if (a.$isMultiLine = !b && /[\n\r]/.test(d), a.$isMultiLine)return a.re = this.$assembleMultilineRegExp(d, e);
            try {
                var f = new RegExp(d, e)
            } catch (g) {
                f = !1
            }
            return a.re = f
        }, this.$assembleMultilineRegExp = function (a, b) {
            for (var c = a.replace(/\r\n|\r|\n/g, "$\n^").split("\n"), d = [], e = 0; e < c.length; e++)try {
                d.push(new RegExp(c[e], b))
            } catch (f) {
                return !1
            }
            return "" == c[0] ? (d.shift(), d.offset = 1) : d.offset = 0, d
        }, this.$lineIterator = function (a, b) {
            var c = 1 == b.backwards, d = 0 != b.skipCurrent, e = b.range, f = b.start;
            f || (f = e ? e[c ? "end" : "start"] : a.selection.getRange()), f.start && (f = f[d != c ? "end" : "start"]);
            var g = e ? e.start.row : 0, h = e ? e.end.row : a.getLength() - 1, i = c ? function (c) {
                var d = f.row, e = a.getLine(d).substring(0, f.column);
                if (!c(e, d)) {
                    for (d--; d >= g; d--)if (c(a.getLine(d), d))return;
                    if (0 != b.wrap)for (d = h, g = f.row; d >= g; d--)if (c(a.getLine(d), d))return
                }
            } : function (c) {
                var d = f.row, e = a.getLine(d).substr(f.column);
                if (!c(e, d, f.column)) {
                    for (d += 1; h >= d; d++)if (c(a.getLine(d), d))return;
                    if (0 != b.wrap)for (d = g, h = f.row; h >= d; d++)if (c(a.getLine(d), d))return
                }
            };
            return {forEach: i}
        }
    }).call(f.prototype), b.Search = f
}), define("ace/keyboard/hash_handler", ["require", "exports", "module", "ace/lib/keys", "ace/lib/useragent"], function (a, b) {
    "use strict";
    function c(a, b) {
        this.platform = b || (f.isMac ? "mac" : "win"), this.commands = {}, this.commandKeyBinding = {}, this.addCommands(a), this.$singleCommand = !0
    }

    function d(a, b) {
        c.call(this, a, b), this.$singleCommand = !1
    }

    var e = a("../lib/keys"), f = a("../lib/useragent"), g = e.KEY_MODS;
    d.prototype = c.prototype, function () {
        this.addCommand = function (a) {
            this.commands[a.name] && this.removeCommand(a), this.commands[a.name] = a, a.bindKey && this._buildKeyHash(a)
        }, this.removeCommand = function (a, b) {
            var c = a && ("string" == typeof a ? a : a.name);
            a = this.commands[c], b || delete this.commands[c];
            var d = this.commandKeyBinding;
            for (var e in d) {
                var f = d[e];
                if (f == a)delete d[e]; else if (Array.isArray(f)) {
                    var g = f.indexOf(a);
                    -1 != g && (f.splice(g, 1), 1 == f.length && (d[e] = f[0]))
                }
            }
        }, this.bindKey = function (a, b, c) {
            return "object" == typeof a && (a = a[this.platform]), a ? "function" == typeof b ? this.addCommand({
                exec: b,
                bindKey: a,
                name: b.name || a
            }) : void a.split("|").forEach(function (a) {
                var d = "";
                if (-1 != a.indexOf(" ")) {
                    var e = a.split(/\s+/);
                    a = e.pop(), e.forEach(function (a) {
                        var b = this.parseKeys(a), c = g[b.hashId] + b.key;
                        d += (d ? " " : "") + c, this._addCommandToBinding(d, "chainKeys")
                    }, this), d += " "
                }
                var f = this.parseKeys(a), h = g[f.hashId] + f.key;
                this._addCommandToBinding(d + h, b, c)
            }, this) : void 0
        }, this._addCommandToBinding = function (a, b, c) {
            var d, e = this.commandKeyBinding;
            b ? !e[a] || this.$singleCommand ? e[a] = b : (Array.isArray(e[a]) ? -1 != (d = e[a].indexOf(b)) && e[a].splice(d, 1) : e[a] = [e[a]], c || b.isDefault ? e[a].unshift(b) : e[a].push(b)) : delete e[a]
        }, this.addCommands = function (a) {
            a && Object.keys(a).forEach(function (b) {
                var c = a[b];
                if (c) {
                    if ("string" == typeof c)return this.bindKey(c, b);
                    "function" == typeof c && (c = {exec: c}), "object" == typeof c && (c.name || (c.name = b), this.addCommand(c))
                }
            }, this)
        }, this.removeCommands = function (a) {
            Object.keys(a).forEach(function (b) {
                this.removeCommand(a[b])
            }, this)
        }, this.bindKeys = function (a) {
            Object.keys(a).forEach(function (b) {
                this.bindKey(b, a[b])
            }, this)
        }, this._buildKeyHash = function (a) {
            this.bindKey(a.bindKey, a)
        }, this.parseKeys = function (a) {
            var b = a.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function (a) {
                return a
            }), c = b.pop(), d = e[c];
            if (e.FUNCTION_KEYS[d])c = e.FUNCTION_KEYS[d].toLowerCase(); else {
                if (!b.length)return {key: c, hashId: -1};
                if (1 == b.length && "shift" == b[0])return {key: c.toUpperCase(), hashId: -1}
            }
            for (var f = 0, g = b.length; g--;) {
                var h = e.KEY_MODS[b[g]];
                if (null == h)return "undefined" != typeof console && console.error("invalid modifier " + b[g] + " in " + a), !1;
                f |= h
            }
            return {key: c, hashId: f}
        }, this.findKeyCommand = function (a, b) {
            var c = g[a] + b;
            return this.commandKeyBinding[c]
        }, this.handleKeyboard = function (a, b, c, d) {
            var e = g[b] + c, f = this.commandKeyBinding[e];
            return a.$keyChain && (a.$keyChain += " " + e, f = this.commandKeyBinding[a.$keyChain] || f), !f || "chainKeys" != f && "chainKeys" != f[f.length - 1] ? (a.$keyChain && d > 0 && (a.$keyChain = ""), {command: f}) : (a.$keyChain = a.$keyChain || e, {command: "null"})
        }
    }.call(c.prototype), b.HashHandler = c, b.MultiHashHandler = d
}), define("ace/commands/command_manager", ["require", "exports", "module", "ace/lib/oop", "ace/keyboard/hash_handler", "ace/lib/event_emitter"], function (a, b) {
    "use strict";
    var c = a("../lib/oop"), d = a("../keyboard/hash_handler").MultiHashHandler, e = a("../lib/event_emitter").EventEmitter, f = function (a, b) {
        d.call(this, b, a), this.byName = this.commands, this.setDefaultHandler("exec", function (a) {
            return a.command.exec(a.editor, a.args || {})
        })
    };
    c.inherits(f, d), function () {
        c.implement(this, e), this.exec = function (a, b, c) {
            if (Array.isArray(a)) {
                for (var d = a.length; d--;)if (this.exec(a[d], b, c))return !0;
                return !1
            }
            if ("string" == typeof a && (a = this.commands[a]), !a)return !1;
            if (b && b.$readOnly && !a.readOnly)return !1;
            var e = {editor: b, command: a, args: c};
            return e.returnValue = this._emit("exec", e), this._signal("afterExec", e), e.returnValue === !1 ? !1 : !0
        }, this.toggleRecording = function (a) {
            return this.$inReplay ? void 0 : (a && a._emit("changeStatus"), this.recording ? (this.macro.pop(), this.removeEventListener("exec", this.$addCommandToMacro), this.macro.length || (this.macro = this.oldMacro), this.recording = !1) : (this.$addCommandToMacro || (this.$addCommandToMacro = function (a) {
                this.macro.push([a.command, a.args])
            }.bind(this)), this.oldMacro = this.macro, this.macro = [], this.on("exec", this.$addCommandToMacro), this.recording = !0))
        }, this.replay = function (a) {
            if (!this.$inReplay && this.macro) {
                if (this.recording)return this.toggleRecording(a);
                try {
                    this.$inReplay = !0, this.macro.forEach(function (b) {
                        "string" == typeof b ? this.exec(b, a) : this.exec(b[0], a, b[1])
                    }, this)
                } finally {
                    this.$inReplay = !1
                }
            }
        }, this.trimMacro = function (a) {
            return a.map(function (a) {
                return "string" != typeof a[0] && (a[0] = a[0].name), a[1] || (a = a[0]), a
            })
        }
    }.call(f.prototype), b.CommandManager = f
}), define("ace/commands/default_commands", ["require", "exports", "module", "ace/lib/lang", "ace/config", "ace/range"], function (a, b) {
    "use strict";
    function c(a, b) {
        return {win: a, mac: b}
    }

    var d = a("../lib/lang"), e = a("../config"), f = a("../range").Range;
    b.commands = [{
        name: "showSettingsMenu", bindKey: c("Ctrl-,", "Command-,"), exec: function (a) {
            e.loadModule("ace/ext/settings_menu", function (b) {
                b.init(a), a.showSettingsMenu()
            })
        }, readOnly: !0
    }, {
        name: "goToNextError", bindKey: c("Alt-E", "Ctrl-E"), exec: function (a) {
            e.loadModule("ace/ext/error_marker", function (b) {
                b.showErrorMarker(a, 1)
            })
        }, scrollIntoView: "animate", readOnly: !0
    }, {
        name: "goToPreviousError", bindKey: c("Alt-Shift-E", "Ctrl-Shift-E"), exec: function (a) {
            e.loadModule("ace/ext/error_marker", function (b) {
                b.showErrorMarker(a, -1)
            })
        }, scrollIntoView: "animate", readOnly: !0
    }, {
        name: "selectall", bindKey: c("Ctrl-A", "Command-A"), exec: function (a) {
            a.selectAll()
        }, readOnly: !0
    }, {
        name: "centerselection", bindKey: c(null, "Ctrl-L"), exec: function (a) {
            a.centerSelection()
        }, readOnly: !0
    }, {
        name: "gotoline", bindKey: c("Ctrl-L", "Command-L"), exec: function (a) {
            var b = parseInt(prompt("Enter line number:"), 10);
            isNaN(b) || a.gotoLine(b)
        }, readOnly: !0
    }, {
        name: "fold", bindKey: c("Alt-L|Ctrl-F1", "Command-Alt-L|Command-F1"), exec: function (a) {
            a.session.toggleFold(!1)
        }, multiSelectAction: "forEach", scrollIntoView: "center", readOnly: !0
    }, {
        name: "unfold",
        bindKey: c("Alt-Shift-L|Ctrl-Shift-F1", "Command-Alt-Shift-L|Command-Shift-F1"),
        exec: function (a) {
            a.session.toggleFold(!0)
        },
        multiSelectAction: "forEach",
        scrollIntoView: "center",
        readOnly: !0
    }, {
        name: "toggleFoldWidget", bindKey: c("F2", "F2"), exec: function (a) {
            a.session.toggleFoldWidget()
        }, multiSelectAction: "forEach", scrollIntoView: "center", readOnly: !0
    }, {
        name: "toggleParentFoldWidget", bindKey: c("Alt-F2", "Alt-F2"), exec: function (a) {
            a.session.toggleFoldWidget(!0)
        }, multiSelectAction: "forEach", scrollIntoView: "center", readOnly: !0
    }, {
        name: "foldall", bindKey: c(null, "Ctrl-Command-Option-0"), exec: function (a) {
            a.session.foldAll()
        }, scrollIntoView: "center", readOnly: !0
    }, {
        name: "foldOther", bindKey: c("Alt-0", "Command-Option-0"), exec: function (a) {
            a.session.foldAll(), a.session.unfold(a.selection.getAllRanges())
        }, scrollIntoView: "center", readOnly: !0
    }, {
        name: "unfoldall", bindKey: c("Alt-Shift-0", "Command-Option-Shift-0"), exec: function (a) {
            a.session.unfold()
        }, scrollIntoView: "center", readOnly: !0
    }, {
        name: "findnext", bindKey: c("Ctrl-K", "Command-G"), exec: function (a) {
            a.findNext()
        }, multiSelectAction: "forEach", scrollIntoView: "center", readOnly: !0
    }, {
        name: "findprevious", bindKey: c("Ctrl-Shift-K", "Command-Shift-G"), exec: function (a) {
            a.findPrevious()
        }, multiSelectAction: "forEach", scrollIntoView: "center", readOnly: !0
    }, {
        name: "selectOrFindNext", bindKey: c("Alt-K", "Ctrl-G"), exec: function (a) {
            a.selection.isEmpty() ? a.selection.selectWord() : a.findNext()
        }, readOnly: !0
    }, {
        name: "selectOrFindPrevious", bindKey: c("Alt-Shift-K", "Ctrl-Shift-G"), exec: function (a) {
            a.selection.isEmpty() ? a.selection.selectWord() : a.findPrevious()
        }, readOnly: !0
    }, {
        name: "find", bindKey: c("Ctrl-F", "Command-F"), exec: function (a) {
            e.loadModule("ace/ext/searchbox", function (b) {
                b.Search(a)
            })
        }, readOnly: !0
    }, {
        name: "overwrite", bindKey: "Insert", exec: function (a) {
            a.toggleOverwrite()
        }, readOnly: !0
    }, {
        name: "selecttostart", bindKey: c("Ctrl-Shift-Home", "Command-Shift-Up"), exec: function (a) {
            a.getSelection().selectFileStart()
        }, multiSelectAction: "forEach", readOnly: !0, scrollIntoView: "animate", aceCommandGroup: "fileJump"
    }, {
        name: "gotostart", bindKey: c("Ctrl-Home", "Command-Home|Command-Up"), exec: function (a) {
            a.navigateFileStart()
        }, multiSelectAction: "forEach", readOnly: !0, scrollIntoView: "animate", aceCommandGroup: "fileJump"
    }, {
        name: "selectup", bindKey: c("Shift-Up", "Shift-Up"), exec: function (a) {
            a.getSelection().selectUp()
        }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0
    }, {
        name: "golineup", bindKey: c("Up", "Up|Ctrl-P"), exec: function (a, b) {
            a.navigateUp(b.times)
        }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0
    }, {
        name: "selecttoend", bindKey: c("Ctrl-Shift-End", "Command-Shift-Down"), exec: function (a) {
            a.getSelection().selectFileEnd()
        }, multiSelectAction: "forEach", readOnly: !0, scrollIntoView: "animate", aceCommandGroup: "fileJump"
    }, {
        name: "gotoend", bindKey: c("Ctrl-End", "Command-End|Command-Down"), exec: function (a) {
            a.navigateFileEnd()
        }, multiSelectAction: "forEach", readOnly: !0, scrollIntoView: "animate", aceCommandGroup: "fileJump"
    }, {
        name: "selectdown", bindKey: c("Shift-Down", "Shift-Down"), exec: function (a) {
            a.getSelection().selectDown()
        }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0
    }, {
        name: "golinedown", bindKey: c("Down", "Down|Ctrl-N"), exec: function (a, b) {
            a.navigateDown(b.times)
        }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0
    }, {
        name: "selectwordleft", bindKey: c("Ctrl-Shift-Left", "Option-Shift-Left"), exec: function (a) {
            a.getSelection().selectWordLeft()
        }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0
    }, {
        name: "gotowordleft", bindKey: c("Ctrl-Left", "Option-Left"), exec: function (a) {
            a.navigateWordLeft()
        }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0
    }, {
        name: "selecttolinestart", bindKey: c("Alt-Shift-Left", "Command-Shift-Left"), exec: function (a) {
            a.getSelection().selectLineStart()
        }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0
    }, {
        name: "gotolinestart", bindKey: c("Alt-Left|Home", "Command-Left|Home|Ctrl-A"), exec: function (a) {
            a.navigateLineStart()
        }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0
    }, {
        name: "selectleft", bindKey: c("Shift-Left", "Shift-Left"), exec: function (a) {
            a.getSelection().selectLeft()
        }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0
    }, {
        name: "gotoleft", bindKey: c("Left", "Left|Ctrl-B"), exec: function (a, b) {
            a.navigateLeft(b.times)
        }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0
    }, {
        name: "selectwordright", bindKey: c("Ctrl-Shift-Right", "Option-Shift-Right"), exec: function (a) {
            a.getSelection().selectWordRight()
        }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0
    }, {
        name: "gotowordright", bindKey: c("Ctrl-Right", "Option-Right"), exec: function (a) {
            a.navigateWordRight()
        }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0
    }, {
        name: "selecttolineend", bindKey: c("Alt-Shift-Right", "Command-Shift-Right"), exec: function (a) {
            a.getSelection().selectLineEnd()
        }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0
    }, {
        name: "gotolineend", bindKey: c("Alt-Right|End", "Command-Right|End|Ctrl-E"), exec: function (a) {
            a.navigateLineEnd()
        }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0
    }, {
        name: "selectright", bindKey: c("Shift-Right", "Shift-Right"), exec: function (a) {
            a.getSelection().selectRight()
        }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0
    }, {
        name: "gotoright", bindKey: c("Right", "Right|Ctrl-F"), exec: function (a, b) {
            a.navigateRight(b.times)
        }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0
    }, {
        name: "selectpagedown", bindKey: "Shift-PageDown", exec: function (a) {
            a.selectPageDown()
        }, readOnly: !0
    }, {
        name: "pagedown", bindKey: c(null, "Option-PageDown"), exec: function (a) {
            a.scrollPageDown()
        }, readOnly: !0
    }, {
        name: "gotopagedown", bindKey: c("PageDown", "PageDown|Ctrl-V"), exec: function (a) {
            a.gotoPageDown()
        }, readOnly: !0
    }, {
        name: "selectpageup", bindKey: "Shift-PageUp", exec: function (a) {
            a.selectPageUp()
        }, readOnly: !0
    }, {
        name: "pageup", bindKey: c(null, "Option-PageUp"), exec: function (a) {
            a.scrollPageUp()
        }, readOnly: !0
    }, {
        name: "gotopageup", bindKey: "PageUp", exec: function (a) {
            a.gotoPageUp()
        }, readOnly: !0
    }, {
        name: "scrollup", bindKey: c("Ctrl-Up", null), exec: function (a) {
            a.renderer.scrollBy(0, -2 * a.renderer.layerConfig.lineHeight)
        }, readOnly: !0
    }, {
        name: "scrolldown", bindKey: c("Ctrl-Down", null), exec: function (a) {
            a.renderer.scrollBy(0, 2 * a.renderer.layerConfig.lineHeight)
        }, readOnly: !0
    }, {
        name: "selectlinestart", bindKey: "Shift-Home", exec: function (a) {
            a.getSelection().selectLineStart()
        }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0
    }, {
        name: "selectlineend", bindKey: "Shift-End", exec: function (a) {
            a.getSelection().selectLineEnd()
        }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0
    }, {
        name: "togglerecording", bindKey: c("Ctrl-Alt-E", "Command-Option-E"), exec: function (a) {
            a.commands.toggleRecording(a)
        }, readOnly: !0
    }, {
        name: "replaymacro", bindKey: c("Ctrl-Shift-E", "Command-Shift-E"), exec: function (a) {
            a.commands.replay(a)
        }, readOnly: !0
    }, {
        name: "jumptomatching", bindKey: c("Ctrl-P", "Ctrl-P"), exec: function (a) {
            a.jumpToMatching()
        }, multiSelectAction: "forEach", scrollIntoView: "animate", readOnly: !0
    }, {
        name: "selecttomatching", bindKey: c("Ctrl-Shift-P", "Ctrl-Shift-P"), exec: function (a) {
            a.jumpToMatching(!0)
        }, multiSelectAction: "forEach", scrollIntoView: "animate", readOnly: !0
    }, {
        name: "expandToMatching", bindKey: c("Ctrl-Shift-M", "Ctrl-Shift-M"), exec: function (a) {
            a.jumpToMatching(!0, !0)
        }, multiSelectAction: "forEach", scrollIntoView: "animate", readOnly: !0
    }, {
        name: "passKeysToBrowser", bindKey: c(null, null), exec: function () {
        }, passEvent: !0, readOnly: !0
    }, {
        name: "cut", exec: function (a) {
            var b = a.getSelectionRange();
            a._emit("cut", b), a.selection.isEmpty() || (a.session.remove(b), a.clearSelection())
        }, scrollIntoView: "cursor", multiSelectAction: "forEach"
    }, {
        name: "removeline", bindKey: c("Ctrl-D", "Command-D"), exec: function (a) {
            a.removeLines()
        }, scrollIntoView: "cursor", multiSelectAction: "forEachLine"
    }, {
        name: "duplicateSelection", bindKey: c("Ctrl-Shift-D", "Command-Shift-D"), exec: function (a) {
            a.duplicateSelection()
        }, scrollIntoView: "cursor", multiSelectAction: "forEach"
    }, {
        name: "sortlines", bindKey: c("Ctrl-Alt-S", "Command-Alt-S"), exec: function (a) {
            a.sortLines()
        }, scrollIntoView: "selection", multiSelectAction: "forEachLine"
    }, {
        name: "togglecomment", bindKey: c("Ctrl-/", "Command-/"), exec: function (a) {
            a.toggleCommentLines()
        }, multiSelectAction: "forEachLine", scrollIntoView: "selectionPart"
    }, {
        name: "toggleBlockComment", bindKey: c("Ctrl-Shift-/", "Command-Shift-/"), exec: function (a) {
            a.toggleBlockComment()
        }, multiSelectAction: "forEach", scrollIntoView: "selectionPart"
    }, {
        name: "modifyNumberUp", bindKey: c("Ctrl-Shift-Up", "Alt-Shift-Up"), exec: function (a) {
            a.modifyNumber(1)
        }, scrollIntoView: "cursor", multiSelectAction: "forEach"
    }, {
        name: "modifyNumberDown", bindKey: c("Ctrl-Shift-Down", "Alt-Shift-Down"), exec: function (a) {
            a.modifyNumber(-1)
        }, scrollIntoView: "cursor", multiSelectAction: "forEach"
    }, {
        name: "replace", bindKey: c("Ctrl-H", "Command-Option-F"), exec: function (a) {
            e.loadModule("ace/ext/searchbox", function (b) {
                b.Search(a, !0)
            })
        }
    }, {
        name: "undo", bindKey: c("Ctrl-Z", "Command-Z"), exec: function (a) {
            a.undo()
        }
    }, {
        name: "redo", bindKey: c("Ctrl-Shift-Z|Ctrl-Y", "Command-Shift-Z|Command-Y"), exec: function (a) {
            a.redo()
        }
    }, {
        name: "copylinesup", bindKey: c("Alt-Shift-Up", "Command-Option-Up"), exec: function (a) {
            a.copyLinesUp()
        }, scrollIntoView: "cursor"
    }, {
        name: "movelinesup", bindKey: c("Alt-Up", "Option-Up"), exec: function (a) {
            a.moveLinesUp()
        }, scrollIntoView: "cursor"
    }, {
        name: "copylinesdown", bindKey: c("Alt-Shift-Down", "Command-Option-Down"), exec: function (a) {
            a.copyLinesDown()
        }, scrollIntoView: "cursor"
    }, {
        name: "movelinesdown", bindKey: c("Alt-Down", "Option-Down"), exec: function (a) {
            a.moveLinesDown()
        }, scrollIntoView: "cursor"
    }, {
        name: "del", bindKey: c("Delete", "Delete|Ctrl-D|Shift-Delete"), exec: function (a) {
            a.remove("right")
        }, multiSelectAction: "forEach", scrollIntoView: "cursor"
    }, {
        name: "backspace",
        bindKey: c("Shift-Backspace|Backspace", "Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),
        exec: function (a) {
            a.remove("left")
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
    }, {
        name: "cut_or_delete", bindKey: c("Shift-Delete", null), exec: function (a) {
            return a.selection.isEmpty() ? void a.remove("left") : !1
        }, multiSelectAction: "forEach", scrollIntoView: "cursor"
    }, {
        name: "removetolinestart", bindKey: c("Alt-Backspace", "Command-Backspace"), exec: function (a) {
            a.removeToLineStart()
        }, multiSelectAction: "forEach", scrollIntoView: "cursor"
    }, {
        name: "removetolineend", bindKey: c("Alt-Delete", "Ctrl-K"), exec: function (a) {
            a.removeToLineEnd()
        }, multiSelectAction: "forEach", scrollIntoView: "cursor"
    }, {
        name: "removewordleft", bindKey: c("Ctrl-Backspace", "Alt-Backspace|Ctrl-Alt-Backspace"), exec: function (a) {
            a.removeWordLeft()
        }, multiSelectAction: "forEach", scrollIntoView: "cursor"
    }, {
        name: "removewordright", bindKey: c("Ctrl-Delete", "Alt-Delete"), exec: function (a) {
            a.removeWordRight()
        }, multiSelectAction: "forEach", scrollIntoView: "cursor"
    }, {
        name: "outdent", bindKey: c("Shift-Tab", "Shift-Tab"), exec: function (a) {
            a.blockOutdent()
        }, multiSelectAction: "forEach", scrollIntoView: "selectionPart"
    }, {
        name: "indent", bindKey: c("Tab", "Tab"), exec: function (a) {
            a.indent()
        }, multiSelectAction: "forEach", scrollIntoView: "selectionPart"
    }, {
        name: "blockoutdent", bindKey: c("Ctrl-[", "Ctrl-["), exec: function (a) {
            a.blockOutdent()
        }, multiSelectAction: "forEachLine", scrollIntoView: "selectionPart"
    }, {
        name: "blockindent", bindKey: c("Ctrl-]", "Ctrl-]"), exec: function (a) {
            a.blockIndent()
        }, multiSelectAction: "forEachLine", scrollIntoView: "selectionPart"
    }, {
        name: "insertstring", exec: function (a, b) {
            a.insert(b)
        }, multiSelectAction: "forEach", scrollIntoView: "cursor"
    }, {
        name: "inserttext", exec: function (a, b) {
            a.insert(d.stringRepeat(b.text || "", b.times || 1))
        }, multiSelectAction: "forEach", scrollIntoView: "cursor"
    }, {
        name: "splitline", bindKey: c(null, "Ctrl-O"), exec: function (a) {
            a.splitLine()
        }, multiSelectAction: "forEach", scrollIntoView: "cursor"
    }, {
        name: "transposeletters", bindKey: c("Ctrl-T", "Ctrl-T"), exec: function (a) {
            a.transposeLetters()
        }, multiSelectAction: function (a) {
            a.transposeSelections(1)
        }, scrollIntoView: "cursor"
    }, {
        name: "touppercase", bindKey: c("Ctrl-U", "Ctrl-U"), exec: function (a) {
            a.toUpperCase()
        }, multiSelectAction: "forEach", scrollIntoView: "cursor"
    }, {
        name: "tolowercase", bindKey: c("Ctrl-Shift-U", "Ctrl-Shift-U"), exec: function (a) {
            a.toLowerCase()
        }, multiSelectAction: "forEach", scrollIntoView: "cursor"
    }, {
        name: "expandtoline", bindKey: c("Ctrl-Shift-L", "Command-Shift-L"), exec: function (a) {
            var b = a.selection.getRange();
            b.start.column = b.end.column = 0, b.end.row++, a.selection.setRange(b, !1)
        }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0
    }, {
        name: "joinlines", bindKey: c(null, null), exec: function (a) {
            for (var b = a.selection.isBackwards(), c = b ? a.selection.getSelectionLead() : a.selection.getSelectionAnchor(), e = b ? a.selection.getSelectionAnchor() : a.selection.getSelectionLead(), g = a.session.doc.getLine(c.row).length, h = a.session.doc.getTextRange(a.selection.getRange()), i = h.replace(/\n\s*/, " ").length, j = a.session.doc.getLine(c.row), k = c.row + 1; k <= e.row + 1; k++) {
                var l = d.stringTrimLeft(d.stringTrimRight(a.session.doc.getLine(k)));
                0 !== l.length && (l = " " + l), j += l
            }
            e.row + 1 < a.session.doc.getLength() - 1 && (j += a.session.doc.getNewLineCharacter()), a.clearSelection(), a.session.doc.replace(new f(c.row, 0, e.row + 2, 0), j), i > 0 ? (a.selection.moveCursorTo(c.row, c.column), a.selection.selectTo(c.row, c.column + i)) : (g = a.session.doc.getLine(c.row).length > g ? g + 1 : g, a.selection.moveCursorTo(c.row, g))
        }, multiSelectAction: "forEach", readOnly: !0
    }, {
        name: "invertSelection", bindKey: c(null, null), exec: function (a) {
            var b = a.session.doc.getLength() - 1, c = a.session.doc.getLine(b).length, d = a.selection.rangeList.ranges, e = [];
            d.length < 1 && (d = [a.selection.getRange()]);
            for (var g = 0; g < d.length; g++)g == d.length - 1 && (d[g].end.row !== b || d[g].end.column !== c) && e.push(new f(d[g].end.row, d[g].end.column, b, c)), 0 === g ? (0 !== d[g].start.row || 0 !== d[g].start.column) && e.push(new f(0, 0, d[g].start.row, d[g].start.column)) : e.push(new f(d[g - 1].end.row, d[g - 1].end.column, d[g].start.row, d[g].start.column));
            a.exitMultiSelectMode(), a.clearSelection();
            for (var g = 0; g < e.length; g++)a.selection.addRange(e[g], !1)
        }, readOnly: !0, scrollIntoView: "none"
    }]
}), define("ace/editor", ["require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/keyboard/textinput", "ace/mouse/mouse_handler", "ace/mouse/fold_handler", "ace/keyboard/keybinding", "ace/edit_session", "ace/search", "ace/range", "ace/lib/event_emitter", "ace/commands/command_manager", "ace/commands/default_commands", "ace/config", "ace/token_iterator"], function (a, b) {
    "use strict";
    a("./lib/fixoldbrowsers");
    var c = a("./lib/oop"), d = a("./lib/dom"), e = a("./lib/lang"), f = a("./lib/useragent"), g = a("./keyboard/textinput").TextInput, h = a("./mouse/mouse_handler").MouseHandler, i = a("./mouse/fold_handler").FoldHandler, j = a("./keyboard/keybinding").KeyBinding, k = a("./edit_session").EditSession, l = a("./search").Search, m = a("./range").Range, n = a("./lib/event_emitter").EventEmitter, o = a("./commands/command_manager").CommandManager, p = a("./commands/default_commands").commands, q = a("./config"), r = a("./token_iterator").TokenIterator, s = function (a, b) {
        var c = a.getContainerElement();
        this.container = c, this.renderer = a, this.commands = new o(f.isMac ? "mac" : "win", p), this.textInput = new g(a.getTextAreaContainer(), this), this.renderer.textarea = this.textInput.getElement(), this.keyBinding = new j(this), this.$mouseHandler = new h(this), new i(this), this.$blockScrolling = 0, this.$search = (new l).set({wrap: !0}), this.$historyTracker = this.$historyTracker.bind(this), this.commands.on("exec", this.$historyTracker), this.$initOperationListeners(), this._$emitInputEvent = e.delayedCall(function () {
            this._signal("input", {}), this.session && this.session.bgTokenizer && this.session.bgTokenizer.scheduleStart()
        }.bind(this)), this.on("change", function (a, b) {
            b._$emitInputEvent.schedule(31)
        }), this.setSession(b || new k("")), q.resetOptions(this), q._signal("editor", this)
    };
    (function () {
        c.implement(this, n), this.$initOperationListeners = function () {
            this.selections = [], this.commands.on("exec", this.startOperation.bind(this), !0), this.commands.on("afterExec", this.endOperation.bind(this), !0), this.$opResetTimer = e.delayedCall(this.endOperation.bind(this)), this.on("change", function () {
                this.curOp || this.startOperation(), this.curOp.docChanged = !0
            }.bind(this), !0), this.on("changeSelection", function () {
                this.curOp || this.startOperation(), this.curOp.selectionChanged = !0
            }.bind(this), !0)
        }, this.curOp = null, this.prevOp = {}, this.startOperation = function (a) {
            if (this.curOp) {
                if (!a || this.curOp.command)return;
                this.prevOp = this.curOp
            }
            a || (this.previousCommand = null, a = {}), this.$opResetTimer.schedule(), this.curOp = {
                command: a.command || {},
                args: a.args,
                scrollTop: this.renderer.scrollTop
            }, this.curOp.command.name && void 0 !== this.curOp.command.scrollIntoView && this.$blockScrolling++
        }, this.endOperation = function (a) {
            if (this.curOp) {
                if (a && a.returnValue === !1)return this.curOp = null;
                this._signal("beforeEndOperation");
                var b = this.curOp.command;
                if (b.name && this.$blockScrolling > 0 && this.$blockScrolling--, b && b.scrollIntoView) {
                    switch (b.scrollIntoView) {
                        case"center":
                            this.renderer.scrollCursorIntoView(null, .5);
                            break;
                        case"animate":
                        case"cursor":
                            this.renderer.scrollCursorIntoView();
                            break;
                        case"selectionPart":
                            var c = this.selection.getRange(), d = this.renderer.layerConfig;
                            (c.start.row >= d.lastRow || c.end.row <= d.firstRow) && this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead)
                    }
                    "animate" == b.scrollIntoView && this.renderer.animateScrolling(this.curOp.scrollTop)
                }
                this.prevOp = this.curOp, this.curOp = null
            }
        }, this.$mergeableCommands = ["backspace", "del", "insertstring"], this.$historyTracker = function (a) {
            if (this.$mergeUndoDeltas) {
                var b = this.prevOp, c = this.$mergeableCommands, d = b.command && a.command.name == b.command.name;
                if ("insertstring" == a.command.name) {
                    var e = a.args;
                    void 0 === this.mergeNextCommand && (this.mergeNextCommand = !0), d = d && this.mergeNextCommand && (!/\s/.test(e) || /\s/.test(b.args)), this.mergeNextCommand = !0
                } else d = d && -1 !== c.indexOf(a.command.name);
                "always" != this.$mergeUndoDeltas && Date.now() - this.sequenceStartTime > 2e3 && (d = !1), d ? this.session.mergeUndoDeltas = !0 : -1 !== c.indexOf(a.command.name) && (this.sequenceStartTime = Date.now())
            }
        }, this.setKeyboardHandler = function (a, b) {
            if (a && "string" == typeof a) {
                this.$keybindingId = a;
                var c = this;
                q.loadModule(["keybinding", a], function (d) {
                    c.$keybindingId == a && c.keyBinding.setKeyboardHandler(d && d.handler), b && b()
                })
            } else this.$keybindingId = null, this.keyBinding.setKeyboardHandler(a), b && b()
        }, this.getKeyboardHandler = function () {
            return this.keyBinding.getKeyboardHandler()
        }, this.setSession = function (a) {
            if (this.session != a) {
                var b = this.session;
                if (b) {
                    this.session.removeEventListener("change", this.$onDocumentChange), this.session.removeEventListener("changeMode", this.$onChangeMode), this.session.removeEventListener("tokenizerUpdate", this.$onTokenizerUpdate), this.session.removeEventListener("changeTabSize", this.$onChangeTabSize), this.session.removeEventListener("changeWrapLimit", this.$onChangeWrapLimit), this.session.removeEventListener("changeWrapMode", this.$onChangeWrapMode), this.session.removeEventListener("onChangeFold", this.$onChangeFold), this.session.removeEventListener("changeFrontMarker", this.$onChangeFrontMarker), this.session.removeEventListener("changeBackMarker", this.$onChangeBackMarker), this.session.removeEventListener("changeBreakpoint", this.$onChangeBreakpoint), this.session.removeEventListener("changeAnnotation", this.$onChangeAnnotation), this.session.removeEventListener("changeOverwrite", this.$onCursorChange), this.session.removeEventListener("changeScrollTop", this.$onScrollTopChange), this.session.removeEventListener("changeScrollLeft", this.$onScrollLeftChange);
                    var c = this.session.getSelection();
                    c.removeEventListener("changeCursor", this.$onCursorChange), c.removeEventListener("changeSelection", this.$onSelectionChange)
                }
                this.session = a, a ? (this.$onDocumentChange = this.onDocumentChange.bind(this), a.addEventListener("change", this.$onDocumentChange), this.renderer.setSession(a), this.$onChangeMode = this.onChangeMode.bind(this), a.addEventListener("changeMode", this.$onChangeMode), this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this), a.addEventListener("tokenizerUpdate", this.$onTokenizerUpdate), this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer), a.addEventListener("changeTabSize", this.$onChangeTabSize), this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this), a.addEventListener("changeWrapLimit", this.$onChangeWrapLimit), this.$onChangeWrapMode = this.onChangeWrapMode.bind(this), a.addEventListener("changeWrapMode", this.$onChangeWrapMode), this.$onChangeFold = this.onChangeFold.bind(this), a.addEventListener("changeFold", this.$onChangeFold), this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this), this.session.addEventListener("changeFrontMarker", this.$onChangeFrontMarker), this.$onChangeBackMarker = this.onChangeBackMarker.bind(this), this.session.addEventListener("changeBackMarker", this.$onChangeBackMarker), this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this), this.session.addEventListener("changeBreakpoint", this.$onChangeBreakpoint), this.$onChangeAnnotation = this.onChangeAnnotation.bind(this), this.session.addEventListener("changeAnnotation", this.$onChangeAnnotation), this.$onCursorChange = this.onCursorChange.bind(this), this.session.addEventListener("changeOverwrite", this.$onCursorChange), this.$onScrollTopChange = this.onScrollTopChange.bind(this), this.session.addEventListener("changeScrollTop", this.$onScrollTopChange), this.$onScrollLeftChange = this.onScrollLeftChange.bind(this), this.session.addEventListener("changeScrollLeft", this.$onScrollLeftChange), this.selection = a.getSelection(), this.selection.addEventListener("changeCursor", this.$onCursorChange), this.$onSelectionChange = this.onSelectionChange.bind(this), this.selection.addEventListener("changeSelection", this.$onSelectionChange), this.onChangeMode(), this.$blockScrolling += 1, this.onCursorChange(), this.$blockScrolling -= 1, this.onScrollTopChange(), this.onScrollLeftChange(), this.onSelectionChange(), this.onChangeFrontMarker(), this.onChangeBackMarker(), this.onChangeBreakpoint(), this.onChangeAnnotation(), this.session.getUseWrapMode() && this.renderer.adjustWrapLimit(), this.renderer.updateFull()) : (this.selection = null, this.renderer.setSession(a)), this._signal("changeSession", {
                    session: a,
                    oldSession: b
                }), b && b._signal("changeEditor", {oldEditor: this}), a && a._signal("changeEditor", {editor: this})
            }
        }, this.getSession = function () {
            return this.session
        }, this.setValue = function (a, b) {
            return this.session.doc.setValue(a), b ? 1 == b ? this.navigateFileEnd() : -1 == b && this.navigateFileStart() : this.selectAll(), a
        }, this.getValue = function () {
            return this.session.getValue()
        }, this.getSelection = function () {
            return this.selection
        }, this.resize = function (a) {
            this.renderer.onResize(a)
        }, this.setTheme = function (a, b) {
            this.renderer.setTheme(a, b)
        }, this.getTheme = function () {
            return this.renderer.getTheme()
        }, this.setStyle = function (a) {
            this.renderer.setStyle(a)
        }, this.unsetStyle = function (a) {
            this.renderer.unsetStyle(a)
        }, this.getFontSize = function () {
            return this.getOption("fontSize") || d.computedStyle(this.container, "fontSize")
        }, this.setFontSize = function (a) {
            this.setOption("fontSize", a)
        }, this.$highlightBrackets = function () {
            if (this.session.$bracketHighlight && (this.session.removeMarker(this.session.$bracketHighlight), this.session.$bracketHighlight = null), !this.$highlightPending) {
                var a = this;
                this.$highlightPending = !0, setTimeout(function () {
                    a.$highlightPending = !1;
                    var b = a.session;
                    if (b && b.bgTokenizer) {
                        var c = b.findMatchingBracket(a.getCursorPosition());
                        if (c)var d = new m(c.row, c.column, c.row, c.column + 1); else if (b.$mode.getMatching)var d = b.$mode.getMatching(a.session);
                        d && (b.$bracketHighlight = b.addMarker(d, "ace_bracket", "text"))
                    }
                }, 50)
            }
        }, this.$highlightTags = function () {
            if (!this.$highlightTagPending) {
                var a = this;
                this.$highlightTagPending = !0, setTimeout(function () {
                    a.$highlightTagPending = !1;
                    var b = a.session;
                    if (b && b.bgTokenizer) {
                        var c = a.getCursorPosition(), d = new r(a.session, c.row, c.column), e = d.getCurrentToken();
                        if (!e || !/\b(?:tag-open|tag-name)/.test(e.type))return b.removeMarker(b.$tagHighlight), void(b.$tagHighlight = null);
                        if (-1 == e.type.indexOf("tag-open") || (e = d.stepForward())) {
                            var f = e.value, g = 0, h = d.stepBackward();
                            if ("<" == h.value) {
                                do h = e, e = d.stepForward(), e && e.value === f && -1 !== e.type.indexOf("tag-name") && ("<" === h.value ? g++ : "</" === h.value && g--); while (e && g >= 0)
                            } else {
                                do e = h, h = d.stepBackward(), e && e.value === f && -1 !== e.type.indexOf("tag-name") && ("<" === h.value ? g++ : "</" === h.value && g--); while (h && 0 >= g);
                                d.stepForward()
                            }
                            if (!e)return b.removeMarker(b.$tagHighlight), void(b.$tagHighlight = null);
                            var i = d.getCurrentTokenRow(), j = d.getCurrentTokenColumn(), k = new m(i, j, i, j + e.value.length);
                            b.$tagHighlight && 0 !== k.compareRange(b.$backMarkers[b.$tagHighlight].range) && (b.removeMarker(b.$tagHighlight), b.$tagHighlight = null), k && !b.$tagHighlight && (b.$tagHighlight = b.addMarker(k, "ace_bracket", "text"))
                        }
                    }
                }, 50)
            }
        }, this.focus = function () {
            var a = this;
            setTimeout(function () {
                a.textInput.focus()
            }), this.textInput.focus()
        }, this.isFocused = function () {
            return this.textInput.isFocused()
        }, this.blur = function () {
            this.textInput.blur()
        }, this.onFocus = function (a) {
            this.$isFocused || (this.$isFocused = !0, this.renderer.showCursor(), this.renderer.visualizeFocus(), this._emit("focus", a))
        }, this.onBlur = function (a) {
            this.$isFocused && (this.$isFocused = !1, this.renderer.hideCursor(), this.renderer.visualizeBlur(), this._emit("blur", a))
        }, this.$cursorChange = function () {
            this.renderer.updateCursor()
        }, this.onDocumentChange = function (a) {
            var b, c = a.data, d = c.range;
            b = d.start.row == d.end.row && "insertLines" != c.action && "removeLines" != c.action ? d.end.row : 1 / 0, this.renderer.updateLines(d.start.row, b, this.session.$useWrapMode), this._signal("change", a), this.$cursorChange(), this.$updateHighlightActiveLine()
        }, this.onTokenizerUpdate = function (a) {
            var b = a.data;
            this.renderer.updateLines(b.first, b.last)
        }, this.onScrollTopChange = function () {
            this.renderer.scrollToY(this.session.getScrollTop())
        }, this.onScrollLeftChange = function () {
            this.renderer.scrollToX(this.session.getScrollLeft())
        }, this.onCursorChange = function () {
            this.$cursorChange(), this.$blockScrolling || (q.warn("Automatically scrolling cursor into view after selection change", "this will be disabled in the next version", "set editor.$blockScrolling = Infinity to disable this message"), this.renderer.scrollCursorIntoView()), this.$highlightBrackets(), this.$highlightTags(), this.$updateHighlightActiveLine(), this._signal("changeSelection")
        }, this.$updateHighlightActiveLine = function () {
            var a, b = this.getSession();
            if (this.$highlightActiveLine && ("line" == this.$selectionStyle && this.selection.isMultiLine() || (a = this.getCursorPosition()), !this.renderer.$maxLines || 1 !== this.session.getLength() || this.renderer.$minLines > 1 || (a = !1)), b.$highlightLineMarker && !a)b.removeMarker(b.$highlightLineMarker.id), b.$highlightLineMarker = null; else if (!b.$highlightLineMarker && a) {
                var c = new m(a.row, a.column, a.row, 1 / 0);
                c.id = b.addMarker(c, "ace_active-line", "screenLine"), b.$highlightLineMarker = c
            } else a && (b.$highlightLineMarker.start.row = a.row, b.$highlightLineMarker.end.row = a.row, b.$highlightLineMarker.start.column = a.column, b._signal("changeBackMarker"))
        }, this.onSelectionChange = function () {
            var a = this.session;
            if (a.$selectionMarker && a.removeMarker(a.$selectionMarker), a.$selectionMarker = null, this.selection.isEmpty())this.$updateHighlightActiveLine(); else {
                var b = this.selection.getRange(), c = this.getSelectionStyle();
                a.$selectionMarker = a.addMarker(b, "ace_selection", c)
            }
            var d = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();
            this.session.highlight(d), this._signal("changeSelection")
        }, this.$getSelectionHighLightRegexp = function () {
            var a = this.session, b = this.getSelectionRange();
            if (!b.isEmpty() && !b.isMultiLine()) {
                var c = b.start.column - 1, d = b.end.column + 1, e = a.getLine(b.start.row), f = e.length, g = e.substring(Math.max(c, 0), Math.min(d, f));
                if (!(c >= 0 && /^[\w\d]/.test(g) || f >= d && /[\w\d]$/.test(g)) && (g = e.substring(b.start.column, b.end.column), /^[\w\d]+$/.test(g))) {
                    var h = this.$search.$assembleRegExp({wholeWord: !0, caseSensitive: !0, needle: g});
                    return h
                }
            }
        }, this.onChangeFrontMarker = function () {
            this.renderer.updateFrontMarkers()
        }, this.onChangeBackMarker = function () {
            this.renderer.updateBackMarkers()
        }, this.onChangeBreakpoint = function () {
            this.renderer.updateBreakpoints()
        }, this.onChangeAnnotation = function () {
            this.renderer.setAnnotations(this.session.getAnnotations())
        }, this.onChangeMode = function (a) {
            this.renderer.updateText(), this._emit("changeMode", a)
        }, this.onChangeWrapLimit = function () {
            this.renderer.updateFull()
        }, this.onChangeWrapMode = function () {
            this.renderer.onResize(!0)
        }, this.onChangeFold = function () {
            this.$updateHighlightActiveLine(), this.renderer.updateFull()
        }, this.getSelectedText = function () {
            return this.session.getTextRange(this.getSelectionRange())
        }, this.getCopyText = function () {
            var a = this.getSelectedText();
            return this._signal("copy", a), a
        }, this.onCopy = function () {
            this.commands.exec("copy", this)
        }, this.onCut = function () {
            this.commands.exec("cut", this)
        }, this.onPaste = function (a) {
            if (!this.$readOnly) {
                var b = {text: a};
                if (this._signal("paste", b), a = b.text, !this.inMultiSelectMode || this.inVirtualSelectionMode)this.insert(a); else {
                    var c = a.split(/\r\n|\r|\n/), d = this.selection.rangeList.ranges;
                    if (c.length > d.length || c.length < 2 || !c[1])return this.commands.exec("insertstring", this, a);
                    for (var e = d.length; e--;) {
                        var f = d[e];
                        f.isEmpty() || this.session.remove(f), this.session.insert(f.start, c[e])
                    }
                }
                this.renderer.scrollCursorIntoView()
            }
        }, this.execCommand = function (a, b) {
            return this.commands.exec(a, this, b)
        }, this.insert = function (a, b) {
            var c = this.session, d = c.getMode(), e = this.getCursorPosition();
            if (this.getBehavioursEnabled() && !b) {
                var f = d.transformAction(c.getState(e.row), "insertion", this, c, a);
                f && (a !== f.text && (this.session.mergeUndoDeltas = !1, this.$mergeNextCommand = !1), a = f.text)
            }
            if ("	" == a && (a = this.session.getTabString()), this.selection.isEmpty()) {
                if (this.session.getOverwrite()) {
                    var g = new m.fromPoints(e, e);
                    g.end.column += a.length, this.session.remove(g)
                }
            } else {
                var g = this.getSelectionRange();
                e = this.session.remove(g), this.clearSelection()
            }
            if ("\n" == a || "\r\n" == a) {
                var h = c.getLine(e.row);
                if (e.column > h.search(/\S|$/)) {
                    var i = h.substr(e.column).search(/\S|$/);
                    c.doc.removeInLine(e.row, e.column, e.column + i)
                }
            }
            this.clearSelection();
            {
                var j = e.column, k = c.getState(e.row), h = c.getLine(e.row), l = d.checkOutdent(k, h, a);
                c.insert(e, a)
            }
            if (f && f.selection && this.selection.setSelectionRange(2 == f.selection.length ? new m(e.row, j + f.selection[0], e.row, j + f.selection[1]) : new m(e.row + f.selection[0], f.selection[1], e.row + f.selection[2], f.selection[3])), c.getDocument().isNewLine(a)) {
                var n = d.getNextLineIndent(k, h.slice(0, e.column), c.getTabString());
                c.insert({row: e.row + 1, column: 0}, n)
            }
            l && d.autoOutdent(k, c, e.row)
        }, this.onTextInput = function (a) {
            this.keyBinding.onTextInput(a)
        }, this.onCommandKey = function (a, b, c) {
            this.keyBinding.onCommandKey(a, b, c)
        }, this.setOverwrite = function (a) {
            this.session.setOverwrite(a)
        }, this.getOverwrite = function () {
            return this.session.getOverwrite()
        }, this.toggleOverwrite = function () {
            this.session.toggleOverwrite()
        }, this.setScrollSpeed = function (a) {
            this.setOption("scrollSpeed", a)
        }, this.getScrollSpeed = function () {
            return this.getOption("scrollSpeed")
        }, this.setDragDelay = function (a) {
            this.setOption("dragDelay", a)
        }, this.getDragDelay = function () {
            return this.getOption("dragDelay")
        }, this.setSelectionStyle = function (a) {
            this.setOption("selectionStyle", a)
        }, this.getSelectionStyle = function () {
            return this.getOption("selectionStyle")
        }, this.setHighlightActiveLine = function (a) {
            this.setOption("highlightActiveLine", a)
        }, this.getHighlightActiveLine = function () {
            return this.getOption("highlightActiveLine")
        }, this.setHighlightGutterLine = function (a) {
            this.setOption("highlightGutterLine", a)
        }, this.getHighlightGutterLine = function () {
            return this.getOption("highlightGutterLine")
        }, this.setHighlightSelectedWord = function (a) {
            this.setOption("highlightSelectedWord", a)
        }, this.getHighlightSelectedWord = function () {
            return this.$highlightSelectedWord
        }, this.setAnimatedScroll = function (a) {
            this.renderer.setAnimatedScroll(a)
        }, this.getAnimatedScroll = function () {
            return this.renderer.getAnimatedScroll()
        }, this.setShowInvisibles = function (a) {
            this.renderer.setShowInvisibles(a)
        }, this.getShowInvisibles = function () {
            return this.renderer.getShowInvisibles()
        }, this.setDisplayIndentGuides = function (a) {
            this.renderer.setDisplayIndentGuides(a)
        }, this.getDisplayIndentGuides = function () {
            return this.renderer.getDisplayIndentGuides()
        }, this.setShowPrintMargin = function (a) {
            this.renderer.setShowPrintMargin(a)
        }, this.getShowPrintMargin = function () {
            return this.renderer.getShowPrintMargin()
        }, this.setPrintMarginColumn = function (a) {
            this.renderer.setPrintMarginColumn(a)
        }, this.getPrintMarginColumn = function () {
            return this.renderer.getPrintMarginColumn()
        }, this.setReadOnly = function (a) {
            this.setOption("readOnly", a)
        }, this.getReadOnly = function () {
            return this.getOption("readOnly")
        }, this.setBehavioursEnabled = function (a) {
            this.setOption("behavioursEnabled", a)
        }, this.getBehavioursEnabled = function () {
            return this.getOption("behavioursEnabled")
        }, this.setWrapBehavioursEnabled = function (a) {
            this.setOption("wrapBehavioursEnabled", a)
        }, this.getWrapBehavioursEnabled = function () {
            return this.getOption("wrapBehavioursEnabled")
        }, this.setShowFoldWidgets = function (a) {
            this.setOption("showFoldWidgets", a)
        }, this.getShowFoldWidgets = function () {
            return this.getOption("showFoldWidgets")
        }, this.setFadeFoldWidgets = function (a) {
            this.setOption("fadeFoldWidgets", a)
        }, this.getFadeFoldWidgets = function () {
            return this.getOption("fadeFoldWidgets")
        }, this.remove = function (a) {
            this.selection.isEmpty() && ("left" == a ? this.selection.selectLeft() : this.selection.selectRight());
            var b = this.getSelectionRange();
            if (this.getBehavioursEnabled()) {
                var c = this.session, d = c.getState(b.start.row), e = c.getMode().transformAction(d, "deletion", this, c, b);
                if (0 === b.end.column) {
                    var f = c.getTextRange(b);
                    if ("\n" == f[f.length - 1]) {
                        var g = c.getLine(b.end.row);
                        /^\s+$/.test(g) && (b.end.column = g.length)
                    }
                }
                e && (b = e)
            }
            this.session.remove(b), this.clearSelection()
        }, this.removeWordRight = function () {
            this.selection.isEmpty() && this.selection.selectWordRight(), this.session.remove(this.getSelectionRange()), this.clearSelection()
        }, this.removeWordLeft = function () {
            this.selection.isEmpty() && this.selection.selectWordLeft(), this.session.remove(this.getSelectionRange()), this.clearSelection()
        }, this.removeToLineStart = function () {
            this.selection.isEmpty() && this.selection.selectLineStart(), this.session.remove(this.getSelectionRange()), this.clearSelection()
        }, this.removeToLineEnd = function () {
            this.selection.isEmpty() && this.selection.selectLineEnd();
            var a = this.getSelectionRange();
            a.start.column == a.end.column && a.start.row == a.end.row && (a.end.column = 0, a.end.row++), this.session.remove(a), this.clearSelection()
        }, this.splitLine = function () {
            this.selection.isEmpty() || (this.session.remove(this.getSelectionRange()), this.clearSelection());
            var a = this.getCursorPosition();
            this.insert("\n"), this.moveCursorToPosition(a)
        }, this.transposeLetters = function () {
            if (this.selection.isEmpty()) {
                var a = this.getCursorPosition(), b = a.column;
                if (0 !== b) {
                    var c, d, e = this.session.getLine(a.row);
                    b < e.length ? (c = e.charAt(b) + e.charAt(b - 1), d = new m(a.row, b - 1, a.row, b + 1)) : (c = e.charAt(b - 1) + e.charAt(b - 2), d = new m(a.row, b - 2, a.row, b)), this.session.replace(d, c)
                }
            }
        }, this.toLowerCase = function () {
            var a = this.getSelectionRange();
            this.selection.isEmpty() && this.selection.selectWord();
            var b = this.getSelectionRange(), c = this.session.getTextRange(b);
            this.session.replace(b, c.toLowerCase()), this.selection.setSelectionRange(a)
        }, this.toUpperCase = function () {
            var a = this.getSelectionRange();
            this.selection.isEmpty() && this.selection.selectWord();
            var b = this.getSelectionRange(), c = this.session.getTextRange(b);
            this.session.replace(b, c.toUpperCase()), this.selection.setSelectionRange(a)
        }, this.indent = function () {
            var a = this.session, b = this.getSelectionRange();
            if (b.start.row < b.end.row) {
                var c = this.$getSelectedRows();
                return void a.indentRows(c.first, c.last, "	")
            }
            if (b.start.column < b.end.column) {
                var d = a.getTextRange(b);
                if (!/^\s+$/.test(d)) {
                    var c = this.$getSelectedRows();
                    return void a.indentRows(c.first, c.last, "	")
                }
            }
            var f = a.getLine(b.start.row), g = b.start, h = a.getTabSize(), i = a.documentToScreenColumn(g.row, g.column);
            if (this.session.getUseSoftTabs())var j = h - i % h, k = e.stringRepeat(" ", j); else {
                for (var j = i % h; " " == f[b.start.column] && j;)b.start.column--, j--;
                this.selection.setSelectionRange(b), k = "	"
            }
            return this.insert(k)
        }, this.blockIndent = function () {
            var a = this.$getSelectedRows();
            this.session.indentRows(a.first, a.last, "	")
        },this.blockOutdent = function () {
            var a = this.session.getSelection();
            this.session.outdentRows(a.getRange())
        },this.sortLines = function () {
            var a = this.$getSelectedRows(), b = this.session, c = [];
            for (e = a.first; e <= a.last; e++)c.push(b.getLine(e));
            c.sort(function (a, b) {
                return a.toLowerCase() < b.toLowerCase() ? -1 : a.toLowerCase() > b.toLowerCase() ? 1 : 0
            });
            for (var d = new m(0, 0, 0, 0), e = a.first; e <= a.last; e++) {
                var f = b.getLine(e);
                d.start.row = e, d.end.row = e, d.end.column = f.length, b.replace(d, c[e - a.first])
            }
        },this.toggleCommentLines = function () {
            var a = this.session.getState(this.getCursorPosition().row), b = this.$getSelectedRows();
            this.session.getMode().toggleCommentLines(a, this.session, b.first, b.last)
        },this.toggleBlockComment = function () {
            var a = this.getCursorPosition(), b = this.session.getState(a.row), c = this.getSelectionRange();
            this.session.getMode().toggleBlockComment(b, this.session, c, a)
        },this.getNumberAt = function (a, b) {
            var c = /[\-]?[0-9]+(?:\.[0-9]+)?/g;
            c.lastIndex = 0;
            for (var d = this.session.getLine(a); c.lastIndex < b;) {
                var e = c.exec(d);
                if (e.index <= b && e.index + e[0].length >= b) {
                    var f = {value: e[0], start: e.index, end: e.index + e[0].length};
                    return f
                }
            }
            return null
        },this.modifyNumber = function (a) {
            var b = this.selection.getCursor().row, c = this.selection.getCursor().column, d = new m(b, c - 1, b, c), e = this.session.getTextRange(d);
            if (!isNaN(parseFloat(e)) && isFinite(e)) {
                var f = this.getNumberAt(b, c);
                if (f) {
                    var g = f.value.indexOf(".") >= 0 ? f.start + f.value.indexOf(".") + 1 : f.end, h = f.start + f.value.length - g, i = parseFloat(f.value);
                    i *= Math.pow(10, h), a *= g !== f.end && g > c ? Math.pow(10, f.end - c - 1) : Math.pow(10, f.end - c), i += a, i /= Math.pow(10, h);
                    var j = i.toFixed(h), k = new m(b, f.start, b, f.end);
                    this.session.replace(k, j), this.moveCursorTo(b, Math.max(f.start + 1, c + j.length - f.value.length))
                }
            }
        },this.removeLines = function () {
            var a, b = this.$getSelectedRows();
            a = 0 === b.first || b.last + 1 < this.session.getLength() ? new m(b.first, 0, b.last + 1, 0) : new m(b.first - 1, this.session.getLine(b.first - 1).length, b.last, this.session.getLine(b.last).length), this.session.remove(a), this.clearSelection()
        },this.duplicateSelection = function () {
            var a = this.selection, b = this.session, c = a.getRange(), d = a.isBackwards();
            if (c.isEmpty()) {
                var e = c.start.row;
                b.duplicateLines(e, e)
            } else {
                var f = d ? c.start : c.end, g = b.insert(f, b.getTextRange(c), !1);
                c.start = f, c.end = g, a.setSelectionRange(c, d)
            }
        },this.moveLinesDown = function () {
            this.$moveLines(1, !1)
        },this.moveLinesUp = function () {
            this.$moveLines(-1, !1)
        },this.moveText = function (a, b, c) {
            return this.session.moveText(a, b, c)
        },this.copyLinesUp = function () {
            this.$moveLines(-1, !0)
        },this.copyLinesDown = function () {
            this.$moveLines(1, !0)
        },this.$moveLines = function (a, b) {
            var c, d, e = this.selection;
            if (!e.inMultiSelectMode || this.inVirtualSelectionMode) {
                var f = e.toOrientedRange();
                c = this.$getSelectedRows(f), d = this.session.$moveLines(c.first, c.last, b ? 0 : a), b && -1 == a && (d = 0), f.moveBy(d, 0), e.fromOrientedRange(f)
            } else {
                var g = e.rangeList.ranges;
                e.rangeList.detach(this.session), this.inVirtualSelectionMode = !0;
                for (var h = 0, i = 0, j = g.length, k = 0; j > k; k++) {
                    var l = k;
                    g[k].moveBy(h, 0), c = this.$getSelectedRows(g[k]);
                    for (var m = c.first, n = c.last; ++k < j;) {
                        i && g[k].moveBy(i, 0);
                        var o = this.$getSelectedRows(g[k]);
                        if (b && o.first != n)break;
                        if (!b && o.first > n + 1)break;
                        n = o.last
                    }
                    for (k--, h = this.session.$moveLines(m, n, b ? 0 : a), b && -1 == a && (l = k + 1); k >= l;)g[l].moveBy(h, 0), l++;
                    b || (h = 0), i += h
                }
                e.fromOrientedRange(e.ranges[0]), e.rangeList.attach(this.session), this.inVirtualSelectionMode = !1
            }
        },this.$getSelectedRows = function (a) {
            return a = (a || this.getSelectionRange()).collapseRows(), {
                first: this.session.getRowFoldStart(a.start.row),
                last: this.session.getRowFoldEnd(a.end.row)
            }
        },this.onCompositionStart = function () {
            this.renderer.showComposition(this.getCursorPosition())
        },this.onCompositionUpdate = function (a) {
            this.renderer.setCompositionText(a)
        },this.onCompositionEnd = function () {
            this.renderer.hideComposition()
        },this.getFirstVisibleRow = function () {
            return this.renderer.getFirstVisibleRow()
        },this.getLastVisibleRow = function () {
            return this.renderer.getLastVisibleRow()
        },this.isRowVisible = function (a) {
            return a >= this.getFirstVisibleRow() && a <= this.getLastVisibleRow()
        },this.isRowFullyVisible = function (a) {
            return a >= this.renderer.getFirstFullyVisibleRow() && a <= this.renderer.getLastFullyVisibleRow()
        },this.$getVisibleRowCount = function () {
            return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1
        },this.$moveByPage = function (a, b) {
            var c = this.renderer, d = this.renderer.layerConfig, e = a * Math.floor(d.height / d.lineHeight);
            this.$blockScrolling++, b === !0 ? this.selection.$moveSelection(function () {
                this.moveCursorBy(e, 0)
            }) : b === !1 && (this.selection.moveCursorBy(e, 0), this.selection.clearSelection()), this.$blockScrolling--;
            var f = c.scrollTop;
            c.scrollBy(0, e * d.lineHeight), null != b && c.scrollCursorIntoView(null, .5), c.animateScrolling(f)
        },this.selectPageDown = function () {
            this.$moveByPage(1, !0)
        },this.selectPageUp = function () {
            this.$moveByPage(-1, !0)
        },this.gotoPageDown = function () {
            this.$moveByPage(1, !1)
        },this.gotoPageUp = function () {
            this.$moveByPage(-1, !1)
        },this.scrollPageDown = function () {
            this.$moveByPage(1)
        },this.scrollPageUp = function () {
            this.$moveByPage(-1)
        },this.scrollToRow = function (a) {
            this.renderer.scrollToRow(a)
        },this.scrollToLine = function (a, b, c, d) {
            this.renderer.scrollToLine(a, b, c, d)
        },this.centerSelection = function () {
            var a = this.getSelectionRange(), b = {
                row: Math.floor(a.start.row + (a.end.row - a.start.row) / 2),
                column: Math.floor(a.start.column + (a.end.column - a.start.column) / 2)
            };
            this.renderer.alignCursor(b, .5)
        },this.getCursorPosition = function () {
            return this.selection.getCursor()
        },this.getCursorPositionScreen = function () {
            return this.session.documentToScreenPosition(this.getCursorPosition())
        },this.getSelectionRange = function () {
            return this.selection.getRange()
        },this.selectAll = function () {
            this.$blockScrolling += 1, this.selection.selectAll(), this.$blockScrolling -= 1
        },this.clearSelection = function () {
            this.selection.clearSelection()
        },this.moveCursorTo = function (a, b) {
            this.selection.moveCursorTo(a, b)
        },this.moveCursorToPosition = function (a) {
            this.selection.moveCursorToPosition(a)
        },this.jumpToMatching = function (a, b) {
            var c = this.getCursorPosition(), d = new r(this.session, c.row, c.column), e = d.getCurrentToken(), f = e || d.stepForward();
            if (f) {
                var g, h, i = !1, j = {}, k = c.column - f.start, l = {
                    ")": "(",
                    "(": "(",
                    "]": "[",
                    "[": "[",
                    "{": "{",
                    "}": "{"
                };
                do {
                    if (f.value.match(/[{}()\[\]]/g)) {
                        for (; k < f.value.length && !i; k++)if (l[f.value[k]])switch (h = l[f.value[k]] + "." + f.type.replace("rparen", "lparen"), isNaN(j[h]) && (j[h] = 0), f.value[k]) {
                            case"(":
                            case"[":
                            case"{":
                                j[h]++;
                                break;
                            case")":
                            case"]":
                            case"}":
                                j[h]--, -1 === j[h] && (g = "bracket", i = !0)
                        }
                    } else f && -1 !== f.type.indexOf("tag-name") && (isNaN(j[f.value]) && (j[f.value] = 0), "<" === e.value ? j[f.value]++ : "</" === e.value && j[f.value]--, -1 === j[f.value] && (g = "tag", i = !0));
                    i || (e = f, f = d.stepForward(), k = 0)
                } while (f && !i);
                if (g) {
                    var n, o;
                    if ("bracket" === g)n = this.session.getBracketRange(c), n || (n = new m(d.getCurrentTokenRow(), d.getCurrentTokenColumn() + k - 1, d.getCurrentTokenRow(), d.getCurrentTokenColumn() + k - 1), o = n.start, (b || o.row === c.row && Math.abs(o.column - c.column) < 2) && (n = this.session.getBracketRange(o))); else if ("tag" === g) {
                        if (!f || -1 === f.type.indexOf("tag-name"))return;
                        var p = f.value;
                        if (n = new m(d.getCurrentTokenRow(), d.getCurrentTokenColumn() - 2, d.getCurrentTokenRow(), d.getCurrentTokenColumn() - 2), 0 === n.compare(c.row, c.column)) {
                            i = !1;
                            do f = e, e = d.stepBackward(), e && (-1 !== e.type.indexOf("tag-close") && n.setEnd(d.getCurrentTokenRow(), d.getCurrentTokenColumn() + 1), f.value === p && -1 !== f.type.indexOf("tag-name") && ("<" === e.value ? j[p]++ : "</" === e.value && j[p]--, 0 === j[p] && (i = !0))); while (e && !i)
                        }
                        f && f.type.indexOf("tag-name") && (o = n.start, o.row == c.row && Math.abs(o.column - c.column) < 2 && (o = n.end))
                    }
                    o = n && n.cursor || o, o && (a ? n && b ? this.selection.setRange(n) : n && n.isEqual(this.getSelectionRange()) ? this.clearSelection() : this.selection.selectTo(o.row, o.column) : this.selection.moveTo(o.row, o.column))
                }
            }
        },this.gotoLine = function (a, b, c) {
            this.selection.clearSelection(), this.session.unfold({
                row: a - 1,
                column: b || 0
            }), this.$blockScrolling += 1, this.exitMultiSelectMode && this.exitMultiSelectMode(), this.moveCursorTo(a - 1, b || 0), this.$blockScrolling -= 1, this.isRowFullyVisible(a - 1) || this.scrollToLine(a - 1, !0, c)
        },this.navigateTo = function (a, b) {
            this.selection.moveTo(a, b)
        },this.navigateUp = function (a) {
            if (this.selection.isMultiLine() && !this.selection.isBackwards()) {
                var b = this.selection.anchor.getPosition();
                return this.moveCursorToPosition(b)
            }
            this.selection.clearSelection(), this.selection.moveCursorBy(-a || -1, 0)
        },this.navigateDown = function (a) {
            if (this.selection.isMultiLine() && this.selection.isBackwards()) {
                var b = this.selection.anchor.getPosition();
                return this.moveCursorToPosition(b)
            }
            this.selection.clearSelection(), this.selection.moveCursorBy(a || 1, 0)
        },this.navigateLeft = function (a) {
            if (this.selection.isEmpty())for (a = a || 1; a--;)this.selection.moveCursorLeft(); else {
                var b = this.getSelectionRange().start;
                this.moveCursorToPosition(b)
            }
            this.clearSelection()
        },this.navigateRight = function (a) {
            if (this.selection.isEmpty())for (a = a || 1; a--;)this.selection.moveCursorRight(); else {
                var b = this.getSelectionRange().end;
                this.moveCursorToPosition(b)
            }
            this.clearSelection()
        },this.navigateLineStart = function () {
            this.selection.moveCursorLineStart(), this.clearSelection()
        },this.navigateLineEnd = function () {
            this.selection.moveCursorLineEnd(), this.clearSelection()
        },this.navigateFileEnd = function () {
            this.selection.moveCursorFileEnd(), this.clearSelection()
        },this.navigateFileStart = function () {
            this.selection.moveCursorFileStart(), this.clearSelection()
        },this.navigateWordRight = function () {
            this.selection.moveCursorWordRight(), this.clearSelection()
        },this.navigateWordLeft = function () {
            this.selection.moveCursorWordLeft(), this.clearSelection()
        },this.replace = function (a, b) {
            b && this.$search.set(b);
            var c = this.$search.find(this.session), d = 0;
            return c ? (this.$tryReplace(c, a) && (d = 1), null !== c && (this.selection.setSelectionRange(c), this.renderer.scrollSelectionIntoView(c.start, c.end)), d) : d
        },this.replaceAll = function (a, b) {
            b && this.$search.set(b);
            var c = this.$search.findAll(this.session), d = 0;
            if (!c.length)return d;
            this.$blockScrolling += 1;
            var e = this.getSelectionRange();
            this.selection.moveTo(0, 0);
            for (var f = c.length - 1; f >= 0; --f)this.$tryReplace(c[f], a) && d++;
            return this.selection.setSelectionRange(e), this.$blockScrolling -= 1, d
        },this.$tryReplace = function (a, b) {
            var c = this.session.getTextRange(a);
            return b = this.$search.replace(c, b), null !== b ? (a.end = this.session.replace(a, b), a) : null
        },this.getLastSearchOptions = function () {
            return this.$search.getOptions()
        },this.find = function (a, b, d) {
            b || (b = {}), "string" == typeof a || a instanceof RegExp ? b.needle = a : "object" == typeof a && c.mixin(b, a);
            var e = this.selection.getRange();
            null == b.needle && (a = this.session.getTextRange(e) || this.$search.$options.needle, a || (e = this.session.getWordRange(e.start.row, e.start.column), a = this.session.getTextRange(e)), this.$search.set({needle: a})), this.$search.set(b), b.start || this.$search.set({start: e});
            var f = this.$search.find(this.session);
            return b.preventScroll ? f : f ? (this.revealRange(f, d), f) : (b.backwards ? e.start = e.end : e.end = e.start, void this.selection.setRange(e))
        },this.findNext = function (a, b) {
            this.find({skipCurrent: !0, backwards: !1}, a, b)
        },this.findPrevious = function (a, b) {
            this.find(a, {skipCurrent: !0, backwards: !0}, b)
        },this.revealRange = function (a, b) {
            this.$blockScrolling += 1, this.session.unfold(a), this.selection.setSelectionRange(a), this.$blockScrolling -= 1;
            var c = this.renderer.scrollTop;
            this.renderer.scrollSelectionIntoView(a.start, a.end, .5), b !== !1 && this.renderer.animateScrolling(c)
        },this.undo = function () {
            this.$blockScrolling++, this.session.getUndoManager().undo(), this.$blockScrolling--, this.renderer.scrollCursorIntoView(null, .5)
        },this.redo = function () {
            this.$blockScrolling++, this.session.getUndoManager().redo(), this.$blockScrolling--, this.renderer.scrollCursorIntoView(null, .5)
        },this.destroy = function () {
            this.renderer.destroy(), this._signal("destroy", this), this.session && this.session.destroy()
        },this.setAutoScrollEditorIntoView = function (a) {
            if (a) {
                var b, c = this, d = !1;
                this.$scrollAnchor || (this.$scrollAnchor = document.createElement("div"));
                var e = this.$scrollAnchor;
                e.style.cssText = "position:absolute", this.container.insertBefore(e, this.container.firstChild);
                var f = this.on("changeSelection", function () {
                    d = !0
                }), g = this.renderer.on("beforeRender", function () {
                    d && (b = c.renderer.container.getBoundingClientRect())
                }), h = this.renderer.on("afterRender", function () {
                    if (d && b && (c.isFocused() || c.searchBox && c.searchBox.isFocused())) {
                        var a = c.renderer, f = a.$cursorLayer.$pixelPos, g = a.layerConfig, h = f.top - g.offset;
                        d = f.top >= 0 && h + b.top < 0 ? !0 : f.top < g.height && f.top + b.top + g.lineHeight > window.innerHeight ? !1 : null, null != d && (e.style.top = h + "px", e.style.left = f.left + "px", e.style.height = g.lineHeight + "px", e.scrollIntoView(d)), d = b = null
                    }
                });
                this.setAutoScrollEditorIntoView = function (a) {
                    a || (delete this.setAutoScrollEditorIntoView, this.removeEventListener("changeSelection", f), this.renderer.removeEventListener("afterRender", h), this.renderer.removeEventListener("beforeRender", g))
                }
            }
        },this.$resetCursorStyle = function () {
            var a = this.$cursorStyle || "ace", b = this.renderer.$cursorLayer;
            b && (b.setSmoothBlinking(/smooth/.test(a)), b.isBlinking = !this.$readOnly && "wide" != a, d.setCssClass(b.element, "ace_slim-cursors", /slim/.test(a)))
        }
    }).call(s.prototype), q.defineOptions(s.prototype, "editor", {
        selectionStyle: {
            set: function (a) {
                this.onSelectionChange(), this._signal("changeSelectionStyle", {data: a})
            }, initialValue: "line"
        },
        highlightActiveLine: {
            set: function () {
                this.$updateHighlightActiveLine()
            }, initialValue: !0
        },
        highlightSelectedWord: {
            set: function () {
                this.$onSelectionChange()
            }, initialValue: !0
        },
        readOnly: {
            set: function () {
                this.$resetCursorStyle()
            }, initialValue: !1
        },
        cursorStyle: {
            set: function () {
                this.$resetCursorStyle()
            }, values: ["ace", "slim", "smooth", "wide"], initialValue: "ace"
        },
        mergeUndoDeltas: {values: [!1, !0, "always"], initialValue: !0},
        behavioursEnabled: {initialValue: !0},
        wrapBehavioursEnabled: {initialValue: !0},
        autoScrollEditorIntoView: {
            set: function (a) {
                this.setAutoScrollEditorIntoView(a)
            }
        },
        hScrollBarAlwaysVisible: "renderer",
        vScrollBarAlwaysVisible: "renderer",
        highlightGutterLine: "renderer",
        animatedScroll: "renderer",
        showInvisibles: "renderer",
        showPrintMargin: "renderer",
        printMarginColumn: "renderer",
        printMargin: "renderer",
        fadeFoldWidgets: "renderer",
        showFoldWidgets: "renderer",
        showLineNumbers: "renderer",
        showGutter: "renderer",
        displayIndentGuides: "renderer",
        fontSize: "renderer",
        fontFamily: "renderer",
        maxLines: "renderer",
        minLines: "renderer",
        scrollPastEnd: "renderer",
        fixedWidthGutter: "renderer",
        theme: "renderer",
        scrollSpeed: "$mouseHandler",
        dragDelay: "$mouseHandler",
        dragEnabled: "$mouseHandler",
        focusTimout: "$mouseHandler",
        tooltipFollowsMouse: "$mouseHandler",
        firstLineNumber: "session",
        overwrite: "session",
        newLineMode: "session",
        useWorker: "session",
        useSoftTabs: "session",
        tabSize: "session",
        wrap: "session",
        foldStyle: "session",
        mode: "session"
    }), b.Editor = s
}), define("ace/undomanager", ["require", "exports", "module"], function (a, b) {
    "use strict";
    var c = function () {
        this.reset()
    };
    (function () {
        this.execute = function (a) {
            var b = a.args[0];
            this.$doc = a.args[1], a.merge && this.hasUndo() && (this.dirtyCounter--, b = this.$undoStack.pop().concat(b)), this.$undoStack.push(b), this.$redoStack = [], this.dirtyCounter < 0 && (this.dirtyCounter = 0 / 0), this.dirtyCounter++
        }, this.undo = function (a) {
            var b = this.$undoStack.pop(), c = null;
            return b && (c = this.$doc.undoChanges(b, a), this.$redoStack.push(b), this.dirtyCounter--), c
        }, this.redo = function (a) {
            var b = this.$redoStack.pop(), c = null;
            return b && (c = this.$doc.redoChanges(b, a), this.$undoStack.push(b), this.dirtyCounter++), c
        }, this.reset = function () {
            this.$undoStack = [], this.$redoStack = [], this.dirtyCounter = 0
        }, this.hasUndo = function () {
            return this.$undoStack.length > 0
        }, this.hasRedo = function () {
            return this.$redoStack.length > 0
        }, this.markClean = function () {
            this.dirtyCounter = 0
        }, this.isClean = function () {
            return 0 === this.dirtyCounter
        }
    }).call(c.prototype), b.UndoManager = c
}), define("ace/layer/gutter", ["require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter"], function (a, b) {
    "use strict";
    var c = a("../lib/dom"), d = a("../lib/oop"), e = a("../lib/lang"), f = a("../lib/event_emitter").EventEmitter, g = function (a) {
        this.element = c.createElement("div"), this.element.className = "ace_layer ace_gutter-layer", a.appendChild(this.element), this.setShowFoldWidgets(this.$showFoldWidgets), this.gutterWidth = 0, this.$annotations = [], this.$updateAnnotations = this.$updateAnnotations.bind(this), this.$cells = []
    };
    (function () {
        d.implement(this, f), this.setSession = function (a) {
            this.session && this.session.removeEventListener("change", this.$updateAnnotations), this.session = a, a && a.on("change", this.$updateAnnotations)
        }, this.addGutterDecoration = function (a, b) {
            window.console && console.warn && console.warn("deprecated use session.addGutterDecoration"), this.session.addGutterDecoration(a, b)
        }, this.removeGutterDecoration = function (a, b) {
            window.console && console.warn && console.warn("deprecated use session.removeGutterDecoration"), this.session.removeGutterDecoration(a, b)
        }, this.setAnnotations = function (a) {
            this.$annotations = [];
            for (var b = 0; b < a.length; b++) {
                var c = a[b], d = c.row, f = this.$annotations[d];
                f || (f = this.$annotations[d] = {text: []});
                var g = c.text;
                g = g ? e.escapeHTML(g) : c.html || "", -1 === f.text.indexOf(g) && f.text.push(g);
                var h = c.type;
                "error" == h ? f.className = " ace_error" : "warning" == h && " ace_error" != f.className ? f.className = " ace_warning" : "info" != h || f.className || (f.className = " ace_info")
            }
        }, this.$updateAnnotations = function (a) {
            if (this.$annotations.length) {
                var b = a.data, c = b.range, d = c.start.row, e = c.end.row - d;
                if (0 === e); else if ("removeText" == b.action || "removeLines" == b.action)this.$annotations.splice(d, e + 1, null); else {
                    var f = new Array(e + 1);
                    f.unshift(d, 1), this.$annotations.splice.apply(this.$annotations, f)
                }
            }
        }, this.update = function (a) {
            for (var b = this.session, d = a.firstRow, e = Math.min(a.lastRow + a.gutterOffset, b.getLength() - 1), f = b.getNextFoldLine(d), g = f ? f.start.row : 1 / 0, h = this.$showFoldWidgets && b.foldWidgets, i = b.$breakpoints, j = b.$decorations, k = b.$firstLineNumber, l = 0, m = b.gutterRenderer || this.$renderer, n = null, o = -1, p = d; ;) {
                if (p > g && (p = f.end.row + 1, f = b.getNextFoldLine(p, f), g = f ? f.start.row : 1 / 0), p > e) {
                    for (; this.$cells.length > o + 1;)n = this.$cells.pop(), this.element.removeChild(n.element);
                    break
                }
                n = this.$cells[++o], n || (n = {
                    element: null,
                    textNode: null,
                    foldWidget: null
                }, n.element = c.createElement("div"), n.textNode = document.createTextNode(""), n.element.appendChild(n.textNode), this.element.appendChild(n.element), this.$cells[o] = n);
                var q = "ace_gutter-cell ";
                i[p] && (q += i[p]), j[p] && (q += j[p]), this.$annotations[p] && (q += this.$annotations[p].className), n.element.className != q && (n.element.className = q);
                var r = b.getRowLength(p) * a.lineHeight + "px";
                if (r != n.element.style.height && (n.element.style.height = r), h) {
                    var s = h[p];
                    null == s && (s = h[p] = b.getFoldWidget(p))
                }
                if (s) {
                    n.foldWidget || (n.foldWidget = c.createElement("span"), n.element.appendChild(n.foldWidget));
                    var q = "ace_fold-widget ace_" + s;
                    q += "start" == s && p == g && p < f.end.row ? " ace_closed" : " ace_open", n.foldWidget.className != q && (n.foldWidget.className = q);
                    var r = a.lineHeight + "px";
                    n.foldWidget.style.height != r && (n.foldWidget.style.height = r)
                } else n.foldWidget && (n.element.removeChild(n.foldWidget), n.foldWidget = null);
                var t = l = m ? m.getText(b, p) : p + k;
                t != n.textNode.data && (n.textNode.data = t), p++
            }
            this.element.style.height = a.minHeight + "px", (this.$fixedWidth || b.$useWrapMode) && (l = b.getLength() + k);
            var u = m ? m.getWidth(b, l, a) : l.toString().length * a.characterWidth, v = this.$padding || this.$computePadding();
            u += v.left + v.right, u === this.gutterWidth || isNaN(u) || (this.gutterWidth = u, this.element.style.width = Math.ceil(this.gutterWidth) + "px", this._emit("changeGutterWidth", u))
        }, this.$fixedWidth = !1, this.$showLineNumbers = !0, this.$renderer = "", this.setShowLineNumbers = function (a) {
            this.$renderer = !a && {
                getWidth: function () {
                    return ""
                }, getText: function () {
                    return ""
                }
            }
        }, this.getShowLineNumbers = function () {
            return this.$showLineNumbers
        }, this.$showFoldWidgets = !0, this.setShowFoldWidgets = function (a) {
            a ? c.addCssClass(this.element, "ace_folding-enabled") : c.removeCssClass(this.element, "ace_folding-enabled"), this.$showFoldWidgets = a, this.$padding = null
        }, this.getShowFoldWidgets = function () {
            return this.$showFoldWidgets
        }, this.$computePadding = function () {
            if (!this.element.firstChild)return {left: 0, right: 0};
            var a = c.computedStyle(this.element.firstChild);
            return this.$padding = {}, this.$padding.left = parseInt(a.paddingLeft) + 1 || 0, this.$padding.right = parseInt(a.paddingRight) || 0, this.$padding
        }, this.getRegion = function (a) {
            var b = this.$padding || this.$computePadding(), c = this.element.getBoundingClientRect();
            return a.x < b.left + c.left ? "markers" : this.$showFoldWidgets && a.x > c.right - b.right ? "foldWidgets" : void 0
        }
    }).call(g.prototype), b.Gutter = g
}), define("ace/layer/marker", ["require", "exports", "module", "ace/range", "ace/lib/dom"], function (a, b) {
    "use strict";
    var c = a("../range").Range, d = a("../lib/dom"), e = function (a) {
        this.element = d.createElement("div"), this.element.className = "ace_layer ace_marker-layer", a.appendChild(this.element)
    };
    (function () {
        this.$padding = 0, this.setPadding = function (a) {
            this.$padding = a
        }, this.setSession = function (a) {
            this.session = a
        }, this.setMarkers = function (a) {
            this.markers = a
        }, this.update = function (a) {
            var a = a || this.config;
            if (a) {
                this.config = a;
                var b = [];
                for (var c in this.markers) {
                    var d = this.markers[c];
                    if (d.range) {
                        var e = d.range.clipRows(a.firstRow, a.lastRow);
                        if (!e.isEmpty())if (e = e.toScreenRange(this.session), d.renderer) {
                            var f = this.$getTop(e.start.row, a), g = this.$padding + e.start.column * a.characterWidth;
                            d.renderer(b, e, g, f, a)
                        } else"fullLine" == d.type ? this.drawFullLineMarker(b, e, d.clazz, a) : "screenLine" == d.type ? this.drawScreenLineMarker(b, e, d.clazz, a) : e.isMultiLine() ? "text" == d.type ? this.drawTextMarker(b, e, d.clazz, a) : this.drawMultiLineMarker(b, e, d.clazz, a) : this.drawSingleLineMarker(b, e, d.clazz + " ace_start", a)
                    } else d.update(b, this, this.session, a)
                }
                this.element.innerHTML = b.join("")
            }
        }, this.$getTop = function (a, b) {
            return (a - b.firstRowScreen) * b.lineHeight
        }, this.drawTextMarker = function (a, b, d, e, f) {
            var g = b.start.row, h = new c(g, b.start.column, g, this.session.getScreenLastRowColumn(g));
            for (this.drawSingleLineMarker(a, h, d + " ace_start", e, 1, f), g = b.end.row, h = new c(g, 0, g, b.end.column), this.drawSingleLineMarker(a, h, d, e, 0, f), g = b.start.row + 1; g < b.end.row; g++)h.start.row = g, h.end.row = g, h.end.column = this.session.getScreenLastRowColumn(g), this.drawSingleLineMarker(a, h, d, e, 1, f)
        }, this.drawMultiLineMarker = function (a, b, c, d, e) {
            var f = this.$padding, g = d.lineHeight, h = this.$getTop(b.start.row, d), i = f + b.start.column * d.characterWidth;
            e = e || "", a.push("<div class='", c, " ace_start' style='", "height:", g, "px;", "right:0;", "top:", h, "px;", "left:", i, "px;", e, "'></div>"), h = this.$getTop(b.end.row, d);
            var j = b.end.column * d.characterWidth;
            a.push("<div class='", c, "' style='", "height:", g, "px;", "width:", j, "px;", "top:", h, "px;", "left:", f, "px;", e, "'></div>"), g = (b.end.row - b.start.row - 1) * d.lineHeight, 0 > g || (h = this.$getTop(b.start.row + 1, d), a.push("<div class='", c, "' style='", "height:", g, "px;", "right:0;", "top:", h, "px;", "left:", f, "px;", e, "'></div>"))
        }, this.drawSingleLineMarker = function (a, b, c, d, e, f) {
            var g = d.lineHeight, h = (b.end.column + (e || 0) - b.start.column) * d.characterWidth, i = this.$getTop(b.start.row, d), j = this.$padding + b.start.column * d.characterWidth;
            a.push("<div class='", c, "' style='", "height:", g, "px;", "width:", h, "px;", "top:", i, "px;", "left:", j, "px;", f || "", "'></div>")
        }, this.drawFullLineMarker = function (a, b, c, d, e) {
            var f = this.$getTop(b.start.row, d), g = d.lineHeight;
            b.start.row != b.end.row && (g += this.$getTop(b.end.row, d) - f), a.push("<div class='", c, "' style='", "height:", g, "px;", "top:", f, "px;", "left:0;right:0;", e || "", "'></div>")
        }, this.drawScreenLineMarker = function (a, b, c, d, e) {
            var f = this.$getTop(b.start.row, d), g = d.lineHeight;
            a.push("<div class='", c, "' style='", "height:", g, "px;", "top:", f, "px;", "left:0;right:0;", e || "", "'></div>")
        }
    }).call(e.prototype), b.Marker = e
}), define("ace/layer/text", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/lib/event_emitter"], function (a, b) {
    "use strict";
    var c = a("../lib/oop"), d = a("../lib/dom"), e = a("../lib/lang"), f = (a("../lib/useragent"), a("../lib/event_emitter").EventEmitter), g = function (a) {
        this.element = d.createElement("div"), this.element.className = "ace_layer ace_text-layer", a.appendChild(this.element), this.$updateEolChar = this.$updateEolChar.bind(this)
    };
    (function () {
        c.implement(this, f), this.EOF_CHAR = "¶", this.EOL_CHAR_LF = "¬", this.EOL_CHAR_CRLF = "¤", this.EOL_CHAR = this.EOL_CHAR_LF, this.TAB_CHAR = "→", this.SPACE_CHAR = "·", this.$padding = 0, this.$updateEolChar = function () {
            var a = "\n" == this.session.doc.getNewLineCharacter() ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;
            return this.EOL_CHAR != a ? (this.EOL_CHAR = a, !0) : void 0
        }, this.setPadding = function (a) {
            this.$padding = a, this.element.style.padding = "0 " + a + "px"
        }, this.getLineHeight = function () {
            return this.$fontMetrics.$characterSize.height || 0
        }, this.getCharacterWidth = function () {
            return this.$fontMetrics.$characterSize.width || 0
        }, this.$setFontMetrics = function (a) {
            this.$fontMetrics = a, this.$fontMetrics.on("changeCharacterSize", function (a) {
                this._signal("changeCharacterSize", a)
            }.bind(this)), this.$pollSizeChanges()
        }, this.checkForSizeChanges = function () {
            this.$fontMetrics.checkForSizeChanges()
        }, this.$pollSizeChanges = function () {
            return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges()
        }, this.setSession = function (a) {
            this.session = a, a && this.$computeTabString()
        }, this.showInvisibles = !1, this.setShowInvisibles = function (a) {
            return this.showInvisibles == a ? !1 : (this.showInvisibles = a, this.$computeTabString(), !0)
        }, this.displayIndentGuides = !0, this.setDisplayIndentGuides = function (a) {
            return this.displayIndentGuides == a ? !1 : (this.displayIndentGuides = a, this.$computeTabString(), !0)
        }, this.$tabStrings = [], this.onChangeTabSize = this.$computeTabString = function () {
            var a = this.session.getTabSize();
            this.tabSize = a;
            for (var b = this.$tabStrings = [0], c = 1; a + 1 > c; c++)b.push(this.showInvisibles ? "<span class='ace_invisible ace_invisible_tab'>" + this.TAB_CHAR + e.stringRepeat(" ", c - 1) + "</span>" : e.stringRepeat(" ", c));
            if (this.displayIndentGuides) {
                this.$indentGuideRe = /\s\S| \t|\t |\s$/;
                var d = "ace_indent-guide", f = "", g = "";
                if (this.showInvisibles) {
                    d += " ace_invisible", f = " ace_invisible_space", g = " ace_invisible_tab";
                    var h = e.stringRepeat(this.SPACE_CHAR, this.tabSize), i = this.TAB_CHAR + e.stringRepeat(" ", this.tabSize - 1)
                } else var h = e.stringRepeat(" ", this.tabSize), i = h;
                this.$tabStrings[" "] = "<span class='" + d + f + "'>" + h + "</span>", this.$tabStrings["	"] = "<span class='" + d + g + "'>" + i + "</span>"
            }
        }, this.updateLines = function (a, b, c) {
            (this.config.lastRow != a.lastRow || this.config.firstRow != a.firstRow) && this.scrollLines(a), this.config = a;
            for (var d = Math.max(b, a.firstRow), e = Math.min(c, a.lastRow), f = this.element.childNodes, g = 0, h = a.firstRow; d > h; h++) {
                var i = this.session.getFoldLine(h);
                if (i) {
                    if (i.containsRow(d)) {
                        d = i.start.row;
                        break
                    }
                    h = i.end.row
                }
                g++
            }
            for (var h = d, i = this.session.getNextFoldLine(h), j = i ? i.start.row : 1 / 0; ;) {
                if (h > j && (h = i.end.row + 1, i = this.session.getNextFoldLine(h, i), j = i ? i.start.row : 1 / 0), h > e)break;
                var k = f[g++];
                if (k) {
                    var l = [];
                    this.$renderLine(l, h, !this.$useLineGroups(), h == j ? i : !1), k.style.height = a.lineHeight * this.session.getRowLength(h) + "px", k.innerHTML = l.join("")
                }
                h++
            }
        }, this.scrollLines = function (a) {
            var b = this.config;
            if (this.config = a, !b || b.lastRow < a.firstRow)return this.update(a);
            if (a.lastRow < b.firstRow)return this.update(a);
            var c = this.element;
            if (b.firstRow < a.firstRow)for (var d = this.session.getFoldedRowCount(b.firstRow, a.firstRow - 1); d > 0; d--)c.removeChild(c.firstChild);
            if (b.lastRow > a.lastRow)for (var d = this.session.getFoldedRowCount(a.lastRow + 1, b.lastRow); d > 0; d--)c.removeChild(c.lastChild);
            if (a.firstRow < b.firstRow) {
                var e = this.$renderLinesFragment(a, a.firstRow, b.firstRow - 1);
                c.firstChild ? c.insertBefore(e, c.firstChild) : c.appendChild(e)
            }
            if (a.lastRow > b.lastRow) {
                var e = this.$renderLinesFragment(a, b.lastRow + 1, a.lastRow);
                c.appendChild(e)
            }
        }, this.$renderLinesFragment = function (a, b, c) {
            for (var e = this.element.ownerDocument.createDocumentFragment(), f = b, g = this.session.getNextFoldLine(f), h = g ? g.start.row : 1 / 0; ;) {
                if (f > h && (f = g.end.row + 1, g = this.session.getNextFoldLine(f, g), h = g ? g.start.row : 1 / 0), f > c)break;
                var i = d.createElement("div"), j = [];
                if (this.$renderLine(j, f, !1, f == h ? g : !1), i.innerHTML = j.join(""), this.$useLineGroups())i.className = "ace_line_group", e.appendChild(i), i.style.height = a.lineHeight * this.session.getRowLength(f) + "px"; else for (; i.firstChild;)e.appendChild(i.firstChild);
                f++
            }
            return e
        }, this.update = function (a) {
            this.config = a;
            for (var b = [], c = a.firstRow, d = a.lastRow, e = c, f = this.session.getNextFoldLine(e), g = f ? f.start.row : 1 / 0; ;) {
                if (e > g && (e = f.end.row + 1, f = this.session.getNextFoldLine(e, f), g = f ? f.start.row : 1 / 0), e > d)break;
                this.$useLineGroups() && b.push("<div class='ace_line_group' style='height:", a.lineHeight * this.session.getRowLength(e), "px'>"), this.$renderLine(b, e, !1, e == g ? f : !1), this.$useLineGroups() && b.push("</div>"), e++
            }
            this.element.innerHTML = b.join("")
        }, this.$textToken = {text: !0, rparen: !0, lparen: !0}, this.$renderToken = function (a, b, c, d) {
            var f = this, g = /\t|&|<|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g, h = function (a, c, d, g) {
                if (c)return f.showInvisibles ? "<span class='ace_invisible ace_invisible_space'>" + e.stringRepeat(f.SPACE_CHAR, a.length) + "</span>" : a;
                if ("&" == a)return "&#38;";
                if ("<" == a)return "&#60;";
                if ("	" == a) {
                    var h = f.session.getScreenTabSize(b + g);
                    return b += h - 1, f.$tabStrings[h]
                }
                if ("　" == a) {
                    var i = f.showInvisibles ? "ace_cjk ace_invisible ace_invisible_space" : "ace_cjk", j = f.showInvisibles ? f.SPACE_CHAR : "";
                    return b += 1, "<span class='" + i + "' style='width:" + 2 * f.config.characterWidth + "px'>" + j + "</span>"
                }
                return d ? "<span class='ace_invisible ace_invisible_space ace_invalid'>" + f.SPACE_CHAR + "</span>" : (b += 1, "<span class='ace_cjk' style='width:" + 2 * f.config.characterWidth + "px'>" + a + "</span>")
            }, i = d.replace(g, h);
            if (this.$textToken[c.type])a.push(i); else {
                var j = "ace_" + c.type.replace(/\./g, " ace_"), k = "";
                "fold" == c.type && (k = " style='width:" + c.value.length * this.config.characterWidth + "px;' "), a.push("<span class='", j, "'", k, ">", i, "</span>")
            }
            return b + d.length
        }, this.renderIndentGuide = function (a, b, c) {
            var d = b.search(this.$indentGuideRe);
            return 0 >= d || d >= c ? b : " " == b[0] ? (d -= d % this.tabSize, a.push(e.stringRepeat(this.$tabStrings[" "], d / this.tabSize)), b.substr(d)) : "	" == b[0] ? (a.push(e.stringRepeat(this.$tabStrings["	"], d)), b.substr(d)) : b
        }, this.$renderWrappedLine = function (a, b, c, d) {
            for (var e = 0, f = 0, g = c[0], h = 0, i = 0; i < b.length; i++) {
                var j = b[i], k = j.value;
                if (0 == i && this.displayIndentGuides) {
                    if (e = k.length, k = this.renderIndentGuide(a, k, g), !k)continue;
                    e -= k.length
                }
                if (e + k.length < g)h = this.$renderToken(a, h, j, k), e += k.length; else {
                    for (; e + k.length >= g;)h = this.$renderToken(a, h, j, k.substring(0, g - e)), k = k.substring(g - e), e = g, d || a.push("</div>", "<div class='ace_line' style='height:", this.config.lineHeight, "px'>"), f++, h = 0, g = c[f] || Number.MAX_VALUE;
                    0 != k.length && (e += k.length, h = this.$renderToken(a, h, j, k))
                }
            }
        }, this.$renderSimpleLine = function (a, b) {
            var c = 0, d = b[0], e = d.value;
            this.displayIndentGuides && (e = this.renderIndentGuide(a, e)), e && (c = this.$renderToken(a, c, d, e));
            for (var f = 1; f < b.length; f++)d = b[f], e = d.value, c = this.$renderToken(a, c, d, e)
        }, this.$renderLine = function (a, b, c, d) {
            if (d || 0 == d || (d = this.session.getFoldLine(b)), d)var e = this.$getFoldLineTokens(b, d); else var e = this.session.getTokens(b);
            if (c || a.push("<div class='ace_line' style='height:", this.config.lineHeight * (this.$useLineGroups() ? 1 : this.session.getRowLength(b)), "px'>"), e.length) {
                var f = this.session.getRowSplitData(b);
                f && f.length ? this.$renderWrappedLine(a, e, f, c) : this.$renderSimpleLine(a, e)
            }
            this.showInvisibles && (d && (b = d.end.row), a.push("<span class='ace_invisible ace_invisible_eol'>", b == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR, "</span>")), c || a.push("</div>")
        }, this.$getFoldLineTokens = function (a, b) {
            function c(a, b, c) {
                for (var d = 0, f = 0; f + a[d].value.length < b;)if (f += a[d].value.length, d++, d == a.length)return;
                if (f != b) {
                    var g = a[d].value.substring(b - f);
                    g.length > c - b && (g = g.substring(0, c - b)), e.push({
                        type: a[d].type,
                        value: g
                    }), f = b + g.length, d += 1
                }
                for (; c > f && d < a.length;) {
                    var g = a[d].value;
                    e.push(g.length + f > c ? {
                        type: a[d].type,
                        value: g.substring(0, c - f)
                    } : a[d]), f += g.length, d += 1
                }
            }

            var d = this.session, e = [], f = d.getTokens(a);
            return b.walk(function (a, b, g, h, i) {
                null != a ? e.push({type: "fold", value: a}) : (i && (f = d.getTokens(b)), f.length && c(f, h, g))
            }, b.end.row, this.session.getLine(b.end.row).length), e
        }, this.$useLineGroups = function () {
            return this.session.getUseWrapMode()
        }, this.destroy = function () {
            clearInterval(this.$pollSizeChangesTimer), this.$measureNode && this.$measureNode.parentNode.removeChild(this.$measureNode), delete this.$measureNode
        }
    }).call(g.prototype), b.Text = g
}), define("ace/layer/cursor", ["require", "exports", "module", "ace/lib/dom"], function (a, b) {
    "use strict";
    var c, d = a("../lib/dom"), e = function (a) {
        this.element = d.createElement("div"), this.element.className = "ace_layer ace_cursor-layer", a.appendChild(this.element), void 0 === c && (c = "opacity"in this.element), this.isVisible = !1, this.isBlinking = !0, this.blinkInterval = 1e3, this.smoothBlinking = !1, this.cursors = [], this.cursor = this.addCursor(), d.addCssClass(this.element, "ace_hidden-cursors"), this.$updateCursors = this.$updateVisibility.bind(this)
    };
    (function () {
        this.$updateVisibility = function (a) {
            for (var b = this.cursors, c = b.length; c--;)b[c].style.visibility = a ? "" : "hidden"
        }, this.$updateOpacity = function (a) {
            for (var b = this.cursors, c = b.length; c--;)b[c].style.opacity = a ? "" : "0"
        }, this.$padding = 0, this.setPadding = function (a) {
            this.$padding = a
        }, this.setSession = function (a) {
            this.session = a
        }, this.setBlinking = function (a) {
            a != this.isBlinking && (this.isBlinking = a, this.restartTimer())
        }, this.setBlinkInterval = function (a) {
            a != this.blinkInterval && (this.blinkInterval = a, this.restartTimer())
        }, this.setSmoothBlinking = function (a) {
            a == this.smoothBlinking || c || (this.smoothBlinking = a, d.setCssClass(this.element, "ace_smooth-blinking", a), this.$updateCursors(!0), this.$updateCursors = (a ? this.$updateOpacity : this.$updateVisibility).bind(this), this.restartTimer())
        }, this.addCursor = function () {
            var a = d.createElement("div");
            return a.className = "ace_cursor", this.element.appendChild(a), this.cursors.push(a), a
        }, this.removeCursor = function () {
            if (this.cursors.length > 1) {
                var a = this.cursors.pop();
                return a.parentNode.removeChild(a), a
            }
        }, this.hideCursor = function () {
            this.isVisible = !1, d.addCssClass(this.element, "ace_hidden-cursors"), this.restartTimer()
        }, this.showCursor = function () {
            this.isVisible = !0, d.removeCssClass(this.element, "ace_hidden-cursors"), this.restartTimer()
        }, this.restartTimer = function () {
            var a = this.$updateCursors;
            if (clearInterval(this.intervalId), clearTimeout(this.timeoutId), this.smoothBlinking && d.removeCssClass(this.element, "ace_smooth-blinking"), a(!0), this.isBlinking && this.blinkInterval && this.isVisible) {
                this.smoothBlinking && setTimeout(function () {
                    d.addCssClass(this.element, "ace_smooth-blinking")
                }.bind(this));
                var b = function () {
                    this.timeoutId = setTimeout(function () {
                        a(!1)
                    }, .6 * this.blinkInterval)
                }.bind(this);
                this.intervalId = setInterval(function () {
                    a(!0), b()
                }, this.blinkInterval), b()
            }
        }, this.getPixelPosition = function (a, b) {
            if (!this.config || !this.session)return {left: 0, top: 0};
            a || (a = this.session.selection.getCursor());
            var c = this.session.documentToScreenPosition(a), d = this.$padding + c.column * this.config.characterWidth, e = (c.row - (b ? this.config.firstRowScreen : 0)) * this.config.lineHeight;
            return {left: d, top: e}
        }, this.update = function (a) {
            this.config = a;
            var b = this.session.$selectionMarkers, c = 0, d = 0;
            (void 0 === b || 0 === b.length) && (b = [{cursor: null}]);
            for (var c = 0, e = b.length; e > c; c++) {
                var f = this.getPixelPosition(b[c].cursor, !0);
                if (!((f.top > a.height + a.offset || f.top < 0) && c > 1)) {
                    var g = (this.cursors[d++] || this.addCursor()).style;
                    this.drawCursor ? this.drawCursor(g, f, a, b[c], this.session) : (g.left = f.left + "px", g.top = f.top + "px", g.width = a.characterWidth + "px", g.height = a.lineHeight + "px")
                }
            }
            for (; this.cursors.length > d;)this.removeCursor();
            var h = this.session.getOverwrite();
            this.$setOverwrite(h), this.$pixelPos = f, this.restartTimer()
        }, this.drawCursor = null, this.$setOverwrite = function (a) {
            a != this.overwrite && (this.overwrite = a, a ? d.addCssClass(this.element, "ace_overwrite-cursors") : d.removeCssClass(this.element, "ace_overwrite-cursors"))
        }, this.destroy = function () {
            clearInterval(this.intervalId), clearTimeout(this.timeoutId)
        }
    }).call(e.prototype), b.Cursor = e
}), define("ace/scrollbar", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/event", "ace/lib/event_emitter"], function (a, b) {
    "use strict";
    var c = a("./lib/oop"), d = a("./lib/dom"), e = a("./lib/event"), f = a("./lib/event_emitter").EventEmitter, g = function (a) {
        this.element = d.createElement("div"), this.element.className = "ace_scrollbar ace_scrollbar" + this.classSuffix, this.inner = d.createElement("div"), this.inner.className = "ace_scrollbar-inner", this.element.appendChild(this.inner), a.appendChild(this.element), this.setVisible(!1), this.skipEvent = !1, e.addListener(this.element, "scroll", this.onScroll.bind(this)), e.addListener(this.element, "mousedown", e.preventDefault)
    };
    (function () {
        c.implement(this, f), this.setVisible = function (a) {
            this.element.style.display = a ? "" : "none", this.isVisible = a
        }
    }).call(g.prototype);
    var h = function (a, b) {
        g.call(this, a), this.scrollTop = 0, b.$scrollbarWidth = this.width = d.scrollbarWidth(a.ownerDocument), this.inner.style.width = this.element.style.width = (this.width || 15) + 5 + "px"
    };
    c.inherits(h, g), function () {
        this.classSuffix = "-v", this.onScroll = function () {
            this.skipEvent || (this.scrollTop = this.element.scrollTop, this._emit("scroll", {data: this.scrollTop})), this.skipEvent = !1
        }, this.getWidth = function () {
            return this.isVisible ? this.width : 0
        }, this.setHeight = function (a) {
            this.element.style.height = a + "px"
        }, this.setInnerHeight = function (a) {
            this.inner.style.height = a + "px"
        }, this.setScrollHeight = function (a) {
            this.inner.style.height = a + "px"
        }, this.setScrollTop = function (a) {
            this.scrollTop != a && (this.skipEvent = !0, this.scrollTop = this.element.scrollTop = a)
        }
    }.call(h.prototype);
    var i = function (a, b) {
        g.call(this, a), this.scrollLeft = 0, this.height = b.$scrollbarWidth, this.inner.style.height = this.element.style.height = (this.height || 15) + 5 + "px"
    };
    c.inherits(i, g), function () {
        this.classSuffix = "-h", this.onScroll = function () {
            this.skipEvent || (this.scrollLeft = this.element.scrollLeft, this._emit("scroll", {data: this.scrollLeft})), this.skipEvent = !1
        }, this.getHeight = function () {
            return this.isVisible ? this.height : 0
        }, this.setWidth = function (a) {
            this.element.style.width = a + "px"
        }, this.setInnerWidth = function (a) {
            this.inner.style.width = a + "px"
        }, this.setScrollWidth = function (a) {
            this.inner.style.width = a + "px"
        }, this.setScrollLeft = function (a) {
            this.scrollLeft != a && (this.skipEvent = !0, this.scrollLeft = this.element.scrollLeft = a)
        }
    }.call(i.prototype), b.ScrollBar = h, b.ScrollBarV = h, b.ScrollBarH = i, b.VScrollBar = h, b.HScrollBar = i
}), define("ace/renderloop", ["require", "exports", "module", "ace/lib/event"], function (a, b) {
    "use strict";
    var c = a("./lib/event"), d = function (a, b) {
        this.onRender = a, this.pending = !1, this.changes = 0, this.window = b || window
    };
    (function () {
        this.schedule = function (a) {
            if (this.changes = this.changes | a, !this.pending && this.changes) {
                this.pending = !0;
                var b = this;
                c.nextFrame(function () {
                    b.pending = !1;
                    for (var a; a = b.changes;)b.changes = 0, b.onRender(a)
                }, this.window)
            }
        }
    }).call(d.prototype), b.RenderLoop = d
}), define("ace/layer/font_metrics", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/lib/event_emitter"], function (a, b) {
    var c = a("../lib/oop"), d = a("../lib/dom"), e = a("../lib/lang"), f = a("../lib/useragent"), g = a("../lib/event_emitter").EventEmitter, h = 0, i = b.FontMetrics = function (a) {
        this.el = d.createElement("div"), this.$setMeasureNodeStyles(this.el.style, !0), this.$main = d.createElement("div"), this.$setMeasureNodeStyles(this.$main.style), this.$measureNode = d.createElement("div"), this.$setMeasureNodeStyles(this.$measureNode.style), this.el.appendChild(this.$main), this.el.appendChild(this.$measureNode), a.appendChild(this.el), h || this.$testFractionalRect(), this.$measureNode.innerHTML = e.stringRepeat("X", h), this.$characterSize = {
            width: 0,
            height: 0
        }, this.checkForSizeChanges()
    };
    (function () {
        c.implement(this, g), this.$characterSize = {width: 0, height: 0}, this.$testFractionalRect = function () {
            var a = d.createElement("div");
            this.$setMeasureNodeStyles(a.style), a.style.width = "0.2px", document.documentElement.appendChild(a);
            var b = a.getBoundingClientRect().width;
            h = b > 0 && 1 > b ? 50 : 100, a.parentNode.removeChild(a)
        }, this.$setMeasureNodeStyles = function (a, b) {
            a.width = a.height = "auto", a.left = a.top = "0px", a.visibility = "hidden", a.position = "absolute", a.whiteSpace = "pre", f.isIE < 8 ? a["font-family"] = "inherit" : a.font = "inherit", a.overflow = b ? "hidden" : "visible"
        }, this.checkForSizeChanges = function () {
            var a = this.$measureSizes();
            if (a && (this.$characterSize.width !== a.width || this.$characterSize.height !== a.height)) {
                this.$measureNode.style.fontWeight = "bold";
                var b = this.$measureSizes();
                this.$measureNode.style.fontWeight = "", this.$characterSize = a, this.charSizes = Object.create(null), this.allowBoldFonts = b && b.width === a.width && b.height === a.height, this._emit("changeCharacterSize", {data: a})
            }
        }, this.$pollSizeChanges = function () {
            if (this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;
            var a = this;
            return this.$pollSizeChangesTimer = setInterval(function () {
                a.checkForSizeChanges()
            }, 500)
        }, this.setPolling = function (a) {
            a ? this.$pollSizeChanges() : this.$pollSizeChangesTimer && this.$pollSizeChangesTimer
        }, this.$measureSizes = function () {
            if (50 === h) {
                var a = null;
                try {
                    a = this.$measureNode.getBoundingClientRect()
                } catch (b) {
                    a = {width: 0, height: 0}
                }
                var c = {height: a.height, width: a.width / h}
            } else var c = {height: this.$measureNode.clientHeight, width: this.$measureNode.clientWidth / h};
            return 0 === c.width || 0 === c.height ? null : c
        }, this.$measureCharWidth = function (a) {
            this.$main.innerHTML = e.stringRepeat(a, h);
            var b = this.$main.getBoundingClientRect();
            return b.width / h
        }, this.getCharacterWidth = function (a) {
            var b = this.charSizes[a];
            return void 0 === b && (this.charSizes[a] = this.$measureCharWidth(a) / this.$characterSize.width), b
        }, this.destroy = function () {
            clearInterval(this.$pollSizeChangesTimer), this.el && this.el.parentNode && this.el.parentNode.removeChild(this.el)
        }
    }).call(i.prototype)
}), define("ace/virtual_renderer", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/config", "ace/lib/useragent", "ace/layer/gutter", "ace/layer/marker", "ace/layer/text", "ace/layer/cursor", "ace/scrollbar", "ace/scrollbar", "ace/renderloop", "ace/layer/font_metrics", "ace/lib/event_emitter"], function (a, b) {
    "use strict";
    var c = a("./lib/oop"), d = a("./lib/dom"), e = a("./config"), f = a("./lib/useragent"), g = a("./layer/gutter").Gutter, h = a("./layer/marker").Marker, i = a("./layer/text").Text, j = a("./layer/cursor").Cursor, k = a("./scrollbar").HScrollBar, l = a("./scrollbar").VScrollBar, m = a("./renderloop").RenderLoop, n = a("./layer/font_metrics").FontMetrics, o = a("./lib/event_emitter").EventEmitter, p = '.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;/* jiawzhang NOTICE: change opacity to 0 below to fix bug github #161opacity: 1;*/opacity: 0;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}';
    d.importCssString(p, "ace_editor.css");
    var q = function (a, b) {
        var c = this;
        this.container = a || d.createElement("div"), this.$keepTextAreaAtCursor = !f.isOldIE, d.addCssClass(this.container, "ace_editor"), this.setTheme(b), this.$gutter = d.createElement("div"), this.$gutter.className = "ace_gutter", this.container.appendChild(this.$gutter), this.scroller = d.createElement("div"), this.scroller.className = "ace_scroller", this.container.appendChild(this.scroller), this.content = d.createElement("div"), this.content.className = "ace_content", this.scroller.appendChild(this.content), this.$gutterLayer = new g(this.$gutter), this.$gutterLayer.on("changeGutterWidth", this.onGutterResize.bind(this)), this.$markerBack = new h(this.content);
        var o = this.$textLayer = new i(this.content);
        this.canvas = o.element, this.$markerFront = new h(this.content), this.$cursorLayer = new j(this.content), this.$horizScroll = !1, this.$vScroll = !1, this.scrollBar = this.scrollBarV = new l(this.container, this), this.scrollBarH = new k(this.container, this), this.scrollBarV.addEventListener("scroll", function (a) {
            c.$scrollAnimation || c.session.setScrollTop(a.data - c.scrollMargin.top)
        }), this.scrollBarH.addEventListener("scroll", function (a) {
            c.$scrollAnimation || c.session.setScrollLeft(a.data - c.scrollMargin.left)
        }), this.scrollTop = 0, this.scrollLeft = 0, this.cursorPos = {
            row: 0,
            column: 0
        }, this.$fontMetrics = new n(this.container, 500), this.$textLayer.$setFontMetrics(this.$fontMetrics), this.$textLayer.addEventListener("changeCharacterSize", function (a) {
            c.updateCharacterSize(), c.onResize(!0, c.gutterWidth, c.$size.width, c.$size.height), c._signal("changeCharacterSize", a)
        }), this.$size = {
            width: 0,
            height: 0,
            scrollerHeight: 0,
            scrollerWidth: 0,
            $dirty: !0
        }, this.layerConfig = {
            width: 1,
            padding: 0,
            firstRow: 0,
            firstRowScreen: 0,
            lastRow: 0,
            lineHeight: 0,
            characterWidth: 0,
            minHeight: 1,
            maxHeight: 1,
            offset: 0,
            height: 1,
            gutterOffset: 1
        }, this.scrollMargin = {
            left: 0,
            right: 0,
            top: 0,
            bottom: 0,
            v: 0,
            h: 0
        }, this.$loop = new m(this.$renderChanges.bind(this), this.container.ownerDocument.defaultView), this.$loop.schedule(this.CHANGE_FULL), this.updateCharacterSize(), this.setPadding(4), e.resetOptions(this), e._emit("renderer", this)
    };
    (function () {
        this.CHANGE_CURSOR = 1, this.CHANGE_MARKER = 2, this.CHANGE_GUTTER = 4, this.CHANGE_SCROLL = 8, this.CHANGE_LINES = 16, this.CHANGE_TEXT = 32, this.CHANGE_SIZE = 64, this.CHANGE_MARKER_BACK = 128, this.CHANGE_MARKER_FRONT = 256, this.CHANGE_FULL = 512, this.CHANGE_H_SCROLL = 1024, c.implement(this, o), this.updateCharacterSize = function () {
            this.$textLayer.allowBoldFonts != this.$allowBoldFonts && (this.$allowBoldFonts = this.$textLayer.allowBoldFonts, this.setStyle("ace_nobold", !this.$allowBoldFonts)), this.layerConfig.characterWidth = this.characterWidth = this.$textLayer.getCharacterWidth(), this.layerConfig.lineHeight = this.lineHeight = this.$textLayer.getLineHeight(), this.$updatePrintMargin()
        }, this.setSession = function (a) {
            this.session && this.session.doc.off("changeNewLineMode", this.onChangeNewLineMode), this.session = a, a && this.scrollMargin.top && a.getScrollTop() <= 0 && a.setScrollTop(-this.scrollMargin.top), this.$cursorLayer.setSession(a), this.$markerBack.setSession(a), this.$markerFront.setSession(a), this.$gutterLayer.setSession(a), this.$textLayer.setSession(a), a && (this.$loop.schedule(this.CHANGE_FULL), this.session.$setFontMetrics(this.$fontMetrics), this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this), this.onChangeNewLineMode(), this.session.doc.on("changeNewLineMode", this.onChangeNewLineMode))
        }, this.updateLines = function (a, b, c) {
            if (void 0 === b && (b = 1 / 0), this.$changedLines ? (this.$changedLines.firstRow > a && (this.$changedLines.firstRow = a), this.$changedLines.lastRow < b && (this.$changedLines.lastRow = b)) : this.$changedLines = {
                    firstRow: a,
                    lastRow: b
                }, this.$changedLines.lastRow < this.layerConfig.firstRow) {
                if (!c)return;
                this.$changedLines.lastRow = this.layerConfig.lastRow
            }
            this.$changedLines.firstRow > this.layerConfig.lastRow || this.$loop.schedule(this.CHANGE_LINES)
        }, this.onChangeNewLineMode = function () {
            this.$loop.schedule(this.CHANGE_TEXT), this.$textLayer.$updateEolChar()
        }, this.onChangeTabSize = function () {
            this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER), this.$textLayer.onChangeTabSize()
        }, this.updateText = function () {
            this.$loop.schedule(this.CHANGE_TEXT)
        }, this.updateFull = function (a) {
            a ? this.$renderChanges(this.CHANGE_FULL, !0) : this.$loop.schedule(this.CHANGE_FULL)
        }, this.updateFontSize = function () {
            this.$textLayer.checkForSizeChanges()
        }, this.$changes = 0, this.$updateSizeAsync = function () {
            this.$loop.pending ? this.$size.$dirty = !0 : this.onResize()
        }, this.onResize = function (a, b, c, d) {
            if (!(this.resizing > 2)) {
                this.resizing > 0 ? this.resizing++ : this.resizing = a ? 1 : 0;
                var e = this.container;
                d || (d = e.clientHeight || e.scrollHeight), c || (c = e.clientWidth || e.scrollWidth);
                var f = this.$updateCachedSize(a, b, c, d);
                if (!this.$size.scrollerHeight || !c && !d)return this.resizing = 0;
                a && (this.$gutterLayer.$padding = null), a ? this.$renderChanges(f | this.$changes, !0) : this.$loop.schedule(f | this.$changes), this.resizing && (this.resizing = 0), this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null
            }
        }, this.$updateCachedSize = function (a, b, c, d) {
            d -= this.$extraHeight || 0;
            var e = 0, f = this.$size, g = {
                width: f.width,
                height: f.height,
                scrollerHeight: f.scrollerHeight,
                scrollerWidth: f.scrollerWidth
            };
            return d && (a || f.height != d) && (f.height = d, e |= this.CHANGE_SIZE, f.scrollerHeight = f.height, this.$horizScroll && (f.scrollerHeight -= this.scrollBarH.getHeight()), this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + "px", e |= this.CHANGE_SCROLL), c && (a || f.width != c) && (e |= this.CHANGE_SIZE, f.width = c, null == b && (b = this.$showGutter ? this.$gutter.offsetWidth : 0), this.gutterWidth = b, this.scrollBarH.element.style.left = this.scroller.style.left = b + "px", f.scrollerWidth = Math.max(0, c - b - this.scrollBarV.getWidth()), this.scrollBarH.element.style.right = this.scroller.style.right = this.scrollBarV.getWidth() + "px", this.scroller.style.bottom = this.scrollBarH.getHeight() + "px", (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || a) && (e |= this.CHANGE_FULL)), f.$dirty = !c || !d, e && this._signal("resize", g), e
        }, this.onGutterResize = function () {
            var a = this.$showGutter ? this.$gutter.offsetWidth : 0;
            a != this.gutterWidth && (this.$changes |= this.$updateCachedSize(!0, a, this.$size.width, this.$size.height)), this.session.getUseWrapMode() && this.adjustWrapLimit() ? this.$loop.schedule(this.CHANGE_FULL) : this.$size.$dirty ? this.$loop.schedule(this.CHANGE_FULL) : (this.$computeLayerConfig(), this.$loop.schedule(this.CHANGE_MARKER))
        }, this.adjustWrapLimit = function () {
            var a = this.$size.scrollerWidth - 2 * this.$padding, b = Math.floor(a / this.characterWidth);
            return this.session.adjustWrapLimit(b, this.$showPrintMargin && this.$printMarginColumn)
        }, this.setAnimatedScroll = function (a) {
            this.setOption("animatedScroll", a)
        }, this.getAnimatedScroll = function () {
            return this.$animatedScroll
        }, this.setShowInvisibles = function (a) {
            this.setOption("showInvisibles", a)
        }, this.getShowInvisibles = function () {
            return this.getOption("showInvisibles")
        }, this.getDisplayIndentGuides = function () {
            return this.getOption("displayIndentGuides")
        }, this.setDisplayIndentGuides = function (a) {
            this.setOption("displayIndentGuides", a)
        }, this.setShowPrintMargin = function (a) {
            this.setOption("showPrintMargin", a)
        }, this.getShowPrintMargin = function () {
            return this.getOption("showPrintMargin")
        }, this.setPrintMarginColumn = function (a) {
            this.setOption("printMarginColumn", a)
        }, this.getPrintMarginColumn = function () {
            return this.getOption("printMarginColumn")
        }, this.getShowGutter = function () {
            return this.getOption("showGutter")
        }, this.setShowGutter = function (a) {
            return this.setOption("showGutter", a)
        }, this.getFadeFoldWidgets = function () {
            return this.getOption("fadeFoldWidgets")
        }, this.setFadeFoldWidgets = function (a) {
            this.setOption("fadeFoldWidgets", a)
        }, this.setHighlightGutterLine = function (a) {
            this.setOption("highlightGutterLine", a)
        }, this.getHighlightGutterLine = function () {
            return this.getOption("highlightGutterLine")
        }, this.$updateGutterLineHighlight = function () {
            var a = this.$cursorLayer.$pixelPos, b = this.layerConfig.lineHeight;
            if (this.session.getUseWrapMode()) {
                var c = this.session.selection.getCursor();
                c.column = 0, a = this.$cursorLayer.getPixelPosition(c, !0), b *= this.session.getRowLength(c.row)
            }
            this.$gutterLineHighlight.style.top = a.top - this.layerConfig.offset + "px", this.$gutterLineHighlight.style.height = b + "px"
        }, this.$updatePrintMargin = function () {
            if (this.$showPrintMargin || this.$printMarginEl) {
                if (!this.$printMarginEl) {
                    var a = d.createElement("div");
                    a.className = "ace_layer ace_print-margin-layer", this.$printMarginEl = d.createElement("div"), this.$printMarginEl.className = "ace_print-margin", a.appendChild(this.$printMarginEl), this.content.insertBefore(a, this.content.firstChild)
                }
                var b = this.$printMarginEl.style;
                b.left = this.characterWidth * this.$printMarginColumn + this.$padding + "px", b.visibility = this.$showPrintMargin ? "visible" : "hidden", this.session && -1 == this.session.$wrap && this.adjustWrapLimit()
            }
        }, this.getContainerElement = function () {
            return this.container
        }, this.getMouseEventTarget = function () {
            return this.content
        }, this.getTextAreaContainer = function () {
            return this.container
        }, this.$moveTextAreaToCursor = function () {
            if (this.$keepTextAreaAtCursor) {
                var a = this.layerConfig, b = this.$cursorLayer.$pixelPos.top, c = this.$cursorLayer.$pixelPos.left;
                b -= a.offset;
                var d = this.textarea.style, e = this.lineHeight;
                if (0 > b || b > a.height - e)return void(d.top = d.left = "0");
                var f = this.characterWidth;
                if (this.$composition) {
                    var g = this.textarea.value.replace(/^\x01+/, "");
                    f *= this.session.$getStringScreenWidth(g)[0] + 2, e += 2
                }
                c -= this.scrollLeft, c > this.$size.scrollerWidth - f && (c = this.$size.scrollerWidth - f), c += this.gutterWidth, d.height = e + "px", d.width = f + "px", d.left = Math.min(c, this.$size.scrollerWidth - f) + "px", d.top = Math.min(b, this.$size.height - e) + "px"
            }
        }, this.getFirstVisibleRow = function () {
            return this.layerConfig.firstRow
        }, this.getFirstFullyVisibleRow = function () {
            return this.layerConfig.firstRow + (0 === this.layerConfig.offset ? 0 : 1)
        }, this.getLastFullyVisibleRow = function () {
            var a = Math.floor((this.layerConfig.height + this.layerConfig.offset) / this.layerConfig.lineHeight);
            return this.layerConfig.firstRow - 1 + a
        }, this.getLastVisibleRow = function () {
            return this.layerConfig.lastRow
        }, this.$padding = null, this.setPadding = function (a) {
            this.$padding = a, this.$textLayer.setPadding(a), this.$cursorLayer.setPadding(a), this.$markerFront.setPadding(a), this.$markerBack.setPadding(a), this.$loop.schedule(this.CHANGE_FULL), this.$updatePrintMargin()
        }, this.setScrollMargin = function (a, b, c, d) {
            var e = this.scrollMargin;
            e.top = 0 | a, e.bottom = 0 | b, e.right = 0 | d, e.left = 0 | c, e.v = e.top + e.bottom, e.h = e.left + e.right, e.top && this.scrollTop <= 0 && this.session && this.session.setScrollTop(-e.top), this.updateFull()
        }, this.getHScrollBarAlwaysVisible = function () {
            return this.$hScrollBarAlwaysVisible
        }, this.setHScrollBarAlwaysVisible = function (a) {
            this.setOption("hScrollBarAlwaysVisible", a)
        }, this.getVScrollBarAlwaysVisible = function () {
            return this.$vScrollBarAlwaysVisible
        }, this.setVScrollBarAlwaysVisible = function (a) {
            this.setOption("vScrollBarAlwaysVisible", a)
        }, this.$updateScrollBarV = function () {
            var a = this.layerConfig.maxHeight, b = this.$size.scrollerHeight;
            !this.$maxLines && this.$scrollPastEnd && (a -= (b - this.lineHeight) * this.$scrollPastEnd, this.scrollTop > a - b && (a = this.scrollTop + b, this.scrollBarV.scrollTop = null)), this.scrollBarV.setScrollHeight(a + this.scrollMargin.v), this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top)
        }, this.$updateScrollBarH = function () {
            this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h), this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left)
        }, this.$frozen = !1, this.freeze = function () {
            this.$frozen = !0
        }, this.unfreeze = function () {
            this.$frozen = !1
        }, this.$renderChanges = function (a, b) {
            if (this.$changes && (a |= this.$changes, this.$changes = 0), !this.session || !this.container.offsetWidth || this.$frozen || !a && !b)return void(this.$changes |= a);
            if (this.$size.$dirty)return this.$changes |= a, this.onResize(!0);
            this.lineHeight || this.$textLayer.checkForSizeChanges(), this._signal("beforeRender");
            var c = this.layerConfig;
            if (a & this.CHANGE_FULL || a & this.CHANGE_SIZE || a & this.CHANGE_TEXT || a & this.CHANGE_LINES || a & this.CHANGE_SCROLL || a & this.CHANGE_H_SCROLL) {
                if (a |= this.$computeLayerConfig(), c.firstRow != this.layerConfig.firstRow && c.firstRowScreen == this.layerConfig.firstRowScreen) {
                    var d = this.scrollTop + (c.firstRow - this.layerConfig.firstRow) * this.lineHeight;
                    d > 0 && (this.scrollTop = d, a |= this.CHANGE_SCROLL, a |= this.$computeLayerConfig())
                }
                c = this.layerConfig, this.$updateScrollBarV(), a & this.CHANGE_H_SCROLL && this.$updateScrollBarH(), this.$gutterLayer.element.style.marginTop = -c.offset + "px", this.content.style.marginTop = -c.offset + "px", this.content.style.width = c.width + 2 * this.$padding + "px", this.content.style.height = c.minHeight + "px"
            }
            return a & this.CHANGE_H_SCROLL && (this.content.style.marginLeft = -this.scrollLeft + "px", this.scroller.className = this.scrollLeft <= 0 ? "ace_scroller" : "ace_scroller ace_scroll-left"), a & this.CHANGE_FULL ? (this.$textLayer.update(c), this.$showGutter && this.$gutterLayer.update(c), this.$markerBack.update(c), this.$markerFront.update(c), this.$cursorLayer.update(c), this.$moveTextAreaToCursor(), this.$highlightGutterLine && this.$updateGutterLineHighlight(), void this._signal("afterRender")) : a & this.CHANGE_SCROLL ? (a & this.CHANGE_TEXT || a & this.CHANGE_LINES ? this.$textLayer.update(c) : this.$textLayer.scrollLines(c), this.$showGutter && this.$gutterLayer.update(c), this.$markerBack.update(c), this.$markerFront.update(c), this.$cursorLayer.update(c), this.$highlightGutterLine && this.$updateGutterLineHighlight(), this.$moveTextAreaToCursor(), void this._signal("afterRender")) : (a & this.CHANGE_TEXT ? (this.$textLayer.update(c), this.$showGutter && this.$gutterLayer.update(c)) : a & this.CHANGE_LINES ? (this.$updateLines() || a & this.CHANGE_GUTTER && this.$showGutter) && this.$gutterLayer.update(c) : (a & this.CHANGE_TEXT || a & this.CHANGE_GUTTER) && this.$showGutter && this.$gutterLayer.update(c), a & this.CHANGE_CURSOR && (this.$cursorLayer.update(c), this.$moveTextAreaToCursor(), this.$highlightGutterLine && this.$updateGutterLineHighlight()), a & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT) && this.$markerFront.update(c), a & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK) && this.$markerBack.update(c), void this._signal("afterRender"))
        }, this.$autosize = function () {
            var a = this.session.getScreenLength() * this.lineHeight, b = this.$maxLines * this.lineHeight, c = Math.max((this.$minLines || 1) * this.lineHeight, Math.min(b, a)) + this.scrollMargin.v + (this.$extraHeight || 0), d = a > b;
            if (c != this.desiredHeight || this.$size.height != this.desiredHeight || d != this.$vScroll) {
                d != this.$vScroll && (this.$vScroll = d, this.scrollBarV.setVisible(d));
                var e = this.container.clientWidth;
                this.container.style.height = c + "px", this.$updateCachedSize(!0, this.$gutterWidth, e, c), this.desiredHeight = c, this._signal("autosize")
            }
        }, this.$computeLayerConfig = function () {
            this.$maxLines && this.lineHeight > 1 && this.$autosize();
            var a = this.session, b = this.$size, c = b.height <= 2 * this.lineHeight, d = this.session.getScreenLength(), e = d * this.lineHeight, f = this.scrollTop % this.lineHeight, g = b.scrollerHeight + this.lineHeight, h = this.$getLongestLine(), i = !c && (this.$hScrollBarAlwaysVisible || b.scrollerWidth - h - 2 * this.$padding < 0), j = this.$horizScroll !== i;
            j && (this.$horizScroll = i, this.scrollBarH.setVisible(i));
            var k = !this.$maxLines && this.$scrollPastEnd ? (b.scrollerHeight - this.lineHeight) * this.$scrollPastEnd : 0;
            e += k, this.session.setScrollTop(Math.max(-this.scrollMargin.top, Math.min(this.scrollTop, e - b.scrollerHeight + this.scrollMargin.bottom))), this.session.setScrollLeft(Math.max(-this.scrollMargin.left, Math.min(this.scrollLeft, h + 2 * this.$padding - b.scrollerWidth + this.scrollMargin.right)));
            var l = !c && (this.$vScrollBarAlwaysVisible || b.scrollerHeight - e + k < 0 || this.scrollTop), m = this.$vScroll !== l;
            m && (this.$vScroll = l, this.scrollBarV.setVisible(l));
            var n, o, p = Math.ceil(g / this.lineHeight) - 1, q = Math.max(0, Math.round((this.scrollTop - f) / this.lineHeight)), r = q + p, s = this.lineHeight;
            q = a.screenToDocumentRow(q, 0);
            var t = a.getFoldLine(q);
            t && (q = t.start.row), n = a.documentToScreenRow(q, 0), o = a.getRowLength(q) * s, r = Math.min(a.screenToDocumentRow(r, 0), a.getLength() - 1), g = b.scrollerHeight + a.getRowLength(r) * s + o, f = this.scrollTop - n * s;
            var u = 0;
            return this.layerConfig.width != h && (u = this.CHANGE_H_SCROLL), (j || m) && (u = this.$updateCachedSize(!0, this.gutterWidth, b.width, b.height), this._signal("scrollbarVisibilityChanged"), m && (h = this.$getLongestLine())), this.layerConfig = {
                width: h,
                padding: this.$padding,
                firstRow: q,
                firstRowScreen: n,
                lastRow: r,
                lineHeight: s,
                characterWidth: this.characterWidth,
                minHeight: g,
                maxHeight: e,
                offset: f,
                gutterOffset: Math.max(0, Math.ceil((f + b.height - b.scrollerHeight) / s)),
                height: this.$size.scrollerHeight
            }, u
        }, this.$updateLines = function () {
            var a = this.$changedLines.firstRow, b = this.$changedLines.lastRow;
            this.$changedLines = null;
            var c = this.layerConfig;
            return a > c.lastRow + 1 || b < c.firstRow ? void 0 : 1 / 0 === b ? (this.$showGutter && this.$gutterLayer.update(c), void this.$textLayer.update(c)) : (this.$textLayer.updateLines(c, a, b), !0)
        }, this.$getLongestLine = function () {
            var a = this.session.getScreenWidth();
            return this.showInvisibles && !this.session.$useWrapMode && (a += 1), Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(a * this.characterWidth))
        }, this.updateFrontMarkers = function () {
            this.$markerFront.setMarkers(this.session.getMarkers(!0)), this.$loop.schedule(this.CHANGE_MARKER_FRONT)
        }, this.updateBackMarkers = function () {
            this.$markerBack.setMarkers(this.session.getMarkers()), this.$loop.schedule(this.CHANGE_MARKER_BACK)
        }, this.addGutterDecoration = function (a, b) {
            this.$gutterLayer.addGutterDecoration(a, b)
        }, this.removeGutterDecoration = function (a, b) {
            this.$gutterLayer.removeGutterDecoration(a, b)
        }, this.updateBreakpoints = function () {
            this.$loop.schedule(this.CHANGE_GUTTER)
        }, this.setAnnotations = function (a) {
            this.$gutterLayer.setAnnotations(a), this.$loop.schedule(this.CHANGE_GUTTER)
        }, this.updateCursor = function () {
            this.$loop.schedule(this.CHANGE_CURSOR)
        }, this.hideCursor = function () {
            this.$cursorLayer.hideCursor()
        }, this.showCursor = function () {
            this.$cursorLayer.showCursor()
        }, this.scrollSelectionIntoView = function (a, b, c) {
            this.scrollCursorIntoView(a, c), this.scrollCursorIntoView(b, c)
        }, this.scrollCursorIntoView = function (a, b, c) {
            if (0 !== this.$size.scrollerHeight) {
                var d = this.$cursorLayer.getPixelPosition(a), e = d.left, f = d.top, g = c && c.top || 0, h = c && c.bottom || 0, i = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;
                i + g > f ? (b && (f -= b * this.$size.scrollerHeight), 0 === f && (f = -this.scrollMargin.top), this.session.setScrollTop(f)) : i + this.$size.scrollerHeight - h < f + this.lineHeight && (b && (f += b * this.$size.scrollerHeight), this.session.setScrollTop(f + this.lineHeight - this.$size.scrollerHeight));
                var j = this.scrollLeft;
                j > e ? (e < this.$padding + 2 * this.layerConfig.characterWidth && (e = -this.scrollMargin.left), this.session.setScrollLeft(e)) : j + this.$size.scrollerWidth < e + this.characterWidth ? this.session.setScrollLeft(Math.round(e + this.characterWidth - this.$size.scrollerWidth)) : j <= this.$padding && e - j < this.characterWidth && this.session.setScrollLeft(0)
            }
        }, this.getScrollTop = function () {
            return this.session.getScrollTop()
        }, this.getScrollLeft = function () {
            return this.session.getScrollLeft()
        }, this.getScrollTopRow = function () {
            return this.scrollTop / this.lineHeight
        }, this.getScrollBottomRow = function () {
            return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1)
        }, this.scrollToRow = function (a) {
            this.session.setScrollTop(a * this.lineHeight)
        }, this.alignCursor = function (a, b) {
            "number" == typeof a && (a = {row: a, column: 0});
            var c = this.$cursorLayer.getPixelPosition(a), d = this.$size.scrollerHeight - this.lineHeight, e = c.top - d * (b || 0);
            return this.session.setScrollTop(e), e
        }, this.STEPS = 8, this.$calcSteps = function (a, b) {
            var c = 0, d = this.STEPS, e = [], f = function (a, b, c) {
                return c * (Math.pow(a - 1, 3) + 1) + b
            };
            for (c = 0; d > c; ++c)e.push(f(c / this.STEPS, a, b - a));
            return e
        }, this.scrollToLine = function (a, b, c, d) {
            var e = this.$cursorLayer.getPixelPosition({row: a, column: 0}), f = e.top;
            b && (f -= this.$size.scrollerHeight / 2);
            var g = this.scrollTop;
            this.session.setScrollTop(f), c !== !1 && this.animateScrolling(g, d)
        }, this.animateScrolling = function (a, b) {
            var c = this.scrollTop;
            if (this.$animatedScroll) {
                var d = this;
                if (a != c) {
                    if (this.$scrollAnimation) {
                        var e = this.$scrollAnimation.steps;
                        if (e.length && (a = e[0], a == c))return
                    }
                    var f = d.$calcSteps(a, c);
                    this.$scrollAnimation = {
                        from: a,
                        to: c,
                        steps: f
                    }, clearInterval(this.$timer), d.session.setScrollTop(f.shift()), d.session.$scrollTop = c, this.$timer = setInterval(function () {
                        f.length ? (d.session.setScrollTop(f.shift()), d.session.$scrollTop = c) : null != c ? (d.session.$scrollTop = -1, d.session.setScrollTop(c), c = null) : (d.$timer = clearInterval(d.$timer), d.$scrollAnimation = null, b && b())
                    }, 10)
                }
            }
        }, this.scrollToY = function (a) {
            this.scrollTop !== a && (this.$loop.schedule(this.CHANGE_SCROLL), this.scrollTop = a)
        }, this.scrollToX = function (a) {
            this.scrollLeft !== a && (this.scrollLeft = a), this.$loop.schedule(this.CHANGE_H_SCROLL)
        }, this.scrollTo = function (a, b) {
            this.session.setScrollTop(b), this.session.setScrollLeft(b)
        }, this.scrollBy = function (a, b) {
            b && this.session.setScrollTop(this.session.getScrollTop() + b), a && this.session.setScrollLeft(this.session.getScrollLeft() + a)
        }, this.isScrollableBy = function (a, b) {
            return 0 > b && this.session.getScrollTop() >= 1 - this.scrollMargin.top ? !0 : b > 0 && this.session.getScrollTop() + this.$size.scrollerHeight - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom ? !0 : 0 > a && this.session.getScrollLeft() >= 1 - this.scrollMargin.left ? !0 : a > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth - this.layerConfig.width < -1 + this.scrollMargin.right ? !0 : void 0
        }, this.pixelToScreenCoordinates = function (a, b) {
            var c = this.scroller.getBoundingClientRect(), d = (a + this.scrollLeft - c.left - this.$padding) / this.characterWidth, e = Math.floor((b + this.scrollTop - c.top) / this.lineHeight), f = Math.round(d);
            return {row: e, column: f, side: d - f > 0 ? 1 : -1}
        }, this.screenToTextCoordinates = function (a, b) {
            var c = this.scroller.getBoundingClientRect(), d = Math.round((a + this.scrollLeft - c.left - this.$padding) / this.characterWidth), e = (b + this.scrollTop - c.top) / this.lineHeight;
            return this.session.screenToDocumentPosition(e, Math.max(d, 0))
        }, this.textToScreenCoordinates = function (a, b) {
            var c = this.scroller.getBoundingClientRect(), d = this.session.documentToScreenPosition(a, b), e = this.$padding + Math.round(d.column * this.characterWidth), f = d.row * this.lineHeight;
            return {pageX: c.left + e - this.scrollLeft, pageY: c.top + f - this.scrollTop}
        }, this.visualizeFocus = function () {
            d.addCssClass(this.container, "ace_focus")
        }, this.visualizeBlur = function () {
            d.removeCssClass(this.container, "ace_focus")
        }, this.showComposition = function () {
            this.$composition || (this.$composition = {
                keepTextAreaAtCursor: this.$keepTextAreaAtCursor,
                cssText: this.textarea.style.cssText
            }), this.$keepTextAreaAtCursor = !0, d.addCssClass(this.textarea, "ace_composition"), this.textarea.style.cssText = "", this.$moveTextAreaToCursor()
        },this.setCompositionText = function () {
            this.$moveTextAreaToCursor()
        },this.hideComposition = function () {
            this.$composition && (d.removeCssClass(this.textarea, "ace_composition"), this.$keepTextAreaAtCursor = this.$composition.keepTextAreaAtCursor, this.textarea.style.cssText = this.$composition.cssText, this.$composition = null)
        },this.setTheme = function (a, b) {
            function c(c) {
                if (f.$themeId != a)return b && b();
                if (c.cssClass) {
                    d.importCssString(c.cssText, c.cssClass, f.container.ownerDocument), f.theme && d.removeCssClass(f.container, f.theme.cssClass);
                    var e = "padding"in c ? c.padding : "padding"in(f.theme || {}) ? 4 : f.$padding;
                    f.$padding && e != f.$padding && f.setPadding(e), f.$theme = c.cssClass, f.theme = c, d.addCssClass(f.container, c.cssClass), d.setCssClass(f.container, "ace_dark", c.isDark), f.$size && (f.$size.width = 0, f.$updateSizeAsync()), f._dispatchEvent("themeLoaded", {theme: c}), b && b()
                }
            }

            var f = this;
            if (this.$themeId = a, f._dispatchEvent("themeChange", {theme: a}), a && "string" != typeof a)c(a); else {
                var g = a || this.$options.theme.initialValue;
                e.loadModule(["theme", g], c)
            }
        },this.getTheme = function () {
            return this.$themeId
        },this.setStyle = function (a, b) {
            d.setCssClass(this.container, a, b !== !1)
        },this.unsetStyle = function (a) {
            d.removeCssClass(this.container, a)
        },this.setCursorStyle = function (a) {
            this.scroller.style.cursor != a && (this.scroller.style.cursor = a)
        },this.setMouseCursor = function (a) {
            this.scroller.style.cursor = a
        },this.destroy = function () {
            this.$textLayer.destroy(), this.$cursorLayer.destroy()
        }
    }).call(q.prototype), e.defineOptions(q.prototype, "renderer", {
        animatedScroll: {initialValue: !1},
        showInvisibles: {
            set: function (a) {
                this.$textLayer.setShowInvisibles(a) && this.$loop.schedule(this.CHANGE_TEXT)
            }, initialValue: !1
        },
        showPrintMargin: {
            set: function () {
                this.$updatePrintMargin()
            }, initialValue: !0
        },
        printMarginColumn: {
            set: function () {
                this.$updatePrintMargin()
            }, initialValue: 80
        },
        printMargin: {
            set: function (a) {
                "number" == typeof a && (this.$printMarginColumn = a), this.$showPrintMargin = !!a, this.$updatePrintMargin()
            }, get: function () {
                return this.$showPrintMargin && this.$printMarginColumn
            }
        },
        showGutter: {
            set: function (a) {
                this.$gutter.style.display = a ? "block" : "none", this.$loop.schedule(this.CHANGE_FULL), this.onGutterResize()
            }, initialValue: !0
        },
        fadeFoldWidgets: {
            set: function (a) {
                d.setCssClass(this.$gutter, "ace_fade-fold-widgets", a)
            }, initialValue: !1
        },
        showFoldWidgets: {
            set: function (a) {
                this.$gutterLayer.setShowFoldWidgets(a)
            }, initialValue: !0
        },
        showLineNumbers: {
            set: function (a) {
                this.$gutterLayer.setShowLineNumbers(a), this.$loop.schedule(this.CHANGE_GUTTER)
            }, initialValue: !0
        },
        displayIndentGuides: {
            set: function (a) {
                this.$textLayer.setDisplayIndentGuides(a) && this.$loop.schedule(this.CHANGE_TEXT)
            }, initialValue: !0
        },
        highlightGutterLine: {
            set: function (a) {
                return this.$gutterLineHighlight ? (this.$gutterLineHighlight.style.display = a ? "" : "none", void(this.$cursorLayer.$pixelPos && this.$updateGutterLineHighlight())) : (this.$gutterLineHighlight = d.createElement("div"), this.$gutterLineHighlight.className = "ace_gutter-active-line", void this.$gutter.appendChild(this.$gutterLineHighlight))
            }, initialValue: !1, value: !0
        },
        hScrollBarAlwaysVisible: {
            set: function () {
                this.$hScrollBarAlwaysVisible && this.$horizScroll || this.$loop.schedule(this.CHANGE_SCROLL)
            }, initialValue: !1
        },
        vScrollBarAlwaysVisible: {
            set: function () {
                this.$vScrollBarAlwaysVisible && this.$vScroll || this.$loop.schedule(this.CHANGE_SCROLL)
            }, initialValue: !1
        },
        fontSize: {
            set: function (a) {
                "number" == typeof a && (a += "px"), this.container.style.fontSize = a, this.updateFontSize()
            }, initialValue: 12
        },
        fontFamily: {
            set: function (a) {
                this.container.style.fontFamily = a, this.updateFontSize()
            }
        },
        maxLines: {
            set: function () {
                this.updateFull()
            }
        },
        minLines: {
            set: function () {
                this.updateFull()
            }
        },
        scrollPastEnd: {
            set: function (a) {
                a = +a || 0, this.$scrollPastEnd != a && (this.$scrollPastEnd = a, this.$loop.schedule(this.CHANGE_SCROLL))
            }, initialValue: 0, handlesSet: !0
        },
        fixedWidthGutter: {
            set: function (a) {
                this.$gutterLayer.$fixedWidth = !!a, this.$loop.schedule(this.CHANGE_GUTTER)
            }
        },
        theme: {
            set: function (a) {
                this.setTheme(a)
            }, get: function () {
                return this.$themeId || this.theme
            }, initialValue: "./theme/textmate", handlesSet: !0
        }
    }), b.VirtualRenderer = q
}), define("ace/worker/worker_client", ["require", "exports", "module", "ace/lib/oop", "ace/lib/net", "ace/lib/event_emitter", "ace/config"], function (a, b) {
    "use strict";
    var c = a("../lib/oop"), d = a("../lib/net"), e = a("../lib/event_emitter").EventEmitter, f = a("../config"), g = function (b, c, d, e) {
        if (this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this), this.changeListener = this.changeListener.bind(this), this.onMessage = this.onMessage.bind(this), a.nameToUrl && !a.toUrl && (a.toUrl = a.nameToUrl), f.get("packaged") || !a.toUrl)e = e || f.moduleUrl(c, "worker"); else {
            var g = this.$normalizePath;
            e = e || g(a.toUrl("ace/worker/worker.js", null, "_"));
            var h = {};
            b.forEach(function (b) {
                h[b] = g(a.toUrl(b, null, "_").replace(/(\.js)?(\?.*)?$/, ""))
            })
        }
        try {
            this.$worker = new Worker(e)
        } catch (i) {
            if (!(i instanceof window.DOMException))throw i;
            var j = this.$workerBlob(e), k = window.URL || window.webkitURL, l = k.createObjectURL(j);
            this.$worker = new Worker(l), k.revokeObjectURL(l)
        }
        this.$worker.postMessage({
            init: !0,
            tlns: h,
            module: c,
            classname: d
        }), this.callbackId = 1, this.callbacks = {}, this.$worker.onmessage = this.onMessage
    };
    (function () {
        c.implement(this, e), this.onMessage = function (a) {
            var b = a.data;
            switch (b.type) {
                case"event":
                    this._signal(b.name, {data: b.data});
                    break;
                case"call":
                    var c = this.callbacks[b.id];
                    c && (c(b.data), delete this.callbacks[b.id]);
                    break;
                case"error":
                    this.reportError(b.data);
                    break;
                case"log":
                    window.console && console.log && console.log.apply(console, b.data)
            }
        }, this.reportError = function (a) {
            window.console && console.error && console.error(a)
        }, this.$normalizePath = function (a) {
            return d.qualifyURL(a)
        }, this.terminate = function () {
            this._signal("terminate", {}), this.deltaQueue = null, this.$worker.terminate(), this.$worker = null, this.$doc && this.$doc.off("change", this.changeListener), this.$doc = null
        }, this.send = function (a, b) {
            this.$worker.postMessage({command: a, args: b})
        }, this.call = function (a, b, c) {
            if (c) {
                var d = this.callbackId++;
                this.callbacks[d] = c, b.push(d)
            }
            this.send(a, b)
        }, this.emit = function (a, b) {
            try {
                this.$worker.postMessage({event: a, data: {data: b.data}})
            } catch (c) {
                console.error(c.stack)
            }
        }, this.attachToDocument = function (a) {
            this.$doc && this.terminate(), this.$doc = a, this.call("setValue", [a.getValue()]), a.on("change", this.changeListener)
        }, this.changeListener = function (a) {
            this.deltaQueue ? this.deltaQueue.push(a.data) : (this.deltaQueue = [a.data], setTimeout(this.$sendDeltaQueue, 0))
        }, this.$sendDeltaQueue = function () {
            var a = this.deltaQueue;
            a && (this.deltaQueue = null, a.length > 20 && a.length > this.$doc.getLength() >> 1 ? this.call("setValue", [this.$doc.getValue()]) : this.emit("change", {data: a}))
        }, this.$workerBlob = function (a) {
            var b = "importScripts('" + d.qualifyURL(a) + "');";
            try {
                return new Blob([b], {type: "application/javascript"})
            } catch (c) {
                var e = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder, f = new e;
                return f.append(b), f.getBlob("application/javascript")
            }
        }
    }).call(g.prototype);
    var h = function (a, b, c) {
        this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this), this.changeListener = this.changeListener.bind(this), this.callbackId = 1, this.callbacks = {}, this.messageBuffer = [];
        var d = null, g = !1, h = Object.create(e), i = this;
        this.$worker = {}, this.$worker.terminate = function () {
        }, this.$worker.postMessage = function (a) {
            i.messageBuffer.push(a), d && (g ? setTimeout(j) : j())
        }, this.setEmitSync = function (a) {
            g = a
        };
        var j = function () {
            var a = i.messageBuffer.shift();
            a.command ? d[a.command].apply(d, a.args) : a.event && h._signal(a.event, a.data)
        };
        h.postMessage = function (a) {
            i.onMessage({data: a})
        }, h.callback = function (a, b) {
            this.postMessage({type: "call", id: b, data: a})
        }, h.emit = function (a, b) {
            this.postMessage({type: "event", name: a, data: b})
        }, f.loadModule(["worker", b], function (a) {
            for (d = new a[c](h); i.messageBuffer.length;)j()
        })
    };
    h.prototype = g.prototype, b.UIWorkerClient = h, b.WorkerClient = g
}), define("ace/placeholder", ["require", "exports", "module", "ace/range", "ace/lib/event_emitter", "ace/lib/oop"], function (a, b) {
    "use strict";
    var c = a("./range").Range, d = a("./lib/event_emitter").EventEmitter, e = a("./lib/oop"), f = function (a, b, c, d, e, f) {
        var g = this;
        this.length = b, this.session = a, this.doc = a.getDocument(), this.mainClass = e, this.othersClass = f, this.$onUpdate = this.onUpdate.bind(this), this.doc.on("change", this.$onUpdate), this.$others = d, this.$onCursorChange = function () {
            setTimeout(function () {
                g.onCursorChange()
            })
        }, this.$pos = c;
        var h = a.getUndoManager().$undoStack || a.getUndoManager().$undostack || {length: -1};
        this.$undoStackDepth = h.length, this.setup(), a.selection.on("changeCursor", this.$onCursorChange)
    };
    (function () {
        e.implement(this, d), this.setup = function () {
            var a = this, b = this.doc, d = this.session, e = this.$pos;
            this.selectionBefore = d.selection.toJSON(), d.selection.inMultiSelectMode && d.selection.toSingleRange(), this.pos = b.createAnchor(e.row, e.column), this.markerId = d.addMarker(new c(e.row, e.column, e.row, e.column + this.length), this.mainClass, null, !1), this.pos.on("change", function (b) {
                d.removeMarker(a.markerId), a.markerId = d.addMarker(new c(b.value.row, b.value.column, b.value.row, b.value.column + a.length), a.mainClass, null, !1)
            }), this.others = [], this.$others.forEach(function (c) {
                var d = b.createAnchor(c.row, c.column);
                a.others.push(d)
            }), d.setUndoSelect(!1)
        }, this.showOtherMarkers = function () {
            if (!this.othersActive) {
                var a = this.session, b = this;
                this.othersActive = !0, this.others.forEach(function (d) {
                    d.markerId = a.addMarker(new c(d.row, d.column, d.row, d.column + b.length), b.othersClass, null, !1), d.on("change", function (e) {
                        a.removeMarker(d.markerId), d.markerId = a.addMarker(new c(e.value.row, e.value.column, e.value.row, e.value.column + b.length), b.othersClass, null, !1)
                    })
                })
            }
        }, this.hideOtherMarkers = function () {
            if (this.othersActive) {
                this.othersActive = !1;
                for (var a = 0; a < this.others.length; a++)this.session.removeMarker(this.others[a].markerId)
            }
        }, this.onUpdate = function (a) {
            var b = a.data, d = b.range;
            if (d.start.row === d.end.row && d.start.row === this.pos.row && !this.$updating) {
                this.$updating = !0;
                var e = "insertText" === b.action ? d.end.column - d.start.column : d.start.column - d.end.column;
                if (d.start.column >= this.pos.column && d.start.column <= this.pos.column + this.length + 1) {
                    var f = d.start.column - this.pos.column;
                    if (this.length += e, !this.session.$fromUndo) {
                        if ("insertText" === b.action)for (var g = this.others.length - 1; g >= 0; g--) {
                            var h = this.others[g], i = {row: h.row, column: h.column + f};
                            h.row === d.start.row && d.start.column < h.column && (i.column += e), this.doc.insert(i, b.text)
                        } else if ("removeText" === b.action)for (var g = this.others.length - 1; g >= 0; g--) {
                            var h = this.others[g], i = {row: h.row, column: h.column + f};
                            h.row === d.start.row && d.start.column < h.column && (i.column += e), this.doc.remove(new c(i.row, i.column, i.row, i.column - e))
                        }
                        d.start.column === this.pos.column && "insertText" === b.action ? setTimeout(function () {
                            this.pos.setPosition(this.pos.row, this.pos.column - e);
                            for (var a = 0; a < this.others.length; a++) {
                                var b = this.others[a], c = {row: b.row, column: b.column - e};
                                b.row === d.start.row && d.start.column < b.column && (c.column += e), b.setPosition(c.row, c.column)
                            }
                        }.bind(this), 0) : d.start.column === this.pos.column && "removeText" === b.action && setTimeout(function () {
                            for (var a = 0; a < this.others.length; a++) {
                                var b = this.others[a];
                                b.row === d.start.row && d.start.column < b.column && b.setPosition(b.row, b.column - e)
                            }
                        }.bind(this), 0)
                    }
                    this.pos._emit("change", {value: this.pos});
                    for (var g = 0; g < this.others.length; g++)this.others[g]._emit("change", {value: this.others[g]})
                }
                this.$updating = !1
            }
        }, this.onCursorChange = function (a) {
            if (!this.$updating && this.session) {
                var b = this.session.selection.getCursor();
                b.row === this.pos.row && b.column >= this.pos.column && b.column <= this.pos.column + this.length ? (this.showOtherMarkers(), this._emit("cursorEnter", a)) : (this.hideOtherMarkers(), this._emit("cursorLeave", a))
            }
        }, this.detach = function () {
            this.session.removeMarker(this.markerId), this.hideOtherMarkers(), this.doc.removeEventListener("change", this.$onUpdate), this.session.selection.removeEventListener("changeCursor", this.$onCursorChange), this.pos.detach();
            for (var a = 0; a < this.others.length; a++)this.others[a].detach();
            this.session.setUndoSelect(!0), this.session = null
        }, this.cancel = function () {
            if (-1 === this.$undoStackDepth)throw Error("Canceling placeholders only supported with undo manager attached to session.");
            for (var a = this.session.getUndoManager(), b = (a.$undoStack || a.$undostack).length - this.$undoStackDepth, c = 0; b > c; c++)a.undo(!0);
            this.selectionBefore && this.session.selection.fromJSON(this.selectionBefore)
        }
    }).call(f.prototype), b.PlaceHolder = f
}), define("ace/mouse/multi_select_handler", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent"], function (a, b) {
    function c(a, b) {
        return a.row == b.row && a.column == b.column
    }

    function d(a) {
        var b = a.domEvent, d = b.altKey, g = b.shiftKey, h = b.ctrlKey, i = a.getAccelKey(), j = a.getButton();
        if (h && f.isMac && (j = b.button), a.editor.inMultiSelectMode && 2 == j)return void a.editor.textInput.onContextMenu(a.domEvent);
        if (!h && !d && !i)return void(0 === j && a.editor.inMultiSelectMode && a.editor.exitMultiSelectMode());
        if (0 === j) {
            var k, l = a.editor, m = l.selection, n = l.inMultiSelectMode, o = a.getDocumentPosition(), p = m.getCursor(), q = a.inSelection() || m.isEmpty() && c(o, p), r = a.x, s = a.y, t = function (a) {
                r = a.clientX, s = a.clientY
            }, u = l.session, v = l.renderer.pixelToScreenCoordinates(r, s), w = v;
            if (l.$mouseHandler.$enableJumpToDef)h && d || i && d ? k = "add" : d && (k = "block"); else if (i && !d) {
                if (k = "add", !n && g)return
            } else d && (k = "block");
            if (k && f.isMac && b.ctrlKey && l.$mouseHandler.cancelContextMenu(), "add" == k) {
                if (!n && q)return;
                if (!n) {
                    var x = m.toOrientedRange();
                    l.addSelectionMarker(x)
                }
                var y = m.rangeList.rangeAtPoint(o);
                l.$blockScrolling++, l.inVirtualSelectionMode = !0, g && (y = null, x = m.ranges[0], l.removeSelectionMarker(x)), l.once("mouseup", function () {
                    var a = m.toOrientedRange();
                    y && a.isEmpty() && c(y.cursor, a.cursor) ? m.substractPoint(a.cursor) : (g ? m.substractPoint(x.cursor) : x && (l.removeSelectionMarker(x), m.addRange(x)), m.addRange(a)), l.$blockScrolling--, l.inVirtualSelectionMode = !1
                })
            } else if ("block" == k) {
                a.stop(), l.inVirtualSelectionMode = !0;
                var z, A = [], B = function () {
                    var a = l.renderer.pixelToScreenCoordinates(r, s), b = u.screenToDocumentPosition(a.row, a.column);
                    c(w, a) && c(b, m.lead) || (w = a, l.$blockScrolling++, l.selection.moveToPosition(b), l.renderer.scrollCursorIntoView(), l.removeSelectionMarkers(A), A = m.rectangularRangeBlock(w, v), l.$mouseHandler.$clickSelection && 1 == A.length && A[0].isEmpty() && (A[0] = l.$mouseHandler.$clickSelection.clone()), A.forEach(l.addSelectionMarker, l), l.updateSelectionMarkers(), l.$blockScrolling--)
                };
                l.$blockScrolling++, n && !i ? m.toSingleRange() : !n && i && (z = m.toOrientedRange(), l.addSelectionMarker(z)), g ? v = u.documentToScreenPosition(m.lead) : m.moveToPosition(o), l.$blockScrolling--, w = {
                    row: -1,
                    column: -1
                };
                var C = function () {
                    clearInterval(E), l.removeSelectionMarkers(A), A.length || (A = [m.toOrientedRange()]), l.$blockScrolling++, z && (l.removeSelectionMarker(z), m.toSingleRange(z));
                    for (var a = 0; a < A.length; a++)m.addRange(A[a]);
                    l.inVirtualSelectionMode = !1, l.$mouseHandler.$clickSelection = null, l.$blockScrolling--
                }, D = B;
                e.capture(l.container, t, C);
                var E = setInterval(function () {
                    D()
                }, 20);
                return a.preventDefault()
            }
        }
    }

    var e = a("../lib/event"), f = a("../lib/useragent");
    b.onMouseDown = d
}), define("ace/commands/multi_select_commands", ["require", "exports", "module", "ace/keyboard/hash_handler"], function (a, b) {
    b.defaultCommands = [{
        name: "addCursorAbove", exec: function (a) {
            a.selectMoreLines(-1)
        }, bindKey: {win: "Ctrl-Alt-Up", mac: "Ctrl-Alt-Up"}, scrollIntoView: "cursor", readonly: !0
    }, {
        name: "addCursorBelow", exec: function (a) {
            a.selectMoreLines(1)
        }, bindKey: {win: "Ctrl-Alt-Down", mac: "Ctrl-Alt-Down"}, scrollIntoView: "cursor", readonly: !0
    }, {
        name: "addCursorAboveSkipCurrent", exec: function (a) {
            a.selectMoreLines(-1, !0)
        }, bindKey: {win: "Ctrl-Alt-Shift-Up", mac: "Ctrl-Alt-Shift-Up"}, scrollIntoView: "cursor", readonly: !0
    }, {
        name: "addCursorBelowSkipCurrent", exec: function (a) {
            a.selectMoreLines(1, !0)
        }, bindKey: {win: "Ctrl-Alt-Shift-Down", mac: "Ctrl-Alt-Shift-Down"}, scrollIntoView: "cursor", readonly: !0
    }, {
        name: "selectMoreBefore", exec: function (a) {
            a.selectMore(-1)
        }, bindKey: {win: "Ctrl-Alt-Left", mac: "Ctrl-Alt-Left"}, scrollIntoView: "cursor", readonly: !0
    }, {
        name: "selectMoreAfter", exec: function (a) {
            a.selectMore(1)
        }, bindKey: {win: "Ctrl-Alt-Right", mac: "Ctrl-Alt-Right"}, scrollIntoView: "cursor", readonly: !0
    }, {
        name: "selectNextBefore", exec: function (a) {
            a.selectMore(-1, !0)
        }, bindKey: {win: "Ctrl-Alt-Shift-Left", mac: "Ctrl-Alt-Shift-Left"}, scrollIntoView: "cursor", readonly: !0
    }, {
        name: "selectNextAfter", exec: function (a) {
            a.selectMore(1, !0)
        }, bindKey: {win: "Ctrl-Alt-Shift-Right", mac: "Ctrl-Alt-Shift-Right"}, scrollIntoView: "cursor", readonly: !0
    }, {
        name: "splitIntoLines", exec: function (a) {
            a.multiSelect.splitIntoLines()
        }, bindKey: {win: "Ctrl-Alt-L", mac: "Ctrl-Alt-L"}, readonly: !0
    }, {
        name: "alignCursors", exec: function (a) {
            a.alignCursors()
        }, bindKey: {win: "Ctrl-Alt-A", mac: "Ctrl-Alt-A"}, scrollIntoView: "cursor"
    }, {
        name: "findAll", exec: function (a) {
            a.findAll()
        }, bindKey: {win: "Ctrl-Alt-K", mac: "Ctrl-Alt-G"}, scrollIntoView: "cursor", readonly: !0
    }], b.multiSelectCommands = [{
        name: "singleSelection", bindKey: "esc", exec: function (a) {
            a.exitMultiSelectMode()
        }, scrollIntoView: "cursor", readonly: !0, isAvailable: function (a) {
            return a && a.inMultiSelectMode
        }
    }];
    var c = a("../keyboard/hash_handler").HashHandler;
    b.keyboardHandler = new c(b.multiSelectCommands)
}), define("ace/multi_select", ["require", "exports", "module", "ace/range_list", "ace/range", "ace/selection", "ace/mouse/multi_select_handler", "ace/lib/event", "ace/lib/lang", "ace/commands/multi_select_commands", "ace/search", "ace/edit_session", "ace/editor", "ace/config"], function (a, b) {
    function c(a, b, c) {
        return o.$options.wrap = !0, o.$options.needle = b, o.$options.backwards = -1 == c, o.find(a)
    }

    function d(a, b) {
        return a.row == b.row && a.column == b.column
    }

    function e(a) {
        a.$multiselectOnSessionChange || (a.$onAddRange = a.$onAddRange.bind(a), a.$onRemoveRange = a.$onRemoveRange.bind(a), a.$onMultiSelect = a.$onMultiSelect.bind(a), a.$onSingleSelect = a.$onSingleSelect.bind(a), a.$multiselectOnSessionChange = b.onSessionChange.bind(a), a.$checkMultiselectChange = a.$checkMultiselectChange.bind(a), a.$multiselectOnSessionChange(a), a.on("changeSession", a.$multiselectOnSessionChange), a.on("mousedown", j), a.commands.addCommands(m.defaultCommands), f(a))
    }

    function f(a) {
        function b() {
            d && (a.renderer.setMouseCursor(""), d = !1)
        }

        var c = a.textInput.getElement(), d = !1;
        k.addListener(c, "keydown", function (c) {
            18 != c.keyCode || c.ctrlKey || c.shiftKey || c.metaKey ? d && b() : d || (a.renderer.setMouseCursor("crosshair"), d = !0)
        }), k.addListener(c, "keyup", b), k.addListener(c, "blur", b)
    }

    var g = a("./range_list").RangeList, h = a("./range").Range, i = a("./selection").Selection, j = a("./mouse/multi_select_handler").onMouseDown, k = a("./lib/event"), l = a("./lib/lang"), m = a("./commands/multi_select_commands");
    b.commands = m.defaultCommands.concat(m.multiSelectCommands);
    var n = a("./search").Search, o = new n, p = a("./edit_session").EditSession;
    (function () {
        this.getSelectionMarkers = function () {
            return this.$selectionMarkers
        }
    }).call(p.prototype), function () {
        this.ranges = null, this.rangeList = null, this.addRange = function (a, b) {
            if (a) {
                if (!this.inMultiSelectMode && 0 === this.rangeCount) {
                    var c = this.toOrientedRange();
                    if (this.rangeList.add(c), this.rangeList.add(a), 2 != this.rangeList.ranges.length)return this.rangeList.removeAll(), b || this.fromOrientedRange(a);
                    this.rangeList.removeAll(), this.rangeList.add(c), this.$onAddRange(c)
                }
                a.cursor || (a.cursor = a.end);
                var d = this.rangeList.add(a);
                return this.$onAddRange(a), d.length && this.$onRemoveRange(d), this.rangeCount > 1 && !this.inMultiSelectMode && (this._signal("multiSelect"), this.inMultiSelectMode = !0, this.session.$undoSelect = !1, this.rangeList.attach(this.session)), b || this.fromOrientedRange(a)
            }
        }, this.toSingleRange = function (a) {
            a = a || this.ranges[0];
            var b = this.rangeList.removeAll();
            b.length && this.$onRemoveRange(b), a && this.fromOrientedRange(a)
        }, this.substractPoint = function (a) {
            var b = this.rangeList.substractPoint(a);
            return b ? (this.$onRemoveRange(b), b[0]) : void 0
        }, this.mergeOverlappingRanges = function () {
            var a = this.rangeList.merge();
            a.length ? this.$onRemoveRange(a) : this.ranges[0] && this.fromOrientedRange(this.ranges[0])
        }, this.$onAddRange = function (a) {
            this.rangeCount = this.rangeList.ranges.length, this.ranges.unshift(a), this._signal("addRange", {range: a})
        }, this.$onRemoveRange = function (a) {
            if (this.rangeCount = this.rangeList.ranges.length, 1 == this.rangeCount && this.inMultiSelectMode) {
                var b = this.rangeList.ranges.pop();
                a.push(b), this.rangeCount = 0
            }
            for (var c = a.length; c--;) {
                var d = this.ranges.indexOf(a[c]);
                this.ranges.splice(d, 1)
            }
            this._signal("removeRange", {ranges: a}), 0 === this.rangeCount && this.inMultiSelectMode && (this.inMultiSelectMode = !1, this._signal("singleSelect"), this.session.$undoSelect = !0, this.rangeList.detach(this.session)), b = b || this.ranges[0], b && !b.isEqual(this.getRange()) && this.fromOrientedRange(b)
        }, this.$initRangeList = function () {
            this.rangeList || (this.rangeList = new g, this.ranges = [], this.rangeCount = 0)
        }, this.getAllRanges = function () {
            return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()]
        }, this.splitIntoLines = function () {
            if (this.rangeCount > 1) {
                var a = this.rangeList.ranges, b = a[a.length - 1], c = h.fromPoints(a[0].start, b.end);
                this.toSingleRange(), this.setSelectionRange(c, b.cursor == b.start)
            } else {
                var c = this.getRange(), d = this.isBackwards(), e = c.start.row, f = c.end.row;
                if (e == f) {
                    if (d)var g = c.end, i = c.start; else var g = c.start, i = c.end;
                    return this.addRange(h.fromPoints(i, i)), void this.addRange(h.fromPoints(g, g))
                }
                var j = [], k = this.getLineRange(e, !0);
                k.start.column = c.start.column, j.push(k);
                for (var l = e + 1; f > l; l++)j.push(this.getLineRange(l, !0));
                k = this.getLineRange(f, !0), k.end.column = c.end.column, j.push(k), j.forEach(this.addRange, this)
            }
        }, this.toggleBlockSelection = function () {
            if (this.rangeCount > 1) {
                var a = this.rangeList.ranges, b = a[a.length - 1], c = h.fromPoints(a[0].start, b.end);
                this.toSingleRange(), this.setSelectionRange(c, b.cursor == b.start)
            } else {
                var d = this.session.documentToScreenPosition(this.selectionLead), e = this.session.documentToScreenPosition(this.selectionAnchor), f = this.rectangularRangeBlock(d, e);
                f.forEach(this.addRange, this)
            }
        }, this.rectangularRangeBlock = function (a, b, c) {
            var e = [], f = a.column < b.column;
            if (f)var g = a.column, i = b.column; else var g = b.column, i = a.column;
            var j = a.row < b.row;
            if (j)var k = a.row, l = b.row; else var k = b.row, l = a.row;
            0 > g && (g = 0), 0 > k && (k = 0), k == l && (c = !0);
            for (var m = k; l >= m; m++) {
                var n = h.fromPoints(this.session.screenToDocumentPosition(m, g), this.session.screenToDocumentPosition(m, i));
                if (n.isEmpty()) {
                    if (o && d(n.end, o))break;
                    var o = n.end
                }
                n.cursor = f ? n.start : n.end, e.push(n)
            }
            if (j && e.reverse(), !c) {
                for (var p = e.length - 1; e[p].isEmpty() && p > 0;)p--;
                if (p > 0)for (var q = 0; e[q].isEmpty();)q++;
                for (var r = p; r >= q; r--)e[r].isEmpty() && e.splice(r, 1)
            }
            return e
        }
    }.call(i.prototype);
    var q = a("./editor").Editor;
    (function () {
        this.updateSelectionMarkers = function () {
            this.renderer.updateCursor(), this.renderer.updateBackMarkers()
        }, this.addSelectionMarker = function (a) {
            a.cursor || (a.cursor = a.end);
            var b = this.getSelectionStyle();
            return a.marker = this.session.addMarker(a, "ace_selection", b), this.session.$selectionMarkers.push(a), this.session.selectionMarkerCount = this.session.$selectionMarkers.length, a
        }, this.removeSelectionMarker = function (a) {
            if (a.marker) {
                this.session.removeMarker(a.marker);
                var b = this.session.$selectionMarkers.indexOf(a);
                -1 != b && this.session.$selectionMarkers.splice(b, 1), this.session.selectionMarkerCount = this.session.$selectionMarkers.length
            }
        }, this.removeSelectionMarkers = function (a) {
            for (var b = this.session.$selectionMarkers, c = a.length; c--;) {
                var d = a[c];
                if (d.marker) {
                    this.session.removeMarker(d.marker);
                    var e = b.indexOf(d);
                    -1 != e && b.splice(e, 1)
                }
            }
            this.session.selectionMarkerCount = b.length
        }, this.$onAddRange = function (a) {
            this.addSelectionMarker(a.range), this.renderer.updateCursor(), this.renderer.updateBackMarkers()
        }, this.$onRemoveRange = function (a) {
            this.removeSelectionMarkers(a.ranges), this.renderer.updateCursor(), this.renderer.updateBackMarkers()
        }, this.$onMultiSelect = function () {
            this.inMultiSelectMode || (this.inMultiSelectMode = !0, this.setStyle("ace_multiselect"), this.keyBinding.addKeyboardHandler(m.keyboardHandler), this.commands.setDefaultHandler("exec", this.$onMultiSelectExec), this.renderer.updateCursor(), this.renderer.updateBackMarkers())
        }, this.$onSingleSelect = function () {
            this.session.multiSelect.inVirtualMode || (this.inMultiSelectMode = !1, this.unsetStyle("ace_multiselect"), this.keyBinding.removeKeyboardHandler(m.keyboardHandler), this.commands.removeDefaultHandler("exec", this.$onMultiSelectExec), this.renderer.updateCursor(), this.renderer.updateBackMarkers(), this._emit("changeSelection"))
        }, this.$onMultiSelectExec = function (a) {
            var b = a.command, c = a.editor;
            if (c.multiSelect) {
                if (b.multiSelectAction)"forEach" == b.multiSelectAction ? d = c.forEachSelection(b, a.args) : "forEachLine" == b.multiSelectAction ? d = c.forEachSelection(b, a.args, !0) : "single" == b.multiSelectAction ? (c.exitMultiSelectMode(), d = b.exec(c, a.args || {})) : d = b.multiSelectAction(c, a.args || {}); else {
                    var d = b.exec(c, a.args || {});
                    c.multiSelect.addRange(c.multiSelect.toOrientedRange()), c.multiSelect.mergeOverlappingRanges()
                }
                return d
            }
        }, this.forEachSelection = function (a, b, c) {
            if (!this.inVirtualSelectionMode) {
                var d, e = c && c.keepOrder, f = 1 == c || c && c.$byLines, g = this.session, h = this.selection, j = h.rangeList, k = (e ? h : j).ranges;
                if (!k.length)return a.exec ? a.exec(this, b || {}) : a(this, b || {});
                var l = h._eventRegistry;
                h._eventRegistry = {};
                var m = new i(g);
                this.inVirtualSelectionMode = !0;
                for (var n = k.length; n--;) {
                    if (f)for (; n > 0 && k[n].start.row == k[n - 1].end.row;)n--;
                    m.fromOrientedRange(k[n]), m.index = n, this.selection = g.selection = m;
                    var o = a.exec ? a.exec(this, b || {}) : a(this, b || {});
                    d || void 0 === o || (d = o), m.toOrientedRange(k[n])
                }
                m.detach(), this.selection = g.selection = h, this.inVirtualSelectionMode = !1, h._eventRegistry = l, h.mergeOverlappingRanges();
                var p = this.renderer.$scrollAnimation;
                return this.onCursorChange(), this.onSelectionChange(), p && p.from == p.to && this.renderer.animateScrolling(p.from), d
            }
        }, this.exitMultiSelectMode = function () {
            this.inMultiSelectMode && !this.inVirtualSelectionMode && this.multiSelect.toSingleRange()
        }, this.getSelectedText = function () {
            var a = "";
            if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
                for (var b = this.multiSelect.rangeList.ranges, c = [], d = 0; d < b.length; d++)c.push(this.session.getTextRange(b[d]));
                var e = this.session.getDocument().getNewLineCharacter();
                a = c.join(e), a.length == (c.length - 1) * e.length && (a = "")
            } else this.selection.isEmpty() || (a = this.session.getTextRange(this.getSelectionRange()));
            return a
        }, this.$checkMultiselectChange = function (a, b) {
            if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
                var c = this.multiSelect.ranges[0];
                if (this.multiSelect.isEmpty() && b == this.multiSelect.anchor)return;
                var d = b == this.multiSelect.anchor ? c.cursor == c.start ? c.end : c.start : c.cursor;
                (d.row != b.row || this.session.$clipPositionToDocument(d.row, d.column).column != b.column) && this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())
            }
        }, this.findAll = function (a, b, c) {
            if (b = b || {}, b.needle = a || b.needle, void 0 == b.needle) {
                var d = this.selection.isEmpty() ? this.selection.getWordRange() : this.selection.getRange();
                b.needle = this.session.getTextRange(d)
            }
            this.$search.set(b);
            var e = this.$search.findAll(this.session);
            if (!e.length)return 0;
            this.$blockScrolling += 1;
            var f = this.multiSelect;
            c || f.toSingleRange(e[0]);
            for (var g = e.length; g--;)f.addRange(e[g], !0);
            return d && f.rangeList.rangeAtPoint(d.start) && f.addRange(d, !0), this.$blockScrolling -= 1, e.length
        }, this.selectMoreLines = function (a, b) {
            var c = this.selection.toOrientedRange(), d = c.cursor == c.end, e = this.session.documentToScreenPosition(c.cursor);
            this.selection.$desiredColumn && (e.column = this.selection.$desiredColumn);
            var f = this.session.screenToDocumentPosition(e.row + a, e.column);
            if (c.isEmpty())var g = f; else var i = this.session.documentToScreenPosition(d ? c.end : c.start), g = this.session.screenToDocumentPosition(i.row + a, i.column);
            if (d) {
                var j = h.fromPoints(f, g);
                j.cursor = j.start
            } else {
                var j = h.fromPoints(g, f);
                j.cursor = j.end
            }
            if (j.desiredColumn = e.column, this.selection.inMultiSelectMode) {
                if (b)var k = c.cursor
            } else this.selection.addRange(c);
            this.selection.addRange(j), k && this.selection.substractPoint(k)
        }, this.transposeSelections = function (a) {
            for (var b = this.session, c = b.multiSelect, d = c.ranges, e = d.length; e--;) {
                var f = d[e];
                if (f.isEmpty()) {
                    var g = b.getWordRange(f.start.row, f.start.column);
                    f.start.row = g.start.row, f.start.column = g.start.column, f.end.row = g.end.row, f.end.column = g.end.column
                }
            }
            c.mergeOverlappingRanges();
            for (var h = [], e = d.length; e--;) {
                var f = d[e];
                h.unshift(b.getTextRange(f))
            }
            0 > a ? h.unshift(h.pop()) : h.push(h.shift());
            for (var e = d.length; e--;) {
                var f = d[e], g = f.clone();
                b.replace(f, h[e]), f.start.row = g.start.row, f.start.column = g.start.column
            }
        }, this.selectMore = function (a, b, d) {
            var e = this.session, f = e.multiSelect, g = f.toOrientedRange();
            if (!g.isEmpty() || (g = e.getWordRange(g.start.row, g.start.column), g.cursor = -1 == a ? g.start : g.end, this.multiSelect.addRange(g), !d)) {
                var h = e.getTextRange(g), i = c(e, h, a);
                i && (i.cursor = -1 == a ? i.start : i.end, this.$blockScrolling += 1, this.session.unfold(i), this.multiSelect.addRange(i), this.$blockScrolling -= 1, this.renderer.scrollCursorIntoView(null, .5)), b && this.multiSelect.substractPoint(g.cursor)
            }
        }, this.alignCursors = function () {
            var a = this.session, b = a.multiSelect, c = b.ranges, d = -1, e = c.filter(function (a) {
                return a.cursor.row == d ? !0 : void(d = a.cursor.row)
            });
            if (c.length && e.length != c.length - 1) {
                e.forEach(function (a) {
                    b.substractPoint(a.cursor)
                });
                var f = 0, g = 1 / 0, i = c.map(function (b) {
                    var c = b.cursor, d = a.getLine(c.row), e = d.substr(c.column).search(/\S/g);
                    return -1 == e && (e = 0), c.column > f && (f = c.column), g > e && (g = e), e
                });
                c.forEach(function (b, c) {
                    var d = b.cursor, e = f - d.column, j = i[c] - g;
                    e > j ? a.insert(d, l.stringRepeat(" ", e - j)) : a.remove(new h(d.row, d.column, d.row, d.column - e + j)), b.start.column = b.end.column = f, b.start.row = b.end.row = d.row, b.cursor = b.end
                }), b.fromOrientedRange(c[0]), this.renderer.updateCursor(), this.renderer.updateBackMarkers()
            } else {
                var j = this.selection.getRange(), k = j.start.row, m = j.end.row, n = k == m;
                if (n) {
                    var o, p = this.session.getLength();
                    do o = this.session.getLine(m); while (/[=:]/.test(o) && ++m < p);
                    do o = this.session.getLine(k); while (/[=:]/.test(o) && --k > 0);
                    0 > k && (k = 0), m >= p && (m = p - 1)
                }
                var q = this.session.doc.removeLines(k, m);
                q = this.$reAlignText(q, n), this.session.doc.insert({
                    row: k,
                    column: 0
                }, q.join("\n") + "\n"), n || (j.start.column = 0, j.end.column = q[q.length - 1].length), this.selection.setRange(j)
            }
        }, this.$reAlignText = function (a, b) {
            function c(a) {
                return l.stringRepeat(" ", a)
            }

            function d(a) {
                return a[2] ? c(g) + a[2] + c(h - a[2].length + i) + a[4].replace(/^([=:])\s+/, "$1 ") : a[0]
            }

            function e(a) {
                return a[2] ? c(g + h - a[2].length) + a[2] + c(i, " ") + a[4].replace(/^([=:])\s+/, "$1 ") : a[0]
            }

            function f(a) {
                return a[2] ? c(g) + a[2] + c(i) + a[4].replace(/^([=:])\s+/, "$1 ") : a[0]
            }

            var g, h, i, j = !0, k = !0;
            return a.map(function (a) {
                var b = a.match(/(\s*)(.*?)(\s*)([=:].*)/);
                return b ? null == g ? (g = b[1].length, h = b[2].length, i = b[3].length, b) : (g + h + i != b[1].length + b[2].length + b[3].length && (k = !1), g != b[1].length && (j = !1), g > b[1].length && (g = b[1].length), h < b[2].length && (h = b[2].length), i > b[3].length && (i = b[3].length), b) : [a]
            }).map(b ? d : j ? k ? e : d : f)
        }
    }).call(q.prototype), b.onSessionChange = function (a) {
        var b = a.session;
        b && !b.multiSelect && (b.$selectionMarkers = [], b.selection.$initRangeList(), b.multiSelect = b.selection), this.multiSelect = b && b.multiSelect;
        var c = a.oldSession;
        c && (c.multiSelect.off("addRange", this.$onAddRange), c.multiSelect.off("removeRange", this.$onRemoveRange), c.multiSelect.off("multiSelect", this.$onMultiSelect), c.multiSelect.off("singleSelect", this.$onSingleSelect), c.multiSelect.lead.off("change", this.$checkMultiselectChange), c.multiSelect.anchor.off("change", this.$checkMultiselectChange)), b && (b.multiSelect.on("addRange", this.$onAddRange), b.multiSelect.on("removeRange", this.$onRemoveRange), b.multiSelect.on("multiSelect", this.$onMultiSelect), b.multiSelect.on("singleSelect", this.$onSingleSelect), b.multiSelect.lead.on("change", this.$checkMultiselectChange), b.multiSelect.anchor.on("change", this.$checkMultiselectChange)), b && this.inMultiSelectMode != b.selection.inMultiSelectMode && (b.selection.inMultiSelectMode ? this.$onMultiSelect() : this.$onSingleSelect())
    }, b.MultiSelect = e, a("./config").defineOptions(q.prototype, "editor", {
        enableMultiselect: {
            set: function (a) {
                e(this), a ? (this.on("changeSession", this.$multiselectOnSessionChange), this.on("mousedown", j)) : (this.off("changeSession", this.$multiselectOnSessionChange), this.off("mousedown", j))
            }, value: !0
        }
    })
}), define("ace/mode/folding/fold_mode", ["require", "exports", "module", "ace/range"], function (a, b) {
    "use strict";
    var c = a("../../range").Range, d = b.FoldMode = function () {
    };
    (function () {
        this.foldingStartMarker = null, this.foldingStopMarker = null, this.getFoldWidget = function (a, b, c) {
            var d = a.getLine(c);
            return this.foldingStartMarker.test(d) ? "start" : "markbeginend" == b && this.foldingStopMarker && this.foldingStopMarker.test(d) ? "end" : ""
        }, this.getFoldWidgetRange = function () {
            return null
        }, this.indentationBlock = function (a, b, d) {
            var e = /\S/, f = a.getLine(b), g = f.search(e);
            if (-1 != g) {
                for (var h = d || f.length, i = a.getLength(), j = b, k = b; ++b < i;) {
                    var l = a.getLine(b).search(e);
                    if (-1 != l) {
                        if (g >= l)break;
                        k = b
                    }
                }
                if (k > j) {
                    var m = a.getLine(k).length;
                    return new c(j, h, k, m)
                }
            }
        }, this.openingBracketBlock = function (a, b, d, e, f) {
            var g = {row: d, column: e + 1}, h = a.$findClosingBracket(b, g, f);
            if (h) {
                var i = a.foldWidgets[h.row];
                return null == i && (i = a.getFoldWidget(h.row)), "start" == i && h.row > g.row && (h.row--, h.column = a.getLine(h.row).length), c.fromPoints(g, h)
            }
        }, this.closingBracketBlock = function (a, b, d, e) {
            var f = {row: d, column: e}, g = a.$findOpeningBracket(b, f);
            return g ? (g.column++, f.column--, c.fromPoints(g, f)) : void 0
        }
    }).call(d.prototype)
}), define("ace/theme/textmate", ["require", "exports", "module", "ace/lib/dom"], function (a, b) {
    "use strict";
    b.isDark = !1, b.cssClass = "ace-tm", b.cssText = '.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;border-radius: 2px;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';
    var c = a("../lib/dom");
    c.importCssString(b.cssText, b.cssClass)
}), define("ace/line_widgets", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/range"], function (a, b) {
    "use strict";
    function c(a) {
        this.session = a, this.session.widgetManager = this, this.session.getRowLength = this.getRowLength, this.session.$getWidgetScreenLength = this.$getWidgetScreenLength, this.updateOnChange = this.updateOnChange.bind(this), this.renderWidgets = this.renderWidgets.bind(this), this.measureWidgets = this.measureWidgets.bind(this), this.session._changedWidgets = [], this.$onChangeEditor = this.$onChangeEditor.bind(this), this.session.on("change", this.updateOnChange), this.session.on("changeEditor", this.$onChangeEditor)
    }

    {
        var d = (a("./lib/oop"), a("./lib/dom"));
        a("./range").Range
    }
    (function () {
        this.getRowLength = function (a) {
            var b;
            return b = this.lineWidgets ? this.lineWidgets[a] && this.lineWidgets[a].rowCount || 0 : 0, this.$useWrapMode && this.$wrapData[a] ? this.$wrapData[a].length + 1 + b : 1 + b
        }, this.$getWidgetScreenLength = function () {
            var a = 0;
            return this.lineWidgets.forEach(function (b) {
                b && b.rowCount && (a += b.rowCount)
            }), a
        }, this.$onChangeEditor = function (a) {
            this.attach(a.editor)
        }, this.attach = function (a) {
            a && a.widgetManager && a.widgetManager != this && a.widgetManager.detach(), this.editor != a && (this.detach(), this.editor = a, a && (a.widgetManager = this, a.renderer.on("beforeRender", this.measureWidgets), a.renderer.on("afterRender", this.renderWidgets)))
        }, this.detach = function () {
            var a = this.editor;
            if (a) {
                this.editor = null, a.widgetManager = null, a.renderer.off("beforeRender", this.measureWidgets), a.renderer.off("afterRender", this.renderWidgets);
                var b = this.session.lineWidgets;
                b && b.forEach(function (a) {
                    a && a.el && a.el.parentNode && (a._inDocument = !1, a.el.parentNode.removeChild(a.el))
                })
            }
        }, this.updateOnChange = function (a) {
            var b = this.session.lineWidgets;
            if (b) {
                var c = a.data, d = c.range, e = d.start.row, f = d.end.row - e;
                if (0 === f); else if ("removeText" == c.action || "removeLines" == c.action) {
                    var g = b.splice(e + 1, f);
                    g.forEach(function (a) {
                        a && this.removeLineWidget(a)
                    }, this), this.$updateRows()
                } else {
                    var h = new Array(f);
                    h.unshift(e, 0), b.splice.apply(b, h), this.$updateRows()
                }
            }
        }, this.$updateRows = function () {
            var a = this.session.lineWidgets;
            if (a) {
                var b = !0;
                a.forEach(function (a, c) {
                    a && (b = !1, a.row = c)
                }), b && (this.session.lineWidgets = null)
            }
        }, this.addLineWidget = function (a) {
            this.session.lineWidgets || (this.session.lineWidgets = new Array(this.session.getLength())), this.session.lineWidgets[a.row] = a;
            var b = this.editor.renderer;
            return a.html && !a.el && (a.el = d.createElement("div"), a.el.innerHTML = a.html), a.el && (d.addCssClass(a.el, "ace_lineWidgetContainer"), a.el.style.position = "absolute", a.el.style.zIndex = 5, b.container.appendChild(a.el), a._inDocument = !0), a.coverGutter || (a.el.style.zIndex = 3), a.pixelHeight || (a.pixelHeight = a.el.offsetHeight), null == a.rowCount && (a.rowCount = a.pixelHeight / b.layerConfig.lineHeight), this.session._emit("changeFold", {data: {start: {row: a.row}}}), this.$updateRows(), this.renderWidgets(null, b), a
        }, this.removeLineWidget = function (a) {
            if (a._inDocument = !1, a.el && a.el.parentNode && a.el.parentNode.removeChild(a.el), a.editor && a.editor.destroy)try {
                a.editor.destroy()
            } catch (b) {
            }
            this.session.lineWidgets && (this.session.lineWidgets[a.row] = void 0), this.session._emit("changeFold", {data: {start: {row: a.row}}}), this.$updateRows()
        }, this.onWidgetChanged = function (a) {
            this.session._changedWidgets.push(a), this.editor && this.editor.renderer.updateFull()
        }, this.measureWidgets = function (a, b) {
            var c = this.session._changedWidgets, d = b.layerConfig;
            if (c && c.length) {
                for (var e = 1 / 0, f = 0; f < c.length; f++) {
                    var g = c[f];
                    g._inDocument || (g._inDocument = !0, b.container.appendChild(g.el)), g.h = g.el.offsetHeight, g.fixedWidth || (g.w = g.el.offsetWidth, g.screenWidth = Math.ceil(g.w / d.characterWidth));
                    var h = g.h / d.lineHeight;
                    g.coverLine && (h -= this.session.getRowLineCount(g.row), 0 > h && (h = 0)), g.rowCount != h && (g.rowCount = h, g.row < e && (e = g.row))
                }
                1 / 0 != e && (this.session._emit("changeFold", {data: {start: {row: e}}}), this.session.lineWidgetWidth = null), this.session._changedWidgets = []
            }
        }, this.renderWidgets = function (a, b) {
            var c = b.layerConfig, d = this.session.lineWidgets;
            if (d) {
                for (var e = Math.min(this.firstRow, c.firstRow), f = Math.max(this.lastRow, c.lastRow, d.length); e > 0 && !d[e];)e--;
                this.firstRow = c.firstRow, this.lastRow = c.lastRow, b.$cursorLayer.config = c;
                for (var g = e; f >= g; g++) {
                    var h = d[g];
                    if (h && h.el) {
                        h._inDocument || (h._inDocument = !0, b.container.appendChild(h.el));
                        var i = b.$cursorLayer.getPixelPosition({row: g, column: 0}, !0).top;
                        h.coverLine || (i += c.lineHeight * this.session.getRowLineCount(h.row)), h.el.style.top = i - c.offset + "px";
                        var j = h.coverGutter ? 0 : b.gutterWidth;
                        h.fixedWidth || (j -= b.scrollLeft), h.el.style.left = j + "px", h.el.style.right = h.fixedWidth ? b.scrollBar.getWidth() + "px" : ""
                    }
                }
            }
        }
    }).call(c.prototype), b.LineWidgets = c
}), define("ace/ext/error_marker", ["require", "exports", "module", "ace/line_widgets", "ace/lib/dom", "ace/range"], function (a, b) {
    "use strict";
    function c(a, b, c) {
        for (var d = 0, e = a.length - 1; e >= d;) {
            var f = d + e >> 1, g = c(b, a[f]);
            if (g > 0)d = f + 1; else {
                if (!(0 > g))return f;
                e = f - 1
            }
        }
        return -(d + 1)
    }

    function d(a, b, d) {
        var e = a.getAnnotations().sort(g.comparePoints);
        if (e.length) {
            var f = c(e, {row: b, column: -1}, g.comparePoints);
            0 > f && (f = -f - 1), f >= e.length ? f = d > 0 ? 0 : e.length - 1 : 0 === f && 0 > d && (f = e.length - 1);
            var h = e[f];
            if (h && d) {
                if (h.row === b) {
                    do h = e[f += d]; while (h && h.row === b);
                    if (!h)return e.slice()
                }
                var i = [];
                b = h.row;
                do i[0 > d ? "unshift" : "push"](h), h = e[f += d]; while (h && h.row == b);
                return i.length && i
            }
        }
    }

    var e = a("../line_widgets").LineWidgets, f = a("../lib/dom"), g = a("../range").Range;
    b.showErrorMarker = function (a, b) {
        var c = a.session;
        c.widgetManager || (c.widgetManager = new e(c), c.widgetManager.attach(a));
        var g = a.getCursorPosition(), h = g.row, i = c.lineWidgets && c.lineWidgets[h];
        i ? i.destroy() : h -= b;
        var j, k = d(c, h, b);
        if (k) {
            var l = k[0];
            g.column = (l.pos && "number" != typeof l.column ? l.pos.sc : l.column) || 0, g.row = l.row, j = a.renderer.$gutterLayer.$annotations[g.row]
        } else {
            if (i)return;
            j = {text: ["Looks good!"], className: "ace_ok"}
        }
        a.session.unfold(g.row), a.selection.moveToPosition(g);
        var m = {
            row: g.row,
            fixedWidth: !0,
            coverGutter: !0,
            el: f.createElement("div")
        }, n = m.el.appendChild(f.createElement("div")), o = m.el.appendChild(f.createElement("div"));
        o.className = "error_widget_arrow " + j.className;
        var p = a.renderer.$cursorLayer.getPixelPosition(g).left;
        o.style.left = p + a.renderer.gutterWidth - 5 + "px", m.el.className = "error_widget_wrapper", n.className = "error_widget " + j.className, n.innerHTML = j.text.join("<br>"), n.appendChild(f.createElement("div"));
        var q = function (a, b, c) {
            return 0 !== b || "esc" !== c && "return" !== c ? void 0 : (m.destroy(), {command: "null"})
        };
        m.destroy = function () {
            a.$mouseHandler.isMousePressed || (a.keyBinding.removeKeyboardHandler(q), c.widgetManager.removeLineWidget(m), a.off("changeSelection", m.destroy), a.off("changeSession", m.destroy), a.off("mouseup", m.destroy), a.off("change", m.destroy))
        }, a.keyBinding.addKeyboardHandler(q), a.on("changeSelection", m.destroy), a.on("changeSession", m.destroy), a.on("mouseup", m.destroy), a.on("change", m.destroy), a.session.widgetManager.addLineWidget(m), m.el.onmousedown = a.focus.bind(a), a.renderer.scrollCursorIntoView(null, .5, {bottom: m.el.offsetHeight})
    }, f.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }", "")
}), define("ace/ace", ["require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/dom", "ace/lib/event", "ace/editor", "ace/edit_session", "ace/undomanager", "ace/virtual_renderer", "ace/worker/worker_client", "ace/keyboard/hash_handler", "ace/placeholder", "ace/multi_select", "ace/mode/folding/fold_mode", "ace/theme/textmate", "ace/ext/error_marker", "ace/config"], function (a, b) {
    "use strict";
    a("./lib/fixoldbrowsers");
    var c = a("./lib/dom"), d = a("./lib/event"), e = a("./editor").Editor, f = a("./edit_session").EditSession, g = a("./undomanager").UndoManager, h = a("./virtual_renderer").VirtualRenderer;
    a("./worker/worker_client"), a("./keyboard/hash_handler"), a("./placeholder"), a("./multi_select"), a("./mode/folding/fold_mode"), a("./theme/textmate"), a("./ext/error_marker"), b.config = a("./config"), b.require = a, b.edit = function (a) {
        if ("string" == typeof a) {
            var f = a;
            if (a = document.getElementById(f), !a)throw new Error("ace.edit can't find div #" + f)
        }
        if (a && a.env && a.env.editor instanceof e)return a.env.editor;
        var g = "";
        if (a && /input|textarea/i.test(a.tagName)) {
            var i = a;
            g = i.value, a = c.createElement("pre"), i.parentNode.replaceChild(a, i)
        } else g = c.getInnerText(a), a.innerHTML = "";
        var j = b.createEditSession(g), k = new e(new h(a));
        k.setSession(j);
        var l = {document: j, editor: k, onResize: k.resize.bind(k, null)};
        return i && (l.textarea = i), d.addListener(window, "resize", l.onResize), k.on("destroy", function () {
            d.removeListener(window, "resize", l.onResize), l.editor.container.env = null
        }), k.container.env = k.env = l, k
    }, b.createEditSession = function (a, b) {
        var c = new f(a, b);
        return c.setUndoManager(new g), c
    }, b.EditSession = f, b.UndoManager = g
}), function () {
    window.require(["ace/ace"], function (a) {
        a && a.config.init(!0), window.ace || (window.ace = a);
        for (var b in a)a.hasOwnProperty(b) && (window.ace[b] = a[b])
    })
}(), define("ace/theme/dawn", ["require", "exports", "module", "ace/lib/dom"], function (a, b) {
    b.isDark = !1, b.cssClass = "ace-dawn", b.cssText = ".ace-dawn .ace_gutter {background: #F9F9F5;color: #2C3E50}.ace-dawn .ace_print-margin {width: 0px;background: #F9F9F5}.ace-dawn {background-color: #F9F9F5;color: #2C3E50}.ace-dawn .ace_cursor {color: #000000}.ace-dawn .ace_marker-layer .ace_selection {background: rgba(39, 95, 255, 0.30)}.ace-dawn.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #F9F9F5;border-radius: 2px}.ace-dawn .ace_marker-layer .ace_step {background: rgb(255, 255, 0)}.ace-dawn .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgba(75, 75, 126, 0.50)}.ace-dawn .ace_marker-layer .ace_active-line {background: rgba(36, 99, 180, 0.12)}.ace-dawn .ace_gutter-active-line {background-color : #dcdcdc}.ace-dawn .ace_marker-layer .ace_selected-word {border: 1px solid rgba(39, 95, 255, 0.30)}.ace-dawn .ace_invisible {color: rgba(75, 75, 126, 0.50)}.ace-dawn .ace_keyword,.ace-dawn .ace_meta {color: #794938}.ace-dawn .ace_constant,.ace-dawn .ace_constant.ace_character,.ace-dawn .ace_constant.ace_character.ace_escape,.ace-dawn .ace_constant.ace_other {color: #811F24}.ace-dawn .ace_invalid.ace_illegal {text-decoration: underline;font-style: italic;color: #F8F8F8;background-color: #B52A1D}.ace-dawn .ace_invalid.ace_deprecated {text-decoration: underline;font-style: italic;color: #B52A1D}.ace-dawn .ace_support {color: #691C97}.ace-dawn .ace_support.ace_constant {color: #B4371F}.ace-dawn .ace_fold {background-color: #794938;border-color: #2C3E50}.ace-dawn .ace_list,.ace-dawn .ace_markup.ace_list,.ace-dawn .ace_support.ace_function {color: #693A17}.ace-dawn .ace_storage {font-style: italic;color: #A71D5D}.ace-dawn .ace_string {color: #0B6125}.ace-dawn .ace_string.ace_regexp {color: #CF5628}.ace-dawn .ace_comment {font-style: italic;color: #5A525F}.ace-dawn .ace_heading,.ace-dawn .ace_markup.ace_heading {color: #19356D}.ace-dawn .ace_variable {color: #234A97}.ace-dawn .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYLh/5+x/AAizA4hxNNsZAAAAAElFTkSuQmCC) right repeat-y}.ace-dawn .ace_string {color: #4271AE;}.ace-dawn .ace_strong {color: #2C3E50;font-weight: bold;}.ace-dawn .ace_emphasis {color: #2C3E50;font-style: italic;}.ace-dawn .ace_heading,.ace-dawn .ace_markup.ace_heading {color: #2C3E50;font-weight: bold;}.ace-dawn .ace_blockquote {color: #4271AE;}.ace-dawn .ace_support.ace_function {color: #4271AE;}.ace-dawn .ace_markup.ace_list {color: #2C3E50;font-weight: bold;}.ace-dawn .ace_list {color: #2C3E50;}.ace-dawn .ace_url,.ace-dawn .ace_markup.ace_underline {border: none;background: rgba(102, 128, 153, 0.15);border-radius: 4px;color: #2C3E50;text-decoration: none;}.ace-dawn .ace_marker-layer .ace_active-line {background: rgba(102, 128, 153, 0.05);}";
    var c = a("../lib/dom");
    c.importCssString(b.cssText, b.cssClass)
}), define("ace/theme/tomorrow_night_eighties", ["require", "exports", "module", "ace/lib/dom"], function (a, b) {
    b.isDark = !0, b.cssClass = "ace-tomorrow-night-eighties", b.cssText = ".ace-tomorrow-night-eighties .ace_gutter {background: #444444;color: #D6DBDF}.ace-tomorrow-night-eighties .ace_print-margin {width: 0px;background: #444444}.ace-tomorrow-night-eighties {background-color: #444444;color: #D6DBDF}.ace-tomorrow-night-eighties .ace_constant.ace_other,.ace-tomorrow-night-eighties .ace_cursor {color: #D6DBDF}.ace-tomorrow-night-eighties .ace_marker-layer .ace_selection {background: #515151}.ace-tomorrow-night-eighties.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #444444;border-radius: 2px}.ace-tomorrow-night-eighties .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-tomorrow-night-eighties .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #6A6A6A}.ace-tomorrow-night-bright .ace_stack {background: rgb(66, 90, 44)}.ace-tomorrow-night-eighties .ace_marker-layer .ace_active-line {background: #393939}.ace-tomorrow-night-eighties .ace_gutter-active-line {background-color: #393939}.ace-tomorrow-night-eighties .ace_marker-layer .ace_selected-word {border: 1px solid #515151}.ace-tomorrow-night-eighties .ace_invisible {color: #6A6A6A}.ace-tomorrow-night-eighties .ace_keyword,.ace-tomorrow-night-eighties .ace_meta,.ace-tomorrow-night-eighties .ace_storage,.ace-tomorrow-night-eighties .ace_storage.ace_type,.ace-tomorrow-night-eighties .ace_support.ace_type {color: #CC99CC}.ace-tomorrow-night-eighties .ace_keyword.ace_operator {color: #66CCCC}.ace-tomorrow-night-eighties .ace_constant.ace_character,.ace-tomorrow-night-eighties .ace_constant.ace_language,.ace-tomorrow-night-eighties .ace_constant.ace_numeric,.ace-tomorrow-night-eighties .ace_keyword.ace_other.ace_unit,.ace-tomorrow-night-eighties .ace_support.ace_constant,.ace-tomorrow-night-eighties .ace_variable.ace_parameter {color: #F99157}.ace-tomorrow-night-eighties .ace_invalid {color: #CDCDCD;background-color: #F2777A}.ace-tomorrow-night-eighties .ace_invalid.ace_deprecated {color: #CDCDCD;background-color: #CC99CC}.ace-tomorrow-night-eighties .ace_fold {background-color: #6699CC;border-color: #D6DBDF}.ace-tomorrow-night-eighties .ace_entity.ace_name.ace_function,.ace-tomorrow-night-eighties .ace_support.ace_function,.ace-tomorrow-night-eighties .ace_variable {color: #6699CC}.ace-tomorrow-night-eighties .ace_support.ace_class,.ace-tomorrow-night-eighties .ace_support.ace_type {color: #FFCC66}.ace-tomorrow-night-eighties .ace_heading,.ace-tomorrow-night-eighties .ace_markup.ace_heading,.ace-tomorrow-night-eighties .ace_string {color: #99CC99}.ace-tomorrow-night-eighties .ace_comment {color: #999999}.ace-tomorrow-night-eighties .ace_entity.ace_name.ace_tag,.ace-tomorrow-night-eighties .ace_entity.ace_other.ace_attribute-name,.ace-tomorrow-night-eighties .ace_meta.ace_tag,.ace-tomorrow-night-eighties .ace_variable {color: #F2777A}.ace-tomorrow-night-eighties .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ09NrYAgMjP4PAAtGAwchHMyAAAAAAElFTkSuQmCC) right repeat-y}.ace-tomorrow-night-eighties .ace_string {color: #6699CC;}.ace-tomorrow-night-eighties .ace_strong {color: #D6DBDF;font-weight: bold;}.ace-tomorrow-night-eighties .ace_emphasis {color: #D6DBDF;font-style: italic;}.ace-tomorrow-night-eighties .ace_heading,.ace-tomorrow-night-eighties .ace_markup.ace_heading {color: #D6DBDF;font-weight: bold;}.ace-tomorrow-night-eighties .ace_blockquote {color: #6699CC;}.ace-tomorrow-night-eighties .ace_support.ace_function {color: #6699CC;}.ace-tomorrow-night-eighties .ace_markup.ace_list {color: #D6DBDF;font-weight: bold;}.ace-tomorrow-night-eighties .ace_list {color: #D6DBDF;}.ace-tomorrow-night-eighties .ace_url,.ace-tomorrow-night-eighties .ace_markup.ace_underline {border: none;background: rgba(51, 51, 51, 0.5);border-radius: 4px;color: #D6DBDF;text-decoration: none;}.ace-tomorrow-night-eighties .ace_marker-layer .ace_active-line {background: rgba(51, 51, 51, 0.5);}";
    var c = a("../lib/dom");
    c.importCssString(b.cssText, b.cssClass)
}), define("ace/mode/doc_comment_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules"], function (a, b) {
    "use strict";
    var c = a("../lib/oop"), d = a("./text_highlight_rules").TextHighlightRules, e = function () {
        this.$rules = {
            start: [{
                token: "comment.doc.tag",
                regex: "@[\\w\\d_]+"
            }, e.getTagRule(), {defaultToken: "comment.doc", caseInsensitive: !0}]
        }
    };
    c.inherits(e, d), e.getTagRule = function () {
        return {token: "comment.doc.tag.storage.type", regex: "\\b(?:TODO|FIXME|XXX|HACK)\\b"}
    }, e.getStartRule = function (a) {
        return {token: "comment.doc", regex: "\\/\\*(?=\\*)", next: a}
    }, e.getEndRule = function (a) {
        return {token: "comment.doc", regex: "\\*\\/", next: a}
    }, b.DocCommentHighlightRules = e
}), define("ace/mode/javascript_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/mode/doc_comment_highlight_rules", "ace/mode/text_highlight_rules"], function (a, b) {
    "use strict";
    var c = a("../lib/oop"), d = a("./doc_comment_highlight_rules").DocCommentHighlightRules, e = a("./text_highlight_rules").TextHighlightRules, f = function (a) {
        var b = this.createKeywordMapper({
            "variable.language": "Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",
            keyword: "const|yield|import|get|set|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static",
            "storage.type": "const|let|var|function",
            "constant.language": "null|Infinity|NaN|undefined",
            "support.function": "alert",
            "constant.language.boolean": "true|false"
        }, "identifier"), c = "case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void", e = "[a-zA-Z\\$_¡-￿][a-zA-Z\\d\\$_¡-￿]*\\b", f = "\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)";
        this.$rules = {
            no_regex: [{
                token: "comment",
                regex: "\\/\\/",
                next: "line_comment"
            }, d.getStartRule("doc-start"), {token: "comment", regex: /\/\*/, next: "comment"}, {
                token: "string",
                regex: "'(?=.)",
                next: "qstring"
            }, {token: "string", regex: '"(?=.)', next: "qqstring"}, {
                token: "constant.numeric",
                regex: /0[xX][0-9a-fA-F]+\b/
            }, {
                token: "constant.numeric",
                regex: /[+-]?\d+(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?\b/
            }, {
                token: ["storage.type", "punctuation.operator", "support.function", "punctuation.operator", "entity.name.function", "text", "keyword.operator"],
                regex: "(" + e + ")(\\.)(prototype)(\\.)(" + e + ")(\\s*)(=)",
                next: "function_arguments"
            }, {
                token: ["storage.type", "punctuation.operator", "entity.name.function", "text", "keyword.operator", "text", "storage.type", "text", "paren.lparen"],
                regex: "(" + e + ")(\\.)(" + e + ")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token: ["entity.name.function", "text", "keyword.operator", "text", "storage.type", "text", "paren.lparen"],
                regex: "(" + e + ")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token: ["storage.type", "punctuation.operator", "entity.name.function", "text", "keyword.operator", "text", "storage.type", "text", "entity.name.function", "text", "paren.lparen"],
                regex: "(" + e + ")(\\.)(" + e + ")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token: ["storage.type", "text", "entity.name.function", "text", "paren.lparen"],
                regex: "(function)(\\s+)(" + e + ")(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token: ["entity.name.function", "text", "punctuation.operator", "text", "storage.type", "text", "paren.lparen"],
                regex: "(" + e + ")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token: ["text", "text", "storage.type", "text", "paren.lparen"],
                regex: "(:)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token: "keyword",
                regex: "(?:" + c + ")\\b",
                next: "start"
            }, {
                token: ["punctuation.operator", "support.function"],
                regex: /(\.)(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/
            }, {
                token: ["punctuation.operator", "support.function.dom"],
                regex: /(\.)(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/
            }, {
                token: ["punctuation.operator", "support.constant"],
                regex: /(\.)(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/
            }, {
                token: ["support.constant"],
                regex: /that\b/
            }, {
                token: ["storage.type", "punctuation.operator", "support.function.firebug"],
                regex: /(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/
            }, {token: b, regex: e}, {
                token: "keyword.operator",
                regex: /--|\+\+|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\|\||\?\:|[!$%&*+\-~\/^]=?/,
                next: "start"
            }, {token: "punctuation.operator", regex: /[?:,;.]/, next: "start"}, {
                token: "paren.lparen",
                regex: /[\[({]/,
                next: "start"
            }, {token: "paren.rparen", regex: /[\])}]/}, {token: "comment", regex: /^#!.*$/}],
            start: [d.getStartRule("doc-start"), {
                token: "comment",
                regex: "\\/\\*",
                next: "comment_regex_allowed"
            }, {token: "comment", regex: "\\/\\/", next: "line_comment_regex_allowed"}, {
                token: "string.regexp",
                regex: "\\/",
                next: "regex"
            }, {token: "text", regex: "\\s+|^$", next: "start"}, {token: "empty", regex: "", next: "no_regex"}],
            regex: [{
                token: "regexp.keyword.operator",
                regex: "\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"
            }, {token: "string.regexp", regex: "/[sxngimy]*", next: "no_regex"}, {
                token: "invalid",
                regex: /\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/
            }, {
                token: "constant.language.escape",
                regex: /\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/
            }, {token: "constant.language.delimiter", regex: /\|/}, {
                token: "constant.language.escape",
                regex: /\[\^?/,
                next: "regex_character_class"
            }, {token: "empty", regex: "$", next: "no_regex"}, {defaultToken: "string.regexp"}],
            regex_character_class: [{
                token: "regexp.charclass.keyword.operator",
                regex: "\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"
            }, {token: "constant.language.escape", regex: "]", next: "regex"}, {
                token: "constant.language.escape",
                regex: "-"
            }, {token: "empty", regex: "$", next: "no_regex"}, {defaultToken: "string.regexp.charachterclass"}],
            function_arguments: [{token: "variable.parameter", regex: e}, {
                token: "punctuation.operator",
                regex: "[, ]+"
            }, {token: "punctuation.operator", regex: "$"}, {token: "empty", regex: "", next: "no_regex"}],
            comment_regex_allowed: [d.getTagRule(), {
                token: "comment",
                regex: "\\*\\/",
                next: "start"
            }, {defaultToken: "comment", caseInsensitive: !0}],
            comment: [d.getTagRule(), {token: "comment", regex: "\\*\\/", next: "no_regex"}, {
                defaultToken: "comment",
                caseInsensitive: !0
            }],
            line_comment_regex_allowed: [d.getTagRule(), {
                token: "comment",
                regex: "$|^",
                next: "start"
            }, {defaultToken: "comment", caseInsensitive: !0}],
            line_comment: [d.getTagRule(), {token: "comment", regex: "$|^", next: "no_regex"}, {
                defaultToken: "comment",
                caseInsensitive: !0
            }],
            qqstring: [{token: "constant.language.escape", regex: f}, {
                token: "string",
                regex: "\\\\$",
                next: "qqstring"
            }, {token: "string", regex: '"|$', next: "no_regex"}, {defaultToken: "string"}],
            qstring: [{token: "constant.language.escape", regex: f}, {
                token: "string",
                regex: "\\\\$",
                next: "qstring"
            }, {token: "string", regex: "'|$", next: "no_regex"}, {defaultToken: "string"}]
        }, a && a.noES6 || this.$rules.no_regex.unshift({
            regex: "[{}]", onMatch: function (a, b, c) {
                return this.next = "{" == a ? this.nextState : "", "{" == a && c.length ? (c.unshift("start", b), "paren") : "}" == a && c.length && (c.shift(), this.next = c.shift(), -1 != this.next.indexOf("string")) ? "paren.quasi.end" : "{" == a ? "paren.lparen" : "paren.rparen"
            }, nextState: "start"
        }, {
            token: "string.quasi.start",
            regex: /`/,
            push: [{token: "constant.language.escape", regex: f}, {
                token: "paren.quasi.start",
                regex: /\${/,
                push: "start"
            }, {token: "string.quasi.end", regex: /`/, next: "pop"}, {defaultToken: "string.quasi"}]
        }), this.embedRules(d, "doc-", [d.getEndRule("no_regex")]), this.normalizeRules()
    };
    c.inherits(f, e), b.JavaScriptHighlightRules = f
}), define("ace/mode/matching_brace_outdent", ["require", "exports", "module", "ace/range"], function (a, b) {
    "use strict";
    var c = a("../range").Range, d = function () {
    };
    (function () {
        this.checkOutdent = function (a, b) {
            return /^\s+$/.test(a) ? /^\s*\}/.test(b) : !1
        }, this.autoOutdent = function (a, b) {
            var d = a.getLine(b), e = d.match(/^(\s*\})/);
            if (!e)return 0;
            var f = e[1].length, g = a.findMatchingBracket({row: b, column: f});
            if (!g || g.row == b)return 0;
            var h = this.$getIndent(a.getLine(g.row));
            a.replace(new c(b, 0, b, f - 1), h)
        }, this.$getIndent = function (a) {
            return a.match(/^\s*/)[0]
        }
    }).call(d.prototype), b.MatchingBraceOutdent = d
}), define("ace/mode/behaviour/cstyle", ["require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/token_iterator", "ace/lib/lang"], function (a, b) {
    "use strict";
    var c, d = a("../../lib/oop"), e = a("../behaviour").Behaviour, f = a("../../token_iterator").TokenIterator, g = a("../../lib/lang"), h = ["text", "paren.rparen", "punctuation.operator"], i = ["text", "paren.rparen", "punctuation.operator", "comment"], j = {}, k = function (a) {
        var b = -1;
        return a.multiSelect && (b = a.selection.index, j.rangeCount != a.multiSelect.rangeCount && (j = {rangeCount: a.multiSelect.rangeCount})), j[b] ? c = j[b] : void(c = j[b] = {
            autoInsertedBrackets: 0,
            autoInsertedRow: -1,
            autoInsertedLineEnd: "",
            maybeInsertedBrackets: 0,
            maybeInsertedRow: -1,
            maybeInsertedLineStart: "",
            maybeInsertedLineEnd: ""
        })
    }, l = function (a, b, c, d) {
        var e = a.end.row - a.start.row;
        return {text: c + b + d, selection: [0, a.start.column + 1, e, a.end.column + (e ? 0 : 1)]}
    }, m = function () {
        this.add("braces", "insertion", function (a, b, d, e, f) {
            var h = d.getCursorPosition(), i = e.doc.getLine(h.row);
            if ("{" == f) {
                k(d);
                var j = d.getSelectionRange(), n = e.doc.getTextRange(j);
                if ("" !== n && "{" !== n && d.getWrapBehavioursEnabled())return l(j, n, "{", "}");
                if (m.isSaneInsertion(d, e))return /[\]\}\)]/.test(i[h.column]) || d.inMultiSelectMode ? (m.recordAutoInsert(d, e, "}"), {
                    text: "{}",
                    selection: [1, 1]
                }) : (m.recordMaybeInsert(d, e, "{"), {text: "{", selection: [1, 1]})
            } else if ("}" == f) {
                k(d);
                var o = i.substring(h.column, h.column + 1);
                if ("}" == o) {
                    var p = e.$findOpeningBracket("}", {column: h.column + 1, row: h.row});
                    if (null !== p && m.isAutoInsertedClosing(h, i, f))return m.popAutoInsertedClosing(), {
                        text: "",
                        selection: [1, 1]
                    }
                }
            } else {
                if ("\n" == f || "\r\n" == f) {
                    k(d);
                    var q = "";
                    m.isMaybeInsertedClosing(h, i) && (q = g.stringRepeat("}", c.maybeInsertedBrackets), m.clearMaybeInsertedClosing());
                    var o = i.substring(h.column, h.column + 1);
                    if ("}" === o) {
                        var r = e.findMatchingBracket({row: h.row, column: h.column + 1}, "}");
                        if (!r)return null;
                        var s = this.$getIndent(e.getLine(r.row))
                    } else {
                        if (!q)return void m.clearMaybeInsertedClosing();
                        var s = this.$getIndent(i)
                    }
                    var t = s + e.getTabString();
                    return {text: "\n" + t + "\n" + s + q, selection: [1, t.length, 1, t.length]}
                }
                m.clearMaybeInsertedClosing()
            }
        }), this.add("braces", "deletion", function (a, b, d, e, f) {
            var g = e.doc.getTextRange(f);
            if (!f.isMultiLine() && "{" == g) {
                k(d);
                var h = e.doc.getLine(f.start.row), i = h.substring(f.end.column, f.end.column + 1);
                if ("}" == i)return f.end.column++, f;
                c.maybeInsertedBrackets--
            }
        }), this.add("parens", "insertion", function (a, b, c, d, e) {
            if ("(" == e) {
                k(c);
                var f = c.getSelectionRange(), g = d.doc.getTextRange(f);
                if ("" !== g && c.getWrapBehavioursEnabled())return l(f, g, "(", ")");
                if (m.isSaneInsertion(c, d))return m.recordAutoInsert(c, d, ")"), {text: "()", selection: [1, 1]}
            } else if (")" == e) {
                k(c);
                var h = c.getCursorPosition(), i = d.doc.getLine(h.row), j = i.substring(h.column, h.column + 1);
                if (")" == j) {
                    var n = d.$findOpeningBracket(")", {column: h.column + 1, row: h.row});
                    if (null !== n && m.isAutoInsertedClosing(h, i, e))return m.popAutoInsertedClosing(), {
                        text: "",
                        selection: [1, 1]
                    }
                }
            }
        }), this.add("parens", "deletion", function (a, b, c, d, e) {
            var f = d.doc.getTextRange(e);
            if (!e.isMultiLine() && "(" == f) {
                k(c);
                var g = d.doc.getLine(e.start.row), h = g.substring(e.start.column + 1, e.start.column + 2);
                if (")" == h)return e.end.column++, e
            }
        }), this.add("brackets", "insertion", function (a, b, c, d, e) {
            if ("[" == e) {
                k(c);
                var f = c.getSelectionRange(), g = d.doc.getTextRange(f);
                if ("" !== g && c.getWrapBehavioursEnabled())return l(f, g, "[", "]");
                if (m.isSaneInsertion(c, d))return m.recordAutoInsert(c, d, "]"), {text: "[]", selection: [1, 1]}
            } else if ("]" == e) {
                k(c);
                var h = c.getCursorPosition(), i = d.doc.getLine(h.row), j = i.substring(h.column, h.column + 1);
                if ("]" == j) {
                    var n = d.$findOpeningBracket("]", {column: h.column + 1, row: h.row});
                    if (null !== n && m.isAutoInsertedClosing(h, i, e))return m.popAutoInsertedClosing(), {
                        text: "",
                        selection: [1, 1]
                    }
                }
            }
        }), this.add("brackets", "deletion", function (a, b, c, d, e) {
            var f = d.doc.getTextRange(e);
            if (!e.isMultiLine() && "[" == f) {
                k(c);
                var g = d.doc.getLine(e.start.row), h = g.substring(e.start.column + 1, e.start.column + 2);
                if ("]" == h)return e.end.column++, e
            }
        }), this.add("string_dquotes", "insertion", function (a, b, c, d, e) {
            if ('"' == e || "'" == e) {
                k(c);
                var f = e, g = c.getSelectionRange(), h = d.doc.getTextRange(g);
                if ("" !== h && "'" !== h && '"' != h && c.getWrapBehavioursEnabled())return l(g, h, f, f);
                if (!h) {
                    var i = c.getCursorPosition(), j = d.doc.getLine(i.row), m = j.substring(i.column - 1, i.column), n = j.substring(i.column, i.column + 1), o = d.getTokenAt(i.row, i.column), p = d.getTokenAt(i.row, i.column + 1);
                    if ("\\" == m && o && /escape/.test(o.type))return null;
                    var q, r = o && /string/.test(o.type), s = !p || /string/.test(p.type);
                    if (n == f)q = r !== s; else {
                        if (r && !s)return null;
                        if (r && s)return null;
                        var t = d.$mode.tokenRe;
                        t.lastIndex = 0;
                        var u = t.test(m);
                        t.lastIndex = 0;
                        var v = t.test(m);
                        if (u || v)return null;
                        if (n && !/[\s;,.})\]\\]/.test(n))return null;
                        q = !0
                    }
                    return {text: q ? f + f : "", selection: [1, 1]}
                }
            }
        }), this.add("string_dquotes", "deletion", function (a, b, c, d, e) {
            var f = d.doc.getTextRange(e);
            if (!e.isMultiLine() && ('"' == f || "'" == f)) {
                k(c);
                var g = d.doc.getLine(e.start.row), h = g.substring(e.start.column + 1, e.start.column + 2);
                if (h == f)return e.end.column++, e
            }
        })
    };
    m.isSaneInsertion = function (a, b) {
        var c = a.getCursorPosition(), d = new f(b, c.row, c.column);
        if (!this.$matchTokenType(d.getCurrentToken() || "text", h)) {
            var e = new f(b, c.row, c.column + 1);
            if (!this.$matchTokenType(e.getCurrentToken() || "text", h))return !1
        }
        return d.stepForward(), d.getCurrentTokenRow() !== c.row || this.$matchTokenType(d.getCurrentToken() || "text", i)
    }, m.$matchTokenType = function (a, b) {
        return b.indexOf(a.type || a) > -1
    }, m.recordAutoInsert = function (a, b, d) {
        var e = a.getCursorPosition(), f = b.doc.getLine(e.row);
        this.isAutoInsertedClosing(e, f, c.autoInsertedLineEnd[0]) || (c.autoInsertedBrackets = 0), c.autoInsertedRow = e.row, c.autoInsertedLineEnd = d + f.substr(e.column), c.autoInsertedBrackets++
    }, m.recordMaybeInsert = function (a, b, d) {
        var e = a.getCursorPosition(), f = b.doc.getLine(e.row);
        this.isMaybeInsertedClosing(e, f) || (c.maybeInsertedBrackets = 0), c.maybeInsertedRow = e.row, c.maybeInsertedLineStart = f.substr(0, e.column) + d, c.maybeInsertedLineEnd = f.substr(e.column), c.maybeInsertedBrackets++
    }, m.isAutoInsertedClosing = function (a, b, d) {
        return c.autoInsertedBrackets > 0 && a.row === c.autoInsertedRow && d === c.autoInsertedLineEnd[0] && b.substr(a.column) === c.autoInsertedLineEnd
    }, m.isMaybeInsertedClosing = function (a, b) {
        return c.maybeInsertedBrackets > 0 && a.row === c.maybeInsertedRow && b.substr(a.column) === c.maybeInsertedLineEnd && b.substr(0, a.column) == c.maybeInsertedLineStart
    }, m.popAutoInsertedClosing = function () {
        c.autoInsertedLineEnd = c.autoInsertedLineEnd.substr(1), c.autoInsertedBrackets--
    }, m.clearMaybeInsertedClosing = function () {
        c && (c.maybeInsertedBrackets = 0, c.maybeInsertedRow = -1)
    }, d.inherits(m, e), b.CstyleBehaviour = m
}), define("ace/mode/folding/cstyle", ["require", "exports", "module", "ace/lib/oop", "ace/range", "ace/mode/folding/fold_mode"], function (a, b) {
    "use strict";
    var c = a("../../lib/oop"), d = a("../../range").Range, e = a("./fold_mode").FoldMode, f = b.FoldMode = function (a) {
        a && (this.foldingStartMarker = new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + a.start)), this.foldingStopMarker = new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + a.end)))
    };
    c.inherits(f, e), function () {
        this.foldingStartMarker = /(\{|\[)[^\}\]]*$|^\s*(\/\*)/, this.foldingStopMarker = /^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/, this.singleLineBlockCommentRe = /^\s*(\/\*).*\*\/\s*$/, this.tripleStarBlockCommentRe = /^\s*(\/\*\*\*).*\*\/\s*$/, this.startRegionRe = /^\s*(\/\*|\/\/)#region\b/, this._getFoldWidgetBase = this.getFoldWidget, this.getFoldWidget = function (a, b, c) {
            var d = a.getLine(c);
            if (this.singleLineBlockCommentRe.test(d) && !this.startRegionRe.test(d) && !this.tripleStarBlockCommentRe.test(d))return "";
            var e = this._getFoldWidgetBase(a, b, c);
            return !e && this.startRegionRe.test(d) ? "start" : e
        }, this.getFoldWidgetRange = function (a, b, c, d) {
            var e = a.getLine(c);
            if (this.startRegionRe.test(e))return this.getCommentRegionBlock(a, e, c);
            var f = e.match(this.foldingStartMarker);
            if (f) {
                var g = f.index;
                if (f[1])return this.openingBracketBlock(a, f[1], c, g);
                var h = a.getCommentFoldRange(c, g + f[0].length, 1);
                return h && !h.isMultiLine() && (d ? h = this.getSectionRange(a, c) : "all" != b && (h = null)), h
            }
            if ("markbegin" !== b) {
                var f = e.match(this.foldingStopMarker);
                if (f) {
                    var g = f.index + f[0].length;
                    return f[1] ? this.closingBracketBlock(a, f[1], c, g) : a.getCommentFoldRange(c, g, -1)
                }
            }
        }, this.getSectionRange = function (a, b) {
            var c = a.getLine(b), e = c.search(/\S/), f = b, g = c.length;
            b += 1;
            for (var h = b, i = a.getLength(); ++b < i;) {
                c = a.getLine(b);
                var j = c.search(/\S/);
                if (-1 !== j) {
                    if (e > j)break;
                    var k = this.getFoldWidgetRange(a, "all", b);
                    if (k) {
                        if (k.start.row <= f)break;
                        if (k.isMultiLine())b = k.end.row; else if (e == j)break
                    }
                    h = b
                }
            }
            return new d(f, g, h, a.getLine(h).length)
        }, this.getCommentRegionBlock = function (a, b, c) {
            for (var e = b.search(/\s*$/), f = a.getLength(), g = c, h = /^\s*(?:\/\*|\/\/)#(end)?region\b/, i = 1; ++c < f;) {
                b = a.getLine(c);
                var j = h.exec(b);
                if (j && (j[1] ? i-- : i++, !i))break
            }
            var k = c;
            return k > g ? new d(g, e, k, b.length) : void 0
        }
    }.call(f.prototype)
}), define("ace/mode/javascript", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/javascript_highlight_rules", "ace/mode/matching_brace_outdent", "ace/range", "ace/worker/worker_client", "ace/mode/behaviour/cstyle", "ace/mode/folding/cstyle"], function (a, b) {
    "use strict";
    var c = a("../lib/oop"), d = a("./text").Mode, e = a("./javascript_highlight_rules").JavaScriptHighlightRules, f = a("./matching_brace_outdent").MatchingBraceOutdent, g = (a("../range").Range, a("../worker/worker_client").WorkerClient), h = a("./behaviour/cstyle").CstyleBehaviour, i = a("./folding/cstyle").FoldMode, j = function () {
        this.HighlightRules = e, this.$outdent = new f, this.$behaviour = new h, this.foldingRules = new i
    };
    c.inherits(j, d), function () {
        this.lineCommentStart = "//", this.blockComment = {
            start: "/*",
            end: "*/"
        }, this.getNextLineIndent = function (a, b, c) {
            var d = this.$getIndent(b), e = this.getTokenizer().getLineTokens(b, a), f = e.tokens, g = e.state;
            if (f.length && "comment" == f[f.length - 1].type)return d;
            if ("start" == a || "no_regex" == a) {
                var h = b.match(/^.*(?:\bcase\b.*\:|[\{\(\[])\s*$/);
                h && (d += c)
            } else if ("doc-start" == a) {
                if ("start" == g || "no_regex" == g)return "";
                var h = b.match(/^\s*(\/?)\*/);
                h && (h[1] && (d += " "), d += "* ")
            }
            return d
        }, this.checkOutdent = function (a, b, c) {
            return this.$outdent.checkOutdent(b, c)
        }, this.autoOutdent = function (a, b, c) {
            this.$outdent.autoOutdent(b, c)
        }, this.createWorker = function (a) {
            var b = new g(["ace"], "ace/mode/javascript_worker", "JavaScriptWorker");
            return b.attachToDocument(a.getDocument()), b.on("annotate", function (b) {
                a.setAnnotations(b.data)
            }), b.on("terminate", function () {
                a.clearAnnotations()
            }), b
        }, this.$id = "ace/mode/javascript"
    }.call(j.prototype), b.Mode = j
}), define("ace/mode/xml_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules"], function (a, b) {
    "use strict";
    var c = a("../lib/oop"), d = a("./text_highlight_rules").TextHighlightRules, e = function () {
        var a = "[a-zA-Z][-_a-zA-Z0-9]*";
        this.$rules = {
            start: [{
                token: "string.cdata.xml",
                regex: "<\\!\\[CDATA\\[",
                next: "cdata"
            }, {
                token: ["punctuation.xml-decl.xml", "keyword.xml-decl.xml"],
                regex: "(<\\?)(xml)(?=[\\s])",
                next: "xml_decl",
                caseInsensitive: !0
            }, {
                token: ["punctuation.instruction.xml", "keyword.instruction.xml"],
                regex: "(<\\?)(" + a + ")",
                next: "processing_instruction"
            }, {
                token: "comment.xml",
                regex: "<\\!--",
                next: "comment"
            }, {
                token: ["xml-pe.doctype.xml", "xml-pe.doctype.xml"],
                regex: "(<\\!)(DOCTYPE)(?=[\\s])",
                next: "doctype",
                caseInsensitive: !0
            }, {include: "tag"}, {token: "text.end-tag-open.xml", regex: "</"}, {
                token: "text.tag-open.xml",
                regex: "<"
            }, {include: "reference"}, {defaultToken: "text.xml"}],
            xml_decl: [{
                token: "entity.other.attribute-name.decl-attribute-name.xml",
                regex: "(?:" + a + ":)?" + a
            }, {
                token: "keyword.operator.decl-attribute-equals.xml",
                regex: "="
            }, {include: "whitespace"}, {include: "string"}, {
                token: "punctuation.xml-decl.xml",
                regex: "\\?>",
                next: "start"
            }],
            processing_instruction: [{
                token: "punctuation.instruction.xml",
                regex: "\\?>",
                next: "start"
            }, {defaultToken: "instruction.xml"}],
            doctype: [{include: "whitespace"}, {include: "string"}, {
                token: "xml-pe.doctype.xml",
                regex: ">",
                next: "start"
            }, {token: "xml-pe.xml", regex: "[-_a-zA-Z0-9:]+"}, {
                token: "punctuation.int-subset",
                regex: "\\[",
                push: "int_subset"
            }],
            int_subset: [{token: "text.xml", regex: "\\s+"}, {
                token: "punctuation.int-subset.xml",
                regex: "]",
                next: "pop"
            }, {
                token: ["punctuation.markup-decl.xml", "keyword.markup-decl.xml"],
                regex: "(<\\!)(" + a + ")",
                push: [{token: "text", regex: "\\s+"}, {
                    token: "punctuation.markup-decl.xml",
                    regex: ">",
                    next: "pop"
                }, {include: "string"}]
            }],
            cdata: [{token: "string.cdata.xml", regex: "\\]\\]>", next: "start"}, {
                token: "text.xml",
                regex: "\\s+"
            }, {token: "text.xml", regex: "(?:[^\\]]|\\](?!\\]>))+"}],
            comment: [{token: "comment.xml", regex: "-->", next: "start"}, {defaultToken: "comment.xml"}],
            reference: [{
                token: "constant.language.escape.reference.xml",
                regex: "(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"
            }],
            attr_reference: [{
                token: "constant.language.escape.reference.attribute-value.xml",
                regex: "(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"
            }],
            tag: [{
                token: ["meta.tag.punctuation.tag-open.xml", "meta.tag.punctuation.end-tag-open.xml", "meta.tag.tag-name.xml"],
                regex: "(?:(<)|(</))((?:" + a + ":)?" + a + ")",
                next: [{include: "attributes"}, {
                    token: "meta.tag.punctuation.tag-close.xml",
                    regex: "/?>",
                    next: "start"
                }]
            }],
            tag_whitespace: [{token: "text.tag-whitespace.xml", regex: "\\s+"}],
            whitespace: [{token: "text.whitespace.xml", regex: "\\s+"}],
            string: [{
                token: "string.xml",
                regex: "'",
                push: [{token: "string.xml", regex: "'", next: "pop"}, {defaultToken: "string.xml"}]
            }, {
                token: "string.xml",
                regex: '"',
                push: [{token: "string.xml", regex: '"', next: "pop"}, {defaultToken: "string.xml"}]
            }],
            attributes: [{
                token: "entity.other.attribute-name.xml",
                regex: "(?:" + a + ":)?" + a
            }, {
                token: "keyword.operator.attribute-equals.xml",
                regex: "="
            }, {include: "tag_whitespace"}, {include: "attribute_value"}],
            attribute_value: [{
                token: "string.attribute-value.xml",
                regex: "'",
                push: [{
                    token: "string.attribute-value.xml",
                    regex: "'",
                    next: "pop"
                }, {include: "attr_reference"}, {defaultToken: "string.attribute-value.xml"}]
            }, {
                token: "string.attribute-value.xml",
                regex: '"',
                push: [{
                    token: "string.attribute-value.xml",
                    regex: '"',
                    next: "pop"
                }, {include: "attr_reference"}, {defaultToken: "string.attribute-value.xml"}]
            }]
        }, this.constructor === e && this.normalizeRules()
    };
    (function () {
        this.embedTagRules = function (a, b, c) {
            this.$rules.tag.unshift({
                token: ["meta.tag.punctuation.tag-open.xml", "meta.tag." + c + ".tag-name.xml"],
                regex: "(<)(" + c + "(?=\\s|>|$))",
                next: [{include: "attributes"}, {
                    token: "meta.tag.punctuation.tag-close.xml",
                    regex: "/?>",
                    next: b + "start"
                }]
            }), this.$rules[c + "-end"] = [{include: "attributes"}, {
                token: "meta.tag.punctuation.tag-close.xml",
                regex: "/?>",
                next: "start",
                onMatch: function (a, b, c) {
                    return c.splice(0), this.token
                }
            }], this.embedRules(a, b, [{
                token: ["meta.tag.punctuation.end-tag-open.xml", "meta.tag." + c + ".tag-name.xml"],
                regex: "(</)(" + c + "(?=\\s|>|$))",
                next: c + "-end"
            }, {token: "string.cdata.xml", regex: "<\\!\\[CDATA\\["}, {token: "string.cdata.xml", regex: "\\]\\]>"}])
        }
    }).call(d.prototype), c.inherits(e, d), b.XmlHighlightRules = e
}), define("ace/mode/behaviour/xml", ["require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/token_iterator", "ace/lib/lang"], function (a, b) {
    "use strict";
    function c(a, b) {
        return a.type.lastIndexOf(b + ".xml") > -1
    }

    var d = a("../../lib/oop"), e = a("../behaviour").Behaviour, f = a("../../token_iterator").TokenIterator, g = (a("../../lib/lang"), function () {
        this.add("string_dquotes", "insertion", function (a, b, d, e, g) {
            if ('"' == g || "'" == g) {
                var h = g, i = e.doc.getTextRange(d.getSelectionRange());
                if ("" !== i && "'" !== i && '"' != i && d.getWrapBehavioursEnabled())return {
                    text: h + i + h,
                    selection: !1
                };
                var j = d.getCursorPosition(), k = e.doc.getLine(j.row), l = k.substring(j.column, j.column + 1), m = new f(e, j.row, j.column), n = m.getCurrentToken();
                if (l == h && (c(n, "attribute-value") || c(n, "string")))return {text: "", selection: [1, 1]};
                if (n || (n = m.stepBackward()), !n)return;
                for (; c(n, "tag-whitespace") || c(n, "whitespace");)n = m.stepBackward();
                var o = !l || l.match(/\s/);
                if (c(n, "attribute-equals") && (o || ">" == l) || c(n, "decl-attribute-equals") && (o || "?" == l))return {
                    text: h + h,
                    selection: [1, 1]
                }
            }
        }), this.add("string_dquotes", "deletion", function (a, b, c, d, e) {
            var f = d.doc.getTextRange(e);
            if (!e.isMultiLine() && ('"' == f || "'" == f)) {
                var g = d.doc.getLine(e.start.row), h = g.substring(e.start.column + 1, e.start.column + 2);
                if (h == f)return e.end.column++, e
            }
        }), this.add("autoclosing", "insertion", function (a, b, d, e, g) {
            if (">" == g) {
                var h = d.getCursorPosition(), i = new f(e, h.row, h.column), j = i.getCurrentToken() || i.stepBackward();
                if (!j || !(c(j, "tag-name") || c(j, "tag-whitespace") || c(j, "attribute-name") || c(j, "attribute-equals") || c(j, "attribute-value")))return;
                if (c(j, "reference.attribute-value"))return;
                if (c(j, "attribute-value")) {
                    var k = j.value.charAt(0);
                    if ('"' == k || "'" == k) {
                        var l = j.value.charAt(j.value.length - 1), m = i.getCurrentTokenColumn() + j.value.length;
                        if (m > h.column || m == h.column && k != l)return
                    }
                }
                for (; !c(j, "tag-name");)j = i.stepBackward();
                var n = i.getCurrentTokenRow(), o = i.getCurrentTokenColumn();
                if (c(i.stepBackward(), "end-tag-open"))return;
                var p = j.value;
                if (n == h.row && (p = p.substring(0, h.column - o)), this.voidElements.hasOwnProperty(p.toLowerCase()))return;
                return {text: "></" + p + ">", selection: [1, 1]}
            }
        }), this.add("autoindent", "insertion", function (a, b, c, d, e) {
            if ("\n" == e) {
                var g = c.getCursorPosition(), h = d.getLine(g.row), i = new f(d, g.row, g.column), j = i.getCurrentToken();
                if (j && -1 !== j.type.indexOf("tag-close")) {
                    if ("/>" == j.value)return;
                    for (; j && -1 === j.type.indexOf("tag-name");)j = i.stepBackward();
                    if (!j)return;
                    var k = j.value, l = i.getCurrentTokenRow();
                    if (j = i.stepBackward(), !j || -1 !== j.type.indexOf("end-tag"))return;
                    if (this.voidElements && !this.voidElements[k]) {
                        var m = d.getTokenAt(g.row, g.column + 1), h = d.getLine(l), n = this.$getIndent(h), o = n + d.getTabString();
                        return m && "</" === m.value ? {
                            text: "\n" + o + "\n" + n,
                            selection: [1, o.length, 1, o.length]
                        } : {text: "\n" + o}
                    }
                }
            }
        })
    });
    d.inherits(g, e), b.XmlBehaviour = g
}), define("ace/mode/folding/xml", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/range", "ace/mode/folding/fold_mode", "ace/token_iterator"], function (a, b) {
    "use strict";
    function c(a, b) {
        return a.type.lastIndexOf(b + ".xml") > -1
    }

    var d = a("../../lib/oop"), e = (a("../../lib/lang"), a("../../range").Range), f = a("./fold_mode").FoldMode, g = a("../../token_iterator").TokenIterator, h = b.FoldMode = function (a, b) {
        f.call(this), this.voidElements = a || {}, this.optionalEndTags = d.mixin({}, this.voidElements), b && d.mixin(this.optionalEndTags, b)
    };
    d.inherits(h, f);
    var i = function () {
        this.tagName = "", this.closing = !1, this.selfClosing = !1, this.start = {
            row: 0,
            column: 0
        }, this.end = {row: 0, column: 0}
    };
    (function () {
        this.getFoldWidget = function (a, b, c) {
            var d = this._getFirstTagInLine(a, c);
            return d ? d.closing || !d.tagName && d.selfClosing ? "markbeginend" == b ? "end" : "" : !d.tagName || d.selfClosing || this.voidElements.hasOwnProperty(d.tagName.toLowerCase()) ? "" : this._findEndTagInLine(a, c, d.tagName, d.end.column) ? "" : "start" : ""
        }, this._getFirstTagInLine = function (a, b) {
            for (var d = a.getTokens(b), e = new i, f = 0; f < d.length; f++) {
                var g = d[f];
                if (c(g, "tag-open")) {
                    if (e.end.column = e.start.column + g.value.length, e.closing = c(g, "end-tag-open"), g = d[++f], !g)return null;
                    for (e.tagName = g.value, e.end.column += g.value.length, f++; f < d.length; f++)if (g = d[f], e.end.column += g.value.length, c(g, "tag-close")) {
                        e.selfClosing = "/>" == g.value;
                        break
                    }
                    return e
                }
                if (c(g, "tag-close"))return e.selfClosing = "/>" == g.value, e;
                e.start.column += g.value.length
            }
            return null
        }, this._findEndTagInLine = function (a, b, d, e) {
            for (var f = a.getTokens(b), g = 0, h = 0; h < f.length; h++) {
                var i = f[h];
                if (g += i.value.length, !(e > g) && c(i, "end-tag-open") && (i = f[h + 1], i && i.value == d))return !0
            }
            return !1
        }, this._readTagForward = function (a) {
            var b = a.getCurrentToken();
            if (!b)return null;
            var d = new i;
            do if (c(b, "tag-open"))d.closing = c(b, "end-tag-open"), d.start.row = a.getCurrentTokenRow(), d.start.column = a.getCurrentTokenColumn(); else if (c(b, "tag-name"))d.tagName = b.value; else if (c(b, "tag-close"))return d.selfClosing = "/>" == b.value, d.end.row = a.getCurrentTokenRow(), d.end.column = a.getCurrentTokenColumn() + b.value.length, a.stepForward(), d; while (b = a.stepForward());
            return null
        }, this._readTagBackward = function (a) {
            var b = a.getCurrentToken();
            if (!b)return null;
            var d = new i;
            do {
                if (c(b, "tag-open"))return d.closing = c(b, "end-tag-open"), d.start.row = a.getCurrentTokenRow(), d.start.column = a.getCurrentTokenColumn(), a.stepBackward(), d;
                c(b, "tag-name") ? d.tagName = b.value : c(b, "tag-close") && (d.selfClosing = "/>" == b.value, d.end.row = a.getCurrentTokenRow(), d.end.column = a.getCurrentTokenColumn() + b.value.length)
            } while (b = a.stepBackward());
            return null
        }, this._pop = function (a, b) {
            for (; a.length;) {
                var c = a[a.length - 1];
                if (b && c.tagName != b.tagName) {
                    if (this.optionalEndTags.hasOwnProperty(c.tagName)) {
                        a.pop();
                        continue
                    }
                    return null
                }
                return a.pop()
            }
        }, this.getFoldWidgetRange = function (a, b, c) {
            var d = this._getFirstTagInLine(a, c);
            if (!d)return null;
            var f, h = d.closing || d.selfClosing, i = [];
            if (h)for (var j = new g(a, c, d.end.column), k = {
                row: c,
                column: d.start.column
            }; f = this._readTagBackward(j);) {
                if (f.selfClosing) {
                    if (i.length)continue;
                    return f.start.column += f.tagName.length + 2, f.end.column -= 2, e.fromPoints(f.start, f.end)
                }
                if (f.closing)i.push(f); else if (this._pop(i, f), 0 == i.length)return f.start.column += f.tagName.length + 2, f.start.row == f.end.row && f.start.column < f.end.column && (f.start.column = f.end.column), e.fromPoints(f.start, k)
            } else {
                var j = new g(a, c, d.start.column), l = {row: c, column: d.start.column + d.tagName.length + 2};
                for (d.start.row == d.end.row && (l.column = d.end.column); f = this._readTagForward(j);) {
                    if (f.selfClosing) {
                        if (i.length)continue;
                        return f.start.column += f.tagName.length + 2, f.end.column -= 2, e.fromPoints(f.start, f.end)
                    }
                    if (f.closing) {
                        if (this._pop(i, f), 0 == i.length)return e.fromPoints(l, f.start)
                    } else i.push(f)
                }
            }
        }
    }).call(h.prototype)
}), define("ace/mode/xml", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/mode/text", "ace/mode/xml_highlight_rules", "ace/mode/behaviour/xml", "ace/mode/folding/xml", "ace/worker/worker_client"], function (a, b) {
    "use strict";
    var c = a("../lib/oop"), d = a("../lib/lang"), e = a("./text").Mode, f = a("./xml_highlight_rules").XmlHighlightRules, g = a("./behaviour/xml").XmlBehaviour, h = a("./folding/xml").FoldMode, i = a("../worker/worker_client").WorkerClient, j = function () {
        this.HighlightRules = f, this.$behaviour = new g, this.foldingRules = new h
    };
    c.inherits(j, e), function () {
        this.voidElements = d.arrayToMap([]), this.blockComment = {
            start: "<!--",
            end: "-->"
        }, this.createWorker = function (a) {
            var b = new i(["ace"], "ace/mode/xml_worker", "Worker");
            return b.attachToDocument(a.getDocument()), b.on("error", function (b) {
                a.setAnnotations(b.data)
            }), b.on("terminate", function () {
                a.clearAnnotations()
            }), b
        }, this.$id = "ace/mode/xml"
    }.call(j.prototype), b.Mode = j
}), define("ace/mode/css_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/mode/text_highlight_rules"], function (a, b) {
    "use strict";
    var c = a("../lib/oop"), d = (a("../lib/lang"), a("./text_highlight_rules").TextHighlightRules), e = b.supportType = "animation-fill-mode|alignment-adjust|alignment-baseline|animation-delay|animation-direction|animation-duration|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|animation|appearance|azimuth|backface-visibility|background-attachment|background-break|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|background|baseline-shift|binding|bleed|bookmark-label|bookmark-level|bookmark-state|bookmark-target|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|border|bottom|box-align|box-decoration-break|box-direction|box-flex-group|box-flex|box-lines|box-ordinal-group|box-orient|box-pack|box-shadow|box-sizing|break-after|break-before|break-inside|caption-side|clear|clip|color-profile|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|crop|cue-after|cue-before|cue|cursor|direction|display|dominant-baseline|drop-initial-after-adjust|drop-initial-after-align|drop-initial-before-adjust|drop-initial-before-align|drop-initial-size|drop-initial-value|elevation|empty-cells|fit|fit-position|float-offset|float|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|font|grid-columns|grid-rows|hanging-punctuation|height|hyphenate-after|hyphenate-before|hyphenate-character|hyphenate-lines|hyphenate-resource|hyphens|icon|image-orientation|image-rendering|image-resolution|inline-box-align|left|letter-spacing|line-height|line-stacking-ruby|line-stacking-shift|line-stacking-strategy|line-stacking|list-style-image|list-style-position|list-style-type|list-style|margin-bottom|margin-left|margin-right|margin-top|margin|mark-after|mark-before|mark|marks|marquee-direction|marquee-play-count|marquee-speed|marquee-style|max-height|max-width|min-height|min-width|move-to|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|orphans|outline-color|outline-offset|outline-style|outline-width|outline|overflow-style|overflow-x|overflow-y|overflow|padding-bottom|padding-left|padding-right|padding-top|padding|page-break-after|page-break-before|page-break-inside|page-policy|page|pause-after|pause-before|pause|perspective-origin|perspective|phonemes|pitch-range|pitch|play-during|pointer-events|position|presentation-level|punctuation-trim|quotes|rendering-intent|resize|rest-after|rest-before|rest|richness|right|rotation-point|rotation|ruby-align|ruby-overhang|ruby-position|ruby-span|size|speak-header|speak-numeral|speak-punctuation|speak|speech-rate|stress|string-set|table-layout|target-name|target-new|target-position|target|text-align-last|text-align|text-decoration|text-emphasis|text-height|text-indent|text-justify|text-outline|text-shadow|text-transform|text-wrap|top|transform-origin|transform-style|transform|transition-delay|transition-duration|transition-property|transition-timing-function|transition|unicode-bidi|vertical-align|visibility|voice-balance|voice-duration|voice-family|voice-pitch-range|voice-pitch|voice-rate|voice-stress|voice-volume|volume|white-space-collapse|white-space|widows|width|word-break|word-spacing|word-wrap|z-index", f = b.supportFunction = "rgb|rgba|url|attr|counter|counters", g = b.supportConstant = "absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero", h = b.supportConstantColor = "aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow", i = b.supportConstantFonts = "arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace", j = b.numRe = "\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))", k = b.pseudoElements = "(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b", l = b.pseudoClasses = "(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b", m = function () {
        var a = this.createKeywordMapper({
            "support.function": f,
            "support.constant": g,
            "support.type": e,
            "support.constant.color": h,
            "support.constant.fonts": i
        }, "text", !0);
        this.$rules = {
            start: [{token: "comment", regex: "\\/\\*", push: "comment"}, {
                token: "paren.lparen",
                regex: "\\{",
                push: "ruleset"
            }, {token: "string", regex: "@.*?{", push: "media"}, {
                token: "keyword",
                regex: "#[a-z0-9-_]+"
            }, {token: "variable", regex: "\\.[a-z0-9-_]+"}, {token: "string", regex: ":[a-z0-9-_]+"}, {
                token: "constant",
                regex: "[a-z0-9-_]+"
            }, {caseInsensitive: !0}],
            media: [{token: "comment", regex: "\\/\\*", push: "comment"}, {
                token: "paren.lparen",
                regex: "\\{",
                push: "ruleset"
            }, {token: "string", regex: "\\}", next: "pop"}, {
                token: "keyword",
                regex: "#[a-z0-9-_]+"
            }, {token: "variable", regex: "\\.[a-z0-9-_]+"}, {
                token: "string",
                regex: ":[a-z0-9-_]+"
            }, {token: "constant", regex: "[a-z0-9-_]+"}, {caseInsensitive: !0}],
            comment: [{token: "comment", regex: "\\*\\/", next: "pop"}, {defaultToken: "comment"}],
            ruleset: [{token: "paren.rparen", regex: "\\}", next: "pop"}, {
                token: "comment",
                regex: "\\/\\*",
                push: "comment"
            }, {token: "string", regex: '["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'}, {
                token: "string",
                regex: "['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"
            }, {
                token: ["constant.numeric", "keyword"],
                regex: "(" + j + ")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)"
            }, {token: "constant.numeric", regex: j}, {
                token: "constant.numeric",
                regex: "#[a-f0-9]{6}"
            }, {
                token: "constant.numeric",
                regex: "#[a-f0-9]{3}"
            }, {
                token: ["punctuation", "entity.other.attribute-name.pseudo-element.css"],
                regex: k
            }, {
                token: ["punctuation", "entity.other.attribute-name.pseudo-class.css"],
                regex: l
            }, {token: ["support.function", "string", "support.function"], regex: "(url\\()(.*)(\\))"}, {
                token: a,
                regex: "\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"
            }, {caseInsensitive: !0}]
        }, this.normalizeRules()
    };
    c.inherits(m, d), b.CssHighlightRules = m
}), define("ace/mode/behaviour/css", ["require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/mode/behaviour/cstyle", "ace/token_iterator"], function (a, b) {
    "use strict";
    var c = a("../../lib/oop"), d = (a("../behaviour").Behaviour, a("./cstyle").CstyleBehaviour), e = a("../../token_iterator").TokenIterator, f = function () {
        this.inherit(d), this.add("colon", "insertion", function (a, b, c, d, f) {
            if (":" === f) {
                var g = c.getCursorPosition(), h = new e(d, g.row, g.column), i = h.getCurrentToken();
                if (i && i.value.match(/\s+/) && (i = h.stepBackward()), i && "support.type" === i.type) {
                    var j = d.doc.getLine(g.row), k = j.substring(g.column, g.column + 1);
                    if (":" === k)return {text: "", selection: [1, 1]};
                    if (!j.substring(g.column).match(/^\s*;/))return {text: ":;", selection: [1, 1]}
                }
            }
        }), this.add("colon", "deletion", function (a, b, c, d, f) {
            var g = d.doc.getTextRange(f);
            if (!f.isMultiLine() && ":" === g) {
                var h = c.getCursorPosition(), i = new e(d, h.row, h.column), j = i.getCurrentToken();
                if (j && j.value.match(/\s+/) && (j = i.stepBackward()), j && "support.type" === j.type) {
                    var k = d.doc.getLine(f.start.row), l = k.substring(f.end.column, f.end.column + 1);
                    if (";" === l)return f.end.column++, f
                }
            }
        }), this.add("semicolon", "insertion", function (a, b, c, d, e) {
            if (";" === e) {
                var f = c.getCursorPosition(), g = d.doc.getLine(f.row), h = g.substring(f.column, f.column + 1);
                if (";" === h)return {text: "", selection: [1, 1]}
            }
        })
    };
    c.inherits(f, d), b.CssBehaviour = f
}), define("ace/mode/css", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/css_highlight_rules", "ace/mode/matching_brace_outdent", "ace/worker/worker_client", "ace/mode/behaviour/css", "ace/mode/folding/cstyle"], function (a, b) {
    "use strict";
    var c = a("../lib/oop"), d = a("./text").Mode, e = a("./css_highlight_rules").CssHighlightRules, f = a("./matching_brace_outdent").MatchingBraceOutdent, g = a("../worker/worker_client").WorkerClient, h = a("./behaviour/css").CssBehaviour, i = a("./folding/cstyle").FoldMode, j = function () {
        this.HighlightRules = e, this.$outdent = new f, this.$behaviour = new h, this.foldingRules = new i
    };
    c.inherits(j, d), function () {
        this.foldingRules = "cStyle", this.blockComment = {
            start: "/*",
            end: "*/"
        }, this.getNextLineIndent = function (a, b, c) {
            var d = this.$getIndent(b), e = this.getTokenizer().getLineTokens(b, a).tokens;
            if (e.length && "comment" == e[e.length - 1].type)return d;
            var f = b.match(/^.*\{\s*$/);
            return f && (d += c), d
        }, this.checkOutdent = function (a, b, c) {
            return this.$outdent.checkOutdent(b, c)
        }, this.autoOutdent = function (a, b, c) {
            this.$outdent.autoOutdent(b, c)
        }, this.createWorker = function (a) {
            var b = new g(["ace"], "ace/mode/css_worker", "Worker");
            return b.attachToDocument(a.getDocument()), b.on("annotate", function (b) {
                a.setAnnotations(b.data)
            }), b.on("terminate", function () {
                a.clearAnnotations()
            }), b
        }, this.$id = "ace/mode/css"
    }.call(j.prototype), b.Mode = j
}), define("ace/mode/html_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/mode/css_highlight_rules", "ace/mode/javascript_highlight_rules", "ace/mode/xml_highlight_rules"], function (a, b) {
    "use strict";
    var c = a("../lib/oop"), d = a("../lib/lang"), e = a("./css_highlight_rules").CssHighlightRules, f = a("./javascript_highlight_rules").JavaScriptHighlightRules, g = a("./xml_highlight_rules").XmlHighlightRules, h = d.createMap({
        a: "anchor",
        button: "form",
        form: "form",
        img: "image",
        input: "form",
        label: "form",
        option: "form",
        script: "script",
        select: "form",
        textarea: "form",
        style: "style",
        table: "table",
        tbody: "table",
        td: "table",
        tfoot: "table",
        th: "table",
        tr: "table"
    }), i = function () {
        g.call(this), this.addRules({
            attributes: [{include: "tag_whitespace"}, {
                token: "entity.other.attribute-name.xml",
                regex: "[-_a-zA-Z0-9:]+"
            }, {
                token: "keyword.operator.attribute-equals.xml",
                regex: "=",
                push: [{include: "tag_whitespace"}, {
                    token: "string.unquoted.attribute-value.html",
                    regex: "[^<>='\"`\\s]+",
                    next: "pop"
                }, {token: "empty", regex: "", next: "pop"}]
            }, {include: "attribute_value"}],
            tag: [{
                token: function (a, b) {
                    var c = h[b];
                    return ["meta.tag.punctuation." + ("<" == a ? "" : "end-") + "tag-open.xml", "meta.tag" + (c ? "." + c : "") + ".tag-name.xml"]
                }, regex: "(</?)([-_a-zA-Z0-9:]+)", next: "tag_stuff"
            }],
            tag_stuff: [{include: "attributes"}, {
                token: "meta.tag.punctuation.tag-close.xml",
                regex: "/?>",
                next: "start"
            }]
        }), this.embedTagRules(e, "css-", "style"), this.embedTagRules(f, "js-", "script"), this.constructor === i && this.normalizeRules()
    };
    c.inherits(i, g), b.HtmlHighlightRules = i
}), define("ace/mode/folding/mixed", ["require", "exports", "module", "ace/lib/oop", "ace/mode/folding/fold_mode"], function (a, b) {
    "use strict";
    var c = a("../../lib/oop"), d = a("./fold_mode").FoldMode, e = b.FoldMode = function (a, b) {
        this.defaultMode = a, this.subModes = b
    };
    c.inherits(e, d), function () {
        this.$getMode = function (a) {
            "string" != typeof a && (a = a[0]);
            for (var b in this.subModes)if (0 === a.indexOf(b))return this.subModes[b];
            return null
        }, this.$tryMode = function (a, b, c, d) {
            var e = this.$getMode(a);
            return e ? e.getFoldWidget(b, c, d) : ""
        }, this.getFoldWidget = function (a, b, c) {
            return this.$tryMode(a.getState(c - 1), a, b, c) || this.$tryMode(a.getState(c), a, b, c) || this.defaultMode.getFoldWidget(a, b, c)
        }, this.getFoldWidgetRange = function (a, b, c) {
            var d = this.$getMode(a.getState(c - 1));
            return d && d.getFoldWidget(a, b, c) || (d = this.$getMode(a.getState(c))), d && d.getFoldWidget(a, b, c) || (d = this.defaultMode), d.getFoldWidgetRange(a, b, c)
        }
    }.call(e.prototype)
}), define("ace/mode/folding/html", ["require", "exports", "module", "ace/lib/oop", "ace/mode/folding/mixed", "ace/mode/folding/xml", "ace/mode/folding/cstyle"], function (a, b) {
    "use strict";
    var c = a("../../lib/oop"), d = a("./mixed").FoldMode, e = a("./xml").FoldMode, f = a("./cstyle").FoldMode, g = b.FoldMode = function (a, b) {
        d.call(this, new e(a, b), {"js-": new f, "css-": new f})
    };
    c.inherits(g, d)
}), define("ace/mode/html_completions", ["require", "exports", "module", "ace/token_iterator"], function (a, b) {
    "use strict";
    function c(a, b) {
        return a.type.lastIndexOf(b + ".xml") > -1
    }

    function d(a, b) {
        for (var d = new e(a, b.row, b.column), f = d.getCurrentToken(); f && !c(f, "tag-name");)f = d.stepBackward();
        return f ? f.value : void 0
    }

    var e = a("../token_iterator").TokenIterator, f = ["accesskey", "class", "contenteditable", "contextmenu", "dir", "draggable",
        "dropzone", "hidden", "id", "inert", "itemid", "itemprop", "itemref", "itemscope", "itemtype", "lang", "spellcheck", "style", "tabindex", "title", "translate"], g = ["onabort", "onblur", "oncancel", "oncanplay", "oncanplaythrough", "onchange", "onclick", "onclose", "oncontextmenu", "oncuechange", "ondblclick", "ondrag", "ondragend", "ondragenter", "ondragleave", "ondragover", "ondragstart", "ondrop", "ondurationchange", "onemptied", "onended", "onerror", "onfocus", "oninput", "oninvalid", "onkeydown", "onkeypress", "onkeyup", "onload", "onloadeddata", "onloadedmetadata", "onloadstart", "onmousedown", "onmousemove", "onmouseout", "onmouseover", "onmouseup", "onmousewheel", "onpause", "onplay", "onplaying", "onprogress", "onratechange", "onreset", "onscroll", "onseeked", "onseeking", "onselect", "onshow", "onstalled", "onsubmit", "onsuspend", "ontimeupdate", "onvolumechange", "onwaiting"], h = f.concat(g), i = {
        html: ["manifest"],
        head: [],
        title: [],
        base: ["href", "target"],
        link: ["href", "hreflang", "rel", "media", "type", "sizes"],
        meta: ["http-equiv", "name", "content", "charset"],
        style: ["type", "media", "scoped"],
        script: ["charset", "type", "src", "defer", "async"],
        noscript: ["href"],
        body: ["onafterprint", "onbeforeprint", "onbeforeunload", "onhashchange", "onmessage", "onoffline", "onpopstate", "onredo", "onresize", "onstorage", "onundo", "onunload"],
        section: [],
        nav: [],
        article: ["pubdate"],
        aside: [],
        h1: [],
        h2: [],
        h3: [],
        h4: [],
        h5: [],
        h6: [],
        header: [],
        footer: [],
        address: [],
        main: [],
        p: [],
        hr: [],
        pre: [],
        blockquote: ["cite"],
        ol: ["start", "reversed"],
        ul: [],
        li: ["value"],
        dl: [],
        dt: [],
        dd: [],
        figure: [],
        figcaption: [],
        div: [],
        a: ["href", "target", "ping", "rel", "media", "hreflang", "type"],
        em: [],
        strong: [],
        small: [],
        s: [],
        cite: [],
        q: ["cite"],
        dfn: [],
        abbr: [],
        data: [],
        time: ["datetime"],
        code: [],
        "var": [],
        samp: [],
        kbd: [],
        sub: [],
        sup: [],
        i: [],
        b: [],
        u: [],
        mark: [],
        ruby: [],
        rt: [],
        rp: [],
        bdi: [],
        bdo: [],
        span: [],
        br: [],
        wbr: [],
        ins: ["cite", "datetime"],
        del: ["cite", "datetime"],
        img: ["alt", "src", "height", "width", "usemap", "ismap"],
        iframe: ["name", "src", "height", "width", "sandbox", "seamless"],
        embed: ["src", "height", "width", "type"],
        object: ["param", "data", "type", "height", "width", "usemap", "name", "form", "classid"],
        param: ["name", "value"],
        video: ["src", "autobuffer", "autoplay", "loop", "controls", "width", "height", "poster"],
        audio: ["src", "autobuffer", "autoplay", "loop", "controls"],
        source: ["src", "type", "media"],
        track: ["kind", "src", "srclang", "label", "default"],
        canvas: ["width", "height"],
        map: ["name"],
        area: ["shape", "coords", "href", "hreflang", "alt", "target", "media", "rel", "ping", "type"],
        svg: [],
        math: [],
        table: ["summary"],
        caption: [],
        colgroup: ["span"],
        col: ["span"],
        tbody: [],
        thead: [],
        tfoot: [],
        tr: [],
        td: ["headers", "rowspan", "colspan"],
        th: ["headers", "rowspan", "colspan", "scope"],
        form: ["accept-charset", "action", "autocomplete", "enctype", "method", "name", "novalidate", "target"],
        fieldset: ["disabled", "form", "name"],
        legend: [],
        label: ["form", "for"],
        input: ["type", "accept", "alt", "autocomplete", "checked", "disabled", "form", "formaction", "formenctype", "formmethod", "formnovalidate", "formtarget", "height", "list", "max", "maxlength", "min", "multiple", "pattern", "placeholder", "readonly", "required", "size", "src", "step", "width", "files", "value"],
        button: ["autofocus", "disabled", "form", "formaction", "formenctype", "formmethod", "formnovalidate", "formtarget", "name", "value", "type"],
        select: ["autofocus", "disabled", "form", "multiple", "name", "size"],
        datalist: [],
        optgroup: ["disabled", "label"],
        option: ["disabled", "selected", "label", "value"],
        textarea: ["autofocus", "disabled", "form", "maxlength", "name", "placeholder", "readonly", "required", "rows", "cols", "wrap"],
        keygen: ["autofocus", "challenge", "disabled", "form", "keytype", "name"],
        output: ["for", "form", "name"],
        progress: ["value", "max"],
        meter: ["value", "min", "max", "low", "high", "optimum"],
        details: ["open"],
        summary: [],
        command: ["type", "label", "icon", "disabled", "checked", "radiogroup", "command"],
        menu: ["type", "label"],
        dialog: ["open"]
    }, j = Object.keys(i), k = function () {
    };
    (function () {
        this.getCompletions = function (a, b, d, e) {
            var f = b.getTokenAt(d.row, d.column);
            return f ? c(f, "tag-name") || c(f, "tag-open") || c(f, "end-tag-open") ? this.getTagCompletions(a, b, d, e) : c(f, "tag-whitespace") || c(f, "attribute-name") ? this.getAttributeCompetions(a, b, d, e) : [] : []
        }, this.getTagCompletions = function () {
            return j.map(function (a) {
                return {value: a, meta: "tag", score: Number.MAX_VALUE}
            })
        }, this.getAttributeCompetions = function (a, b, c) {
            var e = d(b, c);
            if (!e)return [];
            var f = h;
            return e in i && (f = f.concat(i[e])), f.map(function (a) {
                return {caption: a, snippet: a + '="$0"', meta: "attribute", score: Number.MAX_VALUE}
            })
        }
    }).call(k.prototype), b.HtmlCompletions = k
}), define("ace/mode/html", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/mode/text", "ace/mode/javascript", "ace/mode/css", "ace/mode/html_highlight_rules", "ace/mode/behaviour/xml", "ace/mode/folding/html", "ace/mode/html_completions", "ace/worker/worker_client"], function (a, b) {
    "use strict";
    var c = a("../lib/oop"), d = a("../lib/lang"), e = a("./text").Mode, f = a("./javascript").Mode, g = a("./css").Mode, h = a("./html_highlight_rules").HtmlHighlightRules, i = a("./behaviour/xml").XmlBehaviour, j = a("./folding/html").FoldMode, k = a("./html_completions").HtmlCompletions, l = a("../worker/worker_client").WorkerClient, m = ["area", "base", "br", "col", "embed", "hr", "img", "input", "keygen", "link", "meta", "menuitem", "param", "source", "track", "wbr"], n = ["li", "dt", "dd", "p", "rt", "rp", "optgroup", "option", "colgroup", "td", "th"], o = function (a) {
        this.fragmentContext = a && a.fragmentContext, this.HighlightRules = h, this.$behaviour = new i, this.$completer = new k, this.createModeDelegates({
            "js-": f,
            "css-": g
        }), this.foldingRules = new j(this.voidElements, d.arrayToMap(n))
    };
    c.inherits(o, e), function () {
        this.blockComment = {
            start: "<!--",
            end: "-->"
        }, this.voidElements = d.arrayToMap(m), this.getNextLineIndent = function (a, b) {
            return this.$getIndent(b)
        }, this.checkOutdent = function () {
            return !1
        }, this.getCompletions = function (a, b, c, d) {
            return this.$completer.getCompletions(a, b, c, d)
        }, this.createWorker = function (a) {
            if (this.constructor == o) {
                var b = new l(["ace"], "ace/mode/html_worker", "Worker");
                return b.attachToDocument(a.getDocument()), this.fragmentContext && b.call("setOptions", [{context: this.fragmentContext}]), b.on("error", function (b) {
                    a.setAnnotations(b.data)
                }), b.on("terminate", function () {
                    a.clearAnnotations()
                }), b
            }
        }, this.$id = "ace/mode/html"
    }.call(o.prototype), b.Mode = o
}), define("ace/mode/markdown_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/mode/text_highlight_rules", "ace/mode/javascript_highlight_rules", "ace/mode/xml_highlight_rules", "ace/mode/html_highlight_rules", "ace/mode/css_highlight_rules"], function (a, b) {
    "use strict";
    function c(a, b) {
        return {token: "support.function", regex: "^\\s*```" + a + "\\s*$", push: b + "start"}
    }

    var d = a("../lib/oop"), e = a("../lib/lang"), f = a("./text_highlight_rules").TextHighlightRules, g = a("./javascript_highlight_rules").JavaScriptHighlightRules, h = a("./xml_highlight_rules").XmlHighlightRules, i = a("./html_highlight_rules").HtmlHighlightRules, j = a("./css_highlight_rules").CssHighlightRules, k = function (a) {
        return "(?:[^" + e.escapeRegExp(a) + "\\\\]|\\\\.)*"
    }, l = function () {
        i.call(this), this.$rules.start.unshift({
            token: "empty_line",
            regex: "^$",
            next: "allowBlock"
        }, {token: "markup.heading.1", regex: "^=+(?=\\s*$)"}, {
            token: "markup.heading.2",
            regex: "^\\-+(?=\\s*$)"
        }, {
            token: function (a) {
                return "markup.heading." + a.length
            }, regex: /^#{1,6}(?=\s*[^ #]|\s+#.)/, next: "header"
        }, c("(?:javascript|js)", "jscode-"), c("xml", "xmlcode-"), c("html", "htmlcode-"), c("css", "csscode-"), {
            token: "support.function",
            regex: "^\\s*```\\s*\\S*(?:{.*?\\})?\\s*$",
            next: "githubblock"
        }, {
            token: "string.blockquote",
            regex: "^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",
            next: "blockquote"
        }, {
            token: "constant",
            regex: "^ {0,2}(?:(?: ?\\* ?){3,}|(?: ?\\- ?){3,}|(?: ?\\_ ?){3,})\\s*$",
            next: "allowBlock"
        }, {
            token: "markup.list",
            regex: "^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",
            next: "listblock-start"
        }, {include: "basic"}), this.addRules({
            basic: [{
                token: "constant.language.escape",
                regex: /\\[\\`*_{}\[\]()#+\-.!]/
            }, {
                token: "support.function",
                regex: "(`+)(.*?[^`])(\\1)"
            }, {
                token: ["text", "constant", "text", "url", "string", "text"],
                regex: '^([ ]{0,3}\\[)([^\\]]+)(\\]:\\s*)([^ ]+)(\\s*(?:["][^"]+["])?(\\s*))$'
            }, {
                token: ["text", "string", "text", "constant", "text"],
                regex: "(\\[)(" + k("]") + ")(\\]s*\\[)(" + k("]") + ")(\\])"
            }, {
                token: ["text", "string", "text", "markup.underline", "string", "text"],
                regex: "(\\[)(" + k("]") + ')(\\]\\()((?:[^\\)\\s\\\\]|\\\\.|\\s(?=[^"]))*)(\\s*"' + k('"') + '"\\s*)?(\\))'
            }, {token: "string.strong", regex: "([*]{2}|[_]{2}(?=\\S))(.*?\\S[*_]*)(\\1)"}, {
                token: "string.emphasis",
                regex: "([*]|[_](?=\\S))(.*?\\S[*_]*)(\\1)"
            }, {
                token: ["text", "url", "text"],
                regex: "(<)((?:https?|ftp|dict):[^'\">\\s]+|(?:mailto:)?[-.\\w]+\\@[-a-z0-9]+(?:\\.[-a-z0-9]+)*\\.[a-z]+)(>)"
            }],
            allowBlock: [{token: "support.function", regex: "^ {4}.+", next: "allowBlock"}, {
                token: "empty",
                regex: "",
                next: "start"
            }],
            header: [{regex: "$", next: "start"}, {include: "basic"}, {defaultToken: "heading"}],
            "listblock-start": [{token: "support.variable", regex: /(?:\[[ x]\])?/, next: "listblock"}],
            listblock: [{token: "empty_line", regex: "^$", next: "start"}, {
                token: "markup.list",
                regex: "^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",
                next: "listblock-start"
            }, {include: "basic", noEscape: !0}, {
                token: "support.function",
                regex: "^\\s*```\\s*[a-zA-Z]*(?:{.*?\\})?\\s*$",
                next: "githubblock"
            }, {defaultToken: "list"}],
            blockquote: [{token: "empty_line", regex: "^\\s*$", next: "start"}, {
                token: "string.blockquote",
                regex: "^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",
                next: "blockquote"
            }, {include: "basic", noEscape: !0}, {defaultToken: "string.blockquote"}],
            githubblock: [{token: "support.function", regex: "^\\s*```", next: "start"}, {
                token: "support.function",
                regex: ".+"
            }]
        }), this.embedRules(g, "jscode-", [{
            token: "support.function",
            regex: "^\\s*```",
            next: "pop"
        }]), this.embedRules(i, "htmlcode-", [{
            token: "support.function",
            regex: "^\\s*```",
            next: "pop"
        }]), this.embedRules(j, "csscode-", [{
            token: "support.function",
            regex: "^\\s*```",
            next: "pop"
        }]), this.embedRules(h, "xmlcode-", [{
            token: "support.function",
            regex: "^\\s*```",
            next: "pop"
        }]), this.normalizeRules()
    };
    d.inherits(l, f), b.MarkdownHighlightRules = l
}), define("ace/mode/folding/markdown", ["require", "exports", "module", "ace/lib/oop", "ace/mode/folding/fold_mode", "ace/range"], function (a, b) {
    "use strict";
    var c = a("../../lib/oop"), d = a("./fold_mode").FoldMode, e = a("../../range").Range, f = b.FoldMode = function () {
    };
    c.inherits(f, d), function () {
        this.foldingStartMarker = /^(?:[=-]+\s*$|#{1,6} |`{3})/, this.getFoldWidget = function (a, b, c) {
            var d = a.getLine(c);
            return this.foldingStartMarker.test(d) ? "`" == d[0] ? "start" == a.bgTokenizer.getState(c) ? "end" : "start" : "start" : ""
        }, this.getFoldWidgetRange = function (a, b, c) {
            function d(b) {
                return l = a.getTokens(b)[0], l && 0 === l.type.lastIndexOf(m, 0)
            }

            function f() {
                var a = l.value[0];
                return "=" == a ? 6 : "-" == a ? 5 : 7 - l.value.search(/[^#]/)
            }

            var g = a.getLine(c), h = g.length, i = a.getLength(), j = c, k = c;
            if (g.match(this.foldingStartMarker)) {
                if ("`" == g[0]) {
                    if ("start" !== a.bgTokenizer.getState(c)) {
                        for (; ++c < i && (g = a.getLine(c), !("`" == g[0] & "```" == g.substring(0, 3))););
                        return new e(j, h, c, 0)
                    }
                    for (; c-- > 0 && (g = a.getLine(c), !("`" == g[0] & "```" == g.substring(0, 3))););
                    return new e(c, g.length, j, 0)
                }
                var l, m = "markup.heading";
                if (d(c)) {
                    for (var n = f(); ++c < i;)if (d(c)) {
                        var o = f();
                        if (o >= n)break
                    }
                    if (k = c - (l && -1 != ["=", "-"].indexOf(l.value[0]) ? 2 : 1), k > j)for (; k > j && /^\s*$/.test(a.getLine(k));)k--;
                    if (k > j) {
                        var p = a.getLine(k).length;
                        return new e(j, h, k, p)
                    }
                }
            }
        }
    }.call(f.prototype)
}), define("ace/mode/markdown", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/javascript", "ace/mode/xml", "ace/mode/html", "ace/mode/markdown_highlight_rules", "ace/mode/folding/markdown"], function (a, b) {
    "use strict";
    var c = a("../lib/oop"), d = a("./text").Mode, e = a("./javascript").Mode, f = a("./xml").Mode, g = a("./html").Mode, h = a("./markdown_highlight_rules").MarkdownHighlightRules, i = a("./folding/markdown").FoldMode, j = function () {
        this.HighlightRules = h, this.createModeDelegates({"js-": e, "xml-": f, "html-": g}), this.foldingRules = new i
    };
    c.inherits(j, d);
    var k = !1, l = a("../range").Range;
    (function () {
        this.type = "text", this.blockComment = {
            start: "<!--",
            end: "-->"
        }, this.lineCommentStart = ">", this.getNextLineIndent = function (a, b) {
            if (k === !0 && ("listblock" == a || "listblock-start" == a) && /^\s*(?:[-+*]|\d+\.)\s+$/.test(b)) {
                var c = com.zybuluo.mdeditor.unifiedEditor.getEditor(), d = c.$getSelectedRows();
                if (d.last > 1) {
                    var e = new l(d.last - 2, c.session.getLine(d.last - 2).length, d.last - 1, c.session.getLine(d.last - 1).length), f = c.session.getTextRange(e);
                    /^\s*(?:[-+*]|\d+\.)\s+$/.test(f) && c.session.remove(e)
                }
                return k = !1, this.$getIndent(b)
            }
            if (k = !1, "listblock" == a) {
                var g = /^(\s*)(?:([-+*])|(\d+)\.)(\s+)/.exec(b);
                if (!g)return "";
                var h = g[2];
                return h || (h = parseInt(g[3], 10) + 1 + "."), k = !0, g[1] + h + g[4]
            }
            return this.$getIndent(b)
        }, this.$id = "ace/mode/markdown"
    }).call(j.prototype), b.Mode = j
}), define("ace/keyboard/vim", ["require", "exports", "module", "ace/range", "ace/lib/event_emitter", "ace/lib/dom", "ace/lib/oop", "ace/lib/keys", "ace/lib/event", "ace/search", "ace/lib/useragent", "ace/search_highlight", "ace/commands/multi_select_commands", "ace/mode/text", "ace/multi_select"], function (a, b) {
    "use strict";
    function c(a) {
        return {row: a.line, column: a.ch}
    }

    function d(a) {
        return new yc(a.row, a.column)
    }

    function e(a) {
        a.setOption("disableInput", !0), a.setOption("showCursorWhenSelecting", !1), vc.signal(a, "vim-mode-change", {mode: "normal"}), a.on("cursorActivity", _b), x(a), vc.on(a.getInputField(), "paste", k(a))
    }

    function f(a) {
        a.setOption("disableInput", !1), a.off("cursorActivity", _b), vc.off(a.getInputField(), "paste", k(a)), a.state.vim = null
    }

    function g(a, b) {
        this == vc.keyMap.vim && vc.rmClass(a.getWrapperElement(), "cm-fat-cursor"), b && b.attach == h || f(a, !1)
    }

    function h(a, b) {
        this == vc.keyMap.vim && vc.addClass(a.getWrapperElement(), "cm-fat-cursor"), b && b.attach == h || e(a)
    }

    function i(a, b) {
        if (!b)return void 0;
        var c = j(a);
        if (!c)return !1;
        var d = vc.Vim.findKey(b, c);
        return "function" == typeof d && vc.signal(b, "vim-keypress", c), d
    }

    function j(a) {
        if ("'" == a.charAt(0))return a.charAt(1);
        var b = a.split("-");
        /-$/.test(a) && b.splice(-2, 2, "-");
        var c = b[b.length - 1];
        if (1 == b.length && 1 == b[0].length)return !1;
        if (2 == b.length && "Shift" == b[0] && 1 == c.length)return !1;
        for (var d = !1, e = 0; e < b.length; e++) {
            var f = b[e];
            f in Ac ? b[e] = Ac[f] : d = !0, f in Bc && (b[e] = Bc[f])
        }
        return d ? (q(c) && (b[b.length - 1] = c.toLowerCase()), "<" + b.join("-") + ">") : !1
    }

    function k(a) {
        var b = a.state.vim;
        return b.onPasteFn || (b.onPasteFn = function () {
            b.insertMode || (a.setCursor(K(a.getCursor(), 0, 1)), Tc.enterInsertMode(a, {}, b))
        }), b.onPasteFn
    }

    function l(a, b) {
        for (var c = [], d = a; a + b > d; d++)c.push(String.fromCharCode(d));
        return c
    }

    function m(a, b) {
        return b >= a.firstLine() && b <= a.lastLine()
    }

    function n(a) {
        return /^[a-z]$/.test(a)
    }

    function o(a) {
        return -1 != "()[]{}".indexOf(a)
    }

    function p(a) {
        return Cc.test(a)
    }

    function q(a) {
        return /^[A-Z]$/.test(a)
    }

    function r(a) {
        return /^\s*$/.test(a)
    }

    function s(a, b) {
        for (var c = 0; c < b.length; c++)if (b[c] == a)return !0;
        return !1
    }

    function t(a, b, c) {
        if (void 0 === b)throw Error("defaultValue is required");
        c || (c = "string"), Kc[a] = {type: c, defaultValue: b}, u(a, b)
    }

    function u(a, b) {
        var c = Kc[a];
        if (!c)throw Error("Unknown option: " + a);
        if ("boolean" == c.type) {
            if (b && b !== !0)throw Error("Invalid argument: " + a + "=" + b);
            b !== !1 && (b = !0)
        }
        c.value = "boolean" == c.type ? !!b : b
    }

    function v(a) {
        var b = Kc[a];
        if (!b)throw Error("Unknown option: " + a);
        return b.value
    }

    function w() {
        this.latestRegister = void 0, this.isPlaying = !1, this.isRecording = !1, this.replaySearchQueries = [], this.onRecordingDone = void 0, this.lastInsertModeChanges = Mc()
    }

    function x(a) {
        return a.state.vim || (a.state.vim = {
            inputState: new z,
            lastEditInputState: void 0,
            lastEditActionCommand: void 0,
            lastHPos: -1,
            lastHSPos: -1,
            lastMotion: null,
            marks: {},
            fakeCursor: null,
            insertMode: !1,
            insertModeRepeat: void 0,
            visualMode: !1,
            visualLine: !1,
            visualBlock: !1,
            lastSelection: null,
            lastPastedText: null,
            sel: {}
        }), a.state.vim
    }

    function y() {
        Nc = {
            searchQuery: null,
            searchIsReversed: !1,
            lastSubstituteReplacePart: void 0,
            jumpList: Lc(),
            macroModeState: new w,
            lastChararacterSearch: {increment: 0, forward: !0, selectedCharacter: ""},
            registerController: new C({}),
            searchHistoryController: new D({}),
            exCommandHistoryController: new D({})
        };
        for (var a in Kc) {
            var b = Kc[a];
            b.value = b.defaultValue
        }
    }

    function z() {
        this.prefixRepeat = [], this.motionRepeat = [], this.operator = null, this.operatorArgs = null, this.motion = null, this.motionArgs = null, this.keyBuffer = [], this.registerName = null
    }

    function A(a, b) {
        a.state.vim.inputState = new z, vc.signal(a, "vim-command-done", b)
    }

    function B(a, b, c) {
        this.clear(), this.keyBuffer = [a || ""], this.insertModeChanges = [], this.searchQueries = [], this.linewise = !!b, this.blockwise = !!c
    }

    function C(a) {
        this.registers = a, this.unnamedRegister = a['"'] = new B, a["."] = new B, a[":"] = new B, a["/"] = new B
    }

    function D() {
        this.historyBuffer = [], this.iterator, this.initialPrefix = null
    }

    function E(a, b) {
        Rc[a] = b
    }

    function F(a, b) {
        for (var c = [], d = 0; b > d; d++)c.push(a);
        return c
    }

    function G(a, b) {
        Sc[a] = b
    }

    function H(a, b) {
        Tc[a] = b
    }

    function I(a, b, c) {
        var d = Math.min(Math.max(a.firstLine(), b.line), a.lastLine()), e = W(a, d) - 1;
        e = c ? e + 1 : e;
        var f = Math.min(Math.max(0, b.ch), e);
        return yc(d, f)
    }

    function J(a) {
        var b = {};
        for (var c in a)a.hasOwnProperty(c) && (b[c] = a[c]);
        return b
    }

    function K(a, b, c) {
        return "object" == typeof b && (c = b.ch, b = b.line), yc(a.line + b, a.ch + c)
    }

    function L(a, b) {
        return {line: b.line - a.line, ch: b.line - a.line}
    }

    function M(a, b, c, d) {
        for (var e, f = [], g = [], h = 0; h < b.length; h++) {
            var i = b[h];
            "insert" == c && "insert" != i.context || i.context && i.context != c || d.operator && "action" == i.type || !(e = N(a, i.keys)) || ("partial" == e && f.push(i), "full" == e && g.push(i))
        }
        return {partial: f.length && f, full: g.length && g}
    }

    function N(a, b) {
        if ("<character>" == b.slice(-11)) {
            var c = b.length - 11, d = a.slice(0, c), e = b.slice(0, c);
            return d == e && a.length > c ? "full" : 0 == e.indexOf(d) ? "partial" : !1
        }
        return a == b ? "full" : 0 == b.indexOf(a) ? "partial" : !1
    }

    function O(a) {
        var b = /^.*(<[\w\-]+>)$/.exec(a), c = b ? b[1] : a.slice(-1);
        if (c.length > 1)switch (c) {
            case"<CR>":
                c = "\n";
                break;
            case"<Space>":
                c = " "
        }
        return c
    }

    function P(a, b, c) {
        return function () {
            for (var d = 0; c > d; d++)b(a)
        }
    }

    function Q(a) {
        return yc(a.line, a.ch)
    }

    function R(a, b) {
        return a.ch == b.ch && a.line == b.line
    }

    function S(a, b) {
        return a.line < b.line ? !0 : a.line == b.line && a.ch < b.ch ? !0 : !1
    }

    function T(a, b) {
        return arguments.length > 2 && (b = T.apply(void 0, Array.prototype.slice.call(arguments, 1))), S(a, b) ? a : b
    }

    function U(a, b) {
        return arguments.length > 2 && (b = U.apply(void 0, Array.prototype.slice.call(arguments, 1))), S(a, b) ? b : a
    }

    function V(a, b, c) {
        var d = S(a, b), e = S(b, c);
        return d && e
    }

    function W(a, b) {
        return a.getLine(b).length
    }

    function X(a) {
        return a.trim ? a.trim() : a.replace(/^\s+|\s+$/g, "")
    }

    function Y(a) {
        return a.replace(/([.?*+$\[\]\/\\(){}|\-])/g, "\\$1")
    }

    function Z(a, b, c) {
        var d = W(a, b), e = new Array(c - d + 1).join(" ");
        a.setCursor(yc(b, d)), a.replaceRange(e, a.getCursor())
    }

    function $(a, b) {
        var c = [], d = a.listSelections(), e = Q(a.clipPos(b)), f = !R(b, e), g = a.getCursor("head"), h = ab(d, g), i = R(d[h].head, d[h].anchor), j = d.length - 1, k = j - h > h ? j : 0, l = d[k].anchor, m = Math.min(l.line, e.line), n = Math.max(l.line, e.line), o = l.ch, p = e.ch, q = d[k].head.ch - o, r = p - o;
        q > 0 && 0 >= r ? (o++, f || p--) : 0 > q && r >= 0 ? (o--, i || p++) : 0 > q && -1 == r && (o--, p++);
        for (var s = m; n >= s; s++) {
            var t = {anchor: new yc(s, o), head: new yc(s, p)};
            c.push(t)
        }
        return h = e.line == n ? c.length - 1 : 0, a.setSelections(c), b.ch = p, l.ch = o, l
    }

    function _(a, b, c) {
        for (var d = [], e = 0; c > e; e++) {
            var f = K(b, e, 0);
            d.push({anchor: f, head: f})
        }
        a.setSelections(d, 0)
    }

    function ab(a, b, c) {
        for (var d = 0; d < a.length; d++) {
            var e = "head" != c && R(a[d].anchor, b), f = "anchor" != c && R(a[d].head, b);
            if (e || f)return d
        }
        return -1
    }

    function bb(a, b) {
        var c = b.lastSelection, d = function () {
            var b = a.listSelections(), c = b[0], d = b[b.length - 1], e = S(c.anchor, c.head) ? c.anchor : c.head, f = S(d.anchor, d.head) ? d.head : d.anchor;
            return [e, f]
        }, e = function () {
            var b = a.getCursor(), d = a.getCursor(), e = c.visualBlock;
            if (e) {
                var f = e.width, g = e.height;
                d = yc(b.line + g, b.ch + f);
                for (var h = [], i = b.line; i < d.line; i++) {
                    var j = yc(i, b.ch), k = yc(i, d.ch), l = {anchor: j, head: k};
                    h.push(l)
                }
                a.setSelections(h)
            } else {
                var m = c.anchorMark.find(), n = c.headMark.find(), o = n.line - m.line, p = n.ch - m.ch;
                d = {
                    line: d.line + o,
                    ch: o ? d.ch : p + d.ch
                }, c.visualLine && (b = yc(b.line, 0), d = yc(d.line, W(a, d.line))), a.setSelection(b, d)
            }
            return [b, d]
        };
        return b.visualMode ? d() : e()
    }

    function cb(a, b) {
        var c = b.sel.anchor, d = b.sel.head;
        b.lastPastedText && (d = a.posFromIndex(a.indexFromPos(c) + b.lastPastedText.length), b.lastPastedText = null), b.lastSelection = {
            anchorMark: a.setBookmark(c),
            headMark: a.setBookmark(d),
            anchor: Q(c),
            head: Q(d),
            visualMode: b.visualMode,
            visualLine: b.visualLine,
            visualBlock: b.visualBlock
        }
    }

    function db(a, b, c) {
        var d, e = a.state.vim.sel, f = e.head, g = e.anchor;
        return S(c, b) && (d = c, c = b, b = d), S(f, g) ? (f = T(b, f), g = U(g, c)) : (g = T(b, g), f = U(f, c), f = K(f, 0, -1), -1 == f.ch && f.line != a.firstLine() && (f = yc(f.line - 1, W(a, f.line - 1)))), [g, f]
    }

    function eb(a, b, c) {
        var d = a.state.vim;
        b = b || d.sel;
        var c = c || d.visualLine ? "line" : d.visualBlock ? "block" : "char", e = fb(a, b, c);
        a.setSelections(e.ranges, e.primary), ac(a)
    }

    function fb(a, b, c, d) {
        var e = Q(b.head), f = Q(b.anchor);
        if ("char" == c) {
            var g = d || S(b.head, b.anchor) ? 0 : 1, h = S(b.head, b.anchor) ? 1 : 0;
            return e = K(b.head, 0, g), f = K(b.anchor, 0, h), {ranges: [{anchor: f, head: e}], primary: 0}
        }
        if ("line" == c) {
            if (S(b.head, b.anchor))e.ch = 0, f.ch = W(a, f.line); else {
                f.ch = 0;
                var i = a.lastLine();
                e.line > i && (e.line = i), e.ch = W(a, e.line)
            }
            return {ranges: [{anchor: f, head: e}], primary: 0}
        }
        if ("block" == c) {
            for (var j = Math.min(f.line, e.line), k = Math.min(f.ch, e.ch), l = Math.max(f.line, e.line), m = Math.max(f.ch, e.ch) + 1, n = l - j + 1, o = e.line == j ? 0 : n - 1, p = [], q = 0; n > q; q++)p.push({
                anchor: yc(j + q, k),
                head: yc(j + q, m)
            });
            return {ranges: p, primary: o}
        }
    }

    function gb(a) {
        var b = a.getCursor("head");
        return 1 == a.getSelection().length && (b = T(b, a.getCursor("anchor"))), b
    }

    function hb(a, b) {
        var c = a.state.vim;
        b !== !1 && a.setCursor(I(a, c.sel.head)), cb(a, c), c.visualMode = !1, c.visualLine = !1, c.visualBlock = !1, vc.signal(a, "vim-mode-change", {mode: "normal"}), c.fakeCursor && c.fakeCursor.clear()
    }

    function ib(a, b, c) {
        var d = a.getRange(b, c);
        if (/\n\s*$/.test(d)) {
            var e = d.split("\n");
            e.pop();
            for (var f, f = e.pop(); e.length > 0 && f && r(f); f = e.pop())c.line--, c.ch = 0;
            f ? (c.line--, c.ch = W(a, c.line)) : c.ch = 0
        }
    }

    function jb(a, b, c) {
        b.ch = 0, c.ch = 0, c.line++
    }

    function kb(a) {
        if (!a)return 0;
        var b = a.search(/\S/);
        return -1 == b ? a.length : b
    }

    function lb(a, b, c, d, e) {
        for (var f = gb(a), g = a.getLine(f.line), h = f.ch, i = e ? Dc[0] : Ec[0]; !i(g.charAt(h));)if (h++, h >= g.length)return null;
        d ? i = Ec[0] : (i = Dc[0], i(g.charAt(h)) || (i = Dc[1]));
        for (var j = h, k = h; i(g.charAt(j)) && j < g.length;)j++;
        for (; i(g.charAt(k)) && k >= 0;)k--;
        if (k++, b) {
            for (var l = j; /\s/.test(g.charAt(j)) && j < g.length;)j++;
            if (l == j) {
                for (var m = k; /\s/.test(g.charAt(k - 1)) && k > 0;)k--;
                k || (k = m)
            }
        }
        return {start: yc(f.line, k), end: yc(f.line, j)}
    }

    function mb(a, b, c) {
        R(b, c) || Nc.jumpList.add(a, b, c)
    }

    function nb(a, b) {
        Nc.lastChararacterSearch.increment = a, Nc.lastChararacterSearch.forward = b.forward, Nc.lastChararacterSearch.selectedCharacter = b.selectedCharacter
    }

    function ob(a, b, c, d) {
        var e = Q(a.getCursor()), f = c ? 1 : -1, g = c ? a.lineCount() : -1, h = e.ch, i = e.line, j = a.getLine(i), k = {
            lineText: j,
            nextCh: j.charAt(h),
            lastCh: null,
            index: h,
            symb: d,
            reverseSymb: (c ? {")": "(", "}": "{"} : {"(": ")", "{": "}"})[d],
            forward: c,
            depth: 0,
            curMoveThrough: !1
        }, l = Uc[d];
        if (!l)return e;
        var m = Vc[l].init, n = Vc[l].isComplete;
        for (m && m(k); i !== g && b;) {
            if (k.index += f, k.nextCh = k.lineText.charAt(k.index), !k.nextCh) {
                if (i += f, k.lineText = a.getLine(i) || "", f > 0)k.index = 0; else {
                    var o = k.lineText.length;
                    k.index = o > 0 ? o - 1 : 0
                }
                k.nextCh = k.lineText.charAt(k.index)
            }
            n(k) && (e.line = i, e.ch = k.index, b--)
        }
        return k.nextCh || k.curMoveThrough ? yc(i, k.index) : e
    }

    function pb(a, b, c, d, e) {
        var f = b.line, g = b.ch, h = a.getLine(f), i = c ? 1 : -1, j = d ? Ec : Dc;
        if (e && "" == h) {
            if (f += i, h = a.getLine(f), !m(a, f))return null;
            g = c ? 0 : h.length
        }
        for (; ;) {
            if (e && "" == h)return {from: 0, to: 0, line: f};
            for (var k = i > 0 ? h.length : -1, l = k, n = k; g != k;) {
                for (var o = !1, p = 0; p < j.length && !o; ++p)if (j[p](h.charAt(g))) {
                    for (l = g; g != k && j[p](h.charAt(g));)g += i;
                    if (n = g, o = l != n, l == b.ch && f == b.line && n == l + i)continue;
                    return {from: Math.min(l, n + 1), to: Math.max(l, n), line: f}
                }
                o || (g += i)
            }
            if (f += i, !m(a, f))return null;
            h = a.getLine(f), g = i > 0 ? 0 : h.length
        }
        throw new Error("The impossible happened.")
    }

    function qb(a, b, c, d, e, f) {
        var g = Q(b), h = [];
        (d && !e || !d && e) && c++;
        for (var i = !(d && e), j = 0; c > j; j++) {
            var k = pb(a, b, d, f, i);
            if (!k) {
                var l = W(a, a.lastLine());
                h.push(d ? {line: a.lastLine(), from: l, to: l} : {line: 0, from: 0, to: 0});
                break
            }
            h.push(k), b = yc(k.line, d ? k.to - 1 : k.from)
        }
        var m = h.length != c, n = h[0], o = h.pop();
        return d && !e ? (m || n.from == g.ch && n.line == g.line || (o = h.pop()), yc(o.line, o.from)) : d && e ? yc(o.line, o.to - 1) : !d && e ? (m || n.to == g.ch && n.line == g.line || (o = h.pop()), yc(o.line, o.to)) : yc(o.line, o.from)
    }

    function rb(a, b, c, d) {
        for (var e, f = a.getCursor(), g = f.ch, h = 0; b > h; h++) {
            var i = a.getLine(f.line);
            if (e = ub(g, i, d, c, !0), -1 == e)return null;
            g = e
        }
        return yc(a.getCursor().line, e)
    }

    function sb(a, b) {
        var c = a.getCursor().line;
        return I(a, yc(c, b - 1))
    }

    function tb(a, b, c, d) {
        s(c, Ic) && (b.marks[c] && b.marks[c].clear(), b.marks[c] = a.setBookmark(d))
    }

    function ub(a, b, c, d, e) {
        var f;
        return d ? (f = b.indexOf(c, a + 1), -1 == f || e || (f -= 1)) : (f = b.lastIndexOf(c, a - 1), -1 == f || e || (f += 1)), f
    }

    function vb(a, b, c, d, e) {
        function f(b) {
            return !/\S/.test(a.getLine(b))
        }

        function g(a, b, c) {
            return c ? f(a) != f(a + b) : !f(a) && f(a + b)
        }

        var h, i, j = b.line, k = a.firstLine(), l = a.lastLine(), m = j;
        if (d) {
            for (; m >= k && l >= m && c > 0;)g(m, d) && c--, m += d;
            return new yc(m, 0)
        }
        var n = a.state.vim;
        if (n.visualLine && g(j, 1, !0)) {
            var o = n.sel.anchor;
            g(o.line, -1, !0) && (e && o.line == j || (j += 1))
        }
        var p = f(j);
        for (m = j; l >= m && c; m++)g(m, 1, !0) && (e && f(m) == p || c--);
        for (i = new yc(m, 0), m > l && !p ? p = !0 : e = !1, m = j; m > k && (e && f(m) != p && m != j || !g(m, -1, !0)); m--);
        return h = new yc(m, 0), {start: h, end: i}
    }

    function wb(a, b, c, d) {
        var e, f, g = b, h = {
            "(": /[()]/,
            ")": /[()]/,
            "[": /[[\]]/,
            "]": /[[\]]/,
            "{": /[{}]/,
            "}": /[{}]/
        }[c], i = {
            "(": "(",
            ")": "(",
            "[": "[",
            "]": "[",
            "{": "{",
            "}": "{"
        }[c], j = a.getLine(g.line).charAt(g.ch), k = j === i ? 1 : 0;
        if (e = a.scanForBracket(yc(g.line, g.ch + k), -1, null, {bracketRegex: h}), f = a.scanForBracket(yc(g.line, g.ch + k), 1, null, {bracketRegex: h}), !e || !f)return {
            start: g,
            end: g
        };
        if (e = e.pos, f = f.pos, e.line == f.line && e.ch > f.ch || e.line > f.line) {
            var l = e;
            e = f, f = l
        }
        return d ? f.ch += 1 : e.ch += 1, {start: e, end: f}
    }

    function xb(a, b, c, d) {
        var e, f, g, h, i = Q(b), j = a.getLine(i.line), k = j.split(""), l = k.indexOf(c);
        if (i.ch < l ? i.ch = l : l < i.ch && k[i.ch] == c && (f = i.ch, --i.ch), k[i.ch] != c || f)for (g = i.ch; g > -1 && !e; g--)k[g] == c && (e = g + 1); else e = i.ch + 1;
        if (e && !f)for (g = e, h = k.length; h > g && !f; g++)k[g] == c && (f = g);
        return e && f ? (d && (--e, ++f), {start: yc(i.line, e), end: yc(i.line, f)}) : {start: i, end: i}
    }

    function yb() {
    }

    function zb(a) {
        var b = a.state.vim;
        return b.searchState_ || (b.searchState_ = new yb)
    }

    function Ab(a, b, c, d, e) {
        a.openDialog ? a.openDialog(b, d, {
            bottom: !0,
            value: e.value,
            onKeyDown: e.onKeyDown,
            onKeyUp: e.onKeyUp,
            select: e.select
        }) : d(prompt(c, ""))
    }

    function Bb(a) {
        var b = Cb(a) || [];
        if (!b.length)return [];
        var c = [];
        if (0 === b[0]) {
            for (var d = 0; d < b.length; d++)"number" == typeof b[d] && c.push(a.substring(b[d] + 1, b[d + 1]));
            return c
        }
    }

    function Cb(a) {
        for (var b = !1, c = [], d = 0; d < a.length; d++) {
            var e = a.charAt(d);
            b || "/" != e || c.push(d), b = !b && "\\" == e
        }
        return c
    }

    function Db(a) {
        for (var b = "|(){", c = "}", d = !1, e = [], f = -1; f < a.length; f++) {
            var g = a.charAt(f) || "", h = a.charAt(f + 1) || "", i = h && -1 != b.indexOf(h);
            d ? ("\\" === g && i || e.push(g), d = !1) : "\\" === g ? (d = !0, h && -1 != c.indexOf(h) && (i = !0), i && "\\" !== h || e.push(g)) : (e.push(g), i && "\\" !== h && e.push("\\"))
        }
        return e.join("")
    }

    function Eb(a) {
        for (var b = !1, c = [], d = -1; d < a.length; d++) {
            var e = a.charAt(d) || "", f = a.charAt(d + 1) || "";
            b ? (c.push(e), b = !1) : "\\" === e ? (b = !0, p(f) || "$" === f ? c.push("$") : "/" !== f && "\\" !== f && c.push("\\")) : ("$" === e && c.push("$"), c.push(e), "/" === f && c.push("\\"))
        }
        return c.join("")
    }

    function Fb(a) {
        for (var b = new vc.StringStream(a), c = []; !b.eol();) {
            for (; b.peek() && "\\" != b.peek();)c.push(b.next());
            c.push(b.match("\\/", !0) ? "/" : b.match("\\\\", !0) ? "\\" : b.next())
        }
        return c.join("")
    }

    function Gb(a, b, c) {
        var d = Nc.registerController.getRegister("/");
        if (d.setText(a), a instanceof RegExp)return a;
        var e, f, g = Cb(a);
        if (g.length) {
            e = a.substring(0, g[0]);
            var h = a.substring(g[0]);
            f = -1 != h.indexOf("i")
        } else e = a;
        if (!e)return null;
        v("pcre") || (e = Db(e)), c && (b = /^[^A-Z]*$/.test(e));
        var i = new RegExp(e, b || f ? "i" : void 0);
        return i
    }

    function Hb(a, b) {
        a.openNotification ? a.openNotification('<span style="color: red">' + b + "</span>", {
            bottom: !0,
            duration: 5e3
        }) : alert(b)
    }

    function Ib(a, b) {
        var c = "";
        return a && (c += '<span style="font-family: monospace">' + a + "</span>"), c += '<input type="text"/> <span style="color: #888">', b && (c += '<span style="color: #888">', c += b, c += "</span>"), c
    }

    function Jb(a, b) {
        var c = (b.prefix || "") + " " + (b.desc || ""), d = Ib(b.prefix, b.desc);
        Ab(a, d, c, b.onClose, b)
    }

    function Kb(a, b) {
        if (a instanceof RegExp && b instanceof RegExp) {
            for (var c = ["global", "multiline", "ignoreCase", "source"], d = 0; d < c.length; d++) {
                var e = c[d];
                if (a[e] !== b[e])return !1
            }
            return !0
        }
        return !1
    }

    function Lb(a, b, c, d) {
        if (b) {
            var e = zb(a), f = Gb(b, !!c, !!d);
            if (f)return Nb(a, f), Kb(f, e.getQuery()) ? f : (e.setQuery(f), f)
        }
    }

    function Mb(a) {
        if ("^" == a.source.charAt(0))var b = !0;
        return {
            token: function (c) {
                if (b && !c.sol())return void c.skipToEnd();
                var d = c.match(a, !1);
                if (d)return 0 == d[0].length ? (c.next(), "searching") : c.sol() || (c.backUp(1), a.exec(c.next() + d[0])) ? (c.match(a), "searching") : (c.next(), null);
                for (; !c.eol() && (c.next(), !c.match(a, !1)););
            }, query: a
        }
    }

    function Nb(a, b) {
        var c = zb(a), d = c.getOverlay();
        d && b == d.query || (d && a.removeOverlay(d), d = Mb(b), a.addOverlay(d), a.showMatchesOnScrollbar && (c.getScrollbarAnnotate() && c.getScrollbarAnnotate().clear(), c.setScrollbarAnnotate(a.showMatchesOnScrollbar(b))), c.setOverlay(d))
    }

    function Ob(a, b, c, d) {
        return void 0 === d && (d = 1), a.operation(function () {
            for (var e = a.getCursor(), f = a.getSearchCursor(c, e), g = 0; d > g; g++) {
                var h = f.find(b);
                if (0 == g && h && R(f.from(), e) && (h = f.find(b)), !h && (f = a.getSearchCursor(c, b ? yc(a.lastLine()) : yc(a.firstLine(), 0)), !f.find(b)))return
            }
            return f.from()
        })
    }

    function Pb(a) {
        var b = zb(a);
        a.removeOverlay(zb(a).getOverlay()), b.setOverlay(null), b.getScrollbarAnnotate() && (b.getScrollbarAnnotate().clear(), b.setScrollbarAnnotate(null))
    }

    function Qb(a, b, c) {
        return "number" != typeof a && (a = a.line), b instanceof Array ? s(a, b) : c ? a >= b && c >= a : a == b
    }

    function Rb(a) {
        var b = a.ace.renderer;
        return {top: b.getFirstFullyVisibleRow(), bottom: b.getLastFullyVisibleRow()}
    }

    function Sb(a, b, c, d, e, f, g, h, i) {
        function j() {
            a.operation(function () {
                for (; !o;)k(), l();
                m()
            })
        }

        function k() {
            var b = a.getRange(f.from(), f.to()), c = b.replace(g, h);
            f.replace(c)
        }

        function l() {
            for (var b; b = f.findNext() && Qb(f.from(), d, e);)if (c || !p || f.from().line != p.line)return a.scrollIntoView(f.from(), 30), a.setSelection(f.from(), f.to()), p = f.from(), void(o = !1);
            o = !0
        }

        function m(b) {
            if (b && b(), a.focus(), p) {
                a.setCursor(p);
                var c = a.state.vim;
                c.exMode = !1, c.lastHPos = c.lastHSPos = p.ch
            }
            i && i()
        }

        function n(b, c, d) {
            vc.e_stop(b);
            var e = vc.keyName(b);
            switch (e) {
                case"Y":
                    k(), l();
                    break;
                case"N":
                    l();
                    break;
                case"A":
                    var f = i;
                    i = void 0, a.operation(j), i = f;
                    break;
                case"L":
                    k();
                case"Q":
                case"Esc":
                case"Ctrl-C":
                case"Ctrl-[":
                    m(d)
            }
            return o && m(d), !0
        }

        a.state.vim.exMode = !0;
        var o = !1, p = f.from();
        return l(), o ? void Hb(a, "No matches for " + g.source) : b ? void Jb(a, {
            prefix: "replace with <strong>" + h + "</strong> (y/n/a/q/l)",
            onKeyDown: n
        }) : (j(), void(i && i()))
    }

    function Tb(a) {
        var b = a.state.vim, c = Nc.macroModeState, d = Nc.registerController.getRegister("."), e = c.isPlaying, f = c.lastInsertModeChanges, g = [];
        if (!e) {
            for (var h = f.inVisualBlock ? b.lastSelection.visualBlock.height : 1, i = f.changes, g = [], j = 0; j < i.length;)g.push(i[j]), i[j]instanceof cc ? j++ : j += h;
            f.changes = g, a.off("change", $b), vc.off(a.getInputField(), "keydown", dc)
        }
        !e && b.insertModeRepeat > 1 && (ec(a, b, b.insertModeRepeat - 1, !0), b.lastEditInputState.repeatOverride = b.insertModeRepeat), delete b.insertModeRepeat, b.insertMode = !1, a.setCursor(a.getCursor().line, a.getCursor().ch - 1), a.setOption("keyMap", "vim"), a.setOption("disableInput", !0), a.toggleOverwrite(!1), d.setText(f.changes.join("")), vc.signal(a, "vim-mode-change", {mode: "normal"}), c.isRecording && Yb(c)
    }

    function Ub(a) {
        xc.push(a)
    }

    function Vb(a, b, c, d, e) {
        var f = {keys: a, type: b};
        f[b] = c, f[b + "Args"] = d;
        for (var g in e)f[g] = e[g];
        Ub(f)
    }

    function Wb(a, b, c, d) {
        var e = Nc.registerController.getRegister(d), f = e.keyBuffer, g = 0;
        c.isPlaying = !0, c.replaySearchQueries = e.searchQueries.slice(0);
        for (var h = 0; h < f.length; h++)for (var i, j, k = f[h]; k;)if (i = /<\w+-.+?>|<\w+>|./.exec(k), j = i[0], k = k.substring(i.index + j.length), vc.Vim.handleKey(a, j, "macro"), b.insertMode) {
            var l = e.insertModeChanges[g++].changes;
            Nc.macroModeState.lastInsertModeChanges.changes = l, fc(a, l, 1), Tb(a)
        }
        c.isPlaying = !1
    }

    function Xb(a, b) {
        if (!a.isPlaying) {
            var c = a.latestRegister, d = Nc.registerController.getRegister(c);
            d && d.pushText(b)
        }
    }

    function Yb(a) {
        if (!a.isPlaying) {
            var b = a.latestRegister, c = Nc.registerController.getRegister(b);
            c && c.pushInsertModeChanges(a.lastInsertModeChanges)
        }
    }

    function Zb(a, b) {
        if (!a.isPlaying) {
            var c = a.latestRegister, d = Nc.registerController.getRegister(c);
            d && d.pushSearchQuery(b)
        }
    }

    function $b(a, b) {
        var c = Nc.macroModeState, d = c.lastInsertModeChanges;
        if (!c.isPlaying)for (; b;) {
            if (d.expectCursorActivityForChange = !0, "+input" == b.origin || "paste" == b.origin || void 0 === b.origin) {
                var e = b.text.join("\n");
                d.changes.push(e)
            }
            b = b.next
        }
    }

    function _b(a) {
        var b = a.state.vim;
        if (b.insertMode) {
            var c = Nc.macroModeState;
            if (c.isPlaying)return;
            var d = c.lastInsertModeChanges;
            d.expectCursorActivityForChange ? d.expectCursorActivityForChange = !1 : d.changes = []
        } else a.curOp.isVimOp || bc(a, b);
        b.visualMode && ac(a)
    }

    function ac(a) {
        var b = a.state.vim, c = Q(b.sel.head), d = K(c, 0, 1);
        b.fakeCursor && b.fakeCursor.clear(), b.fakeCursor = a.markText(c, d, {className: "cm-animate-fat-cursor"})
    }

    function bc(a, b) {
        var c = a.getCursor("anchor"), d = a.getCursor("head");
        if (b.visualMode && R(d, c) && W(a, d.line) > d.ch ? hb(a, !1) : b.visualMode || b.insertMode || !a.somethingSelected() || (b.visualMode = !0, b.visualLine = !1, vc.signal(a, "vim-mode-change", {mode: "visual"})), b.visualMode) {
            var e = S(d, c) ? 0 : -1, f = S(d, c) ? -1 : 0;
            d = K(d, 0, e), c = K(c, 0, f), b.sel = {anchor: c, head: d}, tb(a, b, "<", T(d, c)), tb(a, b, ">", U(d, c))
        } else b.insertMode || (b.lastHPos = a.getCursor().ch)
    }

    function cc(a) {
        this.keyName = a
    }

    function dc(a) {
        function b() {
            return d.changes.push(new cc(e)), !0
        }

        var c = Nc.macroModeState, d = c.lastInsertModeChanges, e = vc.keyName(a);
        e && (-1 != e.indexOf("Delete") || -1 != e.indexOf("Backspace")) && vc.lookupKey(e, "vim-insert", b)
    }

    function ec(a, b, c, d) {
        function e() {
            h ? Qc.processAction(a, b, b.lastEditActionCommand) : Qc.evalInput(a, b)
        }

        function f(c) {
            if (g.lastInsertModeChanges.changes.length > 0) {
                c = b.lastEditActionCommand ? c : 1;
                var d = g.lastInsertModeChanges;
                fc(a, d.changes, c)
            }
        }

        var g = Nc.macroModeState;
        g.isPlaying = !0;
        var h = !!b.lastEditActionCommand, i = b.inputState;
        if (b.inputState = b.lastEditInputState, h && b.lastEditActionCommand.interlaceInsertRepeat)for (var j = 0; c > j; j++)e(), f(1); else d || e(), f(c);
        b.inputState = i, b.insertMode && !d && Tb(a), g.isPlaying = !1
    }

    function fc(a, b, c) {
        function d(b) {
            return "string" == typeof b ? vc.commands[b](a) : b(a), !0
        }

        var e = a.getCursor("head"), f = Nc.macroModeState.lastInsertModeChanges.inVisualBlock;
        if (f) {
            var g = a.state.vim, h = g.lastSelection, i = L(h.anchor, h.head);
            _(a, e, i.line + 1), c = a.listSelections().length, a.setCursor(e)
        }
        for (var j = 0; c > j; j++) {
            f && a.setCursor(K(e, j, 0));
            for (var k = 0; k < b.length; k++) {
                var l = b[k];
                if (l instanceof cc)vc.lookupKey(l.keyName, "vim-insert", d); else {
                    var m = a.getCursor();
                    a.replaceRange(l, m, m)
                }
            }
        }
        f && a.setCursor(K(e, 0, 1))
    }

    function gc(a, b, c) {
        b.length > 1 && "n" == b[0] && (b = b.replace("numpad", "")), b = _c[b] || b;
        var d = "";
        return c.ctrlKey && (d += "C-"), c.altKey && (d += "A-"), c.shiftKey && (d += "S-"), d += b, d.length > 1 && (d = "<" + d + ">"), d
    }

    function hc(a) {
        var b = new a.constructor;
        return Object.keys(a).forEach(function (c) {
            var d = a[c];
            Array.isArray(d) ? d = d.slice() : d && "object" == typeof d && d.constructor != Object && (d = hc(d)), b[c] = d
        }), a.sel && (b.sel = {head: a.sel.head && Q(a.sel.head), anchor: a.sel.anchor && Q(a.sel.anchor)}), b
    }

    function ic(a, b, c) {
        var d = !1, e = zc.maybeInitVimState_(a), f = e.visualBlock || e.wasInVisualBlock;
        if (e.wasInVisualBlock && !a.ace.inMultiSelectMode ? e.wasInVisualBlock = !1 : a.ace.inMultiSelectMode && e.visualBlock && (e.wasInVisualBlock = !0), "<Esc>" != b || e.insertMode || e.visualMode || !a.ace.inMultiSelectMode)if (f || !a.ace.inMultiSelectMode || a.ace.inVirtualSelectionMode)d = zc.handleKey(a, b, c); else {
            var g = hc(e);
            a.operation(function () {
                a.ace.forEachSelection(function () {
                    var e = a.ace.selection;
                    a.state.vim.lastHPos = null == e.$desiredColumn ? e.lead.column : e.$desiredColumn;
                    var f = a.getCursor("head"), h = a.getCursor("anchor"), i = S(f, h) ? 0 : -1, j = S(f, h) ? -1 : 0;
                    f = K(f, 0, i), h = K(h, 0, j), a.state.vim.sel.head = f, a.state.vim.sel.anchor = h, d = ad(a, b, c), e.$desiredColumn = -1 == a.state.vim.lastHPos ? null : a.state.vim.lastHPos, a.virtualSelectionMode() && (a.state.vim = hc(g))
                }), a.curOp.cursorActivity && !d && (a.curOp.cursorActivity = !1)
            }, !0)
        } else a.ace.exitMultiSelectMode();
        return d
    }

    function jc(a, b) {
        b.off("beforeEndOperation", jc);
        var c = b.state.cm.vimCmd;
        c && b.execCommand(c.exec ? c : c.name, c.args), b.curOp = b.prevOp
    }

    var kc = a("../range").Range, lc = a("../lib/event_emitter").EventEmitter, mc = a("../lib/dom"), nc = a("../lib/oop"), oc = a("../lib/keys"), pc = a("../lib/event"), qc = a("../search").Search, rc = a("../lib/useragent"), sc = a("../search_highlight").SearchHighlight, tc = a("../commands/multi_select_commands"), uc = a("../mode/text").Mode.prototype.tokenRe;
    a("../multi_select");
    var vc = function (a) {
        this.ace = a, this.state = {}, this.marks = {}, this.$uid = 0, this.onChange = this.onChange.bind(this), this.onSelectionChange = this.onSelectionChange.bind(this), this.onBeforeEndOperation = this.onBeforeEndOperation.bind(this), this.ace.on("change", this.onChange), this.ace.on("changeSelection", this.onSelectionChange), this.ace.on("beforeEndOperation", this.onBeforeEndOperation)
    };
    vc.Pos = function (a, b) {
        return this instanceof yc ? (this.line = a, void(this.ch = b)) : new yc(a, b)
    }, vc.defineOption = function () {
    }, vc.commands = {
        redo: function (a) {
            a.ace.redo()
        }, undo: function (a) {
            a.ace.undo()
        }, newlineAndIndent: function (a) {
            a.ace.insert("\n")
        }
    }, vc.keyMap = {}, vc.addClass = vc.rmClass = vc.e_stop = function () {
    }, vc.keyName = function (a) {
        if (a.key)return a.key;
        var b = oc[a.keyCode] || "";
        return 1 == b.length && (b = b.toUpperCase()), b = pc.getModifierString(a).replace(/(^|-)\w/g, function (a) {
            return a.toUpperCase()
        }) + b
    }, vc.keyMap["default"] = function (a) {
        return function (b) {
            var c = b.ace.commands.commandKeyBinding[a.toLowerCase()];
            return c && b.ace.execCommand(c) !== !1
        }
    }, vc.lookupKey = function cd(a, b, c) {
        "string" == typeof b && (b = vc.keyMap[b]);
        var d = "function" == typeof b ? b(a) : b[a];
        if (d === !1)return "nothing";
        if ("..." === d)return "multi";
        if (null != d && c(d))return "handled";
        if (b.fallthrough) {
            if (!Array.isArray(b.fallthrough))return cd(a, b.fallthrough, c);
            for (var e = 0; e < b.fallthrough.length; e++) {
                var f = cd(a, b.fallthrough[e], c);
                if (f)return f
            }
        }
    }, vc.signal = function (a, b, c) {
        return a._signal(b, c)
    }, vc.on = pc.addListener, vc.off = pc.removeListener, vc.isWordChar = function (a) {
        return uc.lastIndex = 0, uc.test(a)
    }, function () {
        nc.implement(vc.prototype, lc), this.destroy = function () {
            this.ace.off("change", this.onChange), this.ace.off("changeSelection", this.onSelectionChange), this.ace.off("beforeEndOperation", this.onBeforeEndOperation), this.removeOverlay()
        }, this.virtualSelectionMode = function () {
            return this.ace.inVirtualSelectionMode && this.ace.selection.index
        }, this.onChange = function (a) {
            var b = a.data;
            if (a = {
                    start: b.range.start,
                    end: b.range.end,
                    action: b.action,
                    lines: b.lines || [b.text]
                }, "i" == a.action[0]) {
                var c = {text: a.lines}, d = this.curOp = this.curOp || {};
                if (d.changeHandlers || (d.changeHandlers = this._eventRegistry.change && this._eventRegistry.change.slice()), this.virtualSelectionMode())return;
                d.lastChange ? d.lastChange.next = d.lastChange = c : d.lastChange = d.change = c
            }
            this.$updateMarkers(a)
        }, this.onSelectionChange = function () {
            var a = this.curOp = this.curOp || {};
            a.cursorActivityHandlers || (a.cursorActivityHandlers = this._eventRegistry.cursorActivity && this._eventRegistry.cursorActivity.slice()), this.curOp.cursorActivity = !0, this.ace.inMultiSelectMode && this.ace.keyBinding.removeKeyboardHandler(tc.keyboardHandler)
        }, this.operation = function (a, b) {
            if (!b && this.curOp || b && this.curOp && this.curOp.force)return a();
            if ((b || !this.ace.curOp) && this.curOp && this.onBeforeEndOperation(), !this.ace.curOp) {
                var c = this.ace.prevOp;
                this.ace.startOperation({command: {name: "vim", scrollIntoView: "cursor"}})
            }
            var d = this.curOp = this.curOp || {};
            this.curOp.force = b;
            var e = a();
            return this.ace.curOp && "vim" == this.ace.curOp.command.name && (this.ace.endOperation(), d.cursorActivity || d.lastChange || !c || (this.ace.prevOp = c)), (b || !this.ace.curOp) && this.curOp && this.onBeforeEndOperation(), e
        }, this.onBeforeEndOperation = function () {
            var a = this.curOp;
            a && (a.change && this.signal("change", a.change, a), a && a.cursorActivity && this.signal("cursorActivity", null, a), this.curOp = null)
        }, this.signal = function (a, b, c) {
            var d = c ? c[a + "Handlers"] : (this._eventRegistry || {})[a];
            if (d) {
                d = d.slice();
                for (var e = 0; e < d.length; e++)d[e](this, b)
            }
        }, this.firstLine = function () {
            return 0
        }, this.lastLine = function () {
            return this.ace.session.getLength() - 1
        }, this.lineCount = function () {
            return this.ace.session.getLength()
        }, this.setCursor = function (a, b) {
            "object" == typeof a && (b = a.ch, a = a.line), this.ace.inVirtualSelectionMode || this.ace.exitMultiSelectMode(), this.ace.selection.moveTo(a, b)
        }, this.getCursor = function (a) {
            var b = this.ace.selection, c = "anchor" == a ? b.isEmpty() ? b.lead : b.anchor : "head" != a && a ? b.getRange()[a] : b.lead;
            return d(c)
        }, this.listSelections = function () {
            var a = this.ace.multiSelect.rangeList.ranges;
            return !a.length || this.ace.inVirtualSelectionMode ? [{
                anchor: this.getCursor("anchor"),
                head: this.getCursor("head")
            }] : a.map(function (a) {
                return {anchor: this.clipPos(d(a.cursor == a.end ? a.start : a.end)), head: this.clipPos(d(a.cursor))}
            }, this)
        }, this.setSelections = function (a, b) {
            var d = this.ace.multiSelect, e = a.map(function (a) {
                var b = c(a.anchor), d = c(a.head), e = kc.comparePoints(b, d) < 0 ? new kc.fromPoints(b, d) : new kc.fromPoints(d, b);
                return e.cursor = kc.comparePoints(e.start, d) ? e.end : e.start, e
            });
            if (this.ace.inVirtualSelectionMode)return void this.ace.selection.fromOrientedRange(e[0]);
            b ? e[b] && e.push(e.splice(b, 1)[0]) : e = e.reverse(), d.toSingleRange(e[0].clone());
            for (var f = this.ace.session, g = 0; g < e.length; g++) {
                var h = f.$clipRangeToDocument(e[g]);
                d.addRange(h)
            }
        }, this.setSelection = function (a, b, c) {
            var d = this.ace.selection;
            d.moveTo(a.line, a.ch), d.selectTo(b.line, b.ch), c && "*mouse" == c.origin && this.onBeforeEndOperation()
        }, this.somethingSelected = function () {
            return !this.ace.selection.isEmpty()
        }, this.clipPos = function (a) {
            var b = this.ace.session.$clipPositionToDocument(a.line, a.ch);
            return d(b)
        }, this.markText = function () {
            return {
                clear: function () {
                }, find: function () {
                }
            }
        }, this.$updateMarkers = function (a) {
            var b = "insert" == a.action, c = a.start, d = a.end, e = (d.row - c.row) * (b ? 1 : -1), f = (d.column - c.column) * (b ? 1 : -1);
            b && (d = c);
            for (var g in this.marks) {
                var h = this.marks[g], i = kc.comparePoints(h, c);
                if (!(0 > i)) {
                    if (0 === i && b) {
                        if (1 != h.bias) {
                            -1 == h.bias;
                            continue
                        }
                        i = 1
                    }
                    var j = b ? i : kc.comparePoints(h, d);
                    j > 0 ? (h.row += e, h.column += h.row == d.row ? f : 0) : !b && 0 >= j && (h.row = c.row, h.column = c.column, 0 === j && (h.bias = 1))
                }
            }
        };
        var a = function (a, b, c, d) {
            this.cm = a, this.id = b, this.row = c, this.column = d, a.marks[this.id] = this
        };
        a.prototype.clear = function () {
            delete this.cm.marks[this.id]
        }, a.prototype.find = function () {
            return d(this)
        }, this.setBookmark = function (b, c) {
            var d = new a(this, this.$uid++, b.line, b.ch);
            return c && c.insertLeft || (d.$insertRight = !0), this.marks[d.id] = d, d
        }, this.moveH = function (a, b) {
            if ("char" == b) {
                var c = this.ace.selection;
                c.clearSelection(), c.moveCursorBy(0, a)
            }
        }, this.findPosV = function (a, b, c, e) {
            if ("page" == c) {
                var f = this.ace.renderer, g = f.layerConfig;
                b *= Math.floor(g.height / g.lineHeight), c = "line"
            }
            if ("line" == c) {
                var h = this.ace.session.documentToScreenPosition(a.line, a.ch);
                null != e && (h.column = e), h.row += b, h.row = Math.min(Math.max(0, h.row), this.ace.session.getScreenLength() - 1);
                var i = this.ace.session.screenToDocumentPosition(h.row, h.column);
                return d(i)
            }
        }, this.charCoords = function (a, b) {
            if ("div" == b || !b) {
                var c = this.ace.session.documentToScreenPosition(a.line, a.ch);
                return {left: c.column, top: c.row}
            }
            if ("local" == b) {
                var d = this.ace.renderer, c = this.ace.session.documentToScreenPosition(a.line, a.ch), e = d.layerConfig.lineHeight, f = d.layerConfig.characterWidth, g = e * c.row;
                return {left: c.column * f, top: g, bottom: g + e}
            }
        }, this.coordsChar = function (a, b) {
            var c = this.ace.renderer;
            if ("local" == b) {
                var e = Math.max(0, Math.floor(a.top / c.lineHeight)), f = Math.max(0, Math.floor(a.left / c.characterWidth)), g = c.session.screenToDocumentPosition(e, f);
                return d(g)
            }
            if ("div" == b)throw"not implemented"
        }, this.getSearchCursor = function (a, b) {
            var c = !1, e = !1;
            a instanceof RegExp && !a.global && (c = !a.ignoreCase, a = a.source, e = !0);
            var f = new qc;
            void 0 == b.ch && (b.ch = Number.MAX_VALUE);
            var g = {row: b.line, column: b.ch}, h = this, i = null;
            return {
                findNext: function () {
                    return this.find(!1)
                }, findPrevious: function () {
                    return this.find(!0)
                }, find: function (b) {
                    f.setOptions({needle: a, caseSensitive: c, wrap: !1, backwards: b, regExp: e, start: i || g});
                    var d = f.find(h.ace.session);
                    return d && d.isEmpty() && h.getLine(d.start.row).length == d.start.column && (f.$options.start = d, d = f.find(h.ace.session)), i = d
                }, from: function () {
                    return i && d(i.start)
                }, to: function () {
                    return i && d(i.end)
                }, replace: function (a) {
                    i && (i.end = h.ace.session.doc.replace(i, a))
                }
            }
        }, this.scrollTo = function (a, b) {
            var c = this.ace.renderer, d = c.layerConfig, e = d.maxHeight;
            e -= (c.$size.scrollerHeight - c.lineHeight) * c.$scrollPastEnd, null != b && this.ace.session.setScrollTop(Math.max(0, Math.min(b, e))), null != a && this.ace.session.setScrollLeft(Math.max(0, Math.min(a, d.width)))
        }, this.scrollInfo = function () {
            return 0
        }, this.scrollIntoView = function (a, b) {
            if (a) {
                var d = this.ace.renderer, e = {top: 0, bottom: b};
                d.scrollCursorIntoView(c(a), 2 * d.lineHeight / d.$size.scrollerHeight, e)
            }
        }, this.getLine = function (a) {
            return this.ace.session.getLine(a)
        }, this.getRange = function (a, b) {
            return this.ace.session.getTextRange(new kc(a.line, a.ch, b.line, b.ch))
        }, this.replaceRange = function (a, b, c) {
            return c || (c = b), this.ace.session.replace(new kc(b.line, b.ch, c.line, c.ch), a)
        }, this.replaceSelections = function (a) {
            var b = this.ace.selection;
            if (this.ace.inVirtualSelectionMode)return void this.ace.session.replace(b.getRange(), a[0] || "");
            b.inVirtualSelectionMode = !0;
            var c = b.rangeList.ranges;
            c.length || (c = [this.ace.multiSelect.getRange()]);
            for (var d = c.length; d--;)this.ace.session.replace(c[d], a[d] || "");
            b.inVirtualSelectionMode = !1
        }, this.getSelection = function () {
            return this.ace.getSelectedText()
        }, this.getSelections = function () {
            return this.listSelections().map(function (a) {
                return this.getRange(a.anchor, a.head)
            }, this)
        }, this.getInputField = function () {
            return this.ace.textInput.getElement()
        }, this.getWrapperElement = function () {
            return this.ace.containter
        };
        var b = {indentWithTabs: "useSoftTabs", indentUnit: "tabSize", firstLineNumber: "firstLineNumber"};
        this.setOption = function (a, c) {
            switch (this.state[a] = c, a) {
                case"indentWithTabs":
                    a = b[a], c = !c;
                    break;
                default:
                    a = b[a]
            }
            a && this.ace.setOption(a, c)
        }, this.getOption = function (a, c) {
            var d = b[a];
            switch (d && (c = this.ace.getOption(d)), a) {
                case"indentWithTabs":
                    return a = b[a], !c
            }
            return d ? c : this.state[a]
        }, this.toggleOverwrite = function (a) {
            return this.state.overwrite = a, this.ace.setOverwrite(a)
        }, this.addOverlay = function (a) {
            if (!this.$searchHighlight || !this.$searchHighlight.session) {
                var b = new sc(null, "ace_highlight-marker", "text"), c = this.ace.session.addDynamicMarker(b);
                b.id = c.id, b.session = this.ace.session, b.destroy = function () {
                    b.session.off("change", b.updateOnChange), b.session.off("changeEditor", b.destroy), b.session.removeMarker(b.id), b.session = null
                }, b.updateOnChange = function (a) {
                    a = a.data.range;
                    var c = a.start.row;
                    c == a.end.row ? b.cache[c] = void 0 : b.cache.splice(c, b.cache.length)
                }, b.session.on("changeEditor", b.destroy), b.session.on("change", b.updateOnChange)
            }
            var d = new RegExp(a.query.source, "gmi");
            this.$searchHighlight = a.highlight = b, this.$searchHighlight.setRegexp(d), this.ace.renderer.updateBackMarkers()
        }, this.removeOverlay = function () {
            this.$searchHighlight && this.$searchHighlight.session && this.$searchHighlight.destroy()
        }, this.getScrollInfo = function () {
            var a = this.ace.renderer, b = a.layerConfig;
            return {
                left: a.scrollLeft,
                top: a.scrollTop,
                height: b.maxHeight,
                width: b.width,
                clientHeight: b.height,
                clientWidth: b.width
            }
        }, this.getValue = function () {
            return this.ace.getValue()
        }, this.setValue = function (a) {
            return this.ace.setValue(a)
        }, this.getTokenTypeAt = function (a) {
            var b = this.ace.session.getTokenAt(a.line, a.ch);
            return b && /comment|string/.test(b.type) ? "string" : ""
        }, this.findMatchingBracket = function (a) {
            var b = this.ace.session.findMatchingBracket(c(a));
            return {to: b && d(b)}
        }, this.indentLine = function (a, b) {
            b === !0 ? this.ace.session.indentRows(a, a, "	") : b === !1 && this.ace.session.outdentRows(new kc(a, 0, a, 0))
        }, this.indexFromPos = function (a) {
            return this.ace.session.doc.positionToIndex(c(a))
        }, this.posFromIndex = function (a) {
            return d(this.ace.session.doc.indexToPosition(a))
        }, this.focus = function () {
            return this.ace.focus()
        }, this.blur = function () {
            return this.ace.blur()
        }, this.defaultTextHeight = function () {
            return this.ace.renderer.layerConfig.lineHeight
        }, this.scanForBracket = function (a, b, e, f) {
            var g = f.bracketRegex.source;
            if (1 == b)var h = this.ace.session.$findClosingBracket(g.slice(1, 2), c(a), /paren|text/); else var h = this.ace.session.$findOpeningBracket(g.slice(-2, -1), {
                row: a.line,
                column: a.ch + 1
            }, /paren|text/);
            return h && {pos: d(h)}
        }, this.refresh = function () {
            return this.ace.resize(!0)
        }
    }.call(vc.prototype);
    var wc = vc.StringStream = function (a, b) {
        this.pos = this.start = 0, this.string = a, this.tabSize = b || 8, this.lastColumnPos = this.lastColumnValue = 0, this.lineStart = 0
    };
    wc.prototype = {
        eol: function () {
            return this.pos >= this.string.length
        }, sol: function () {
            return this.pos == this.lineStart
        }, peek: function () {
            return this.string.charAt(this.pos) || void 0
        }, next: function () {
            return this.pos < this.string.length ? this.string.charAt(this.pos++) : void 0
        }, eat: function (a) {
            var b = this.string.charAt(this.pos);
            if ("string" == typeof a)var c = b == a; else var c = b && (a.test ? a.test(b) : a(b));
            return c ? (++this.pos, b) : void 0
        }, eatWhile: function (a) {
            for (var b = this.pos; this.eat(a););
            return this.pos > b
        }, eatSpace: function () {
            for (var a = this.pos; /[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;
            return this.pos > a
        }, skipToEnd: function () {
            this.pos = this.string.length
        }, skipTo: function (a) {
            var b = this.string.indexOf(a, this.pos);
            return b > -1 ? (this.pos = b, !0) : void 0
        }, backUp: function (a) {
            this.pos -= a
        }, column: function () {
            throw"not implemented"
        }, indentation: function () {
            throw"not implemented"
        }, match: function (a, b, c) {
            if ("string" != typeof a) {
                var d = this.string.slice(this.pos).match(a);
                return d && d.index > 0 ? null : (d && b !== !1 && (this.pos += d[0].length), d)
            }
            var e = function (a) {
                return c ? a.toLowerCase() : a
            }, f = this.string.substr(this.pos, a.length);
            return e(f) == e(a) ? (b !== !1 && (this.pos += a.length), !0) : void 0
        }, current: function () {
            return this.string.slice(this.start, this.pos)
        }, hideFirstChars: function (a, b) {
            this.lineStart += a;
            try {
                return b()
            } finally {
                this.lineStart -= a
            }
        }
    }, vc.defineExtension = function (a, b) {
        vc.prototype[a] = b
    }, mc.importCssString(".normal-mode .ace_cursor{  border: 0!important;  background-color: red;  opacity: 0.5;}.ace_dialog {  position: absolute;  left: 0; right: 0;  background: white;  z-index: 15;  padding: .1em .8em;  overflow: hidden;  color: #333;}.ace_dialog-top {  border-bottom: 1px solid #eee;  top: 0;}.ace_dialog-bottom {  border-top: 1px solid #eee;  bottom: 0;}.ace_dialog input {  border: none;  outline: none;  background: transparent;  width: 20em;  color: inherit;  font-family: monospace;}", "vimMode"), function () {
        function a(a, b, c) {
            var d, e = a.ace.container;
            return d = e.appendChild(document.createElement("div")), d.className = c ? "ace_dialog ace_dialog-bottom" : "ace_dialog ace_dialog-top", "string" == typeof b ? d.innerHTML = b : d.appendChild(b), d
        }

        function b(a, b) {
            a.state.currentNotificationClose && a.state.currentNotificationClose(), a.state.currentNotificationClose = b
        }

        vc.defineExtension("openDialog", function (c, d, e) {
            function f(a) {
                if ("string" == typeof a)k.value = a; else {
                    if (i)return;
                    i = !0, h.parentNode.removeChild(h), j.focus(), e.onClose && e.onClose(h)
                }
            }

            if (!this.virtualSelectionMode()) {
                e || (e = {}), b(this, null);
                var g, h = a(this, c, e.bottom), i = !1, j = this, k = h.getElementsByTagName("input")[0];
                return k ? (e.value && (k.value = e.value, e.select !== !1 && k.select()), e.onInput && vc.on(k, "input", function (a) {
                    e.onInput(a, k.value, f)
                }), e.onKeyUp && vc.on(k, "keyup", function (a) {
                    e.onKeyUp(a, k.value, f)
                }), vc.on(k, "keydown", function (a) {
                    e && e.onKeyDown && e.onKeyDown(a, k.value, f) || ((27 == a.keyCode || e.closeOnEnter !== !1 && 13 == a.keyCode) && (k.blur(), vc.e_stop(a), f()), 13 == a.keyCode && d(k.value))
                }), e.closeOnBlur !== !1 && vc.on(k, "blur", f), k.focus()) : (g = h.getElementsByTagName("button")[0]) && (vc.on(g, "click", function () {
                    f(), j.focus()
                }), e.closeOnBlur !== !1 && vc.on(g, "blur", f), g.focus()), f
            }
        }), vc.defineExtension("openNotification", function (c, d) {
            function e() {
                h || (h = !0, clearTimeout(f), g.parentNode.removeChild(g))
            }

            if (!this.virtualSelectionMode()) {
                b(this, e);
                var f, g = a(this, c, d && d.bottom), h = !1, i = d && "undefined" != typeof d.duration ? d.duration : 5e3;
                return vc.on(g, "click", function (a) {
                    vc.e_preventDefault(a), e()
                }), i && (f = setTimeout(e, i)), e
            }
        })
    }();
    var xc = [{keys: "<Left>", type: "keyToKey", toKeys: "h"}, {
        keys: "<Right>",
        type: "keyToKey",
        toKeys: "l"
    }, {keys: "<Up>", type: "keyToKey", toKeys: "k"}, {keys: "<Down>", type: "keyToKey", toKeys: "j"}, {
        keys: "<Space>",
        type: "keyToKey",
        toKeys: "l"
    }, {keys: "<BS>", type: "keyToKey", toKeys: "h", context: "normal"}, {
        keys: "<C-Space>",
        type: "keyToKey",
        toKeys: "W"
    }, {keys: "<C-BS>", type: "keyToKey", toKeys: "B", context: "normal"}, {
        keys: "<S-Space>",
        type: "keyToKey",
        toKeys: "w"
    }, {keys: "<S-BS>", type: "keyToKey", toKeys: "b", context: "normal"}, {
        keys: "<C-n>",
        type: "keyToKey",
        toKeys: "j"
    }, {keys: "<C-p>", type: "keyToKey", toKeys: "k"}, {
        keys: "<C-[>",
        type: "keyToKey",
        toKeys: "<Esc>"
    }, {keys: "<C-c>", type: "keyToKey", toKeys: "<Esc>"}, {
        keys: "<C-[>",
        type: "keyToKey",
        toKeys: "<Esc>",
        context: "insert"
    }, {keys: "<C-c>", type: "keyToKey", toKeys: "<Esc>", context: "insert"}, {
        keys: "s",
        type: "keyToKey",
        toKeys: "cl",
        context: "normal"
    }, {keys: "s", type: "keyToKey", toKeys: "xi", context: "visual"}, {
        keys: "S",
        type: "keyToKey",
        toKeys: "cc",
        context: "normal"
    }, {keys: "S", type: "keyToKey", toKeys: "dcc", context: "visual"}, {
        keys: "<Home>",
        type: "keyToKey",
        toKeys: "0"
    }, {keys: "<End>", type: "keyToKey", toKeys: "$"}, {
        keys: "<PageUp>",
        type: "keyToKey",
        toKeys: "<C-b>"
    }, {keys: "<PageDown>", type: "keyToKey", toKeys: "<C-f>"}, {
        keys: "<CR>",
        type: "keyToKey",
        toKeys: "j^",
        context: "normal"
    }, {keys: "H", type: "motion", motion: "moveToTopLine", motionArgs: {linewise: !0, toJumplist: !0}}, {
        keys: "M",
        type: "motion",
        motion: "moveToMiddleLine",
        motionArgs: {linewise: !0, toJumplist: !0}
    }, {keys: "L", type: "motion", motion: "moveToBottomLine", motionArgs: {linewise: !0, toJumplist: !0}}, {
        keys: "h",
        type: "motion",
        motion: "moveByCharacters",
        motionArgs: {forward: !1}
    }, {keys: "l", type: "motion", motion: "moveByCharacters", motionArgs: {forward: !0}}, {
        keys: "j",
        type: "motion",
        motion: "moveByLines",
        motionArgs: {forward: !0, linewise: !0}
    }, {keys: "k", type: "motion", motion: "moveByLines", motionArgs: {forward: !1, linewise: !0}}, {
        keys: "gj",
        type: "motion",
        motion: "moveByDisplayLines",
        motionArgs: {forward: !0}
    }, {keys: "gk", type: "motion", motion: "moveByDisplayLines", motionArgs: {forward: !1}}, {
        keys: "w",
        type: "motion",
        motion: "moveByWords",
        motionArgs: {forward: !0, wordEnd: !1}
    }, {
        keys: "W",
        type: "motion",
        motion: "moveByWords",
        motionArgs: {forward: !0, wordEnd: !1, bigWord: !0}
    }, {
        keys: "e",
        type: "motion",
        motion: "moveByWords",
        motionArgs: {forward: !0, wordEnd: !0, inclusive: !0}
    }, {
        keys: "E",
        type: "motion",
        motion: "moveByWords",
        motionArgs: {forward: !0, wordEnd: !0, bigWord: !0, inclusive: !0}
    }, {keys: "b", type: "motion", motion: "moveByWords", motionArgs: {forward: !1, wordEnd: !1}}, {
        keys: "B",
        type: "motion",
        motion: "moveByWords",
        motionArgs: {forward: !1, wordEnd: !1, bigWord: !0}
    }, {
        keys: "ge",
        type: "motion",
        motion: "moveByWords",
        motionArgs: {forward: !1, wordEnd: !0, inclusive: !0}
    }, {
        keys: "gE",
        type: "motion",
        motion: "moveByWords",
        motionArgs: {forward: !1, wordEnd: !0, bigWord: !0, inclusive: !0}
    }, {keys: "{", type: "motion", motion: "moveByParagraph", motionArgs: {forward: !1, toJumplist: !0}}, {
        keys: "}",
        type: "motion",
        motion: "moveByParagraph",
        motionArgs: {forward: !0, toJumplist: !0}
    }, {keys: "<C-f>", type: "motion", motion: "moveByPage", motionArgs: {forward: !0}}, {
        keys: "<C-b>",
        type: "motion",
        motion: "moveByPage",
        motionArgs: {forward: !1}
    }, {
        keys: "<C-d>",
        type: "motion",
        motion: "moveByScroll",
        motionArgs: {forward: !0, explicitRepeat: !0}
    }, {
        keys: "<C-u>",
        type: "motion",
        motion: "moveByScroll",
        motionArgs: {forward: !1, explicitRepeat: !0}
    }, {
        keys: "gg",
        type: "motion",
        motion: "moveToLineOrEdgeOfDocument",
        motionArgs: {forward: !1, explicitRepeat: !0, linewise: !0, toJumplist: !0}
    }, {
        keys: "G",
        type: "motion",
        motion: "moveToLineOrEdgeOfDocument",
        motionArgs: {forward: !0, explicitRepeat: !0, linewise: !0, toJumplist: !0}
    }, {keys: "0", type: "motion", motion: "moveToStartOfLine"}, {
        keys: "^",
        type: "motion",
        motion: "moveToFirstNonWhiteSpaceCharacter"
    }, {keys: "+", type: "motion", motion: "moveByLines", motionArgs: {forward: !0, toFirstChar: !0}}, {
        keys: "-",
        type: "motion",
        motion: "moveByLines",
        motionArgs: {forward: !1, toFirstChar: !0}
    }, {
        keys: "_",
        type: "motion",
        motion: "moveByLines",
        motionArgs: {forward: !0, toFirstChar: !0, repeatOffset: -1}
    }, {keys: "$", type: "motion", motion: "moveToEol", motionArgs: {inclusive: !0}}, {
        keys: "%",
        type: "motion",
        motion: "moveToMatchedSymbol",
        motionArgs: {inclusive: !0, toJumplist: !0}
    }, {
        keys: "f<character>",
        type: "motion",
        motion: "moveToCharacter",
        motionArgs: {forward: !0, inclusive: !0}
    }, {
        keys: "F<character>",
        type: "motion",
        motion: "moveToCharacter",
        motionArgs: {forward: !1}
    }, {
        keys: "t<character>",
        type: "motion",
        motion: "moveTillCharacter",
        motionArgs: {forward: !0, inclusive: !0}
    }, {keys: "T<character>", type: "motion", motion: "moveTillCharacter", motionArgs: {forward: !1}}, {
        keys: ";",
        type: "motion",
        motion: "repeatLastCharacterSearch",
        motionArgs: {forward: !0}
    }, {
        keys: ",",
        type: "motion",
        motion: "repeatLastCharacterSearch",
        motionArgs: {forward: !1}
    }, {
        keys: "'<character>",
        type: "motion",
        motion: "goToMark",
        motionArgs: {toJumplist: !0, linewise: !0}
    }, {keys: "`<character>", type: "motion", motion: "goToMark", motionArgs: {toJumplist: !0}}, {
        keys: "]`",
        type: "motion",
        motion: "jumpToMark",
        motionArgs: {forward: !0}
    }, {keys: "[`", type: "motion", motion: "jumpToMark", motionArgs: {forward: !1}}, {
        keys: "]'",
        type: "motion",
        motion: "jumpToMark",
        motionArgs: {forward: !0, linewise: !0}
    }, {keys: "['", type: "motion", motion: "jumpToMark", motionArgs: {forward: !1, linewise: !0}}, {
        keys: "]p",
        type: "action",
        action: "paste",
        isEdit: !0,
        actionArgs: {after: !0, isEdit: !0, matchIndent: !0}
    }, {
        keys: "[p",
        type: "action",
        action: "paste",
        isEdit: !0,
        actionArgs: {after: !1, isEdit: !0, matchIndent: !0}
    }, {
        keys: "]<character>",
        type: "motion",
        motion: "moveToSymbol",
        motionArgs: {forward: !0, toJumplist: !0}
    }, {
        keys: "[<character>",
        type: "motion",
        motion: "moveToSymbol",
        motionArgs: {forward: !1, toJumplist: !0}
    }, {keys: "|", type: "motion", motion: "moveToColumn"}, {
        keys: "o",
        type: "motion",
        motion: "moveToOtherHighlightedEnd",
        context: "visual"
    }, {
        keys: "O",
        type: "motion",
        motion: "moveToOtherHighlightedEnd",
        motionArgs: {sameLine: !0},
        context: "visual"
    }, {keys: "d", type: "operator", operator: "delete"}, {keys: "y", type: "operator", operator: "yank"}, {
        keys: "c",
        type: "operator",
        operator: "change"
    }, {keys: ">", type: "operator", operator: "indent", operatorArgs: {indentRight: !0}}, {
        keys: "<",
        type: "operator",
        operator: "indent",
        operatorArgs: {indentRight: !1}
    }, {keys: "g~", type: "operator", operator: "changeCase"}, {
        keys: "gu",
        type: "operator",
        operator: "changeCase",
        operatorArgs: {toLower: !0},
        isEdit: !0
    }, {keys: "gU", type: "operator", operator: "changeCase", operatorArgs: {toLower: !1}, isEdit: !0}, {
        keys: "n",
        type: "motion",
        motion: "findNext",
        motionArgs: {forward: !0, toJumplist: !0}
    }, {keys: "N", type: "motion", motion: "findNext", motionArgs: {forward: !1, toJumplist: !0}}, {
        keys: "x",
        type: "operatorMotion",
        operator: "delete",
        motion: "moveByCharacters",
        motionArgs: {forward: !0},
        operatorMotionArgs: {visualLine: !1}
    }, {
        keys: "X",
        type: "operatorMotion",
        operator: "delete",
        motion: "moveByCharacters",
        motionArgs: {forward: !1},
        operatorMotionArgs: {visualLine: !0}
    }, {
        keys: "D",
        type: "operatorMotion",
        operator: "delete",
        motion: "moveToEol",
        motionArgs: {inclusive: !0},
        context: "normal"
    }, {keys: "D", type: "operator", operator: "delete", operatorArgs: {linewise: !0}, context: "visual"}, {
        keys: "Y",
        type: "operatorMotion",
        operator: "yank",
        motion: "moveToEol",
        motionArgs: {inclusive: !0},
        context: "normal"
    }, {keys: "Y", type: "operator", operator: "yank", operatorArgs: {linewise: !0}, context: "visual"}, {
        keys: "C",
        type: "operatorMotion",
        operator: "change",
        motion: "moveToEol",
        motionArgs: {inclusive: !0},
        context: "normal"
    }, {keys: "C", type: "operator", operator: "change", operatorArgs: {linewise: !0}, context: "visual"}, {
        keys: "~",
        type: "operatorMotion",
        operator: "changeCase",
        motion: "moveByCharacters",
        motionArgs: {forward: !0},
        operatorArgs: {shouldMoveCursor: !0},
        context: "normal"
    }, {keys: "~", type: "operator", operator: "changeCase", context: "visual"}, {
        keys: "<C-w>",
        type: "operatorMotion",
        operator: "delete",
        motion: "moveByWords",
        motionArgs: {forward: !1, wordEnd: !1},
        context: "insert"
    }, {keys: "<C-i>", type: "action", action: "jumpListWalk", actionArgs: {forward: !0}}, {
        keys: "<C-o>",
        type: "action",
        action: "jumpListWalk",
        actionArgs: {forward: !1}
    }, {keys: "<C-e>", type: "action", action: "scroll", actionArgs: {forward: !0, linewise: !0}}, {
        keys: "<C-y>",
        type: "action",
        action: "scroll",
        actionArgs: {forward: !1, linewise: !0}
    }, {
        keys: "a",
        type: "action",
        action: "enterInsertMode",
        isEdit: !0,
        actionArgs: {insertAt: "charAfter"},
        context: "normal"
    }, {
        keys: "A",
        type: "action",
        action: "enterInsertMode",
        isEdit: !0,
        actionArgs: {insertAt: "eol"},
        context: "normal"
    }, {
        keys: "A",
        type: "action",
        action: "enterInsertMode",
        isEdit: !0,
        actionArgs: {insertAt: "endOfSelectedArea"},
        context: "visual"
    }, {
        keys: "i",
        type: "action",
        action: "enterInsertMode",
        isEdit: !0,
        actionArgs: {insertAt: "inplace"},
        context: "normal"
    }, {
        keys: "I",
        type: "action",
        action: "enterInsertMode",
        isEdit: !0,
        actionArgs: {insertAt: "firstNonBlank"},
        context: "normal"
    }, {
        keys: "I",
        type: "action",
        action: "enterInsertMode",
        isEdit: !0,
        actionArgs: {insertAt: "startOfSelectedArea"},
        context: "visual"
    }, {
        keys: "o",
        type: "action",
        action: "newLineAndEnterInsertMode",
        isEdit: !0,
        interlaceInsertRepeat: !0,
        actionArgs: {after: !0},
        context: "normal"
    }, {
        keys: "O",
        type: "action",
        action: "newLineAndEnterInsertMode",
        isEdit: !0,
        interlaceInsertRepeat: !0,
        actionArgs: {after: !1},
        context: "normal"
    }, {keys: "v", type: "action", action: "toggleVisualMode"}, {
        keys: "V",
        type: "action",
        action: "toggleVisualMode",
        actionArgs: {linewise: !0}
    }, {keys: "<C-v>", type: "action", action: "toggleVisualMode", actionArgs: {blockwise: !0}}, {
        keys: "gv",
        type: "action",
        action: "reselectLastSelection"
    }, {keys: "J", type: "action", action: "joinLines", isEdit: !0}, {
        keys: "p",
        type: "action",
        action: "paste",
        isEdit: !0,
        actionArgs: {after: !0, isEdit: !0}
    }, {
        keys: "P",
        type: "action",
        action: "paste",
        isEdit: !0,
        actionArgs: {after: !1, isEdit: !0}
    }, {keys: "r<character>", type: "action", action: "replace", isEdit: !0}, {
        keys: "@<character>",
        type: "action",
        action: "replayMacro"
    }, {keys: "q<character>", type: "action", action: "enterMacroRecordMode"}, {
        keys: "R",
        type: "action",
        action: "enterInsertMode",
        isEdit: !0,
        actionArgs: {replace: !0}
    }, {keys: "u", type: "action", action: "undo", context: "normal"}, {
        keys: "u",
        type: "operator",
        operator: "changeCase",
        operatorArgs: {toLower: !0},
        context: "visual",
        isEdit: !0
    }, {
        keys: "U",
        type: "operator",
        operator: "changeCase",
        operatorArgs: {toLower: !1},
        context: "visual",
        isEdit: !0
    }, {keys: "<C-r>", type: "action", action: "redo"}, {
        keys: "m<character>",
        type: "action",
        action: "setMark"
    }, {keys: '"<character>', type: "action", action: "setRegister"}, {
        keys: "zz",
        type: "action",
        action: "scrollToCursor",
        actionArgs: {position: "center"}
    }, {
        keys: "z.",
        type: "action",
        action: "scrollToCursor",
        actionArgs: {position: "center"},
        motion: "moveToFirstNonWhiteSpaceCharacter"
    }, {keys: "zt", type: "action", action: "scrollToCursor", actionArgs: {position: "top"}}, {
        keys: "z<CR>",
        type: "action",
        action: "scrollToCursor",
        actionArgs: {position: "top"},
        motion: "moveToFirstNonWhiteSpaceCharacter"
    }, {keys: "z-", type: "action", action: "scrollToCursor", actionArgs: {position: "bottom"}}, {
        keys: "zb",
        type: "action",
        action: "scrollToCursor",
        actionArgs: {position: "bottom"},
        motion: "moveToFirstNonWhiteSpaceCharacter"
    }, {keys: ".", type: "action", action: "repeatLastEdit"}, {
        keys: "<C-a>",
        type: "action",
        action: "incrementNumberToken",
        isEdit: !0,
        actionArgs: {increase: !0, backtrack: !1}
    }, {
        keys: "<C-x>",
        type: "action",
        action: "incrementNumberToken",
        isEdit: !0,
        actionArgs: {increase: !1, backtrack: !1}
    }, {keys: "a<character>", type: "motion", motion: "textObjectManipulation"}, {
        keys: "i<character>",
        type: "motion",
        motion: "textObjectManipulation",
        motionArgs: {textObjectInner: !0}
    }, {keys: "/", type: "search", searchArgs: {forward: !0, querySrc: "prompt", toJumplist: !0}}, {
        keys: "?",
        type: "search",
        searchArgs: {forward: !1, querySrc: "prompt", toJumplist: !0}
    }, {
        keys: "*",
        type: "search",
        searchArgs: {forward: !0, querySrc: "wordUnderCursor", wholeWordOnly: !0, toJumplist: !0}
    }, {
        keys: "#",
        type: "search",
        searchArgs: {forward: !1, querySrc: "wordUnderCursor", wholeWordOnly: !0, toJumplist: !0}
    }, {
        keys: "g*",
        type: "search",
        searchArgs: {forward: !0, querySrc: "wordUnderCursor", toJumplist: !0}
    }, {keys: "g#", type: "search", searchArgs: {forward: !1, querySrc: "wordUnderCursor", toJumplist: !0}}, {
        keys: ":",
        type: "ex"
    }], yc = vc.Pos, zc = function () {
        return Pc
    };
    vc.defineOption("vimMode", !1, function (a, b, c) {
        b && "vim" != a.getOption("keyMap") ? a.setOption("keyMap", "vim") : !b && c != vc.Init && /^vim/.test(a.getOption("keyMap")) && a.setOption("keyMap", "default")
    });
    var Ac = {Shift: "S", Ctrl: "C", Alt: "A", Cmd: "D", Mod: "A"}, Bc = {
        Enter: "CR",
        Backspace: "BS",
        Delete: "Del"
    }, Cc = /[\d]/, Dc = [vc.isWordChar, function (a) {
        return a && !vc.isWordChar(a) && !/\s/.test(a)
    }], Ec = [function (a) {
        return /\S/.test(a)
    }], Fc = l(65, 26), Gc = l(97, 26), Hc = l(48, 10), Ic = [].concat(Fc, Gc, Hc, ["<", ">"]), Jc = [].concat(Fc, Gc, Hc, ["-", '"', ".", ":", "/"]), Kc = {}, Lc = function () {
        function a(a, b, h) {
            function i(b) {
                var e = ++d % c, f = g[e];
                f && f.clear(), g[e] = a.setBookmark(b)
            }

            var j = d % c, k = g[j];
            if (k) {
                var l = k.find();
                l && !R(l, b) && i(b)
            } else i(b);
            i(h), e = d, f = d - c + 1, 0 > f && (f = 0)
        }

        function b(a, b) {
            d += b, d > e ? d = e : f > d && (d = f);
            var h = g[(c + d) % c];
            if (h && !h.find()) {
                var i, j = b > 0 ? 1 : -1, k = a.getCursor();
                do if (d += j, h = g[(c + d) % c], h && (i = h.find()) && !R(k, i))break; while (e > d && d > f)
            }
            return h
        }

        var c = 100, d = -1, e = 0, f = 0, g = new Array(c);
        return {cachedCursor: void 0, add: a, move: b}
    }, Mc = function (a) {
        return a ? {changes: a.changes, expectCursorActivityForChange: a.expectCursorActivityForChange} : {
            changes: [],
            expectCursorActivityForChange: !1
        }
    };
    w.prototype = {
        exitMacroRecordMode: function () {
            var a = Nc.macroModeState;
            a.onRecordingDone && a.onRecordingDone(), a.onRecordingDone = void 0, a.isRecording = !1
        }, enterMacroRecordMode: function (a, b) {
            var c = Nc.registerController.getRegister(b);
            c && (c.clear(), this.latestRegister = b, a.openDialog && (this.onRecordingDone = a.openDialog("(recording)[" + b + "]", null, {bottom: !0})), this.isRecording = !0)
        }
    };
    var Nc, Oc, Pc = {
        buildKeyMap: function () {
        },
        getRegisterController: function () {
            return Nc.registerController
        },
        resetVimGlobalState_: y,
        getVimGlobalState_: function () {
            return Nc
        },
        maybeInitVimState_: x,
        suppressErrorLogging: !1,
        InsertModeKey: cc,
        map: function (a, b, c) {
            $c.map(a, b, c)
        },
        unmap: function (a, b) {
            $c.unmap(a, b)
        },
        setOption: u,
        getOption: v,
        defineOption: t,
        defineEx: function (a, b, c) {
            if (0 !== a.indexOf(b))throw new Error('(Vim.defineEx) "' + b + '" is not a prefix of "' + a + '", command not registered');
            Zc[a] = c, $c.commandMap_[b] = {name: a, shortName: b, type: "api"}
        },
        handleKey: function (a, b, c) {
            var d = this.findKey(a, b, c);
            return "function" == typeof d ? d() : void 0
        },
        findKey: function (a, b, c) {
            function d() {
                var d = Nc.macroModeState;
                if (d.isRecording) {
                    if ("q" == b)return d.exitMacroRecordMode(), A(a), !0;
                    "mapping" != c && Xb(d, b)
                }
            }

            function e() {
                return "<Esc>" == b ? (A(a), j.visualMode ? hb(a) : j.insertMode && Tb(a), !0) : void 0
            }

            function f(c) {
                for (var d; c;)d = /<\w+-.+?>|<\w+>|./.exec(c), b = d[0], c = c.substring(d.index + b.length), vc.Vim.handleKey(a, b, "mapping")
            }

            function g() {
                if (e())return !0;
                for (var c = j.inputState.keyBuffer = j.inputState.keyBuffer + b, d = 1 == b.length, f = Qc.matchCommand(c, xc, j.inputState, "insert"); c.length > 1 && "full" != f.type;) {
                    var c = j.inputState.keyBuffer = c.slice(1), g = Qc.matchCommand(c, xc, j.inputState, "insert");
                    "none" != g.type && (f = g)
                }
                if ("none" == f.type)return A(a), !1;
                if ("partial" == f.type)return Oc && window.clearTimeout(Oc), Oc = window.setTimeout(function () {
                    j.insertMode && j.inputState.keyBuffer && A(a)
                }, v("insertModeEscKeysTimeout")), !d;
                if (Oc && window.clearTimeout(Oc), d) {
                    var h = a.getCursor();
                    a.replaceRange("", K(h, 0, -(c.length - 1)), h, "+input")
                }
                return A(a), f.command
            }

            function h() {
                if (d() || e())return !0;
                var c = j.inputState.keyBuffer = j.inputState.keyBuffer + b;
                if (/^[1-9]\d*$/.test(c))return !0;
                var f = /^(\d*)(.*)$/.exec(c);
                if (!f)return A(a), !1;
                var g = j.visualMode ? "visual" : "normal", h = Qc.matchCommand(f[2] || f[1], xc, j.inputState, g);
                if ("none" == h.type)return A(a), !1;
                if ("partial" == h.type)return !0;
                j.inputState.keyBuffer = "";
                var f = /^(\d*)(.*)$/.exec(c);
                return f[1] && "0" != f[1] && j.inputState.pushRepeatDigit(f[1]), h.command
            }

            var i, j = x(a);
            return i = j.insertMode ? g() : h(), i === !1 ? void 0 : i === !0 ? function () {
            } : function () {
                return a.operation(function () {
                    a.curOp.isVimOp = !0;
                    try {
                        "keyToKey" == i.type ? f(i.toKeys) : Qc.processCommand(a, j, i)
                    } catch (b) {
                        throw a.state.vim = void 0, x(a), vc.Vim.suppressErrorLogging || console.log(b), b
                    }
                    return !0
                })
            }
        },
        handleEx: function (a, b) {
            $c.processCommand(a, b)
        },
        defineMotion: E,
        defineAction: H,
        defineOperator: G,
        mapCommand: Vb,
        _mapCommand: Ub,
        exitVisualMode: hb,
        exitInsertMode: Tb
    };
    z.prototype.pushRepeatDigit = function (a) {
        this.operator ? this.motionRepeat = this.motionRepeat.concat(a) : this.prefixRepeat = this.prefixRepeat.concat(a)
    }, z.prototype.getRepeat = function () {
        var a = 0;
        return (this.prefixRepeat.length > 0 || this.motionRepeat.length > 0) && (a = 1, this.prefixRepeat.length > 0 && (a *= parseInt(this.prefixRepeat.join(""), 10)), this.motionRepeat.length > 0 && (a *= parseInt(this.motionRepeat.join(""), 10))), a
    }, B.prototype = {
        setText: function (a, b, c) {
            this.keyBuffer = [a || ""], this.linewise = !!b, this.blockwise = !!c
        }, pushText: function (a, b) {
            b && (this.linewise || this.keyBuffer.push("\n"), this.linewise = !0), this.keyBuffer.push(a)
        }, pushInsertModeChanges: function (a) {
            this.insertModeChanges.push(Mc(a))
        }, pushSearchQuery: function (a) {
            this.searchQueries.push(a)
        }, clear: function () {
            this.keyBuffer = [], this.insertModeChanges = [], this.searchQueries = [], this.linewise = !1
        }, toString: function () {
            return this.keyBuffer.join("")
        }
    }, C.prototype = {
        pushText: function (a, b, c, d, e) {
            d && "\n" == c.charAt(0) && (c = c.slice(1) + "\n"), d && "\n" !== c.charAt(c.length - 1) && (c += "\n");
            var f = this.isValidRegister(a) ? this.getRegister(a) : null;
            if (!f) {
                switch (b) {
                    case"yank":
                        this.registers[0] = new B(c, d, e);
                        break;
                    case"delete":
                    case"change":
                        -1 == c.indexOf("\n") ? this.registers["-"] = new B(c, d) : (this.shiftNumericRegisters_(), this.registers[1] = new B(c, d))
                }
                return void this.unnamedRegister.setText(c, d, e)
            }
            var g = q(a);
            g ? f.pushText(c, d) : f.setText(c, d, e), this.unnamedRegister.setText(f.toString(), d)
        }, getRegister: function (a) {
            return this.isValidRegister(a) ? (a = a.toLowerCase(), this.registers[a] || (this.registers[a] = new B), this.registers[a]) : this.unnamedRegister
        }, isValidRegister: function (a) {
            return a && s(a, Jc)
        }, shiftNumericRegisters_: function () {
            for (var a = 9; a >= 2; a--)this.registers[a] = this.getRegister("" + (a - 1))
        }
    }, D.prototype = {
        nextMatch: function (a, b) {
            var c = this.historyBuffer, d = b ? -1 : 1;
            null === this.initialPrefix && (this.initialPrefix = a);
            for (var e = this.iterator + d; b ? e >= 0 : e < c.length; e += d)for (var f = c[e], g = 0; g <= f.length; g++)if (this.initialPrefix == f.substring(0, g))return this.iterator = e, f;
            return e >= c.length ? (this.iterator = c.length, this.initialPrefix) : 0 > e ? a : void 0
        }, pushInput: function (a) {
            var b = this.historyBuffer.indexOf(a);
            b > -1 && this.historyBuffer.splice(b, 1), a.length && this.historyBuffer.push(a)
        }, reset: function () {
            this.initialPrefix = null, this.iterator = this.historyBuffer.length
        }
    };
    var Qc = {
        matchCommand: function (a, b, c, d) {
            var e = M(a, b, d, c);
            if (!e.full && !e.partial)return {type: "none"};
            if (!e.full && e.partial)return {type: "partial"};
            for (var f, g = 0; g < e.full.length; g++) {
                var h = e.full[g];
                f || (f = h)
            }
            return "<character>" == f.keys.slice(-11) && (c.selectedCharacter = O(a)), {type: "full", command: f}
        }, processCommand: function (a, b, c) {
            switch (b.inputState.repeatOverride = c.repeatOverride, c.type) {
                case"motion":
                    this.processMotion(a, b, c);
                    break;
                case"operator":
                    this.processOperator(a, b, c);
                    break;
                case"operatorMotion":
                    this.processOperatorMotion(a, b, c);
                    break;
                case"action":
                    this.processAction(a, b, c);
                    break;
                case"search":
                    this.processSearch(a, b, c);
                    break;
                case"ex":
                case"keyToEx":
                    this.processEx(a, b, c)
            }
        }, processMotion: function (a, b, c) {
            b.inputState.motion = c.motion, b.inputState.motionArgs = J(c.motionArgs), this.evalInput(a, b)
        }, processOperator: function (a, b, c) {
            var d = b.inputState;
            if (d.operator) {
                if (d.operator == c.operator)return d.motion = "expandToLine", d.motionArgs = {linewise: !0}, void this.evalInput(a, b);
                A(a)
            }
            d.operator = c.operator, d.operatorArgs = J(c.operatorArgs), b.visualMode && this.evalInput(a, b)
        }, processOperatorMotion: function (a, b, c) {
            var d = b.visualMode, e = J(c.operatorMotionArgs);
            e && d && e.visualLine && (b.visualLine = !0), this.processOperator(a, b, c), d || this.processMotion(a, b, c)
        }, processAction: function (a, b, c) {
            var d = b.inputState, e = d.getRepeat(), f = !!e, g = J(c.actionArgs) || {};
            d.selectedCharacter && (g.selectedCharacter = d.selectedCharacter), c.operator && this.processOperator(a, b, c), c.motion && this.processMotion(a, b, c), (c.motion || c.operator) && this.evalInput(a, b), g.repeat = e || 1, g.repeatIsExplicit = f, g.registerName = d.registerName, A(a), b.lastMotion = null, c.isEdit && this.recordLastEdit(b, d, c), Tc[c.action](a, g, b)
        }, processSearch: function (a, b, c) {
            function d(d, e, f) {
                Nc.searchHistoryController.pushInput(d), Nc.searchHistoryController.reset();
                try {
                    Lb(a, d, e, f)
                } catch (g) {
                    return Hb(a, "Invalid regex: " + d), void A(a)
                }
                Qc.processMotion(a, b, {
                    type: "motion",
                    motion: "findNext",
                    motionArgs: {forward: !0, toJumplist: c.searchArgs.toJumplist}
                })
            }

            function e(b) {
                a.scrollTo(l.left, l.top), d(b, !0, !0);
                var c = Nc.macroModeState;
                c.isRecording && Zb(c, b)
            }

            function f(b, c, d) {
                var e, f = vc.keyName(b);
                "Up" == f || "Down" == f ? (e = "Up" == f ? !0 : !1, c = Nc.searchHistoryController.nextMatch(c, e) || "", d(c)) : "Left" != f && "Right" != f && "Ctrl" != f && "Alt" != f && "Shift" != f && Nc.searchHistoryController.reset();
                var g;
                try {
                    g = Lb(a, c, !0, !0)
                } catch (b) {
                }
                g ? a.scrollIntoView(Ob(a, !h, g), 30) : (Pb(a), a.scrollTo(l.left, l.top))
            }

            function g(b, c, d) {
                var e = vc.keyName(b);
                ("Esc" == e || "Ctrl-C" == e || "Ctrl-[" == e) && (Nc.searchHistoryController.pushInput(c), Nc.searchHistoryController.reset(), Lb(a, k), Pb(a), a.scrollTo(l.left, l.top), vc.e_stop(b), A(a), d(), a.focus())
            }

            if (a.getSearchCursor) {
                var h = c.searchArgs.forward, i = c.searchArgs.wholeWordOnly;
                zb(a).setReversed(!h);
                var j = h ? "/" : "?", k = zb(a).getQuery(), l = a.getScrollInfo();
                switch (c.searchArgs.querySrc) {
                    case"prompt":
                        var m = Nc.macroModeState;
                        if (m.isPlaying) {
                            var n = m.replaySearchQueries.shift();
                            d(n, !0, !1)
                        } else Jb(a, {onClose: e, prefix: j, desc: Wc, onKeyUp: f, onKeyDown: g});
                        break;
                    case"wordUnderCursor":
                        var o = lb(a, !1, !0, !1, !0), p = !0;
                        if (o || (o = lb(a, !1, !0, !1, !1), p = !1), !o)return;
                        var n = a.getLine(o.start.line).substring(o.start.ch, o.end.ch);
                        n = p && i ? "\\b" + n + "\\b" : Y(n), Nc.jumpList.cachedCursor = a.getCursor(), a.setCursor(o.start), d(n, !0, !1)
                }
            }
        }, processEx: function (a, b, c) {
            function d(b) {
                Nc.exCommandHistoryController.pushInput(b), Nc.exCommandHistoryController.reset(), $c.processCommand(a, b)
            }

            function e(b, c, d) {
                var e, f = vc.keyName(b);
                ("Esc" == f || "Ctrl-C" == f || "Ctrl-[" == f) && (Nc.exCommandHistoryController.pushInput(c), Nc.exCommandHistoryController.reset(), vc.e_stop(b), A(a), d(), a.focus()), "Up" == f || "Down" == f ? (e = "Up" == f ? !0 : !1, c = Nc.exCommandHistoryController.nextMatch(c, e) || "", d(c)) : "Left" != f && "Right" != f && "Ctrl" != f && "Alt" != f && "Shift" != f && Nc.exCommandHistoryController.reset()
            }

            "keyToEx" == c.type ? $c.processCommand(a, c.exArgs.input) : b.visualMode ? Jb(a, {
                onClose: d,
                prefix: ":",
                value: "'<,'>",
                onKeyDown: e,
                select: !1
            }) : Jb(a, {onClose: d, prefix: ":", onKeyDown: e})
        }, evalInput: function (a, b) {
            var c, d, e, f = b.inputState, g = f.motion, h = f.motionArgs || {}, i = f.operator, j = f.operatorArgs || {}, k = f.registerName, l = b.sel, m = Q(b.visualMode ? l.head : a.getCursor("head")), n = Q(b.visualMode ? l.anchor : a.getCursor("anchor")), o = Q(m), p = Q(n);
            if (i && this.recordLastEdit(b, f), e = void 0 !== f.repeatOverride ? f.repeatOverride : f.getRepeat(), e > 0 && h.explicitRepeat ? h.repeatIsExplicit = !0 : (h.noRepeat || !h.explicitRepeat && 0 === e) && (e = 1, h.repeatIsExplicit = !1), f.selectedCharacter && (h.selectedCharacter = j.selectedCharacter = f.selectedCharacter), h.repeat = e, A(a), g) {
                var q = Rc[g](a, m, h, b);
                if (b.lastMotion = Rc[g], !q)return;
                if (h.toJumplist) {
                    var r = Nc.jumpList, s = r.cachedCursor;
                    s ? (mb(a, s, q), delete r.cachedCursor) : mb(a, m, q)
                }
                q instanceof Array ? (d = q[0], c = q[1]) : c = q, c || (c = Q(m)), b.visualMode ? (b.visualBlock && 1 / 0 === c.ch || (c = I(a, c, b.visualBlock)), d && (d = I(a, d, !0)), d = d || p, l.anchor = d, l.head = c, eb(a), tb(a, b, "<", S(d, c) ? d : c), tb(a, b, ">", S(d, c) ? c : d)) : i || (c = I(a, c), a.setCursor(c.line, c.ch))
            }
            if (i) {
                if (j.lastSel) {
                    d = p;
                    var t = j.lastSel, u = Math.abs(t.head.line - t.anchor.line), v = Math.abs(t.head.ch - t.anchor.ch);
                    c = t.visualLine ? yc(p.line + u, p.ch) : t.visualBlock ? yc(p.line + u, p.ch + v) : t.head.line == t.anchor.line ? yc(p.line, p.ch + v) : yc(p.line + u, p.ch), b.visualMode = !0, b.visualLine = t.visualLine, b.visualBlock = t.visualBlock, l = b.sel = {
                        anchor: d,
                        head: c
                    }, eb(a)
                } else b.visualMode && (j.lastSel = {
                    anchor: Q(l.anchor),
                    head: Q(l.head),
                    visualBlock: b.visualBlock,
                    visualLine: b.visualLine
                });
                var w, x, y, z, B;
                if (b.visualMode) {
                    if (w = T(l.head, l.anchor), x = U(l.head, l.anchor), y = b.visualLine || j.linewise, z = b.visualBlock ? "block" : y ? "line" : "char", B = fb(a, {
                            anchor: w,
                            head: x
                        }, z), y) {
                        var C = B.ranges;
                        if ("block" == z)for (var D = 0; D < C.length; D++)C[D].head.ch = W(a, C[D].head.line); else"line" == z && (C[0].head = yc(C[0].head.line + 1, 0))
                    }
                } else {
                    if (w = Q(d || p), x = Q(c || o), S(x, w)) {
                        var E = w;
                        w = x, x = E
                    }
                    y = h.linewise || j.linewise, y ? jb(a, w, x) : h.forward && ib(a, w, x), z = "char";
                    var F = !h.inclusive || y;
                    B = fb(a, {anchor: w, head: x}, z, F)
                }
                a.setSelections(B.ranges, B.primary), b.lastMotion = null, j.repeat = e, j.registerName = k, j.linewise = y;
                var G = Sc[i](a, j, B.ranges, p, c);
                b.visualMode && hb(a, null != G), G && a.setCursor(G)
            }
        }, recordLastEdit: function (a, b, c) {
            var d = Nc.macroModeState;
            d.isPlaying || (a.lastEditInputState = b, a.lastEditActionCommand = c, d.lastInsertModeChanges.changes = [], d.lastInsertModeChanges.expectCursorActivityForChange = !1)
        }
    }, Rc = {
        moveToTopLine: function (a, b, c) {
            var d = Rb(a).top + c.repeat - 1;
            return yc(d, kb(a.getLine(d)))
        }, moveToMiddleLine: function (a) {
            var b = Rb(a), c = Math.floor(.5 * (b.top + b.bottom));
            return yc(c, kb(a.getLine(c)))
        }, moveToBottomLine: function (a, b, c) {
            var d = Rb(a).bottom - c.repeat + 1;
            return yc(d, kb(a.getLine(d)))
        }, expandToLine: function (a, b, c) {
            var d = b;
            return yc(d.line + c.repeat - 1, 1 / 0)
        }, findNext: function (a, b, c) {
            var d = zb(a), e = d.getQuery();
            if (e) {
                var f = !c.forward;
                return f = d.isReversed() ? !f : f, Nb(a, e), Ob(a, f, e, c.repeat)
            }
        }, goToMark: function (a, b, c, d) {
            var e = d.marks[c.selectedCharacter];
            if (e) {
                var f = e.find();
                return c.linewise ? {line: f.line, ch: kb(a.getLine(f.line))} : f
            }
            return null
        }, moveToOtherHighlightedEnd: function (a, b, c, d) {
            if (d.visualBlock && c.sameLine) {
                var e = d.sel;
                return [I(a, yc(e.anchor.line, e.head.ch)), I(a, yc(e.head.line, e.anchor.ch))]
            }
            return [d.sel.head, d.sel.anchor]
        }, jumpToMark: function (a, b, c, d) {
            for (var e = b, f = 0; f < c.repeat; f++) {
                var g = e;
                for (var h in d.marks)if (n(h)) {
                    var i = d.marks[h].find(), j = c.forward ? S(i, g) : S(g, i);
                    if (!(j || c.linewise && i.line == g.line)) {
                        var k = R(g, e), l = c.forward ? V(g, i, e) : V(e, i, g);
                        (k || l) && (e = i)
                    }
                }
            }
            return c.linewise && (e = yc(e.line, kb(a.getLine(e.line)))), e
        }, moveByCharacters: function (a, b, c) {
            var d = b, e = c.repeat, f = c.forward ? d.ch + e : d.ch - e;
            return yc(d.line, f)
        }, moveByLines: function (a, b, c, d) {
            var e = b, f = e.ch;
            switch (d.lastMotion) {
                case this.moveByLines:
                case this.moveByDisplayLines:
                case this.moveByScroll:
                case this.moveToColumn:
                case this.moveToEol:
                    f = d.lastHPos;
                    break;
                default:
                    d.lastHPos = f
            }
            var g = c.repeat + (c.repeatOffset || 0), h = c.forward ? e.line + g : e.line - g, i = a.firstLine(), j = a.lastLine();
            if (!(i > h && e.line == i || h > j && e.line == j)) {
                var k = a.ace.session.getFoldAt(h, f);
                return k && (h = c.forward ? k.end.row + 1 : k.start.row - 1), c.toFirstChar && (f = kb(a.getLine(h)), d.lastHPos = f), d.lastHSPos = a.charCoords(yc(h, f), "div").left, yc(h, f)
            }
        }, moveByDisplayLines: function (a, b, c, d) {
            var e = b;
            switch (d.lastMotion) {
                case this.moveByDisplayLines:
                case this.moveByScroll:
                case this.moveByLines:
                case this.moveToColumn:
                case this.moveToEol:
                    break;
                default:
                    d.lastHSPos = a.charCoords(e, "div").left
            }
            var f = c.repeat, g = a.findPosV(e, c.forward ? f : -f, "line", d.lastHSPos);
            if (g.hitSide)if (c.forward)var h = a.charCoords(g, "div"), i = {
                top: h.top + 8,
                left: d.lastHSPos
            }, g = a.coordsChar(i, "div"); else {
                var j = a.charCoords(yc(a.firstLine(), 0), "div");
                j.left = d.lastHSPos, g = a.coordsChar(j, "div")
            }
            return d.lastHPos = g.ch, g
        }, moveByPage: function (a, b, c) {
            var d = b, e = c.repeat;
            return a.findPosV(d, c.forward ? e : -e, "page")
        }, moveByParagraph: function (a, b, c) {
            var d = c.forward ? 1 : -1;
            return vb(a, b, c.repeat, d)
        }, moveByScroll: function (a, b, c, d) {
            var e = a.getScrollInfo(), f = null, g = c.repeat;
            g || (g = e.clientHeight / (2 * a.defaultTextHeight()));
            var h = a.charCoords(b, "local");
            c.repeat = g;
            var f = Rc.moveByDisplayLines(a, b, c, d);
            if (!f)return null;
            var i = a.charCoords(f, "local");
            return a.scrollTo(null, e.top + i.top - h.top), f
        }, moveByWords: function (a, b, c) {
            return qb(a, b, c.repeat, !!c.forward, !!c.wordEnd, !!c.bigWord)
        }, moveTillCharacter: function (a, b, c) {
            var d = c.repeat, e = rb(a, d, c.forward, c.selectedCharacter), f = c.forward ? -1 : 1;
            return nb(f, c), e ? (e.ch += f, e) : null
        }, moveToCharacter: function (a, b, c) {
            var d = c.repeat;
            return nb(0, c), rb(a, d, c.forward, c.selectedCharacter) || b
        }, moveToSymbol: function (a, b, c) {
            var d = c.repeat;
            return ob(a, d, c.forward, c.selectedCharacter) || b
        }, moveToColumn: function (a, b, c, d) {
            var e = c.repeat;
            return d.lastHPos = e - 1, d.lastHSPos = a.charCoords(b, "div").left, sb(a, e)
        }, moveToEol: function (a, b, c, d) {
            var e = b;
            d.lastHPos = 1 / 0;
            var f = yc(e.line + c.repeat - 1, 1 / 0), g = a.clipPos(f);
            return g.ch--, d.lastHSPos = a.charCoords(g, "div").left, f
        }, moveToFirstNonWhiteSpaceCharacter: function (a, b) {
            var c = b;
            return yc(c.line, kb(a.getLine(c.line)))
        }, moveToMatchedSymbol: function (a, b) {
            var c, d = b, e = d.line, f = d.ch, g = a.getLine(e);
            do if (c = g.charAt(f++), c && o(c)) {
                var h = a.getTokenTypeAt(yc(e, f));
                if ("string" !== h && "comment" !== h)break
            } while (c);
            if (c) {
                var i = a.findMatchingBracket(yc(e, f));
                return i.to
            }
            return d
        }, moveToStartOfLine: function (a, b) {
            return yc(b.line, 0)
        }, moveToLineOrEdgeOfDocument: function (a, b, c) {
            var d = c.forward ? a.lastLine() : a.firstLine();
            return c.repeatIsExplicit && (d = c.repeat - a.getOption("firstLineNumber")), yc(d, kb(a.getLine(d)))
        }, textObjectManipulation: function (a, b, c, d) {
            var e = {"(": ")", ")": "(", "{": "}", "}": "{", "[": "]", "]": "["}, f = {
                "'": !0,
                '"': !0
            }, g = c.selectedCharacter;
            "b" == g ? g = "(" : "B" == g && (g = "{");
            var h, i = !c.textObjectInner;
            if (e[g])h = wb(a, b, g, i); else if (f[g])h = xb(a, b, g, i); else if ("W" === g)h = lb(a, i, !0, !0); else if ("w" === g)h = lb(a, i, !0, !1); else {
                if ("p" !== g)return null;
                if (h = vb(a, b, c.repeat, 0, i), c.linewise = !0, d.visualMode)d.visualLine || (d.visualLine = !0); else {
                    var j = d.inputState.operatorArgs;
                    j && (j.linewise = !0), h.end.line--
                }
            }
            return a.state.vim.visualMode ? db(a, h.start, h.end) : [h.start, h.end]
        }, repeatLastCharacterSearch: function (a, b, c) {
            var d = Nc.lastChararacterSearch, e = c.repeat, f = c.forward === d.forward, g = (d.increment ? 1 : 0) * (f ? -1 : 1);
            a.moveH(-g, "char"), c.inclusive = f ? !0 : !1;
            var h = rb(a, e, f, d.selectedCharacter);
            return h ? (h.ch += g, h) : (a.moveH(g, "char"), b)
        }
    }, Sc = {
        change: function (a, b, c) {
            var d, e, f = a.state.vim;
            if (Nc.macroModeState.lastInsertModeChanges.inVisualBlock = f.visualBlock, f.visualMode) {
                e = a.getSelection();
                var g = F("", c.length);
                a.replaceSelections(g), d = T(c[0].head, c[0].anchor)
            } else {
                var h = c[0].anchor, i = c[0].head;
                if (e = a.getRange(h, i), !r(e)) {
                    var j = /\s+$/.exec(e);
                    j && (i = K(i, 0, -j[0].length), e = e.slice(0, -j[0].length))
                }
                var k = i.line - 1 == a.lastLine();
                a.replaceRange("", h, i), b.linewise && !k && (vc.commands.newlineAndIndent(a), h.ch = null), d = h
            }
            Nc.registerController.pushText(b.registerName, "change", e, b.linewise, c.length > 1), Tc.enterInsertMode(a, {head: d}, a.state.vim)
        }, "delete": function (a, b, c) {
            var d, e, f = a.state.vim;
            if (f.visualBlock) {
                e = a.getSelection();
                var g = F("", c.length);
                a.replaceSelections(g), d = c[0].anchor
            } else {
                var h = c[0].anchor, i = c[0].head;
                b.linewise && i.line != a.firstLine() && h.line == a.lastLine() && h.line == i.line - 1 && (h.line == a.firstLine() ? h.ch = 0 : h = yc(h.line - 1, W(a, h.line - 1))), e = a.getRange(h, i), a.replaceRange("", h, i), d = h, b.linewise && (d = Rc.moveToFirstNonWhiteSpaceCharacter(a, h))
            }
            return Nc.registerController.pushText(b.registerName, "delete", e, b.linewise, f.visualBlock), I(a, d)
        }, indent: function (a, b, c) {
            var d = a.state.vim, e = c[0].anchor.line, f = d.visualBlock ? c[c.length - 1].anchor.line : c[0].head.line, g = d.visualMode ? b.repeat : 1;
            b.linewise && f--;
            for (var h = e; f >= h; h++)for (var i = 0; g > i; i++)a.indentLine(h, b.indentRight);
            return Rc.moveToFirstNonWhiteSpaceCharacter(a, c[0].anchor)
        }, changeCase: function (a, b, c, d, e) {
            for (var f = a.getSelections(), g = [], h = b.toLower, i = 0; i < f.length; i++) {
                var j = f[i], k = "";
                if (h === !0)k = j.toLowerCase(); else if (h === !1)k = j.toUpperCase(); else for (var l = 0; l < j.length; l++) {
                    var m = j.charAt(l);
                    k += q(m) ? m.toLowerCase() : m.toUpperCase()
                }
                g.push(k)
            }
            return a.replaceSelections(g), b.shouldMoveCursor ? e : !a.state.vim.visualMode && b.linewise && c[0].anchor.line + 1 == c[0].head.line ? Rc.moveToFirstNonWhiteSpaceCharacter(a, d) : b.linewise ? d : T(c[0].anchor, c[0].head)
        }, yank: function (a, b, c, d) {
            var e = a.state.vim, f = a.getSelection(), g = e.visualMode ? T(e.sel.anchor, e.sel.head, c[0].head, c[0].anchor) : d;
            return Nc.registerController.pushText(b.registerName, "yank", f, b.linewise, e.visualBlock), g
        }
    }, Tc = {
        jumpListWalk: function (a, b, c) {
            if (!c.visualMode) {
                var d = b.repeat, e = b.forward, f = Nc.jumpList, g = f.move(a, e ? d : -d), h = g ? g.find() : void 0;
                h = h ? h : a.getCursor(), a.setCursor(h)
            }
        }, scroll: function (a, b, c) {
            if (!c.visualMode) {
                var d = b.repeat || 1, e = a.defaultTextHeight(), f = a.getScrollInfo().top, g = e * d, h = b.forward ? f + g : f - g, i = Q(a.getCursor()), j = a.charCoords(i, "local");
                if (b.forward)h > j.top ? (i.line += (h - j.top) / e, i.line = Math.ceil(i.line), a.setCursor(i), j = a.charCoords(i, "local"), a.scrollTo(null, j.top)) : a.scrollTo(null, h); else {
                    var k = h + a.getScrollInfo().clientHeight;
                    k < j.bottom ? (i.line -= (j.bottom - k) / e, i.line = Math.floor(i.line), a.setCursor(i), j = a.charCoords(i, "local"), a.scrollTo(null, j.bottom - a.getScrollInfo().clientHeight)) : a.scrollTo(null, h)
                }
            }
        }, scrollToCursor: function (a, b) {
            var c = a.getCursor().line, d = a.charCoords(yc(c, 0), "local"), e = a.getScrollInfo().clientHeight, f = d.top, g = d.bottom - f;
            switch (b.position) {
                case"center":
                    f = f - e / 2 + g;
                    break;
                case"bottom":
                    f = f - e + 1.4 * g;
                    break;
                case"top":
                    f += .4 * g
            }
            a.scrollTo(null, f)
        }, replayMacro: function (a, b, c) {
            var d = b.selectedCharacter, e = b.repeat, f = Nc.macroModeState;
            for ("@" == d && (d = f.latestRegister); e--;)Wb(a, c, f, d)
        }, enterMacroRecordMode: function (a, b) {
            var c = Nc.macroModeState, d = b.selectedCharacter;
            c.enterMacroRecordMode(a, d)
        }, enterInsertMode: function (a, b, c) {
            if (!a.getOption("readOnly")) {
                c.insertMode = !0, c.insertModeRepeat = b && b.repeat || 1;
                var d = b ? b.insertAt : null, e = c.sel, f = b.head || a.getCursor("head"), g = a.listSelections().length;
                if ("eol" == d)f = yc(f.line, W(a, f.line)); else if ("charAfter" == d)f = K(f, 0, 1); else if ("firstNonBlank" == d)f = Rc.moveToFirstNonWhiteSpaceCharacter(a, f); else if ("startOfSelectedArea" == d)c.visualBlock ? (f = yc(Math.min(e.head.line, e.anchor.line), Math.min(e.head.ch, e.anchor.ch)), g = Math.abs(e.head.line - e.anchor.line) + 1) : f = e.head.line < e.anchor.line ? e.head : yc(e.anchor.line, 0); else if ("endOfSelectedArea" == d)c.visualBlock ? (f = yc(Math.min(e.head.line, e.anchor.line), Math.max(e.head.ch + 1, e.anchor.ch)), g = Math.abs(e.head.line - e.anchor.line) + 1) : f = e.head.line >= e.anchor.line ? K(e.head, 0, 1) : yc(e.anchor.line, 0); else if ("inplace" == d && c.visualMode)return;
                a.setOption("keyMap", "vim-insert"), a.setOption("disableInput", !1), b && b.replace ? (a.toggleOverwrite(!0), a.setOption("keyMap", "vim-replace"), vc.signal(a, "vim-mode-change", {mode: "replace"})) : (a.setOption("keyMap", "vim-insert"), vc.signal(a, "vim-mode-change", {mode: "insert"})), Nc.macroModeState.isPlaying || (a.on("change", $b), vc.on(a.getInputField(), "keydown", dc)), c.visualMode && hb(a), _(a, f, g)
            }
        }, toggleVisualMode: function (a, b, c) {
            var d, e = b.repeat, f = a.getCursor();
            c.visualMode ? c.visualLine ^ b.linewise || c.visualBlock ^ b.blockwise ? (c.visualLine = !!b.linewise, c.visualBlock = !!b.blockwise, vc.signal(a, "vim-mode-change", {
                mode: "visual",
                subMode: c.visualLine ? "linewise" : c.visualBlock ? "blockwise" : ""
            }), eb(a)) : hb(a) : (c.visualMode = !0, c.visualLine = !!b.linewise, c.visualBlock = !!b.blockwise, d = I(a, yc(f.line, f.ch + e - 1), !0), c.sel = {
                anchor: f,
                head: d
            }, vc.signal(a, "vim-mode-change", {
                mode: "visual",
                subMode: c.visualLine ? "linewise" : c.visualBlock ? "blockwise" : ""
            }), eb(a), tb(a, c, "<", T(f, d)), tb(a, c, ">", U(f, d)))
        }, reselectLastSelection: function (a, b, c) {
            var d = c.lastSelection;
            if (c.visualMode && cb(a, c), d) {
                var e = d.anchorMark.find(), f = d.headMark.find();
                if (!e || !f)return;
                c.sel = {
                    anchor: e,
                    head: f
                }, c.visualMode = !0, c.visualLine = d.visualLine, c.visualBlock = d.visualBlock, eb(a), tb(a, c, "<", T(e, f)), tb(a, c, ">", U(e, f)), vc.signal(a, "vim-mode-change", {
                    mode: "visual",
                    subMode: c.visualLine ? "linewise" : c.visualBlock ? "blockwise" : ""
                })
            }
        }, joinLines: function (a, b, c) {
            var d, e;
            if (c.visualMode) {
                if (d = a.getCursor("anchor"), e = a.getCursor("head"), S(e, d)) {
                    var f = e;
                    e = d, d = f
                }
                e.ch = W(a, e.line) - 1
            } else {
                var g = Math.max(b.repeat, 2);
                d = a.getCursor(), e = I(a, yc(d.line + g - 1, 1 / 0))
            }
            for (var h = 0, i = d.line; i < e.line; i++) {
                h = W(a, d.line);
                var f = yc(d.line + 1, W(a, d.line + 1)), j = a.getRange(d, f);
                j = j.replace(/\n\s*/g, " "), a.replaceRange(j, d, f)
            }
            var k = yc(d.line, h);
            c.visualMode && hb(a, !1), a.setCursor(k)
        }, newLineAndEnterInsertMode: function (a, b, c) {
            c.insertMode = !0;
            var d = Q(a.getCursor());
            if (d.line !== a.firstLine() || b.after) {
                d.line = b.after ? d.line : d.line - 1, d.ch = W(a, d.line), a.setCursor(d);
                var e = vc.commands.newlineAndIndentContinueComment || vc.commands.newlineAndIndent;
                e(a)
            } else a.replaceRange("\n", yc(a.firstLine(), 0)), a.setCursor(a.firstLine(), 0);
            this.enterInsertMode(a, {repeat: b.repeat}, c)
        }, paste: function (a, b, c) {
            var d = Q(a.getCursor()), e = Nc.registerController.getRegister(b.registerName), f = e.toString();
            if (f) {
                if (b.matchIndent) {
                    var g = a.getOption("tabSize"), h = function (a) {
                        var b = a.split("	").length - 1, c = a.split(" ").length - 1;
                        return b * g + 1 * c
                    }, i = a.getLine(a.getCursor().line), j = h(i.match(/^\s*/)[0]), k = f.replace(/\n$/, ""), l = f !== k, m = h(f.match(/^\s*/)[0]), f = k.replace(/^\s*/gm, function (b) {
                        var c = j + (h(b) - m);
                        if (0 > c)return "";
                        if (a.getOption("indentWithTabs")) {
                            var d = Math.floor(c / g);
                            return Array(d + 1).join("	")
                        }
                        return Array(c + 1).join(" ")
                    });
                    f += l ? "\n" : ""
                }
                if (b.repeat > 1)var f = Array(b.repeat + 1).join(f);
                var n = e.linewise, o = e.blockwise;
                if (n)c.visualMode ? f = c.visualLine ? f.slice(0, -1) : "\n" + f.slice(0, f.length - 1) + "\n" : b.after ? (f = "\n" + f.slice(0, f.length - 1), d.ch = W(a, d.line)) : d.ch = 0; else {
                    if (o) {
                        f = f.split("\n");
                        for (var p = 0; p < f.length; p++)f[p] = "" == f[p] ? " " : f[p]
                    }
                    d.ch += b.after ? 1 : 0
                }
                var q, r;
                if (c.visualMode) {
                    c.lastPastedText = f;
                    var s, t = bb(a, c), u = t[0], v = t[1], w = a.getSelection(), x = a.listSelections(), y = new Array(x.length).join("1").split("1");
                    c.lastSelection && (s = c.lastSelection.headMark.find()), Nc.registerController.unnamedRegister.setText(w), o ? (a.replaceSelections(y), v = yc(u.line + f.length - 1, u.ch), a.setCursor(u), $(a, v), a.replaceSelections(f), q = u) : c.visualBlock ? (a.replaceSelections(y), a.setCursor(u), a.replaceRange(f, u, u), q = u) : (a.replaceRange(f, u, v), q = a.posFromIndex(a.indexFromPos(u) + f.length - 1)), s && (c.lastSelection.headMark = a.setBookmark(s)), n && (q.ch = 0)
                } else if (o) {
                    a.setCursor(d);
                    for (var p = 0; p < f.length; p++) {
                        var z = d.line + p;
                        z > a.lastLine() && a.replaceRange("\n", yc(z, 0));
                        var A = W(a, z);
                        A < d.ch && Z(a, z, d.ch)
                    }
                    a.setCursor(d), $(a, yc(d.line + f.length - 1, d.ch)), a.replaceSelections(f), q = d
                } else a.replaceRange(f, d), n && b.after ? q = yc(d.line + 1, kb(a.getLine(d.line + 1))) : n && !b.after ? q = yc(d.line, kb(a.getLine(d.line))) : !n && b.after ? (r = a.indexFromPos(d), q = a.posFromIndex(r + f.length - 1)) : (r = a.indexFromPos(d), q = a.posFromIndex(r + f.length));
                c.visualMode && hb(a, !1), a.setCursor(q)
            }
        }, undo: function (a, b) {
            a.operation(function () {
                P(a, vc.commands.undo, b.repeat)(), a.setCursor(a.getCursor("anchor"))
            })
        }, redo: function (a, b) {
            P(a, vc.commands.redo, b.repeat)()
        }, setRegister: function (a, b, c) {
            c.inputState.registerName = b.selectedCharacter
        }, setMark: function (a, b, c) {
            var d = b.selectedCharacter;
            tb(a, c, d, a.getCursor())
        }, replace: function (a, b, c) {
            var d, e, f = b.selectedCharacter, g = a.getCursor(), h = a.listSelections();
            if (c.visualMode)g = a.getCursor("start"), e = a.getCursor("end"); else {
                var i = a.getLine(g.line);
                d = g.ch + b.repeat, d > i.length && (d = i.length), e = yc(g.line, d)
            }
            if ("\n" == f)c.visualMode || a.replaceRange("", g, e), (vc.commands.newlineAndIndentContinueComment || vc.commands.newlineAndIndent)(a); else {
                var j = a.getRange(g, e);
                if (j = j.replace(/[^\n]/g, f), c.visualBlock) {
                    var k = new Array(a.getOption("tabSize") + 1).join(" ");
                    j = a.getSelection(), j = j.replace(/\t/g, k).replace(/[^\n]/g, f).split("\n"), a.replaceSelections(j)
                } else a.replaceRange(j, g, e);
                c.visualMode ? (g = S(h[0].anchor, h[0].head) ? h[0].anchor : h[0].head, a.setCursor(g), hb(a, !1)) : a.setCursor(K(e, 0, -1))
            }
        }, incrementNumberToken: function (a, b) {
            for (var c, d, e, f, g, h = a.getCursor(), i = a.getLine(h.line), j = /-?\d+/g; null !== (c = j.exec(i)) && (g = c[0], d = c.index, e = d + g.length, !(h.ch < e)););
            if ((b.backtrack || !(e <= h.ch)) && g) {
                var k = b.increase ? 1 : -1, l = parseInt(g) + k * b.repeat, m = yc(h.line, d), n = yc(h.line, e);
                f = l.toString(), a.replaceRange(f, m, n), a.setCursor(yc(h.line, d + f.length - 1))
            }
        }, repeatLastEdit: function (a, b, c) {
            var d = c.lastEditInputState;
            if (d) {
                var e = b.repeat;
                e && b.repeatIsExplicit ? c.lastEditInputState.repeatOverride = e : e = c.lastEditInputState.repeatOverride || e, ec(a, c, e, !1)
            }
        }, exitInsertMode: Tb
    }, Uc = {
        "(": "bracket",
        ")": "bracket",
        "{": "bracket",
        "}": "bracket",
        "[": "section",
        "]": "section",
        "*": "comment",
        "/": "comment",
        m: "method",
        M: "method",
        "#": "preprocess"
    }, Vc = {
        bracket: {
            isComplete: function (a) {
                if (a.nextCh === a.symb) {
                    if (a.depth++, a.depth >= 1)return !0
                } else a.nextCh === a.reverseSymb && a.depth--;
                return !1
            }
        }, section: {
            init: function (a) {
                a.curMoveThrough = !0, a.symb = (a.forward ? "]" : "[") === a.symb ? "{" : "}"
            }, isComplete: function (a) {
                return 0 === a.index && a.nextCh === a.symb
            }
        }, comment: {
            isComplete: function (a) {
                var b = "*" === a.lastCh && "/" === a.nextCh;
                return a.lastCh = a.nextCh, b
            }
        }, method: {
            init: function (a) {
                a.symb = "m" === a.symb ? "{" : "}", a.reverseSymb = "{" === a.symb ? "}" : "{"
            }, isComplete: function (a) {
                return a.nextCh === a.symb ? !0 : !1
            }
        }, preprocess: {
            init: function (a) {
                a.index = 0
            }, isComplete: function (a) {
                if ("#" === a.nextCh) {
                    var b = a.lineText.match(/#(\w+)/)[1];
                    if ("endif" === b) {
                        if (a.forward && 0 === a.depth)return !0;
                        a.depth++
                    } else if ("if" === b) {
                        if (!a.forward && 0 === a.depth)return !0;
                        a.depth--
                    }
                    if ("else" === b && 0 === a.depth)return !0
                }
                return !1
            }
        }
    };
    t("pcre", !0, "boolean"), yb.prototype = {
        getQuery: function () {
            return Nc.query
        }, setQuery: function (a) {
            Nc.query = a
        }, getOverlay: function () {
            return this.searchOverlay
        }, setOverlay: function (a) {
            this.searchOverlay = a
        }, isReversed: function () {
            return Nc.isReversed
        }, setReversed: function (a) {
            Nc.isReversed = a
        }, getScrollbarAnnotate: function () {
            return this.annotate
        }, setScrollbarAnnotate: function (a) {
            this.annotate = a
        }
    };
    var Wc = "(Javascript regexp)", Xc = [{name: "map"}, {name: "imap", shortName: "im"}, {
        name: "nmap",
        shortName: "nm"
    }, {name: "vmap", shortName: "vm"}, {name: "unmap"}, {name: "write", shortName: "w"}, {
        name: "undo",
        shortName: "u"
    }, {name: "redo", shortName: "red"}, {name: "set", shortName: "set"}, {
        name: "sort",
        shortName: "sor"
    }, {name: "substitute", shortName: "s", possiblyAsync: !0}, {
        name: "nohlsearch",
        shortName: "noh"
    }, {name: "delmarks", shortName: "delm"}, {
        name: "registers",
        shortName: "reg",
        excludeFromCommandHistory: !0
    }, {name: "global", shortName: "g"}], Yc = function () {
        this.buildCommandMap_()
    };
    Yc.prototype = {
        processCommand: function (a, b, c) {
            var d = a.state.vim, e = Nc.registerController.getRegister(":"), f = e.toString();
            d.visualMode && hb(a);
            var g = new vc.StringStream(b);
            e.setText(b);
            var h = c || {};
            h.input = b;
            try {
                this.parseInput_(a, g, h)
            } catch (i) {
                throw Hb(a, i), i
            }
            var j, k;
            if (h.commandName) {
                if (j = this.matchCommand_(h.commandName)) {
                    if (k = j.name, j.excludeFromCommandHistory && e.setText(f), this.parseCommandArgs_(g, h, j), "exToKey" == j.type) {
                        for (var l = 0; l < j.toKeys.length; l++)vc.Vim.handleKey(a, j.toKeys[l], "mapping");
                        return
                    }
                    if ("exToEx" == j.type)return void this.processCommand(a, j.toInput)
                }
            } else void 0 !== h.line && (k = "move");
            if (!k)return void Hb(a, 'Not an editor command ":' + b + '"');
            try {
                Zc[k](a, h), j && j.possiblyAsync || !h.callback || h.callback()
            } catch (i) {
                throw Hb(a, i), i
            }
        }, parseInput_: function (a, b, c) {
            b.eatWhile(":"), b.eat("%") ? (c.line = a.firstLine(), c.lineEnd = a.lastLine()) : (c.line = this.parseLineSpec_(a, b), void 0 !== c.line && b.eat(",") && (c.lineEnd = this.parseLineSpec_(a, b)));
            var d = b.match(/^(\w+)/);
            return c.commandName = d ? d[1] : b.match(/.*/)[0], c
        }, parseLineSpec_: function (a, b) {
            var c = b.match(/^(\d+)/);
            if (c)return parseInt(c[1], 10) - 1;
            switch (b.next()) {
                case".":
                    return a.getCursor().line;
                case"$":
                    return a.lastLine();
                case"'":
                    var d = a.state.vim.marks[b.next()];
                    if (d && d.find())return d.find().line;
                    throw new Error("Mark not set");
                default:
                    return void b.backUp(1)
            }
        }, parseCommandArgs_: function (a, b, c) {
            if (!a.eol()) {
                b.argString = a.match(/.*/)[0];
                var d = c.argDelimiter || /\s+/, e = X(b.argString).split(d);
                e.length && e[0] && (b.args = e)
            }
        }, matchCommand_: function (a) {
            for (var b = a.length; b > 0; b--) {
                var c = a.substring(0, b);
                if (this.commandMap_[c]) {
                    var d = this.commandMap_[c];
                    if (0 === d.name.indexOf(a))return d
                }
            }
            return null
        }, buildCommandMap_: function () {
            this.commandMap_ = {};
            for (var a = 0; a < Xc.length; a++) {
                var b = Xc[a], c = b.shortName || b.name;
                this.commandMap_[c] = b
            }
        }, map: function (a, b, c) {
            if (":" != a && ":" == a.charAt(0)) {
                if (c)throw Error("Mode not supported for ex mappings");
                var d = a.substring(1);
                this.commandMap_[d] = ":" != b && ":" == b.charAt(0) ? {
                    name: d,
                    type: "exToEx",
                    toInput: b.substring(1),
                    user: !0
                } : {name: d, type: "exToKey", toKeys: b, user: !0}
            } else if (":" != b && ":" == b.charAt(0)) {
                var e = {keys: a, type: "keyToEx", exArgs: {input: b.substring(1)}, user: !0};
                c && (e.context = c), xc.unshift(e)
            } else {
                var e = {keys: a, type: "keyToKey", toKeys: b, user: !0};
                c && (e.context = c), xc.unshift(e)
            }
        }, unmap: function (a, b) {
            if (":" != a && ":" == a.charAt(0)) {
                if (b)throw Error("Mode not supported for ex mappings");
                var c = a.substring(1);
                if (this.commandMap_[c] && this.commandMap_[c].user)return void delete this.commandMap_[c]
            } else for (var d = a, e = 0; e < xc.length; e++)if (d == xc[e].keys && xc[e].context === b && xc[e].user)return void xc.splice(e, 1);
            throw Error("No such mapping.")
        }
    };
    var Zc = {
        map: function (a, b, c) {
            var d = b.args;
            return !d || d.length < 2 ? void(a && Hb(a, "Invalid mapping: " + b.input)) : void $c.map(d[0], d[1], c)
        }, imap: function (a, b) {
            this.map(a, b, "insert")
        }, nmap: function (a, b) {
            this.map(a, b, "normal")
        }, vmap: function (a, b) {
            this.map(a, b, "visual")
        }, unmap: function (a, b, c) {
            var d = b.args;
            return !d || d.length < 1 ? void(a && Hb(a, "No such mapping: " + b.input)) : void $c.unmap(d[0], c)
        }, move: function (a, b) {
            Qc.processCommand(a, a.state.vim, {
                type: "motion",
                motion: "moveToLineOrEdgeOfDocument",
                motionArgs: {forward: !1, explicitRepeat: !0, linewise: !0},
                repeatOverride: b.line + 1
            })
        }, set: function (a, b) {
            var c = b.args;
            if (!c || c.length < 1)return void(a && Hb(a, "Invalid mapping: " + b.input));
            var d = c[0].split("="), e = d[0], f = d[1], g = !1;
            if ("?" == e.charAt(e.length - 1)) {
                if (f)throw Error("Trailing characters: " + b.argString);
                e = e.substring(0, e.length - 1), g = !0
            }
            void 0 === f && "no" == e.substring(0, 2) && (e = e.substring(2), f = !1);
            var h = Kc[e] && "boolean" == Kc[e].type;
            if (h && void 0 == f && (f = !0), !h && !f || g) {
                var i = v(e);
                i === !0 || i === !1 ? Hb(a, " " + (i ? "" : "no") + e) : Hb(a, "  " + e + "=" + i)
            } else u(e, f, a)
        }, registers: function (a, b) {
            var c = b.args, d = Nc.registerController.registers, e = "----------Registers----------<br><br>";
            if (c) {
                var f;
                c = c.join("");
                for (var g = 0; g < c.length; g++)if (f = c.charAt(g), Nc.registerController.isValidRegister(f)) {
                    var h = d[f] || new B;
                    e += '"' + f + "    " + h.toString() + "<br>"
                }
            } else for (var f in d) {
                var i = d[f].toString();
                i.length && (e += '"' + f + "    " + i + "<br>")
            }
            Hb(a, e)
        }, sort: function (a, b) {
            function c() {
                if (b.argString) {
                    var a = new vc.StringStream(b.argString);
                    if (a.eat("!") && (e = !0), a.eol())return;
                    if (!a.eatSpace())return "Invalid arguments";
                    var c = a.match(/[a-z]+/);
                    if (c) {
                        c = c[0], f = -1 != c.indexOf("i"), g = -1 != c.indexOf("u");
                        var d = -1 != c.indexOf("d") && 1, i = -1 != c.indexOf("x") && 1, j = -1 != c.indexOf("o") && 1;
                        if (d + i + j > 1)return "Invalid arguments";
                        h = d && "decimal" || i && "hex" || j && "octal"
                    }
                    a.eatSpace() && a.match(/\/.*\//)
                }
            }

            function d(a, b) {
                if (e) {
                    var c;
                    c = a, a = b, b = c
                }
                f && (a = a.toLowerCase(), b = b.toLowerCase());
                var d = h && o.exec(a), g = h && o.exec(b);
                return d ? (d = parseInt((d[1] + d[2]).toLowerCase(), p), g = parseInt((g[1] + g[2]).toLowerCase(), p), d - g) : b > a ? -1 : 1
            }

            var e, f, g, h, i = c();
            if (i)return void Hb(a, i + ": " + b.argString);
            var j = b.line || a.firstLine(), k = b.lineEnd || b.line || a.lastLine();
            if (j != k) {
                var l = yc(j, 0), m = yc(k, W(a, k)), n = a.getRange(l, m).split("\n"), o = "decimal" == h ? /(-?)([\d]+)/ : "hex" == h ? /(-?)(?:0x)?([0-9a-f]+)/i : "octal" == h ? /([0-7]+)/ : null, p = "decimal" == h ? 10 : "hex" == h ? 16 : "octal" == h ? 8 : null, q = [], r = [];
                if (h)for (var s = 0; s < n.length; s++)o.exec(n[s]) ? q.push(n[s]) : r.push(n[s]); else r = n;
                if (q.sort(d), r.sort(d), n = e ? q.concat(r) : r.concat(q), g) {
                    var t, u = n;
                    n = [];
                    for (var s = 0; s < u.length; s++)u[s] != t && n.push(u[s]), t = u[s]
                }
                a.replaceRange(n.join("\n"), l, m)
            }
        }, global: function (a, b) {
            var c = b.argString;
            if (!c)return void Hb(a, "Regular Expression missing from global");
            var d, e = void 0 !== b.line ? b.line : a.firstLine(), f = b.lineEnd || b.line || a.lastLine(), g = Bb(c), h = c;
            if (g.length && (h = g[0], d = g.slice(1, g.length).join("/")), h)try {
                Lb(a, h, !0, !0)
            } catch (i) {
                return void Hb(a, "Invalid regex: " + h)
            }
            for (var j = zb(a).getQuery(), k = [], l = "", m = e; f >= m; m++) {
                var n = j.test(a.getLine(m));
                n && (k.push(m + 1), l += a.getLine(m) + "<br>")
            }
            if (!d)return void Hb(a, l);
            var o = 0, p = function () {
                if (o < k.length) {
                    var b = k[o] + d;
                    $c.processCommand(a, b, {callback: p})
                }
                o++
            };
            p()
        }, substitute: function (a, b) {
            if (!a.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");
            var c, d, e, f, g = b.argString, h = g ? Bb(g) : [], i = "", j = !1, k = !1;
            if (h.length)c = h[0], i = h[1], void 0 !== i && (i = v("pcre") ? Fb(i) : Eb(i), Nc.lastSubstituteReplacePart = i), d = h[2] ? h[2].split(" ") : []; else if (g && g.length)return void Hb(a, "Substitutions should be of the form :s/pattern/replace/");
            if (d && (e = d[0], f = parseInt(d[1]), e && (-1 != e.indexOf("c") && (j = !0, e.replace("c", "")), -1 != e.indexOf("g") && (k = !0, e.replace("g", "")), c = c + "/" + e)), c)try {
                Lb(a, c, !0, !0)
            } catch (l) {
                return void Hb(a, "Invalid regex: " + c)
            }
            if (i = i || Nc.lastSubstituteReplacePart, void 0 === i)return void Hb(a, "No previous substitute regular expression");
            var m = zb(a), n = m.getQuery(), o = void 0 !== b.line ? b.line : a.getCursor().line, p = b.lineEnd || o;
            f && (o = p, p = o + f - 1);
            var q = I(a, yc(o, 0)), r = a.getSearchCursor(n, q);
            Sb(a, j, k, o, p, r, n, i, b.callback)
        }, redo: vc.commands.redo, undo: vc.commands.undo, write: function (a) {
            vc.commands.save ? vc.commands.save(a) : a.save()
        }, nohlsearch: function (a) {
            Pb(a)
        }, delmarks: function (a, b) {
            if (!b.argString || !X(b.argString))return void Hb(a, "Argument required");
            for (var c = a.state.vim, d = new vc.StringStream(X(b.argString)); !d.eol();) {
                d.eatSpace();
                var e = d.pos;
                if (!d.match(/[a-zA-Z]/, !1))return void Hb(a, "Invalid argument: " + b.argString.substring(e));
                var f = d.next();
                if (d.match("-", !0)) {
                    if (!d.match(/[a-zA-Z]/, !1))return void Hb(a, "Invalid argument: " + b.argString.substring(e));
                    var g = f, h = d.next();
                    if (!(n(g) && n(h) || q(g) && q(h)))return void Hb(a, "Invalid argument: " + g + "-");
                    var i = g.charCodeAt(0), j = h.charCodeAt(0);
                    if (i >= j)return void Hb(a, "Invalid argument: " + b.argString.substring(e));
                    for (var k = 0; j - i >= k; k++) {
                        var l = String.fromCharCode(i + k);
                        delete c.marks[l]
                    }
                } else delete c.marks[f]
            }
        }
    }, $c = new Yc;
    vc.keyMap.vim = {
        attach: h,
        detach: g,
        call: i
    }, t("insertModeEscKeysTimeout", 200, "number"), vc.keyMap["vim-insert"] = {
        "Ctrl-N": "autocomplete",
        "Ctrl-P": "autocomplete",
        Enter: function (a) {
            var b = vc.commands.newlineAndIndentContinueComment || vc.commands.newlineAndIndent;
            b(a)
        },
        fallthrough: ["default"],
        attach: h,
        detach: g,
        call: i
    }, vc.keyMap["vim-replace"] = {
        Backspace: "goCharLeft",
        fallthrough: ["vim-insert"],
        attach: h,
        detach: g,
        call: i
    }, y(), vc.Vim = zc(), zc = vc.Vim;
    var _c = {
        "return": "CR",
        backspace: "BS",
        "delete": "Del",
        esc: "Esc",
        left: "Left",
        right: "Right",
        up: "Up",
        down: "Down",
        space: "Space",
        home: "Home",
        end: "End",
        pageup: "PageUp",
        pagedown: "PageDown",
        enter: "CR"
    }, ad = zc.handleKey.bind(zc);
    zc.handleKey = function (a, b, c) {
        return a.operation(function () {
            return ad(a, b, c)
        }, !0)
    }, b.CodeMirror = vc;
    var bd = zc.maybeInitVimState_;
    b.handler = {
        $id: "ace/keyboard/vim", drawCursor: function (a, b, c, d, e) {
            var f = this.state.vim || {}, g = c.characterWidth, h = c.lineHeight, i = b.top, j = b.left;
            if (!f.insertMode) {
                var k = d.cursor ? kc.comparePoints(d.cursor, d.start) <= 0 : e.selection.isBackwards() || e.selection.isEmpty();
                !k && j > g && (j -= g)
            }
            !f.insertMode && f.status && (h /= 2, i += h), a.left = j + "px", a.top = i + "px", a.width = g + "px", a.height = h + "px"
        }, handleKeyboard: function (a, b, c, d, e) {
            var f = a.editor, g = f.state.cm, h = bd(g);
            if (-1 != d) {
                if ("c" == c && 1 == b) {
                    if (!rc.isMac && f.getCopyText())return f.once("copy", function () {
                        f.selection.clearSelection()
                    }), {command: "null", passEvent: !0}
                } else h.insertMode || rc.isMac && this.handleMacRepeat(a, b, c) && (b = -1, c = a.inputChar);
                if (-1 == b || 1 & b || 0 === b && c.length > 1) {
                    var i = h.insertMode, j = gc(b, c, e || {});
                    null == h.status && (h.status = "");
                    var k = ic(g, j, "user");
                    if (h = bd(g), k && null != h.status ? h.status += j : null == h.status && (h.status = ""), g._signal("changeStatus"), !k && (-1 != b || i))return;
                    return {command: "null", passEvent: !k}
                }
            }
        }, attach: function (a) {
            a.state || (a.state = {});
            var b = new vc(a);
            a.state.cm = b, a.$vimModeHandler = this, vc.keyMap.vim.attach(b), bd(b).status = null, b.on("vim-command-done", function () {
                b.virtualSelectionMode() || (bd(b).status = null, b.ace._signal("changeStatus"), b.ace.session.markUndoGroup())
            }), b.on("changeStatus", function () {
                b.ace.renderer.updateCursor(), b.ace._signal("changeStatus")
            }), b.on("vim-mode-change", function () {
                b.virtualSelectionMode() || (b.ace.renderer.setStyle("normal-mode", !bd(b).insertMode), b._signal("changeStatus"))
            }), b.ace.renderer.setStyle("normal-mode", !bd(b).insertMode), a.renderer.$cursorLayer.drawCursor = this.drawCursor.bind(b), this.updateMacCompositionHandlers(a, !0)
        }, detach: function (a) {
            var b = a.state.cm;
            vc.keyMap.vim.detach(b), b.destroy(), a.state.cm = null, a.$vimModeHandler = null, a.renderer.$cursorLayer.drawCursor = null, a.renderer.setStyle("normal-mode", !1), this.updateMacCompositionHandlers(a, !1)
        }, getStatusText: function (a) {
            var b = a.state.cm, c = bd(b);
            if (c.insertMode)return "INSERT";
            var d = "";
            return c.visualMode && (d += "VISUAL", c.visualLine && (d += " LINE"), c.visualBlock && (d += " BLOCK")), c.status && (d += (d ? " " : "") + c.status), d
        }, handleMacRepeat: function (a, b, c) {
            if (-1 == b)a.inputChar = c, a.lastEvent = "input"; else if (a.inputChar && a.$lastHash == b && a.$lastKey == c) {
                if ("input" == a.lastEvent)a.lastEvent = "input1"; else if ("input1" == a.lastEvent)return !0
            } else a.$lastHash = b, a.$lastKey = c, a.lastEvent = "keypress"
        }, updateMacCompositionHandlers: function (a, b) {
            var c = function (b) {
                var c = a.state.cm, d = bd(c);
                if (d.insertMode)this.onCompositionUpdateOrig(b); else {
                    var e = this.textInput.getElement();
                    e.blur(), e.focus(), e.value = b
                }
            }, d = function (b) {
                var c = a.state.cm, d = bd(c);
                d.insertMode || this.onCompositionStartOrig(b)
            };
            b ? a.onCompositionUpdateOrig || (a.onCompositionUpdateOrig = a.onCompositionUpdate, a.onCompositionUpdate = c, a.onCompositionStartOrig = a.onCompositionStart, a.onCompositionStart = d) : a.onCompositionUpdateOrig && (a.onCompositionUpdate = a.onCompositionUpdateOrig, a.onCompositionUpdateOrig = null, a.onCompositionStart = a.onCompositionStartOrig, a.onCompositionStartOrig = null)
        }
    };
    zc.defineOption({
        name: "wrap", set: function (a, b) {
            b && b.ace.setOption("wrap", a)
        }, type: "boolean"
    }, !1), zc.defineEx("write", "w", function () {
        console.log(":write is not implemented")
    }), xc.push({keys: "zc", type: "action", action: "fold", actionArgs: {open: !1}}, {
        keys: "zC",
        type: "action",
        action: "fold",
        actionArgs: {open: !1, all: !0}
    }, {keys: "zo", type: "action", action: "fold", actionArgs: {open: !0}}, {
        keys: "zO",
        type: "action",
        action: "fold",
        actionArgs: {open: !0, all: !0}
    }, {keys: "za", type: "action", action: "fold", actionArgs: {toggle: !0}}, {
        keys: "zA",
        type: "action",
        action: "fold",
        actionArgs: {toggle: !0, all: !0}
    }, {keys: "zf", type: "action", action: "fold", actionArgs: {open: !0, all: !0}}, {
        keys: "zd",
        type: "action",
        action: "fold",
        actionArgs: {open: !0, all: !0}
    }, {keys: "<C-A-k>", type: "action", action: "aceCommand", actionArgs: {name: "addCursorAbove"}}, {
        keys: "<C-A-j>",
        type: "action",
        action: "aceCommand",
        actionArgs: {name: "addCursorBelow"}
    }, {
        keys: "<C-A-S-k>",
        type: "action",
        action: "aceCommand",
        actionArgs: {name: "addCursorAboveSkipCurrent"}
    }, {
        keys: "<C-A-S-j>",
        type: "action",
        action: "aceCommand",
        actionArgs: {name: "addCursorBelowSkipCurrent"}
    }, {
        keys: "<C-A-h>",
        type: "action",
        action: "aceCommand",
        actionArgs: {name: "selectMoreBefore"}
    }, {
        keys: "<C-A-l>",
        type: "action",
        action: "aceCommand",
        actionArgs: {name: "selectMoreAfter"}
    }, {
        keys: "<C-A-S-h>",
        type: "action",
        action: "aceCommand",
        actionArgs: {name: "selectNextBefore"}
    }, {
        keys: "<C-A-S-l>",
        type: "action",
        action: "aceCommand",
        actionArgs: {name: "selectNextAfter"}
    }), Tc.aceCommand = function (a, b) {
        a.vimCmd = b, a.ace.inVirtualSelectionMode ? a.ace.on("beforeEndOperation", jc) : jc(null, a.ace)
    }, Tc.fold = function (a, b) {
        a.ace.execCommand(["toggleFoldWidget", "toggleFoldWidget", "foldOther", "unfoldall"][(b.all ? 2 : 0) + (b.open ? 1 : 0)])
    }, b.handler.defaultKeymap = xc, b.handler.actions = Tc, b.Vim = zc, zc.map("Y", "yy")
}), define("ace/occur", ["require", "exports", "module", "ace/lib/oop", "ace/range", "ace/search", "ace/edit_session", "ace/search_highlight", "ace/lib/dom"], function (a, b) {
    "use strict";
    function c() {
    }

    var d = a("./lib/oop"), e = (a("./range").Range, a("./search").Search), f = a("./edit_session").EditSession, g = a("./search_highlight").SearchHighlight;
    d.inherits(c, e), function () {
        this.enter = function (a, b) {
            if (!b.needle)return !1;
            var c = a.getCursorPosition();
            this.displayOccurContent(a, b);
            var d = this.originalToOccurPosition(a.session, c);
            return a.moveCursorToPosition(d), !0
        }, this.exit = function (a, b) {
            var c = b.translatePosition && a.getCursorPosition(), d = c && this.occurToOriginalPosition(a.session, c);
            return this.displayOriginalContent(a), d && a.moveCursorToPosition(d), !0
        }, this.highlight = function (a, b) {
            var c = a.$occurHighlight = a.$occurHighlight || a.addDynamicMarker(new g(null, "ace_occur-highlight", "text"));
            c.setRegexp(b), a._emit("changeBackMarker")
        }, this.displayOccurContent = function (a, b) {
            this.$originalSession = a.session;
            var c = this.matchingLines(a.session, b), d = c.map(function (a) {
                return a.content
            }), e = new f(d.join("\n"));
            e.$occur = this, e.$occurMatchingLines = c, a.setSession(e), this.$useEmacsStyleLineStart = this.$originalSession.$useEmacsStyleLineStart, e.$useEmacsStyleLineStart = this.$useEmacsStyleLineStart, this.highlight(e, b.re), e._emit("changeBackMarker")
        }, this.displayOriginalContent = function (a) {
            a.setSession(this.$originalSession), this.$originalSession.$useEmacsStyleLineStart = this.$useEmacsStyleLineStart
        }, this.originalToOccurPosition = function (a, b) {
            var c = a.$occurMatchingLines, d = {row: 0, column: 0};
            if (!c)return d;
            for (var e = 0; e < c.length; e++)if (c[e].row === b.row)return {row: e, column: b.column};
            return d
        }, this.occurToOriginalPosition = function (a, b) {
            var c = a.$occurMatchingLines;
            return c && c[b.row] ? {row: c[b.row].row, column: b.column} : b
        }, this.matchingLines = function (a, b) {
            if (b = d.mixin({}, b), !a || !b.needle)return [];
            var c = new e;
            return c.set(b), c.findAll(a).reduce(function (b, c) {
                var d = c.start.row, e = b[b.length - 1];
                return e && e.row === d ? b : b.concat({row: d, content: a.getLine(d)})
            }, [])
        }
    }.call(c.prototype);
    var h = a("./lib/dom");
    h.importCssString(".ace_occur-highlight {\n    border-radius: 4px;\n    background-color: rgba(87, 255, 8, 0.25);\n    position: absolute;\n    z-index: 4;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n    box-shadow: 0 0 4px rgb(91, 255, 50);\n}\n.ace_dark .ace_occur-highlight {\n    background-color: rgb(80, 140, 85);\n    box-shadow: 0 0 4px rgb(60, 120, 70);\n}\n", "incremental-occur-highlighting"), b.Occur = c
}), define("ace/commands/occur_commands", ["require", "exports", "module", "ace/config", "ace/occur", "ace/keyboard/hash_handler", "ace/lib/oop"], function (a, b) {
    function c() {
    }

    var d = (a("../config"), a("../occur").Occur), e = {
        name: "occur", exec: function (a, b) {
            var e = !!a.session.$occur, f = (new d).enter(a, b);
            f && !e && c.installIn(a)
        }, readOnly: !0
    }, f = [{
        name: "occurexit", bindKey: "esc|Ctrl-G", exec: function (a) {
            var b = a.session.$occur;
            b && (b.exit(a, {}), a.session.$occur || c.uninstallFrom(a))
        }, readOnly: !0
    }, {
        name: "occuraccept", bindKey: "enter", exec: function (a) {
            var b = a.session.$occur;
            b && (b.exit(a, {translatePosition: !0}), a.session.$occur || c.uninstallFrom(a))
        }, readOnly: !0
    }], g = a("../keyboard/hash_handler").HashHandler, h = a("../lib/oop");
    h.inherits(c, g), function () {
        this.isOccurHandler = !0, this.attach = function (a) {
            g.call(this, f, a.commands.platform), this.$editor = a
        };
        var a = this.handleKeyboard;
        this.handleKeyboard = function (b, c, d, e) {
            var f = a.call(this, b, c, d, e);
            return f && f.command ? f : void 0
        }
    }.call(c.prototype), c.installIn = function (a) {
        var b = new this;
        a.keyBinding.addKeyboardHandler(b), a.commands.addCommands(f)
    }, c.uninstallFrom = function (a) {
        a.commands.removeCommands(f);
        var b = a.getKeyboardHandler();
        b.isOccurHandler && a.keyBinding.removeKeyboardHandler(b)
    }, b.occurStartCommand = e
}),define("ace/commands/incremental_search_commands", ["require", "exports", "module", "ace/config", "ace/lib/oop", "ace/keyboard/hash_handler", "ace/commands/occur_commands"], function (a, b) {
    function c(a) {
        this.$iSearch = a
    }

    var d = a("../config"), e = a("../lib/oop"), f = a("../keyboard/hash_handler").HashHandler, g = a("./occur_commands").occurStartCommand;
    b.iSearchStartCommands = [{
        name: "iSearch", bindKey: {win: "Ctrl-F", mac: "Command-F"}, exec: function (a, b) {
            d.loadModule(["core", "ace/incremental_search"], function (c) {
                var d = c.iSearch = c.iSearch || new c.IncrementalSearch;
                d.activate(a, b.backwards), b.jumpToFirstMatch && d.next(b)
            })
        }, readOnly: !0
    }, {
        name: "iSearchBackwards", exec: function (a) {
            a.execCommand("iSearch", {backwards: !0})
        }, readOnly: !0
    }, {
        name: "iSearchAndGo", bindKey: {win: "Ctrl-K", mac: "Command-G"}, exec: function (a) {
            a.execCommand("iSearch", {jumpToFirstMatch: !0, useCurrentOrPrevSearch: !0})
        }, readOnly: !0
    }, {
        name: "iSearchBackwardsAndGo", bindKey: {win: "Ctrl-Shift-K", mac: "Command-Shift-G"}, exec: function (a) {
            a.execCommand("iSearch", {jumpToFirstMatch: !0, backwards: !0, useCurrentOrPrevSearch: !0})
        }, readOnly: !0
    }], b.iSearchCommands = [{
        name: "restartSearch", bindKey: {win: "Ctrl-F", mac: "Command-F"}, exec: function (a) {
            a.cancelSearch(!0)
        }, readOnly: !0, isIncrementalSearchCommand: !0
    }, {
        name: "searchForward", bindKey: {win: "Ctrl-S|Ctrl-K", mac: "Ctrl-S|Command-G"}, exec: function (a, b) {
            b.useCurrentOrPrevSearch = !0, a.next(b)
        }, readOnly: !0, isIncrementalSearchCommand: !0
    }, {
        name: "searchBackward",
        bindKey: {win: "Ctrl-R|Ctrl-Shift-K", mac: "Ctrl-R|Command-Shift-G"},
        exec: function (a, b) {
            b.useCurrentOrPrevSearch = !0, b.backwards = !0, a.next(b)
        },
        readOnly: !0,
        isIncrementalSearchCommand: !0
    }, {
        name: "extendSearchTerm", exec: function (a, b) {
            a.addString(b)
        }, readOnly: !0, isIncrementalSearchCommand: !0
    }, {
        name: "extendSearchTermSpace", bindKey: "space", exec: function (a) {
            a.addString(" ")
        }, readOnly: !0, isIncrementalSearchCommand: !0
    }, {
        name: "shrinkSearchTerm", bindKey: "backspace", exec: function (a) {
            a.removeChar()
        }, readOnly: !0, isIncrementalSearchCommand: !0
    }, {
        name: "confirmSearch", bindKey: "return", exec: function (a) {
            a.deactivate()
        }, readOnly: !0, isIncrementalSearchCommand: !0
    }, {
        name: "cancelSearch", bindKey: "esc|Ctrl-G", exec: function (a) {
            a.deactivate(!0)
        }, readOnly: !0, isIncrementalSearchCommand: !0
    }, {
        name: "occurisearch", bindKey: "Ctrl-O", exec: function (a) {
            var b = e.mixin({}, a.$options);
            a.deactivate(), g.exec(a.$editor, b)
        }, readOnly: !0, isIncrementalSearchCommand: !0
    }, {
        name: "yankNextWord", bindKey: "Ctrl-w", exec: function (a) {
            var b = a.$editor, c = b.selection.getRangeOfMovements(function (a) {
                a.moveCursorWordRight()
            }), d = b.session.getTextRange(c);
            a.addString(d)
        }, readOnly: !0, isIncrementalSearchCommand: !0
    }, {
        name: "yankNextChar", bindKey: "Ctrl-Alt-y", exec: function (a) {
            var b = a.$editor, c = b.selection.getRangeOfMovements(function (a) {
                a.moveCursorRight()
            }), d = b.session.getTextRange(c);
            a.addString(d)
        }, readOnly: !0, isIncrementalSearchCommand: !0
    }, {
        name: "recenterTopBottom", bindKey: "Ctrl-l", exec: function (a) {
            a.$editor.execCommand("recenterTopBottom")
        }, readOnly: !0, isIncrementalSearchCommand: !0
    }, {
        name: "selectAllMatches", bindKey: "Ctrl-space", exec: function (a) {
            var b = a.$editor, c = b.session.$isearchHighlight, d = c && c.cache ? c.cache.reduce(function (a, b) {
                return a.concat(b ? b : [])
            }, []) : [];
            a.deactivate(!1), d.forEach(b.selection.addRange.bind(b.selection))
        }, readOnly: !0, isIncrementalSearchCommand: !0
    }, {
        name: "searchAsRegExp", bindKey: "Alt-r", exec: function (a) {
            a.convertNeedleToRegExp()
        }, readOnly: !0, isIncrementalSearchCommand: !0
    }], e.inherits(c, f), function () {
        this.attach = function (a) {
            var c = this.$iSearch;
            f.call(this, b.iSearchCommands, a.commands.platform), this.$commandExecHandler = a.commands.addEventListener("exec", function (a) {
                return a.command.isIncrementalSearchCommand ? (a.stopPropagation(), a.preventDefault(), a.command.exec(c, a.args || {})) : void 0
            })
        }, this.detach = function (a) {
            this.$commandExecHandler && (a.commands.removeEventListener("exec", this.$commandExecHandler), delete this.$commandExecHandler)
        };
        var a = this.handleKeyboard;
        this.handleKeyboard = function (b, c, d, e) {
            if ((1 === c || 8 === c) && "v" === d || 1 === c && "y" === d)return null;
            var f = a.call(this, b, c, d, e);
            if (f.command)return f;
            if (-1 == c) {
                var g = this.commands.extendSearchTerm;
                if (g)return {command: g, args: d}
            }
            return {command: "null", passEvent: 0 == c || 4 == c}
        }
    }.call(c.prototype), b.IncrementalSearchKeyboardHandler = c
}),define("ace/incremental_search", ["require", "exports", "module", "ace/lib/oop", "ace/range", "ace/search", "ace/search_highlight", "ace/commands/incremental_search_commands", "ace/lib/dom", "ace/commands/command_manager", "ace/editor", "ace/config"], function (a, b) {
    "use strict";
    function c() {
        this.$options = {wrap: !1, skipCurrent: !1}, this.$keyboardHandler = new m(this)
    }

    function d(a) {
        return a instanceof RegExp
    }

    function e(a) {
        var b = String(a), c = b.indexOf("/"), d = b.lastIndexOf("/");
        return {expression: b.slice(c + 1, d), flags: b.slice(d + 1)}
    }

    function f(a, b) {
        try {
            return new RegExp(a, b)
        } catch (c) {
            return a
        }
    }

    function g(a) {
        return f(a.expression, a.flags)
    }

    var h = a("./lib/oop"), i = a("./range").Range, j = a("./search").Search, k = a("./search_highlight").SearchHighlight, l = a("./commands/incremental_search_commands"), m = l.IncrementalSearchKeyboardHandler;
    h.inherits(c, j), function () {
        this.activate = function (a, b) {
            this.$editor = a, this.$startPos = this.$currentPos = a.getCursorPosition(), this.$options.needle = "", this.$options.backwards = b, a.keyBinding.addKeyboardHandler(this.$keyboardHandler), this.$originalEditorOnPaste = a.onPaste, a.onPaste = this.onPaste.bind(this), this.$mousedownHandler = a.addEventListener("mousedown", this.onMouseDown.bind(this)), this.selectionFix(a), this.statusMessage(!0)
        }, this.deactivate = function (a) {
            this.cancelSearch(a);
            var b = this.$editor;
            b.keyBinding.removeKeyboardHandler(this.$keyboardHandler), this.$mousedownHandler && (b.removeEventListener("mousedown", this.$mousedownHandler), delete this.$mousedownHandler), b.onPaste = this.$originalEditorOnPaste, this.message("")
        }, this.selectionFix = function (a) {
            a.selection.isEmpty() && !a.session.$emacsMark && a.clearSelection()
        }, this.highlight = function (a) {
            var b = this.$editor.session, c = b.$isearchHighlight = b.$isearchHighlight || b.addDynamicMarker(new k(null, "ace_isearch-result", "text"));
            c.setRegexp(a), b._emit("changeBackMarker")
        }, this.cancelSearch = function (a) {
            var b = this.$editor;
            return this.$prevNeedle = this.$options.needle, this.$options.needle = "", a ? (b.moveCursorToPosition(this.$startPos), this.$currentPos = this.$startPos) : b.pushEmacsMark && b.pushEmacsMark(this.$startPos, !1), this.highlight(null), i.fromPoints(this.$currentPos, this.$currentPos)
        }, this.highlightAndFindWithNeedle = function (a, b) {
            if (!this.$editor)return null;
            var c = this.$options;
            if (b && (c.needle = b.call(this, c.needle || "") || ""), 0 === c.needle.length)return this.statusMessage(!0), this.cancelSearch(!0);
            c.start = this.$currentPos;
            var d = this.$editor.session, e = this.find(d), f = this.$editor.emacsMark ? !!this.$editor.emacsMark() : !this.$editor.selection.isEmpty();
            return e && (c.backwards && (e = i.fromPoints(e.end, e.start)), this.$editor.selection.setRange(i.fromPoints(f ? this.$startPos : e.end, e.end)), a && (this.$currentPos = e.end), this.highlight(c.re)), this.statusMessage(e), e
        }, this.addString = function (a) {
            return this.highlightAndFindWithNeedle(!1, function (b) {
                if (!d(b))return b + a;
                var c = e(b);
                return c.expression += a, g(c)
            })
        }, this.removeChar = function () {
            return this.highlightAndFindWithNeedle(!1, function (a) {
                if (!d(a))return a.substring(0, a.length - 1);
                var b = e(a);
                return b.expression = b.expression.substring(0, b.expression.length - 1), g(b)
            })
        }, this.next = function (a) {
            return a = a || {}, this.$options.backwards = !!a.backwards, this.$currentPos = this.$editor.getCursorPosition(), this.highlightAndFindWithNeedle(!0, function (b) {
                return a.useCurrentOrPrevSearch && 0 === b.length ? this.$prevNeedle || "" : b
            })
        }, this.onMouseDown = function () {
            return this.deactivate(), !0
        }, this.onPaste = function (a) {
            this.addString(a)
        }, this.convertNeedleToRegExp = function () {
            return this.highlightAndFindWithNeedle(!1, function (a) {
                return d(a) ? a : f(a, "ig")
            })
        }, this.convertNeedleToString = function () {
            return this.highlightAndFindWithNeedle(!1, function (a) {
                return d(a) ? e(a).expression : a
            })
        }, this.statusMessage = function (a) {
            var b = this.$options, c = "";
            c += b.backwards ? "reverse-" : "", c += "isearch: " + b.needle, c += a ? "" : " (not found)", this.message(c)
        }, this.message = function (a) {
            this.$editor.showCommandLine ? (this.$editor.showCommandLine(a), this.$editor.focus()) : console.log(a)
        }
    }.call(c.prototype), b.IncrementalSearch = c;
    var n = a("./lib/dom");
    n.importCssString && n.importCssString(".ace_marker-layer .ace_isearch-result {  position: absolute;  z-index: 6;  -moz-box-sizing: border-box;  -webkit-box-sizing: border-box;  box-sizing: border-box;}div.ace_isearch-result {  border-radius: 4px;  background-color: rgba(255, 200, 0, 0.5);  box-shadow: 0 0 4px rgb(255, 200, 0);}.ace_dark div.ace_isearch-result {  background-color: rgb(100, 110, 160);  box-shadow: 0 0 4px rgb(80, 90, 140);}", "incremental-search-highlighting");
    var o = a("./commands/command_manager");
    (function () {
        this.setupIncrementalSearch = function (a, b) {
            if (this.usesIncrementalSearch != b) {
                this.usesIncrementalSearch = b;
                var c = l.iSearchStartCommands, d = b ? "addCommands" : "removeCommands";
                this[d](c)
            }
        }
    }).call(o.CommandManager.prototype);
    var p = a("./editor").Editor;
    a("./config").defineOptions(p.prototype, "editor", {
        useIncrementalSearch: {
            set: function (a) {
                this.keyBinding.$handlers.forEach(function (b) {
                    b.setupIncrementalSearch && b.setupIncrementalSearch(this, a)
                }), this._emit("incrementalSearchSettingChanged", {isEnabled: a})
            }
        }
    })
}),define("ace/keyboard/emacs", ["require", "exports", "module", "ace/lib/dom", "ace/incremental_search", "ace/commands/incremental_search_commands", "ace/keyboard/hash_handler", "ace/lib/keys"], function (a, b) {
    "use strict";
    var c = a("../lib/dom");
    a("../incremental_search");
    var d = a("../commands/incremental_search_commands"), e = function (a, b) {
        var c = this.scroller.getBoundingClientRect(), d = Math.floor((a + this.scrollLeft - c.left - this.$padding) / this.characterWidth), e = Math.floor((b + this.scrollTop - c.top) / this.lineHeight);
        return this.session.screenToDocumentPosition(e, d)
    }, f = a("./hash_handler").HashHandler;
    b.handler = new f, b.handler.isEmacs = !0, b.handler.$id = "ace/keyboard/emacs";
    var g, h, i = !1;
    b.handler.attach = function (a) {
        i || (i = !0, c.importCssString("            .emacs-mode .ace_cursor{                border: 1px rgba(50,250,50,0.8) solid!important;                -moz-box-sizing: border-box!important;                -webkit-box-sizing: border-box!important;                box-sizing: border-box!important;                background-color: rgba(0,250,0,0.9);                opacity: 0.5;            }            .emacs-mode .ace_hidden-cursors .ace_cursor{                opacity: 1;                background-color: transparent;            }            .emacs-mode .ace_overwrite-cursors .ace_cursor {                opacity: 1;                background-color: transparent;                border-width: 0 0 2px 2px !important;            }            .emacs-mode .ace_text-layer {                z-index: 4            }            .emacs-mode .ace_cursor-layer {                z-index: 2            }", "emacsMode")), g = a.session.$selectLongWords, a.session.$selectLongWords = !0, h = a.session.$useEmacsStyleLineStart, a.session.$useEmacsStyleLineStart = !0, a.session.$emacsMark = null, a.session.$emacsMarkRing = a.session.$emacsMarkRing || [], a.emacsMark = function () {
            return this.session.$emacsMark
        }, a.setEmacsMark = function (a) {
            this.session.$emacsMark = a
        }, a.pushEmacsMark = function (a, b) {
            var c = this.session.$emacsMark;
            c && this.session.$emacsMarkRing.push(c), !a || b ? this.setEmacsMark(a) : this.session.$emacsMarkRing.push(a)
        }, a.popEmacsMark = function () {
            var a = this.emacsMark();
            return a ? (this.setEmacsMark(null), a) : this.session.$emacsMarkRing.pop()
        }, a.getLastEmacsMark = function () {
            return this.session.$emacsMark || this.session.$emacsMarkRing.slice(-1)[0]
        }, a.emacsMarkForSelection = function (a) {
            var b = this.selection, c = this.multiSelect ? this.multiSelect.getAllRanges().length : 1, d = b.index || 0, e = this.session.$emacsMarkRing, f = e.length - (c - d), g = e[f] || b.anchor;
            return a && e.splice(f, 1, "row"in a && "column"in a ? a : void 0), g
        }, a.on("click", k), a.on("changeSession", j), a.renderer.screenToTextCoordinates = e, a.setStyle("emacs-mode"), a.commands.addCommands(o), b.handler.platform = a.commands.platform, a.$emacsModeHandler = this, a.addEventListener("copy", this.onCopy), a.addEventListener("paste", this.onPaste)
    }, b.handler.detach = function (a) {
        delete a.renderer.screenToTextCoordinates, a.session.$selectLongWords = g, a.session.$useEmacsStyleLineStart = h, a.removeEventListener("click", k), a.removeEventListener("changeSession", j), a.unsetStyle("emacs-mode"), a.commands.removeCommands(o), a.removeEventListener("copy", this.onCopy), a.removeEventListener("paste", this.onPaste), a.$emacsModeHandler = null
    };
    var j = function (a) {
        a.oldSession && (a.oldSession.$selectLongWords = g, a.oldSession.$useEmacsStyleLineStart = h), g = a.session.$selectLongWords, a.session.$selectLongWords = !0, h = a.session.$useEmacsStyleLineStart, a.session.$useEmacsStyleLineStart = !0, a.session.hasOwnProperty("$emacsMark") || (a.session.$emacsMark = null), a.session.hasOwnProperty("$emacsMarkRing") || (a.session.$emacsMarkRing = [])
    }, k = function (a) {
        a.editor.session.$emacsMark = null
    }, l = a("../lib/keys").KEY_MODS, m = {
        C: "ctrl",
        S: "shift",
        M: "alt",
        CMD: "command"
    }, n = ["C-S-M-CMD", "S-M-CMD", "C-M-CMD", "C-S-CMD", "C-S-M", "M-CMD", "S-CMD", "S-M", "C-CMD", "C-M", "C-S", "CMD", "M", "S", "C"];
    n.forEach(function (a) {
        var b = 0;
        a.split("-").forEach(function (a) {
            b |= l[m[a]]
        }), m[b] = a.toLowerCase() + "-"
    }), b.handler.onCopy = function (a, c) {
        c.$handlesEmacsOnCopy || (c.$handlesEmacsOnCopy = !0, b.handler.commands.killRingSave.exec(c), c.$handlesEmacsOnCopy = !1)
    }, b.handler.onPaste = function (a, b) {
        b.pushEmacsMark(b.getCursorPosition())
    }, b.handler.bindKey = function (a, b) {
        if ("object" == typeof a && (a = a[this.platform]), a) {
            var c = this.commandKeyBinding;
            a.split("|").forEach(function (a) {
                a = a.toLowerCase(), c[a] = b;
                var d = a.split(" ").slice(0, -1);
                d.reduce(function (a, b, c) {
                    var d = a[c - 1] ? a[c - 1] + " " : "";
                    return a.concat([d + b])
                }, []).forEach(function (a) {
                    c[a] || (c[a] = "null")
                })
            }, this)
        }
    }, b.handler.getStatusText = function (a, b) {
        var c = "";
        return b.count && (c += b.count), b.keyChain && (c += " " + b.keyChain), c
    }, b.handler.handleKeyboard = function (a, b, c, d) {
        if (-1 === d)return void 0;
        var e = a.editor;
        if (e._signal("changeStatus"), -1 == b && (e.pushEmacsMark(), a.count)) {
            var f = new Array(a.count + 1).join(c);
            return a.count = null, {command: "insertstring", args: f}
        }
        var g = m[b];
        if ("c-" == g || a.count) {
            var h = parseInt(c[c.length - 1]);
            if ("number" == typeof h && !isNaN(h))return a.count = Math.max(a.count, 0) || 0, a.count = 10 * a.count + h, {command: "null"}
        }
        g && (c = g + c), a.keyChain && (c = a.keyChain += " " + c);
        var i = this.commandKeyBinding[c];
        if (a.keyChain = "null" == i ? c : "", !i)return void 0;
        if ("null" === i)return {command: "null"};
        if ("universalArgument" === i)return a.count = -4, {command: "null"};
        var j;
        if ("string" != typeof i && (j = i.args, i.command && (i = i.command), "goorselect" === i && (i = e.emacsMark() ? j[1] : j[0], j = null)), "string" == typeof i && (("insertstring" === i || "splitline" === i || "togglecomment" === i) && e.pushEmacsMark(), i = this.commands[i] || e.commands.commands[i], !i))return void 0;
        if (i.readOnly || i.isYank || (a.lastCommand = null), !i.readOnly && e.emacsMark() && e.setEmacsMark(null), a.count) {
            var h = a.count;
            if (a.count = 0, !i || !i.handlesCount)return {
                args: j, command: {
                    exec: function (a, b) {
                        for (var c = 0; h > c; c++)i.exec(a, b)
                    }, multiSelectAction: i.multiSelectAction
                }
            };
            j || (j = {}), "object" == typeof j && (j.count = h)
        }
        return {command: i, args: j}
    }, b.emacsKeys = {
        "Up|C-p": {command: "goorselect", args: ["golineup", "selectup"]},
        "Down|C-n": {command: "goorselect", args: ["golinedown", "selectdown"]},
        "Left|C-b": {command: "goorselect", args: ["gotoleft", "selectleft"]},
        "Right|C-f": {command: "goorselect", args: ["gotoright", "selectright"]},
        "C-Left|M-b": {command: "goorselect", args: ["gotowordleft", "selectwordleft"]},
        "C-Right|M-f": {command: "goorselect", args: ["gotowordright", "selectwordright"]},
        "Home|C-a": {command: "goorselect", args: ["gotolinestart", "selecttolinestart"]},
        "End|C-e": {command: "goorselect", args: ["gotolineend", "selecttolineend"]},
        "C-Home|S-M-,": {command: "goorselect", args: ["gotostart", "selecttostart"]},
        "C-End|S-M-.": {command: "goorselect", args: ["gotoend", "selecttoend"]},
        "S-Up|S-C-p": "selectup",
        "S-Down|S-C-n": "selectdown",
        "S-Left|S-C-b": "selectleft",
        "S-Right|S-C-f": "selectright",
        "S-C-Left|S-M-b": "selectwordleft",
        "S-C-Right|S-M-f": "selectwordright",
        "S-Home|S-C-a": "selecttolinestart",
        "S-End|S-C-e": "selecttolineend",
        "S-C-Home": "selecttostart",
        "S-C-End": "selecttoend",
        "C-l": "recenterTopBottom",
        "M-s": "centerselection",
        "M-g": "gotoline",
        "C-x C-p": "selectall",
        "C-Down": {command: "goorselect", args: ["gotopagedown", "selectpagedown"]},
        "C-Up": {command: "goorselect", args: ["gotopageup", "selectpageup"]},
        "PageDown|C-v": {command: "goorselect", args: ["gotopagedown", "selectpagedown"]},
        "PageUp|M-v": {command: "goorselect", args: ["gotopageup", "selectpageup"]},
        "S-C-Down": "selectpagedown",
        "S-C-Up": "selectpageup",
        "C-s": "iSearch",
        "C-r": "iSearchBackwards",
        "M-C-s": "findnext",
        "M-C-r": "findprevious",
        "S-M-5": "replace",
        Backspace: "backspace",
        "Delete|C-d": "del",
        "Return|C-m": {command: "insertstring", args: "\n"},
        "C-o": "splitline",
        "M-d|C-Delete": {command: "killWord", args: "right"},
        "C-Backspace|M-Backspace|M-Delete": {command: "killWord", args: "left"},
        "C-k": "killLine",
        "C-y|S-Delete": "yank",
        "M-y": "yankRotate",
        "C-g": "keyboardQuit",
        "C-w|C-S-W": "killRegion",
        "M-w": "killRingSave",
        "C-Space": "setMark",
        "C-x C-x": "exchangePointAndMark",
        "C-t": "transposeletters",
        "M-u": "touppercase",
        "M-l": "tolowercase",
        "M-/": "autocomplete",
        "C-u": "universalArgument",
        "M-;": "togglecomment",
        "C-/|C-x u|S-C--|C-z": "undo",
        "S-C-/|S-C-x u|C--|S-C-z": "redo",
        "C-x r": "selectRectangularRegion",
        "M-x": {command: "focusCommandLine", args: "M-x "}
    }, b.handler.bindKeys(b.emacsKeys), b.handler.addCommands({
        recenterTopBottom: function (a) {
            var b = a.renderer, c = b.$cursorLayer.getPixelPosition(), d = b.$size.scrollerHeight - b.lineHeight, e = b.scrollTop;
            e = Math.abs(c.top - e) < 2 ? c.top - d : Math.abs(c.top - e - .5 * d) < 2 ? c.top : c.top - .5 * d, a.session.setScrollTop(e)
        }, selectRectangularRegion: function (a) {
            a.multiSelect.toggleBlockSelection()
        }, setMark: {
            exec: function (a, b) {
                function c() {
                    var b = a.popEmacsMark();
                    b && a.moveCursorToPosition(b)
                }

                if (b && b.count)return a.inMultiSelectMode ? a.forEachSelection(c) : c(), void c();
                var d = a.emacsMark(), e = a.selection.getAllRanges(), f = e.map(function (a) {
                    return {row: a.start.row, column: a.start.column}
                }), g = !0, h = e.every(function (a) {
                    return a.isEmpty()
                });
                return !g || !d && h ? d ? void 0 : (f.forEach(function (b) {
                    a.pushEmacsMark(b)
                }), void a.setEmacsMark(f[f.length - 1])) : (a.inMultiSelectMode ? a.forEachSelection({exec: a.clearSelection.bind(a)}) : a.clearSelection(), void(d && a.pushEmacsMark(null)))
            }, readOnly: !0, handlesCount: !0
        }, exchangePointAndMark: {
            exec: function (a, b) {
                var c = a.selection;
                if (!b.count && !c.isEmpty())return void c.setSelectionRange(c.getRange(), !c.isBackwards());
                if (b.count) {
                    var d = {row: c.lead.row, column: c.lead.column};
                    c.clearSelection(), c.moveCursorToPosition(a.emacsMarkForSelection(d))
                } else c.selectToPosition(a.emacsMarkForSelection())
            }, readOnly: !0, handlesCount: !0, multiSelectAction: "forEach"
        }, killWord: {
            exec: function (a, c) {
                a.clearSelection(), "left" == c ? a.selection.selectWordLeft() : a.selection.selectWordRight();
                var d = a.getSelectionRange(), e = a.session.getTextRange(d);
                b.killRing.add(e), a.session.remove(d), a.clearSelection()
            }, multiSelectAction: "forEach"
        }, killLine: function (a) {
            a.pushEmacsMark(null);
            var c = a.getCursorPosition();
            0 === c.column && 0 === a.session.doc.getLine(c.row).length ? a.selection.selectLine() : (a.clearSelection(), a.selection.selectLineEnd());
            var d = a.getSelectionRange(), e = a.session.getTextRange(d);
            b.killRing.add(e), a.session.remove(d), a.clearSelection()
        }, yank: function (a) {
            a.onPaste(b.killRing.get() || ""), a.keyBinding.$data.lastCommand = "yank"
        }, yankRotate: function (a) {
            "yank" == a.keyBinding.$data.lastCommand && (a.undo(), a.session.$emacsMarkRing.pop(), a.onPaste(b.killRing.rotate()), a.keyBinding.$data.lastCommand = "yank")
        }, killRegion: {
            exec: function (a) {
                b.killRing.add(a.getCopyText()), a.commands.byName.cut.exec(a)
            }, readOnly: !0, multiSelectAction: "forEach"
        }, killRingSave: {
            exec: function (a) {
                a.$handlesEmacsOnCopy = !0;
                var c = a.session.$emacsMarkRing.slice(), d = [];
                b.killRing.add(a.getCopyText()), setTimeout(function () {
                    function b() {
                        var b = a.selection, c = b.getRange(), e = b.isBackwards() ? c.end : c.start;
                        d.push({row: e.row, column: e.column}), b.clearSelection()
                    }

                    a.$handlesEmacsOnCopy = !1, a.inMultiSelectMode ? a.forEachSelection({exec: b}) : b(), a.session.$emacsMarkRing = c.concat(d.reverse())
                }, 0)
            }, readOnly: !0
        }, keyboardQuit: function (a) {
            a.selection.clearSelection(), a.setEmacsMark(null), a.keyBinding.$data.count = null
        }, focusCommandLine: function (a, b) {
            a.showCommandLine && a.showCommandLine(b)
        }
    }), b.handler.addCommands(d.iSearchStartCommands);
    var o = b.handler.commands;
    o.yank.isYank = !0, o.yankRotate.isYank = !0, b.killRing = {
        $data: [], add: function (a) {
            a && this.$data.push(a), this.$data.length > 30 && this.$data.shift()
        }, get: function (a) {
            return a = a || 1, this.$data.slice(this.$data.length - a, this.$data.length).reverse().join("\n")
        }, pop: function () {
            return this.$data.length > 1 && this.$data.pop(), this.get()
        }, rotate: function () {
            return this.$data.unshift(this.$data.pop()), this.get()
        }
    }
}),define("ace/ext/searchbox", ["require", "exports", "module", "ace/lib/dom", "ace/lib/lang", "ace/lib/event", "ace/keyboard/hash_handler", "ace/lib/keys"], function (a, b) {
    "use strict";
    var c = a("../lib/dom"), d = a("../lib/lang"), e = a("../lib/event"), f = ".ace_search {background-color: #ddd;border: 1px solid #cbcbcb;border-top: 0 none;max-width: 325px;overflow: hidden;margin: 0;padding: 4px;padding-right: 6px;padding-bottom: 0;position: absolute;top: 0px;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {border-radius: 3px;border: 1px solid #cbcbcb;float: left;margin-bottom: 4px;overflow: hidden;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {background-color: white;border-right: 1px solid #cbcbcb;border: 0 none;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;float: left;height: 22px;outline: 0;padding: 0 7px;width: 214px;margin: 0;}.ace_searchbtn,.ace_replacebtn {background: #fff;border: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;float: left;height: 22px;margin: 0;padding: 0;position: relative;}.ace_searchbtn:last-child,.ace_replacebtn:last-child {border-top-right-radius: 3px;border-bottom-right-radius: 3px;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn {background-position: 50% 50%;background-repeat: no-repeat;width: 27px;}.ace_searchbtn.prev {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADFJREFUeNpiSU1NZUAC/6E0I0yACYskCpsJiySKIiY0SUZk40FyTEgCjGgKwTRAgAEAQJUIPCE+qfkAAAAASUVORK5CYII=);    }.ace_searchbtn.next {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADRJREFUeNpiTE1NZQCC/0DMyIAKwGJMUAYDEo3M/s+EpvM/mkKwCQxYjIeLMaELoLMBAgwAU7UJObTKsvAAAAAASUVORK5CYII=);    }.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;float: right;font: 16px/16px Arial;height: 14px;margin: 5px 1px 9px 5px;padding: 0;text-align: center;width: 14px;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_replacebtn.prev {width: 54px}.ace_replacebtn.next {width: 27px}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;-moz-box-sizing: border-box;box-sizing:    border-box;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;}", g = a("../keyboard/hash_handler").HashHandler, h = a("../lib/keys");
    c.importCssString(f, "ace_searchbox");
    var i = '<div class="ace_search right">    <button type="button" action="hide" class="ace_searchbtn_close"></button>    <div class="ace_search_form">        <input class="ace_search_field" placeholder="Search for" spellcheck="false"></input>        <button type="button" action="findNext" class="ace_searchbtn next"></button>        <button type="button" action="findPrev" class="ace_searchbtn prev"></button>        <button type="button" action="findAll" class="ace_searchbtn" title="Alt-Enter">All</button>    </div>    <div class="ace_replace_form">        <input class="ace_search_field" placeholder="Replace with" spellcheck="false"></input>        <button type="button" action="replaceAndFindNext" class="ace_replacebtn">Replace</button>        <button type="button" action="replaceAll" class="ace_replacebtn">All</button>    </div>    <div class="ace_search_options">        <span action="toggleRegexpMode" class="ace_button" title="RegExp Search">.*</span>        <span action="toggleCaseSensitive" class="ace_button" title="CaseSensitive Search">Aa</span>        <span action="toggleWholeWords" class="ace_button" title="Whole Word Search">\\b</span>    </div></div>'.replace(/>\s+/g, ">"), j = function (a) {
        var b = c.createElement("div");
        b.innerHTML = i, this.element = b.firstChild, this.$init(), this.setEditor(a)
    };
    (function () {
        this.setEditor = function (a) {
            a.searchBox = this, a.container.appendChild(this.element), this.editor = a
        }, this.$initElements = function (a) {
            this.searchBox = a.querySelector(".ace_search_form"), this.replaceBox = a.querySelector(".ace_replace_form"), this.searchOptions = a.querySelector(".ace_search_options"), this.regExpOption = a.querySelector("[action=toggleRegexpMode]"), this.caseSensitiveOption = a.querySelector("[action=toggleCaseSensitive]"), this.wholeWordOption = a.querySelector("[action=toggleWholeWords]"), this.searchInput = this.searchBox.querySelector(".ace_search_field"), this.replaceInput = this.replaceBox.querySelector(".ace_search_field")
        }, this.$init = function () {
            var a = this.element;
            this.$initElements(a);
            var b = this;
            e.addListener(a, "mousedown", function (a) {
                setTimeout(function () {
                    b.activeInput.focus()
                }, 0), e.stopPropagation(a)
            }), e.addListener(a, "click", function (a) {
                var c = a.target || a.srcElement, d = c.getAttribute("action");
                d && b[d] ? b[d]() : b.$searchBarKb.commands[d] && b.$searchBarKb.commands[d].exec(b), e.stopPropagation(a)
            }), e.addCommandKeyListener(a, function (a, c, d) {
                var f = h.keyCodeToString(d), g = b.$searchBarKb.findKeyCommand(c, f);
                g && g.exec && (g.exec(b), e.stopEvent(a))
            }), this.$onChange = d.delayedCall(function () {
                b.find(!1, !1)
            }), e.addListener(this.searchInput, "input", function () {
                b.$onChange.schedule(20)
            }), e.addListener(this.searchInput, "focus", function () {
                b.activeInput = b.searchInput, b.searchInput.value && b.highlight()
            }), e.addListener(this.replaceInput, "focus", function () {
                b.activeInput = b.replaceInput, b.searchInput.value && b.highlight()
            })
        }, this.$closeSearchBarKb = new g([{
            bindKey: "Esc", name: "closeSearchBar", exec: function (a) {
                a.searchBox.hide()
            }
        }]), this.$searchBarKb = new g, this.$searchBarKb.bindKeys({
            "Ctrl-f|Command-f|Ctrl-H|Command-Option-F": function (a) {
                var b = a.isReplace = !a.isReplace;
                a.replaceBox.style.display = b ? "" : "none", a[b ? "replaceInput" : "searchInput"].focus()
            }, "Ctrl-G|Command-G": function (a) {
                a.findNext()
            }, "Ctrl-Shift-G|Command-Shift-G": function (a) {
                a.findPrev()
            }, esc: function (a) {
                setTimeout(function () {
                    a.hide()
                })
            }, Return: function (a) {
                a.activeInput == a.replaceInput && a.replace(), a.findNext()
            }, "Shift-Return": function (a) {
                a.activeInput == a.replaceInput && a.replace(), a.findPrev()
            }, "Alt-Return": function (a) {
                a.activeInput == a.replaceInput && a.replaceAll(), a.findAll()
            }, Tab: function (a) {
                (a.activeInput == a.replaceInput ? a.searchInput : a.replaceInput).focus()
            }
        }), this.$searchBarKb.addCommands([{
            name: "toggleRegexpMode",
            bindKey: {win: "Alt-R|Alt-/", mac: "Ctrl-Alt-R|Ctrl-Alt-/"},
            exec: function (a) {
                a.regExpOption.checked = !a.regExpOption.checked, a.$syncOptions()
            }
        }, {
            name: "toggleCaseSensitive",
            bindKey: {win: "Alt-C|Alt-I", mac: "Ctrl-Alt-R|Ctrl-Alt-I"},
            exec: function (a) {
                a.caseSensitiveOption.checked = !a.caseSensitiveOption.checked, a.$syncOptions()
            }
        }, {
            name: "toggleWholeWords", bindKey: {win: "Alt-B|Alt-W", mac: "Ctrl-Alt-B|Ctrl-Alt-W"}, exec: function (a) {
                a.wholeWordOption.checked = !a.wholeWordOption.checked, a.$syncOptions()
            }
        }]), this.$syncOptions = function () {
            c.setCssClass(this.regExpOption, "checked", this.regExpOption.checked), c.setCssClass(this.wholeWordOption, "checked", this.wholeWordOption.checked), c.setCssClass(this.caseSensitiveOption, "checked", this.caseSensitiveOption.checked), this.find(!1, !1)
        }, this.highlight = function (a) {
            this.editor.session.highlight(a || this.editor.$search.$options.re), this.editor.renderer.updateBackMarkers()
        }, this.find = function (a, b) {
            var d = this.editor.find(this.searchInput.value, {
                skipCurrent: a,
                backwards: b,
                wrap: !0,
                regExp: this.regExpOption.checked,
                caseSensitive: this.caseSensitiveOption.checked,
                wholeWord: this.wholeWordOption.checked
            }), e = !d && this.searchInput.value;
            c.setCssClass(this.searchBox, "ace_nomatch", e), this.editor._emit("findSearchBox", {match: !e}), this.highlight()
        }, this.findNext = function () {
            this.find(!0, !1)
        }, this.findPrev = function () {
            this.find(!0, !0)
        }, this.findAll = function () {
            var a = this.editor.findAll(this.searchInput.value, {
                regExp: this.regExpOption.checked,
                caseSensitive: this.caseSensitiveOption.checked,
                wholeWord: this.wholeWordOption.checked
            }), b = !a && this.searchInput.value;
            c.setCssClass(this.searchBox, "ace_nomatch", b), this.editor._emit("findSearchBox", {match: !b}), this.highlight(), this.hide()
        }, this.replace = function () {
            this.editor.getReadOnly() || this.editor.replace(this.replaceInput.value)
        }, this.replaceAndFindNext = function () {
            this.editor.getReadOnly() || (this.editor.replace(this.replaceInput.value), this.findNext())
        }, this.replaceAll = function () {
            this.editor.getReadOnly() || this.editor.replaceAll(this.replaceInput.value)
        }, this.hide = function () {
            this.element.style.display = "none", this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb), this.editor.focus()
        }, this.show = function (a, b) {
            this.element.style.display = "", this.replaceBox.style.display = b ? "" : "none", this.isReplace = b, a && (this.searchInput.value = a), this.searchInput.focus(), this.searchInput.select(), this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb)
        }, this.isFocused = function () {
            var a = document.activeElement;
            return a == this.searchInput || a == this.replaceInput
        }
    }).call(j.prototype), b.SearchBox = j, b.Search = function (a, b) {
        var c = a.searchBox || new j(a);
        c.show(a.session.getTextRange(), b)
    }
}),function () {
    window.require(["ace/ext/searchbox"], function () {
    })
}(),showLog = !0,css_browser_selector(navigator.userAgent);
var difflib = function () {
    var a = function (b, c) {
        var d = a.resolve(b, c || "/"), e = a.modules[d];
        if (!e)throw new Error("Failed to resolve module " + b + ", tried " + d);
        var f = e._cached ? e._cached : e();
        return f
    };
    return a.paths = [], a.modules = {}, a.extensions = [".js", ".coffee"], a._core = {
        assert: !0,
        events: !0,
        fs: !0,
        path: !0,
        vm: !0
    }, a.resolve = function () {
        return function (b, c) {
            function d(b) {
                if (a.modules[b])return b;
                for (var c = 0; c < a.extensions.length; c++) {
                    var d = a.extensions[c];
                    if (a.modules[b + d])return b + d
                }
            }

            function e(b) {
                b = b.replace(/\/+$/, "");
                var c = b + "/package.json";
                if (a.modules[c]) {
                    var e = a.modules[c](), f = e.browserify;
                    if ("object" == typeof f && f.main) {
                        var g = d(h.resolve(b, f.main));
                        if (g)return g
                    } else if ("string" == typeof f) {
                        var g = d(h.resolve(b, f));
                        if (g)return g
                    } else if (e.main) {
                        var g = d(h.resolve(b, e.main));
                        if (g)return g
                    }
                }
                return d(b + "/index")
            }

            function f(a, b) {
                for (var c = g(b), f = 0; f < c.length; f++) {
                    var h = c[f], i = d(h + "/" + a);
                    if (i)return i;
                    var j = e(h + "/" + a);
                    if (j)return j
                }
                var i = d(a);
                return i ? i : void 0
            }

            function g(a) {
                var b;
                b = "/" === a ? [""] : h.normalize(a).split("/");
                for (var c = [], d = b.length - 1; d >= 0; d--)if ("node_modules" !== b[d]) {
                    var e = b.slice(0, d + 1).join("/") + "/node_modules";
                    c.push(e)
                }
                return c
            }

            if (c || (c = "/"), a._core[b])return b;
            var h = a.modules.path();
            c = h.resolve("/", c);
            var i = c || "/";
            if (b.match(/^(?:\.\.?\/|\/)/)) {
                var j = d(h.resolve(i, b)) || e(h.resolve(i, b));
                if (j)return j
            }
            var k = f(b, i);
            if (k)return k;
            throw new Error("Cannot find module '" + b + "'")
        }
    }(), a.alias = function (b, c) {
        var d = a.modules.path(), e = null;
        try {
            e = a.resolve(b + "/package.json", "/")
        } catch (f) {
            e = a.resolve(b, "/")
        }
        for (var g = d.dirname(e), h = (Object.keys || function (a) {
            var b = [];
            for (var c in a)b.push(c);
            return b
        })(a.modules), i = 0; i < h.length; i++) {
            var j = h[i];
            if (j.slice(0, g.length + 1) === g + "/") {
                var k = j.slice(g.length);
                a.modules[c + k] = a.modules[g + k]
            } else j === g && (a.modules[c] = a.modules[g])
        }
    }, a.define = function (b, c) {
        var d = a._core[b] ? "" : a.modules.path().dirname(b), e = function (b) {
            return a(b, d)
        };
        e.resolve = function (b) {
            return a.resolve(b, d)
        }, e.modules = a.modules, e.define = a.define;
        var f = {exports: {}};
        a.modules[b] = function () {
            return a.modules[b]._cached = f.exports, c.call(f.exports, e, f, f.exports, d, b), a.modules[b]._cached = f.exports, f.exports
        }
    }, "undefined" == typeof process && (process = {}), process.nextTick || (process.nextTick = function () {
        var a = [], b = "undefined" != typeof window && window.postMessage && window.addEventListener;
        return b && window.addEventListener("message", function (b) {
            if (b.source === window && "browserify-tick" === b.data && (b.stopPropagation(), a.length > 0)) {
                var c = a.shift();
                c()
            }
        }, !0), function (c) {
            b ? (a.push(c), window.postMessage("browserify-tick", "*")) : setTimeout(c, 0)
        }
    }()), process.title || (process.title = "browser"), process.binding || (process.binding = function (b) {
        if ("evals" === b)return a("vm");
        throw new Error("No such module")
    }), process.cwd || (process.cwd = function () {
        return "."
    }), process.env || (process.env = {}), process.argv || (process.argv = []), a.define("path", function (a, b, c) {
        function d(a, b) {
            for (var c = [], d = 0; d < a.length; d++)b(a[d], d, a) && c.push(a[d]);
            return c
        }

        function e(a, b) {
            for (var c = 0, d = a.length; d >= 0; d--) {
                var e = a[d];
                "." == e ? a.splice(d, 1) : ".." === e ? (a.splice(d, 1), c++) : c && (a.splice(d, 1), c--)
            }
            if (b)for (; c--; c)a.unshift("..");
            return a
        }

        var f = /^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;
        c.resolve = function () {
            for (var a = "", b = !1, c = arguments.length; c >= -1 && !b; c--) {
                var f = c >= 0 ? arguments[c] : process.cwd();
                "string" == typeof f && f && (a = f + "/" + a, b = "/" === f.charAt(0))
            }
            return a = e(d(a.split("/"), function (a) {
                return !!a
            }), !b).join("/"), (b ? "/" : "") + a || "."
        }, c.normalize = function (a) {
            var b = "/" === a.charAt(0), c = "/" === a.slice(-1);
            return a = e(d(a.split("/"), function (a) {
                return !!a
            }), !b).join("/"), !a && !b && (a = "."), a && c && (a += "/"), (b ? "/" : "") + a
        }, c.join = function () {
            var a = Array.prototype.slice.call(arguments, 0);
            return c.normalize(d(a, function (a) {
                return a && "string" == typeof a
            }).join("/"))
        }, c.dirname = function (a) {
            var b = f.exec(a)[1] || "", c = !1;
            return b ? 1 === b.length || c && b.length <= 3 && ":" === b.charAt(1) ? b : b.substring(0, b.length - 1) : "."
        }, c.basename = function (a, b) {
            var c = f.exec(a)[2] || "";
            return b && c.substr(-1 * b.length) === b && (c = c.substr(0, c.length - b.length)), c
        }, c.extname = function (a) {
            return f.exec(a)[3] || ""
        }
    }), a.define("/node_modules/heap/package.json", function (a, b) {
        b.exports = {main: "./index.js"}
    }), a.define("/node_modules/heap/index.js", function (a, b) {
        b.exports = a("./lib/heap")
    }), a.define("/node_modules/heap/lib/heap.js", function (a, b) {
        (function () {
            var a, c, d, e, f, g, h, i, j, k, l, m, n, o;
            d = Math.floor, k = Math.min, c = function (a, b) {
                return b > a ? -1 : a > b ? 1 : 0
            }, j = function (a, b, e, f, g) {
                var h;
                if (null == e && (e = 0), null == g && (g = c), 0 > e)throw new Error("lo must be non-negative");
                for (null == f && (f = a.length); g(e, f) < 0;)h = d((e + f) / 2), g(b, a[h]) < 0 ? f = h : e = h + 1;
                return [].splice.apply(a, [e, e - e].concat(b)), b
            }, g = function (a, b, d) {
                return null == d && (d = c), a.push(b), n(a, 0, a.length - 1, d)
            }, f = function (a, b) {
                var d, e;
                return null == b && (b = c), d = a.pop(), a.length ? (e = a[0], a[0] = d, o(a, 0, b)) : e = d, e
            }, i = function (a, b, d) {
                var e;
                return null == d && (d = c), e = a[0], a[0] = b, o(a, 0, d), e
            }, h = function (a, b, d) {
                var e;
                return null == d && (d = c), a.length && d(a[0], b) < 0 && (e = [a[0], b], b = e[0], a[0] = e[1], o(a, 0, d)), b
            }, e = function (a, b) {
                var e, f, g, h, i, j;
                for (null == b && (b = c), h = function () {
                    j = [];
                    for (var b = 0, c = d(a.length / 2); c >= 0 ? c > b : b > c; c >= 0 ? b++ : b--)j.push(b);
                    return j
                }.apply(this).reverse(), i = [], f = 0, g = h.length; g > f; f++)e = h[f], i.push(o(a, e, b));
                return i
            }, l = function (a, b, d) {
                var f, g, i, j, k;
                if (null == d && (d = c), g = a.slice(0, b), !g.length)return g;
                for (e(g, d), k = a.slice(b), i = 0, j = k.length; j > i; i++)f = k[i], h(g, f, d);
                return g.sort(d).reverse()
            }, m = function (a, b, d) {
                var g, h, i, l, m, n, o, p, q, r;
                if (null == d && (d = c), 10 * b <= a.length) {
                    if (l = a.slice(0, b).sort(d), !l.length)return l;
                    for (i = l[l.length - 1], p = a.slice(b), m = 0, o = p.length; o > m; m++)g = p[m], d(g, i) < 0 && (j(l, g, 0, null, d), l.pop(), i = l[l.length - 1]);
                    return l
                }
                for (e(a, d), r = [], h = n = 0, q = k(b, a.length); q >= 0 ? q > n : n > q; h = q >= 0 ? ++n : --n)r.push(f(a, d));
                return r
            }, n = function (a, b, d, e) {
                var f, g, h;
                for (null == e && (e = c), f = a[d]; d > b;) {
                    h = d - 1 >> 1, g = a[h];
                    {
                        if (!(e(f, g) < 0))break;
                        a[d] = g, d = h
                    }
                }
                return a[d] = f
            }, o = function (a, b, d) {
                var e, f, g, h, i;
                for (null == d && (d = c), f = a.length, i = b, g = a[b], e = 2 * b + 1; f > e;)h = e + 1, f > h && !(d(a[e], a[h]) < 0) && (e = h), a[b] = a[e], b = e, e = 2 * b + 1;
                return a[b] = g, n(a, i, b, d)
            }, a = function () {
                function a(a) {
                    this.cmp = null != a ? a : c, this.nodes = []
                }

                return a.name = "Heap", a.push = g, a.pop = f, a.replace = i, a.pushpop = h, a.heapify = e, a.nlargest = l, a.nsmallest = m, a.prototype.push = function (a) {
                    return g(this.nodes, a, this.cmp)
                }, a.prototype.pop = function () {
                    return f(this.nodes, this.cmp)
                }, a.prototype.peek = function () {
                    return this.nodes[0]
                }, a.prototype.contains = function (a) {
                    return -1 !== this.nodes.indexOf(a)
                }, a.prototype.replace = function (a) {
                    return i(this.nodes, a, this.cmp)
                }, a.prototype.pushpop = function (a) {
                    return h(this.nodes, a, this.cmp)
                }, a.prototype.heapify = function () {
                    return e(this.nodes, this.cmp)
                }, a.prototype.clear = function () {
                    return this.nodes = []
                }, a.prototype.empty = function () {
                    return 0 === this.nodes.length
                }, a.prototype.size = function () {
                    return this.nodes.length
                }, a.prototype.clone = function () {
                    var b;
                    return b = new a, b.nodes = this.nodes.slice(0), b
                }, a.prototype.toArray = function () {
                    return this.nodes.slice(0)
                }, a.prototype.insert = a.prototype.push, a.prototype.remove = a.prototype.pop, a.prototype.top = a.prototype.peek, a.prototype.front = a.prototype.peek, a.prototype.has = a.prototype.contains, a.prototype.copy = a.prototype.clone, a
            }(), ("undefined" != typeof b && null !== b ? b.exports : void 0) ? b.exports = a : window.Heap = a
        }).call(this)
    }), a.define("assert", function (a, b) {
        function c(a, b) {
            return void 0 === b ? "" + b : "number" != typeof b || !isNaN(b) && isFinite(b) ? "function" == typeof b || b instanceof RegExp ? b.toString() : b : b.toString()
        }

        function d(a, b) {
            return "string" == typeof a ? a.length < b ? a : a.slice(0, b) : a
        }

        function e(a, b, c, d, e) {
            throw new p.AssertionError({message: c, actual: a, expected: b, operator: d, stackStartFunction: e})
        }

        function f(a, b) {
            a || e(a, !0, b, "==", p.ok)
        }

        function g(a, b) {
            if (a === b)return !0;
            if (n.isBuffer(a) && n.isBuffer(b)) {
                if (a.length != b.length)return !1;
                for (var c = 0; c < a.length; c++)if (a[c] !== b[c])return !1;
                return !0
            }
            return a instanceof Date && b instanceof Date ? a.getTime() === b.getTime() : "object" != typeof a && "object" != typeof b ? a == b : j(a, b)
        }

        function h(a) {
            return null === a || void 0 === a
        }

        function i(a) {
            return "[object Arguments]" == Object.prototype.toString.call(a)
        }

        function j(a, b) {
            if (h(a) || h(b))return !1;
            if (a.prototype !== b.prototype)return !1;
            if (i(a))return i(b) ? (a = o.call(a), b = o.call(b), g(a, b)) : !1;
            try {
                var c, d, e = Object.keys(a), f = Object.keys(b)
            } catch (j) {
                return !1
            }
            if (e.length != f.length)return !1;
            for (e.sort(), f.sort(), d = e.length - 1; d >= 0; d--)if (e[d] != f[d])return !1;
            for (d = e.length - 1; d >= 0; d--)if (c = e[d], !g(a[c], b[c]))return !1;
            return !0
        }

        function k(a, b) {
            return a && b ? b instanceof RegExp ? b.test(a) : a instanceof b ? !0 : b.call({}, a) === !0 ? !0 : !1 : !1
        }

        function l(a, b, c, d) {
            var f;
            "string" == typeof c && (d = c, c = null);
            try {
                b()
            } catch (g) {
                f = g
            }
            if (d = (c && c.name ? " (" + c.name + ")." : ".") + (d ? " " + d : "."), a && !f && e("Missing expected exception" + d), !a && k(f, c) && e("Got unwanted exception" + d), a && f && c && !k(f, c) || !a && f)throw f
        }

        var m = a("util"), n = a("buffer").Buffer, o = Array.prototype.slice, p = b.exports = f;
        p.AssertionError = function (a) {
            this.name = "AssertionError", this.message = a.message, this.actual = a.actual, this.expected = a.expected, this.operator = a.operator;
            var b = a.stackStartFunction || e;
            Error.captureStackTrace && Error.captureStackTrace(this, b)
        }, m.inherits(p.AssertionError, Error), p.AssertionError.prototype.toString = function () {
            return this.message ? [this.name + ":", this.message].join(" ") : [this.name + ":", d(JSON.stringify(this.actual, c), 128), this.operator, d(JSON.stringify(this.expected, c), 128)].join(" ")
        }, p.AssertionError.__proto__ = Error.prototype, p.fail = e, p.ok = f, p.equal = function (a, b, c) {
            a != b && e(a, b, c, "==", p.equal)
        }, p.notEqual = function (a, b, c) {
            a == b && e(a, b, c, "!=", p.notEqual)
        }, p.deepEqual = function (a, b, c) {
            g(a, b) || e(a, b, c, "deepEqual", p.deepEqual)
        }, p.notDeepEqual = function (a, b, c) {
            g(a, b) && e(a, b, c, "notDeepEqual", p.notDeepEqual)
        }, p.strictEqual = function (a, b, c) {
            a !== b && e(a, b, c, "===", p.strictEqual)
        }, p.notStrictEqual = function (a, b, c) {
            a === b && e(a, b, c, "!==", p.notStrictEqual)
        }, p.throws = function () {
            l.apply(this, [!0].concat(o.call(arguments)))
        }, p.doesNotThrow = function () {
            l.apply(this, [!1].concat(o.call(arguments)))
        }, p.ifError = function (a) {
            if (a)throw a
        }
    }), a.define("util", function (a, b, c) {
        function d(a) {
            return a instanceof Array || Array.isArray(a) || a && a !== Object.prototype && d(a.__proto__)
        }

        function e(a) {
            return a instanceof RegExp || "object" == typeof a && "[object RegExp]" === Object.prototype.toString.call(a)
        }

        function f(a) {
            if (a instanceof Date)return !0;
            if ("object" != typeof a)return !1;
            var b = Date.prototype && j(Date.prototype), c = a.__proto__ && j(a.__proto__);
            return JSON.stringify(c) === JSON.stringify(b)
        }

        function g(a) {
            return 10 > a ? "0" + a.toString(10) : a.toString(10)
        }

        a("events");
        c.print = function () {
        }, c.puts = function () {
        }, c.debug = function () {
        }, c.inspect = function (a, b, g, h) {
            function k(a, g) {
                if (a && "function" == typeof a.inspect && a !== c && (!a.constructor || a.constructor.prototype !== a))return a.inspect(g);
                switch (typeof a) {
                    case"undefined":
                        return m("undefined", "undefined");
                    case"string":
                        var h = "'" + JSON.stringify(a).replace(/^"|"$/g, "").replace(/'/g, "\\'").replace(/\\"/g, '"') + "'";
                        return m(h, "string");
                    case"number":
                        return m("" + a, "number");
                    case"boolean":
                        return m("" + a, "boolean")
                }
                if (null === a)return m("null", "null");
                var n = i(a), o = b ? j(a) : n;
                if ("function" == typeof a && 0 === o.length) {
                    if (e(a))return m("" + a, "regexp");
                    var p = a.name ? ": " + a.name : "";
                    return m("[Function" + p + "]", "special")
                }
                if (f(a) && 0 === o.length)return m(a.toUTCString(), "date");
                var q, r, s;
                if (d(a) ? (r = "Array", s = ["[", "]"]) : (r = "Object", s = ["{", "}"]), "function" == typeof a) {
                    var t = a.name ? ": " + a.name : "";
                    q = e(a) ? " " + a : " [Function" + t + "]"
                } else q = "";
                if (f(a) && (q = " " + a.toUTCString()), 0 === o.length)return s[0] + q + s[1];
                if (0 > g)return e(a) ? m("" + a, "regexp") : m("[Object]", "special");
                l.push(a);
                var u = o.map(function (b) {
                    var c, e;
                    if (a.__lookupGetter__ && (a.__lookupGetter__(b) ? e = a.__lookupSetter__(b) ? m("[Getter/Setter]", "special") : m("[Getter]", "special") : a.__lookupSetter__(b) && (e = m("[Setter]", "special"))), n.indexOf(b) < 0 && (c = "[" + b + "]"), e || (l.indexOf(a[b]) < 0 ? (e = null === g ? k(a[b]) : k(a[b], g - 1), e.indexOf("\n") > -1 && (e = d(a) ? e.split("\n").map(function (a) {
                            return "  " + a
                        }).join("\n").substr(2) : "\n" + e.split("\n").map(function (a) {
                            return "   " + a
                        }).join("\n"))) : e = m("[Circular]", "special")), "undefined" == typeof c) {
                        if ("Array" === r && b.match(/^\d+$/))return e;
                        c = JSON.stringify("" + b), c.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/) ? (c = c.substr(1, c.length - 2), c = m(c, "name")) : (c = c.replace(/'/g, "\\'").replace(/\\"/g, '"').replace(/(^"|"$)/g, "'"), c = m(c, "string"))
                    }
                    return c + ": " + e
                });
                l.pop();
                var v = 0, w = u.reduce(function (a, b) {
                    return v++, b.indexOf("\n") >= 0 && v++, a + b.length + 1
                }, 0);
                return u = w > 50 ? s[0] + ("" === q ? "" : q + "\n ") + " " + u.join(",\n  ") + " " + s[1] : s[0] + q + " " + u.join(", ") + " " + s[1]
            }

            var l = [], m = function (a, b) {
                var c = {
                    bold: [1, 22],
                    italic: [3, 23],
                    underline: [4, 24],
                    inverse: [7, 27],
                    white: [37, 39],
                    grey: [90, 39],
                    black: [30, 39],
                    blue: [34, 39],
                    cyan: [36, 39],
                    green: [32, 39],
                    magenta: [35, 39],
                    red: [31, 39],
                    yellow: [33, 39]
                }, d = {
                    special: "cyan",
                    number: "blue",
                    "boolean": "yellow",
                    undefined: "grey",
                    "null": "bold",
                    string: "green",
                    date: "magenta",
                    regexp: "red"
                }[b];
                return d ? "[" + c[d][0] + "m" + a + "[" + c[d][1] + "m" : a
            };
            return h || (m = function (a) {
                return a
            }), k(a, "undefined" == typeof g ? 2 : g)
        };
        var h = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
        c.log = function () {
        }, c.pump = null;
        var i = Object.keys || function (a) {
                var b = [];
                for (var c in a)b.push(c);
                return b
            }, j = Object.getOwnPropertyNames || function (a) {
                var b = [];
                for (var c in a)Object.hasOwnProperty.call(a, c) && b.push(c);
                return b
            }, k = Object.create || function (a, b) {
                var c;
                if (null === a)c = {__proto__: null}; else {
                    if ("object" != typeof a)throw new TypeError("typeof prototype[" + typeof a + "] != 'object'");
                    var d = function () {
                    };
                    d.prototype = a, c = new d, c.__proto__ = a
                }
                return "undefined" != typeof b && Object.defineProperties && Object.defineProperties(c, b), c
            };
        c.inherits = function (a, b) {
            a.super_ = b, a.prototype = k(b.prototype, {
                constructor: {
                    value: a,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            })
        }
    }), a.define("events", function (a, b, c) {
        process.EventEmitter || (process.EventEmitter = function () {
        });
        var d = c.EventEmitter = process.EventEmitter, e = "function" == typeof Array.isArray ? Array.isArray : function (a) {
            return "[object Array]" === Object.prototype.toString.call(a)
        }, f = 10;
        d.prototype.setMaxListeners = function (a) {
            this._events || (this._events = {}), this._events.maxListeners = a
        }, d.prototype.emit = function (a) {
            if ("error" === a && (!this._events || !this._events.error || e(this._events.error) && !this._events.error.length))throw arguments[1]instanceof Error ? arguments[1] : new Error("Uncaught, unspecified 'error' event.");
            if (!this._events)return !1;
            var b = this._events[a];
            if (!b)return !1;
            if ("function" == typeof b) {
                switch (arguments.length) {
                    case 1:
                        b.call(this);
                        break;
                    case 2:
                        b.call(this, arguments[1]);
                        break;
                    case 3:
                        b.call(this, arguments[1], arguments[2]);
                        break;
                    default:
                        var c = Array.prototype.slice.call(arguments, 1);
                        b.apply(this, c)
                }
                return !0
            }
            if (e(b)) {
                for (var c = Array.prototype.slice.call(arguments, 1), d = b.slice(), f = 0, g = d.length; g > f; f++)d[f].apply(this, c);
                return !0
            }
            return !1
        }, d.prototype.addListener = function (a, b) {
            if ("function" != typeof b)throw new Error("addListener only takes instances of Function");
            if (this._events || (this._events = {}), this.emit("newListener", a, b), this._events[a])if (e(this._events[a])) {
                if (!this._events[a].warned) {
                    var c;
                    c = void 0 !== this._events.maxListeners ? this._events.maxListeners : f, c && c > 0 && this._events[a].length > c && (this._events[a].warned = !0, console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.", this._events[a].length), console.trace())
                }
                this._events[a].push(b)
            } else this._events[a] = [this._events[a], b]; else this._events[a] = b;
            return this
        }, d.prototype.on = d.prototype.addListener, d.prototype.once = function (a, b) {
            var c = this;
            return c.on(a, function d() {
                c.removeListener(a, d), b.apply(this, arguments)
            }), this
        }, d.prototype.removeListener = function (a, b) {
            if ("function" != typeof b)throw new Error("removeListener only takes instances of Function");
            if (!this._events || !this._events[a])return this;
            var c = this._events[a];
            if (e(c)) {
                var d = c.indexOf(b);
                if (0 > d)return this;
                c.splice(d, 1), 0 == c.length && delete this._events[a]
            } else this._events[a] === b && delete this._events[a];
            return this
        }, d.prototype.removeAllListeners = function (a) {
            return a && this._events && this._events[a] && (this._events[a] = null), this
        }, d.prototype.listeners = function (a) {
            return this._events || (this._events = {}), this._events[a] || (this._events[a] = []), e(this._events[a]) || (this._events[a] = [this._events[a]]), this._events[a]
        }
    }), a.define("buffer", function (a, b, c) {
        function d(a) {
            this.length = a
        }

        function e(a) {
            return 16 > a ? "0" + a.toString(16) : a.toString(16)
        }

        function f(a) {
            return a = ~~Math.ceil(+a), 0 > a ? 0 : a
        }

        function g(a, b, c) {
            if (!(this instanceof g))return new g(a, b, c);
            var e;
            if ("number" == typeof c)this.length = f(b), this.parent = a, this.offset = c; else {
                switch (e = typeof a) {
                    case"number":
                        this.length = f(a);
                        break;
                    case"string":
                        this.length = g.byteLength(a, b);
                        break;
                    case"object":
                        this.length = f(a.length);
                        break;
                    default:
                        throw new Error("First argument needs to be a number, array or string.")
                }
                if (this.length > g.poolSize ? (this.parent = new d(this.length), this.offset = 0) : ((!z || z.length - z.used < this.length) && i(), this.parent = z, this.offset = z.used, z.used += this.length), h(a))for (var j = 0; j < this.length; j++)this.parent[j + this.offset] = a[j]; else"string" == e && (this.length = this.write(a, 0, b))
            }
        }

        function h(a) {
            return Array.isArray(a) || g.isBuffer(a) || a && "object" == typeof a && "number" == typeof a.length
        }

        function i() {
            z = new d(g.poolSize), z.used = 0
        }

        function j(a, b, c, d) {
            var e = 0;
            return d || (y.ok("boolean" == typeof c, "missing or invalid endian"), y.ok(void 0 !== b && null !== b, "missing offset"), y.ok(b + 1 < a.length, "Trying to read beyond buffer length")), c ? (e = a[b] << 8, e |= a[b + 1]) : (e = a[b], e |= a[b + 1] << 8), e
        }

        function k(a, b, c, d) {
            var e = 0;
            return d || (y.ok("boolean" == typeof c, "missing or invalid endian"), y.ok(void 0 !== b && null !== b, "missing offset"), y.ok(b + 3 < a.length, "Trying to read beyond buffer length")), c ? (e = a[b + 1] << 16, e |= a[b + 2] << 8, e |= a[b + 3], e += a[b] << 24 >>> 0) : (e = a[b + 2] << 16, e |= a[b + 1] << 8, e |= a[b], e += a[b + 3] << 24 >>> 0), e
        }

        function l(a, b, c, d) {
            var e, f;
            return d || (y.ok("boolean" == typeof c, "missing or invalid endian"), y.ok(void 0 !== b && null !== b, "missing offset"), y.ok(b + 1 < a.length, "Trying to read beyond buffer length")), f = j(a, b, c, d), e = 32768 & f, e ? -1 * (65535 - f + 1) : f
        }

        function m(a, b, c, d) {
            var e, f;
            return d || (y.ok("boolean" == typeof c, "missing or invalid endian"), y.ok(void 0 !== b && null !== b, "missing offset"), y.ok(b + 3 < a.length, "Trying to read beyond buffer length")), f = k(a, b, c, d), e = 2147483648 & f, e ? -1 * (4294967295 - f + 1) : f
        }

        function n(b, c, d, e) {
            return e || (y.ok("boolean" == typeof d, "missing or invalid endian"), y.ok(c + 3 < b.length, "Trying to read beyond buffer length")), a("buffer_ieee754").readIEEE754(b, c, d, 23, 4)
        }

        function o(b, c, d, e) {
            return e || (y.ok("boolean" == typeof d, "missing or invalid endian"), y.ok(c + 7 < b.length, "Trying to read beyond buffer length")), a("buffer_ieee754").readIEEE754(b, c, d, 52, 8)
        }

        function p(a, b) {
            y.ok("number" == typeof a, "cannot write a non-number as a number"), y.ok(a >= 0, "specified a negative value for writing an unsigned value"), y.ok(b >= a, "value is larger than maximum value for type"), y.ok(Math.floor(a) === a, "value has a fractional component")
        }

        function q(a, b, c, d, e) {
            e || (y.ok(void 0 !== b && null !== b, "missing value"), y.ok("boolean" == typeof d, "missing or invalid endian"), y.ok(void 0 !== c && null !== c, "missing offset"), y.ok(c + 1 < a.length, "trying to write beyond buffer length"), p(b, 65535)), d ? (a[c] = (65280 & b) >>> 8, a[c + 1] = 255 & b) : (a[c + 1] = (65280 & b) >>> 8, a[c] = 255 & b)
        }

        function r(a, b, c, d, e) {
            e || (y.ok(void 0 !== b && null !== b, "missing value"), y.ok("boolean" == typeof d, "missing or invalid endian"), y.ok(void 0 !== c && null !== c, "missing offset"), y.ok(c + 3 < a.length, "trying to write beyond buffer length"), p(b, 4294967295)), d ? (a[c] = b >>> 24 & 255, a[c + 1] = b >>> 16 & 255, a[c + 2] = b >>> 8 & 255, a[c + 3] = 255 & b) : (a[c + 3] = b >>> 24 & 255, a[c + 2] = b >>> 16 & 255, a[c + 1] = b >>> 8 & 255, a[c] = 255 & b)
        }

        function s(a, b, c) {
            y.ok("number" == typeof a, "cannot write a non-number as a number"), y.ok(b >= a, "value larger than maximum allowed value"), y.ok(a >= c, "value smaller than minimum allowed value"), y.ok(Math.floor(a) === a, "value has a fractional component")
        }

        function t(a, b, c) {
            y.ok("number" == typeof a, "cannot write a non-number as a number"), y.ok(b >= a, "value larger than maximum allowed value"), y.ok(a >= c, "value smaller than minimum allowed value")
        }

        function u(a, b, c, d, e) {
            e || (y.ok(void 0 !== b && null !== b, "missing value"), y.ok("boolean" == typeof d, "missing or invalid endian"), y.ok(void 0 !== c && null !== c, "missing offset"), y.ok(c + 1 < a.length, "Trying to write beyond buffer length"), s(b, 32767, -32768)), b >= 0 ? q(a, b, c, d, e) : q(a, 65535 + b + 1, c, d, e)
        }

        function v(a, b, c, d, e) {
            e || (y.ok(void 0 !== b && null !== b, "missing value"), y.ok("boolean" == typeof d, "missing or invalid endian"), y.ok(void 0 !== c && null !== c, "missing offset"), y.ok(c + 3 < a.length, "Trying to write beyond buffer length"), s(b, 2147483647, -2147483648)), b >= 0 ? r(a, b, c, d, e) : r(a, 4294967295 + b + 1, c, d, e)
        }

        function w(b, c, d, e, f) {
            f || (y.ok(void 0 !== c && null !== c, "missing value"), y.ok("boolean" == typeof e, "missing or invalid endian"), y.ok(void 0 !== d && null !== d, "missing offset"), y.ok(d + 3 < b.length, "Trying to write beyond buffer length"), t(c, 3.4028234663852886e38, -3.4028234663852886e38)), a("buffer_ieee754").writeIEEE754(b, c, d, e, 23, 4)
        }

        function x(b, c, d, e, f) {
            f || (y.ok(void 0 !== c && null !== c, "missing value"), y.ok("boolean" == typeof e, "missing or invalid endian"), y.ok(void 0 !== d && null !== d, "missing offset"), y.ok(d + 7 < b.length, "Trying to write beyond buffer length"), t(c, 1.7976931348623157e308, -1.7976931348623157e308)), a("buffer_ieee754").writeIEEE754(b, c, d, e, 52, 8)
        }

        var y = a("assert");
        c.INSPECT_MAX_BYTES = 50, d.prototype.inspect = function () {
            for (var a = [], b = this.length, d = 0; b > d; d++)if (a[d] = e(this[d]), d == c.INSPECT_MAX_BYTES) {
                a[d + 1] = "...";
                break
            }
            return "<SlowBuffer " + a.join(" ") + ">"
        }, d.prototype.hexSlice = function (a, b) {
            var c = this.length;
            (!a || 0 > a) && (a = 0), (!b || 0 > b || b > c) && (b = c);
            for (var d = "", f = a; b > f; f++)d += e(this[f]);
            return d
        }, d.prototype.toString = function (a, b, c) {
            if (a = String(a || "utf8").toLowerCase(), b = +b || 0, "undefined" == typeof c && (c = this.length), +c == b)return "";
            switch (a) {
                case"hex":
                    return this.hexSlice(b, c);
                case"utf8":
                case"utf-8":
                    return this.utf8Slice(b, c);
                case"ascii":
                    return this.asciiSlice(b, c);
                case"binary":
                    return this.binarySlice(b, c);
                case"base64":
                    return this.base64Slice(b, c);
                case"ucs2":
                case"ucs-2":
                    return this.ucs2Slice(b, c);
                default:
                    throw new Error("Unknown encoding")
            }
        }, d.prototype.hexWrite = function (a, b, c) {
            b = +b || 0;
            var e = this.length - b;
            c ? (c = +c, c > e && (c = e)) : c = e;
            var f = a.length;
            if (f % 2)throw new Error("Invalid hex string");
            c > f / 2 && (c = f / 2);
            for (var g = 0; c > g; g++) {
                var h = parseInt(a.substr(2 * g, 2), 16);
                if (isNaN(h))throw new Error("Invalid hex string");
                this[b + g] = h
            }
            return d._charsWritten = 2 * g, g
        }, d.prototype.write = function (a, b, c, d) {
            if (isFinite(b))isFinite(c) || (d = c, c = void 0); else {
                var e = d;
                d = b, b = c, c = e
            }
            b = +b || 0;
            var f = this.length - b;
            switch (c ? (c = +c, c > f && (c = f)) : c = f, d = String(d || "utf8").toLowerCase()) {
                case"hex":
                    return this.hexWrite(a, b, c);
                case"utf8":
                case"utf-8":
                    return this.utf8Write(a, b, c);
                case"ascii":
                    return this.asciiWrite(a, b, c);
                case"binary":
                    return this.binaryWrite(a, b, c);
                case"base64":
                    return this.base64Write(a, b, c);
                case"ucs2":
                case"ucs-2":
                    return this.ucs2Write(a, b, c);
                default:
                    throw new Error("Unknown encoding")
            }
        }, d.prototype.slice = function (a, b) {
            if (void 0 === b && (b = this.length), b > this.length)throw new Error("oob");
            if (a > b)throw new Error("oob");
            return new g(this, b - a, +a)
        }, c.SlowBuffer = d, c.Buffer = g, g.poolSize = 8192;
        var z;
        g.isBuffer = function (a) {
            return a instanceof g || a instanceof d
        }, g.prototype.inspect = function () {
            for (var a = [], b = this.length, d = 0; b > d; d++)if (a[d] = e(this.parent[d + this.offset]), d == c.INSPECT_MAX_BYTES) {
                a[d + 1] = "...";
                break
            }
            return "<Buffer " + a.join(" ") + ">"
        }, g.prototype.get = function (a) {
            if (0 > a || a >= this.length)throw new Error("oob");
            return this.parent[this.offset + a]
        }, g.prototype.set = function (a, b) {
            if (0 > a || a >= this.length)throw new Error("oob");
            return this.parent[this.offset + a] = b
        }, g.prototype.write = function (a, b, c, e) {
            if (isFinite(b))isFinite(c) || (e = c, c = void 0); else {
                var f = e;
                e = b, b = c, c = f
            }
            b = +b || 0;
            var h = this.length - b;
            c ? (c = +c, c > h && (c = h)) : c = h, e = String(e || "utf8").toLowerCase();
            var i;
            switch (e) {
                case"hex":
                    i = this.parent.hexWrite(a, this.offset + b, c);
                    break;
                case"utf8":
                case"utf-8":
                    i = this.parent.utf8Write(a, this.offset + b, c);
                    break;
                case"ascii":
                    i = this.parent.asciiWrite(a, this.offset + b, c);
                    break;
                case"binary":
                    i = this.parent.binaryWrite(a, this.offset + b, c);
                    break;
                case"base64":
                    i = this.parent.base64Write(a, this.offset + b, c);
                    break;
                case"ucs2":
                case"ucs-2":
                    i = this.parent.ucs2Write(a, this.offset + b, c);
                    break;
                default:
                    throw new Error("Unknown encoding")
            }
            return g._charsWritten = d._charsWritten, i
        }, g.prototype.toString = function (a, b, c) {
            switch (a = String(a || "utf8").toLowerCase(), "undefined" == typeof b || 0 > b ? b = 0 : b > this.length && (b = this.length), "undefined" == typeof c || c > this.length ? c = this.length : 0 > c && (c = 0), b += this.offset, c += this.offset, a) {
                case"hex":
                    return this.parent.hexSlice(b, c);
                case"utf8":
                case"utf-8":
                    return this.parent.utf8Slice(b, c);
                case"ascii":
                    return this.parent.asciiSlice(b, c);
                case"binary":
                    return this.parent.binarySlice(b, c);
                case"base64":
                    return this.parent.base64Slice(b, c);
                case"ucs2":
                case"ucs-2":
                    return this.parent.ucs2Slice(b, c);
                default:
                    throw new Error("Unknown encoding")
            }
        }, g.byteLength = d.byteLength, g.prototype.fill = function (a, b, c) {
            if (a || (a = 0), b || (b = 0), c || (c = this.length), "string" == typeof a && (a = a.charCodeAt(0)), "number" != typeof a || isNaN(a))throw new Error("value is not a number");
            if (b > c)throw new Error("end < start");
            if (c === b)return 0;
            if (0 == this.length)return 0;
            if (0 > b || b >= this.length)throw new Error("start out of bounds");
            if (0 > c || c > this.length)throw new Error("end out of bounds");
            return this.parent.fill(a, b + this.offset, c + this.offset)
        }, g.prototype.copy = function (a, b, c, d) {
            var e = this;
            if (c || (c = 0), d || (d = this.length), b || (b = 0), c > d)throw new Error("sourceEnd < sourceStart");
            if (d === c)return 0;
            if (0 == a.length || 0 == e.length)return 0;
            if (0 > b || b >= a.length)throw new Error("targetStart out of bounds");
            if (0 > c || c >= e.length)throw new Error("sourceStart out of bounds");
            if (0 > d || d > e.length)throw new Error("sourceEnd out of bounds");
            return d > this.length && (d = this.length), a.length - b < d - c && (d = a.length - b + c), this.parent.copy(a.parent, b + a.offset, c + this.offset, d + this.offset)
        }, g.prototype.slice = function (a, b) {
            if (void 0 === b && (b = this.length), b > this.length)throw new Error("oob");
            if (a > b)throw new Error("oob");
            return new g(this.parent, b - a, +a + this.offset)
        }, g.prototype.utf8Slice = function (a, b) {
            return this.toString("utf8", a, b)
        }, g.prototype.binarySlice = function (a, b) {
            return this.toString("binary", a, b)
        }, g.prototype.asciiSlice = function (a, b) {
            return this.toString("ascii", a, b)
        }, g.prototype.utf8Write = function (a, b) {
            return this.write(a, b, "utf8")
        }, g.prototype.binaryWrite = function (a, b) {
            return this.write(a, b, "binary")
        }, g.prototype.asciiWrite = function (a, b) {
            return this.write(a, b, "ascii")
        }, g.prototype.readUInt8 = function (a, b) {
            var c = this;
            return b || (y.ok(void 0 !== a && null !== a, "missing offset"), y.ok(a < c.length, "Trying to read beyond buffer length")), c[a]
        }, g.prototype.readUInt16LE = function (a, b) {
            return j(this, a, !1, b)
        }, g.prototype.readUInt16BE = function (a, b) {
            return j(this, a, !0, b)
        }, g.prototype.readUInt32LE = function (a, b) {
            return k(this, a, !1, b)
        }, g.prototype.readUInt32BE = function (a, b) {
            return k(this, a, !0, b)
        }, g.prototype.readInt8 = function (a, b) {
            var c, d = this;
            return b || (y.ok(void 0 !== a && null !== a, "missing offset"), y.ok(a < d.length, "Trying to read beyond buffer length")), c = 128 & d[a], c ? -1 * (255 - d[a] + 1) : d[a]
        }, g.prototype.readInt16LE = function (a, b) {
            return l(this, a, !1, b)
        }, g.prototype.readInt16BE = function (a, b) {
            return l(this, a, !0, b)
        }, g.prototype.readInt32LE = function (a, b) {
            return m(this, a, !1, b)
        }, g.prototype.readInt32BE = function (a, b) {
            return m(this, a, !0, b)
        }, g.prototype.readFloatLE = function (a, b) {
            return n(this, a, !1, b)
        }, g.prototype.readFloatBE = function (a, b) {
            return n(this, a, !0, b)
        }, g.prototype.readDoubleLE = function (a, b) {
            return o(this, a, !1, b)
        }, g.prototype.readDoubleBE = function (a, b) {
            return o(this, a, !0, b)
        }, g.prototype.writeUInt8 = function (a, b, c) {
            var d = this;
            c || (y.ok(void 0 !== a && null !== a, "missing value"), y.ok(void 0 !== b && null !== b, "missing offset"), y.ok(b < d.length, "trying to write beyond buffer length"), p(a, 255)), d[b] = a
        }, g.prototype.writeUInt16LE = function (a, b, c) {
            q(this, a, b, !1, c)
        }, g.prototype.writeUInt16BE = function (a, b, c) {
            q(this, a, b, !0, c)
        }, g.prototype.writeUInt32LE = function (a, b, c) {
            r(this, a, b, !1, c)
        }, g.prototype.writeUInt32BE = function (a, b, c) {
            r(this, a, b, !0, c)
        }, g.prototype.writeInt8 = function (a, b, c) {
            var d = this;
            c || (y.ok(void 0 !== a && null !== a, "missing value"), y.ok(void 0 !== b && null !== b, "missing offset"), y.ok(b < d.length, "Trying to write beyond buffer length"), s(a, 127, -128)), a >= 0 ? d.writeUInt8(a, b, c) : d.writeUInt8(255 + a + 1, b, c)
        }, g.prototype.writeInt16LE = function (a, b, c) {
            u(this, a, b, !1, c)
        }, g.prototype.writeInt16BE = function (a, b, c) {
            u(this, a, b, !0, c)
        }, g.prototype.writeInt32LE = function (a, b, c) {
            v(this, a, b, !1, c)
        }, g.prototype.writeInt32BE = function (a, b, c) {
            v(this, a, b, !0, c)
        }, g.prototype.writeFloatLE = function (a, b, c) {
            w(this, a, b, !1, c)
        }, g.prototype.writeFloatBE = function (a, b, c) {
            w(this, a, b, !0, c)
        }, g.prototype.writeDoubleLE = function (a, b, c) {
            x(this, a, b, !1, c)
        }, g.prototype.writeDoubleBE = function (a, b, c) {
            x(this, a, b, !0, c)
        }, d.prototype.readUInt8 = g.prototype.readUInt8, d.prototype.readUInt16LE = g.prototype.readUInt16LE, d.prototype.readUInt16BE = g.prototype.readUInt16BE, d.prototype.readUInt32LE = g.prototype.readUInt32LE, d.prototype.readUInt32BE = g.prototype.readUInt32BE, d.prototype.readInt8 = g.prototype.readInt8, d.prototype.readInt16LE = g.prototype.readInt16LE, d.prototype.readInt16BE = g.prototype.readInt16BE, d.prototype.readInt32LE = g.prototype.readInt32LE, d.prototype.readInt32BE = g.prototype.readInt32BE, d.prototype.readFloatLE = g.prototype.readFloatLE, d.prototype.readFloatBE = g.prototype.readFloatBE, d.prototype.readDoubleLE = g.prototype.readDoubleLE, d.prototype.readDoubleBE = g.prototype.readDoubleBE, d.prototype.writeUInt8 = g.prototype.writeUInt8, d.prototype.writeUInt16LE = g.prototype.writeUInt16LE, d.prototype.writeUInt16BE = g.prototype.writeUInt16BE, d.prototype.writeUInt32LE = g.prototype.writeUInt32LE, d.prototype.writeUInt32BE = g.prototype.writeUInt32BE, d.prototype.writeInt8 = g.prototype.writeInt8, d.prototype.writeInt16LE = g.prototype.writeInt16LE, d.prototype.writeInt16BE = g.prototype.writeInt16BE, d.prototype.writeInt32LE = g.prototype.writeInt32LE, d.prototype.writeInt32BE = g.prototype.writeInt32BE, d.prototype.writeFloatLE = g.prototype.writeFloatLE, d.prototype.writeFloatBE = g.prototype.writeFloatBE, d.prototype.writeDoubleLE = g.prototype.writeDoubleLE, d.prototype.writeDoubleBE = g.prototype.writeDoubleBE
    }), a.define("buffer_ieee754", function (a, b, c) {
        c.readIEEE754 = function (a, b, c, d, e) {
            var f, g, h = 8 * e - d - 1, i = (1 << h) - 1, j = i >> 1, k = -7, l = c ? 0 : e - 1, m = c ? 1 : -1, n = a[b + l];
            for (l += m, f = n & (1 << -k) - 1, n >>= -k, k += h; k > 0; f = 256 * f + a[b + l], l += m, k -= 8);
            for (g = f & (1 << -k) - 1, f >>= -k, k += d; k > 0; g = 256 * g + a[b + l], l += m, k -= 8);
            if (0 === f)f = 1 - j; else {
                if (f === i)return g ? 0 / 0 : 1 / 0 * (n ? -1 : 1);
                g += Math.pow(2, d), f -= j
            }
            return (n ? -1 : 1) * g * Math.pow(2, f - d)
        }, c.writeIEEE754 = function (a, b, c, d, e, f) {
            var g, h, i, j = 8 * f - e - 1, k = (1 << j) - 1, l = k >> 1, m = 23 === e ? Math.pow(2, -24) - Math.pow(2, -77) : 0, n = d ? f - 1 : 0, o = d ? -1 : 1, p = 0 > b || 0 === b && 0 > 1 / b ? 1 : 0;
            for (b = Math.abs(b), isNaN(b) || 1 / 0 === b ? (h = isNaN(b) ? 1 : 0, g = k) : (g = Math.floor(Math.log(b) / Math.LN2), b * (i = Math.pow(2, -g)) < 1 && (g--, i *= 2), b += g + l >= 1 ? m / i : m * Math.pow(2, 1 - l), b * i >= 2 && (g++, i /= 2), g + l >= k ? (h = 0, g = k) : g + l >= 1 ? (h = (b * i - 1) * Math.pow(2, e), g += l) : (h = b * Math.pow(2, l - 1) * Math.pow(2, e), g = 0)); e >= 8; a[c + n] = 255 & h, n += o, h /= 256, e -= 8);
            for (g = g << e | h, j += e; j > 0; a[c + n] = 255 & g, n += o, g /= 256, j -= 8);
            a[c + n - o] |= 128 * p
        }
    }), a.define("/difflib.js", function (a, b, c) {
        (function () {
            var b, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x = [].indexOf || function (a) {
                    for (var b = 0, c = this.length; c > b; b++)if (b in this && this[b] === a)return b;
                    return -1
                };
            j = Math.floor, l = Math.max, m = Math.min, d = a("heap"), h = a("assert"), s = function (a, b) {
                return b ? 2 * a / b : 1
            }, r = function (a, b) {
                var c, d, e, f, g, h;
                for (g = [a.length, b.length], d = g[0], e = g[1], c = f = 0, h = m(d, e); h >= 0 ? h > f : f > h; c = h >= 0 ? ++f : --f) {
                    if (a[c] < b[c])return -1;
                    if (a[c] > b[c])return 1
                }
                return d - e
            }, w = function (a, b) {
                return Object.prototype.hasOwnProperty.call(a, b)
            }, q = function (a) {
                var b, c, d;
                for (c = 0, d = a.length; d > c; c++)if (b = a[c])return !0;
                return !1
            }, g = function () {
                function a(a, b, c, d) {
                    this.isjunk = a, null == b && (b = ""), null == c && (c = ""), this.autojunk = null != d ? d : !0, this.a = this.b = null, this.setSeqs(b, c)
                }

                return a.name = "SequenceMatcher", a.prototype.setSeqs = function (a, b) {
                    return this.setSeq1(a), this.setSeq2(b)
                }, a.prototype.setSeq1 = function (a) {
                    return a !== this.a ? (this.a = a, this.matchingBlocks = this.opcodes = null) : void 0
                }, a.prototype.setSeq2 = function (a) {
                    return a !== this.b ? (this.b = a, this.matchingBlocks = this.opcodes = null, this.fullbcount = null, this._chainB()) : void 0
                }, a.prototype._chainB = function () {
                    var a, b, c, d, e, f, g, h, i, k, l, m, n, o, p, q;
                    for (a = this.b, this.b2j = b = {}, d = m = 0, o = a.length; o > m; d = ++m)c = a[d], f = w(b, c) ? b[c] : b[c] = [], f.push(d);
                    if (h = {}, g = this.isjunk)for (q = Object.keys(b), n = 0, p = q.length; p > n; n++)c = q[n], g(c) && (h[c] = !0, delete b[c]);
                    if (l = {}, i = a.length, this.autojunk && i >= 200) {
                        k = j(i / 100) + 1;
                        for (c in b)e = b[c], e.length > k && (l[c] = !0, delete b[c])
                    }
                    return this.isbjunk = function (a) {
                        return w(h, a)
                    }, this.isbpopular = function (a) {
                        return w(l, a)
                    }
                }, a.prototype.findLongestMatch = function (a, b, c, d) {
                    var e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, x, y, z;
                    for (t = [this.a, this.b, this.b2j, this.isbjunk], e = t[0], f = t[1], g = t[2], l = t[3], u = [a, c, 0], h = u[0], i = u[1], j = u[2], n = {}, k = q = a; b >= a ? b > q : q > b; k = b >= a ? ++q : --q) {
                        for (p = {}, v = w(g, e[k]) ? g[e[k]] : [], r = 0, s = v.length; s > r; r++)if (m = v[r], !(c > m)) {
                            if (m >= d)break;
                            o = p[m] = (n[m - 1] || 0) + 1, o > j && (x = [k - o + 1, m - o + 1, o], h = x[0], i = x[1], j = x[2])
                        }
                        n = p
                    }
                    for (; h > a && i > c && !l(f[i - 1]) && e[h - 1] === f[i - 1];)y = [h - 1, i - 1, j + 1], h = y[0], i = y[1], j = y[2];
                    for (; b > h + j && d > i + j && !l(f[i + j]) && e[h + j] === f[i + j];)j++;
                    for (; h > a && i > c && l(f[i - 1]) && e[h - 1] === f[i - 1];)z = [h - 1, i - 1, j + 1], h = z[0], i = z[1], j = z[2];
                    for (; b > h + j && d > i + j && l(f[i + j]) && e[h + j] === f[i + j];)j++;
                    return [h, i, j]
                }, a.prototype.getMatchingBlocks = function () {
                    var a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, s, t, u, v, w, x, y, z, A;
                    if (this.matchingBlocks)return this.matchingBlocks;
                    for (w = [this.a.length, this.b.length], n = w[0], o = w[1], s = [[0, n, 0, o]], p = []; s.length;)x = s.pop(), b = x[0], a = x[1], d = x[2], c = x[3], y = t = this.findLongestMatch(b, a, d, c), e = y[0], h = y[1], k = y[2], k && (p.push(t), e > b && h > d && s.push([b, e, d, h]), a > e + k && c > h + k && s.push([e + k, a, h + k, c]));
                    for (p.sort(r), f = i = l = 0, q = [], u = 0, v = p.length; v > u; u++)z = p[u], g = z[0], j = z[1], m = z[2], f + l === g && i + l === j ? l += m : (l && q.push([f, i, l]), A = [g, j, m], f = A[0], i = A[1], l = A[2]);
                    return l && q.push([f, i, l]), q.push([n, o, 0]), this.matchingBlocks = q
                }, a.prototype.getOpcodes = function () {
                    var a, b, c, d, e, f, g, h, i, j, k, l;
                    if (this.opcodes)return this.opcodes;
                    for (d = e = 0, this.opcodes = b = [], j = this.getMatchingBlocks(), h = 0, i = j.length; i > h; h++)k = j[h], a = k[0], c = k[1], f = k[2], g = "", a > d && c > e ? g = "replace" : a > d ? g = "delete" : c > e && (g = "insert"), g && b.push([g, d, a, e, c]), l = [a + f, c + f], d = l[0], e = l[1], f && b.push(["equal", a, d, c, e]);
                    return b
                }, a.prototype.getGroupedOpcodes = function (a) {
                    var b, c, d, e, f, g, h, i, j, k, n, o, p, q, r;
                    for (null == a && (a = 3), b = this.getOpcodes(), b.length || (b = [["equal", 0, 1, 0, 1]]), "equal" === b[0][0] && (o = b[0], j = o[0], e = o[1], f = o[2], g = o[3], h = o[4], b[0] = [j, l(e, f - a), f, l(g, h - a), h]), "equal" === b[b.length - 1][0] && (p = b[b.length - 1], j = p[0], e = p[1], f = p[2], g = p[3], h = p[4], b[b.length - 1] = [j, e, m(f, e + a), g, m(h, g + a)]), i = a + a, d = [], c = [], k = 0, n = b.length; n > k; k++)q = b[k], j = q[0], e = q[1], f = q[2], g = q[3], h = q[4], "equal" === j && f - e > i && (c.push([j, e, m(f, e + a), g, m(h, g + a)]), d.push(c), c = [], r = [l(e, f - a), l(g, h - a)], e = r[0], g = r[1]), c.push([j, e, f, g, h]);
                    return c.length && (1 !== c.length || "equal" !== c[0][0]) && d.push(c), d
                }, a.prototype.ratio = function () {
                    var a, b, c, d, e;
                    for (b = 0, e = this.getMatchingBlocks(), c = 0, d = e.length; d > c; c++)a = e[c], b += a[2];
                    return s(b, this.a.length + this.b.length)
                }, a.prototype.quickRatio = function () {
                    var a, b, c, d, e, f, g, h, i, j, k;
                    if (!this.fullbcount)for (this.fullbcount = c = {}, j = this.b, f = 0, h = j.length; h > f; f++)b = j[f], c[b] = (c[b] || 0) + 1;
                    for (c = this.fullbcount, a = {}, d = 0, k = this.a, g = 0, i = k.length; i > g; g++)b = k[g], e = w(a, b) ? a[b] : c[b] || 0, a[b] = e - 1, e > 0 && d++;
                    return s(d, this.a.length + this.b.length)
                }, a.prototype.realQuickRatio = function () {
                    var a, b, c;
                    return c = [this.a.length, this.b.length], a = c[0], b = c[1], s(m(a, b), a + b)
                }, a
            }(), k = function (a, b, c, e) {
                var f, h, i, j, k, l, m, n, o, p;
                if (null == c && (c = 3), null == e && (e = .6), c > 0) {
                    if (e >= 0 && 1 >= e) {
                        for (f = [], h = new g, h.setSeq2(a), k = 0, m = b.length; m > k; k++)j = b[k], h.setSeq1(j), h.realQuickRatio() >= e && h.quickRatio() >= e && h.ratio() >= e && f.push([h.ratio(), j]);
                        for (f = d.nlargest(f, c, r), p = [], l = 0, n = f.length; n > l; l++)o = f[l], i = o[0], j = o[1], p.push(j);
                        return p
                    }
                    throw new Error("cutoff must be in [0.0, 1.0]: (" + e + ")")
                }
                throw new Error("n must be > 0: (" + c + ")")
            }, t = function (a, b) {
                var c, d, e;
                for (e = [0, a.length], c = e[0], d = e[1]; d > c && a[c] === b;)c++;
                return c
            }, b = function () {
                function a(a, b) {
                    this.linejunk = a, this.charjunk = b
                }

                return a.name = "Differ", a.prototype.compare = function (a, b) {
                    var c, d, e, f, h, i, j, k, l, m, n, o, p, q, r;
                    for (h = new g(this.linejunk, a, b), k = [], q = h.getOpcodes(), m = 0, o = q.length; o > m; m++) {
                        switch (r = q[m], l = r[0], d = r[1], c = r[2], f = r[3], e = r[4], l) {
                            case"replace":
                                i = this._fancyReplace(a, d, c, b, f, e);
                                break;
                            case"delete":
                                i = this._dump("-", a, d, c);
                                break;
                            case"insert":
                                i = this._dump("+", b, f, e);
                                break;
                            case"equal":
                                i = this._dump(" ", a, d, c);
                                break;
                            default:
                                throw new Error("unknow tag (" + l + ")")
                        }
                        for (n = 0, p = i.length; p > n; n++)j = i[n], k.push(j)
                    }
                    return k
                }, a.prototype._dump = function (a, b, c, d) {
                    var e, f, g;
                    for (g = [], e = f = c; d >= c ? d > f : f > d; e = d >= c ? ++f : --f)g.push("" + a + " " + b[e]);
                    return g
                }, a.prototype._plainReplace = function (a, b, c, d, e, f) {
                    var g, i, j, k, l, m, n, o, p, q;
                    for (h(c > b && f > e), c - b > f - e ? (g = this._dump("+", d, e, f), l = this._dump("-", a, b, c)) : (g = this._dump("-", a, b, c), l = this._dump("+", d, e, f)), k = [], q = [g, l], m = 0, o = q.length; o > m; m++)for (i = q[m], n = 0, p = i.length; p > n; n++)j = i[n], k.push(j);
                    return k
                }, a.prototype._fancyReplace = function (a, b, c, d, e, f) {
                    var h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z, A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T, U, V, W, X, Y, Z, $, _, ab, bb;
                    for (R = [.74, .75], n = R[0], v = R[1], u = new g(this.charjunk), S = [null, null], w = S[0], x = S[1], D = [], z = F = e; f >= e ? f > F : F > f; z = f >= e ? ++F : --F)for (q = d[z], u.setSeq2(q), y = G = b; c >= b ? c > G : G > c; y = c >= b ? ++G : --G)i = a[y], i !== q ? (u.setSeq1(i), u.realQuickRatio() > n && u.quickRatio() > n && u.ratio() > n && (X = [u.ratio(), y, z], n = X[0], o = X[1], p = X[2])) : null === w && (W = [y, z], w = W[0], x = W[1]);
                    if (v > n) {
                        if (null === w) {
                            for (Y = this._plainReplace(a, b, c, d, e, f), H = 0, J = Y.length; J > H; H++)C = Y[H], D.push(C);
                            return D
                        }
                        Z = [w, x, 1], o = Z[0], p = Z[1], n = Z[2]
                    } else w = null;
                    for ($ = this._fancyHelper(a, b, o, d, e, p), I = 0, K = $.length; K > I; I++)C = $[I], D.push(C);
                    if (_ = [a[o], d[p]], h = _[0], m = _[1], null === w) {
                        for (l = t = "", u.setSeqs(h, m), ab = u.getOpcodes(), O = 0, L = ab.length; L > O; O++)switch (bb = ab[O], E = bb[0], j = bb[1], k = bb[2], r = bb[3], s = bb[4], T = [k - j, s - r], A = T[0], B = T[1], E) {
                            case"replace":
                                l += Array(A + 1).join("^"), t += Array(B + 1).join("^");
                                break;
                            case"delete":
                                l += Array(A + 1).join("-");
                                break;
                            case"insert":
                                t += Array(B + 1).join("+");
                                break;
                            case"equal":
                                l += Array(A + 1).join(" "), t += Array(B + 1).join(" ");
                                break;
                            default:
                                throw new Error("unknow tag (" + E + ")")
                        }
                        for (U = this._qformat(h, m, l, t), P = 0, M = U.length; M > P; P++)C = U[P], D.push(C)
                    } else D.push("  " + h);
                    for (V = this._fancyHelper(a, o + 1, c, d, p + 1, f), Q = 0, N = V.length; N > Q; Q++)C = V[Q], D.push(C);
                    return D
                }, a.prototype._fancyHelper = function (a, b, c, d, e, f) {
                    var g;
                    return g = [], c > b ? g = f > e ? this._fancyReplace(a, b, c, d, e, f) : this._dump("-", a, b, c) : f > e && (g = this._dump("+", d, e, f)), g
                }, a.prototype._qformat = function (a, b, c, d) {
                    var e, f;
                    return f = [], e = m(t(a, "	"), t(b, "	")), e = m(e, t(c.slice(0, e), " ")), e = m(e, t(d.slice(0, e), " ")), c = c.slice(e).replace(/\s+$/, ""), d = d.slice(e).replace(/\s+$/, ""), f.push("- " + a), c.length && f.push("? " + Array(e + 1).join("	") + c + "\n"), f.push("+ " + b), d.length && f.push("? " + Array(e + 1).join("	") + d + "\n"), f
                }, a
            }(), f = function (a, b) {
                return null == b && (b = /^\s*#?\s*$/), b.test(a)
            }, e = function (a, b) {
                return null == b && (b = " 	"), x.call(b, a) >= 0
            }, v = function (a, b) {
                var c, d;
                return c = a + 1, d = b - a, 1 === d ? "" + c : (d || c--, "" + c + "," + d)
            }, p = function (a, b, c) {
                var d, e, f, h, i, j, k, l, m, n, o, p, q, r, s, t, u, w, x, y, z, A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q;
                for (K = null != c ? c : {}, i = K.fromfile, y = K.tofile, j = K.fromfiledate, z = K.tofiledate, t = K.n, s = K.lineterm, null == i && (i = ""), null == y && (y = ""), null == j && (j = ""), null == z && (z = ""), null == t && (t = 3), null == s && (s = "\n"), r = [], u = !1, L = new g(null, a, b).getGroupedOpcodes(), A = 0, E = L.length; E > A; A++)for (k = L[A], u || (u = !0, h = j ? "	" + j : "", x = z ? "	" + z : "", r.push("--- " + i + h + s), r.push("+++ " + y + x + s)), M = [k[0], k[k.length - 1]], f = M[0], p = M[1], d = v(f[1], p[2]), e = v(f[3], p[4]), r.push("@@ -" + d + " +" + e + " @@" + s), B = 0, F = k.length; F > B; B++)if (N = k[B], w = N[0], l = N[1], m = N[2], n = N[3], o = N[4], "equal" !== w) {
                    if ("replace" === w || "delete" === w)for (P = a.slice(l, m), D = 0, H = P.length; H > D; D++)q = P[D], r.push("-" + q);
                    if ("replace" === w || "insert" === w)for (Q = b.slice(n, o), J = 0, I = Q.length; I > J; J++)q = Q[J], r.push("+" + q)
                } else for (O = a.slice(l, m), C = 0, G = O.length; G > C; C++)q = O[C], r.push(" " + q);
                return r
            }, u = function (a, b) {
                var c, d;
                return c = a + 1, d = b - a, d || c--, 1 >= d ? "" + c : "" + c + "," + (c + d - 1)
            }, i = function (a, b, c) {
                var d, e, f, h, i, j, k, l, m, n, o, p, r, s, t, v, w, x, y, z, A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T;
                for (N = null != c ? c : {}, i = N.fromfile, A = N.tofile, j = N.fromfiledate, B = N.tofiledate, v = N.n, t = N.lineterm, null == i && (i = ""), null == A && (A = ""), null == j && (j = ""), null == B && (B = ""), null == v && (v = 3), null == t && (t = "\n"), w = {
                    insert: "+ ",
                    "delete": "- ",
                    replace: "! ",
                    equal: "  "
                }, x = !1, s = [], O = new g(null, a, b).getGroupedOpcodes(), D = 0, H = O.length; H > D; D++)if (k = O[D], !x) {
                    if (x = !0, h = j ? "	" + j : "", z = B ? "	" + B : "", s.push("*** " + i + h + t), s.push("--- " + A + z + t), P = [k[0], k[k.length - 1]], f = P[0], p = P[1], s.push("***************" + t), d = u(f[1], p[2]), s.push("*** " + d + " ****" + t), q(function () {
                            var a, b, c, d;
                            for (d = [], a = 0, b = k.length; b > a; a++)c = k[a], y = c[0], C = c[1], C = c[2], C = c[3], C = c[4], d.push("replace" === y || "delete" === y);
                            return d
                        }()))for (E = 0, I = k.length; I > E; E++)if (Q = k[E], y = Q[0], l = Q[1], m = Q[2], C = Q[3], C = Q[4], "insert" !== y)for (R = a.slice(l, m), F = 0, J = R.length; J > F; F++)r = R[F], s.push(w[y] + r);
                    if (e = u(f[3], p[4]), s.push("--- " + e + " ----" + t), q(function () {
                            var a, b, c, d;
                            for (d = [], a = 0, b = k.length; b > a; a++)c = k[a], y = c[0], C = c[1], C = c[2], C = c[3], C = c[4], d.push("replace" === y || "insert" === y);
                            return d
                        }()))for (G = 0, K = k.length; K > G; G++)if (S = k[G], y = S[0], C = S[1], C = S[2], n = S[3], o = S[4], "delete" !== y)for (T = b.slice(n, o), M = 0, L = T.length; L > M; M++)r = T[M], s.push(w[y] + r)
                }
                return s
            }, n = function (a, c, d, f) {
                return null == f && (f = e), new b(d, f).compare(a, c)
            }, o = function (a, b) {
                var c, d, e, f, g, h, i;
                if (f = {1: "- ", 2: "+ "}[b], !f)throw new Error("unknow delta choice (must be 1 or 2): " + b);
                for (e = ["  ", f], d = [], g = 0, h = a.length; h > g; g++)c = a[g], i = c.slice(0, 2), x.call(e, i) >= 0 && d.push(c.slice(2));
                return d
            }, c._arrayCmp = r, c.SequenceMatcher = g, c.getCloseMatches = k, c._countLeading = t, c.Differ = b, c.IS_LINE_JUNK = f, c.IS_CHARACTER_JUNK = e, c._formatRangeUnified = v, c.unifiedDiff = p, c._formatRangeContext = u, c.contextDiff = i, c.ndiff = n, c.restore = o
        }).call(this)
    }), a("/difflib.js"), a("/difflib")
}(), DIFF_DELETE = -1, DIFF_INSERT = 1, DIFF_EQUAL = 0;
diff_match_patch.Diff, diff_match_patch.prototype.diff_main = function (a, b, c, d) {
    "undefined" == typeof d && (d = this.Diff_Timeout <= 0 ? Number.MAX_VALUE : (new Date).getTime() + 1e3 * this.Diff_Timeout);
    var e = d;
    if (null == a || null == b)throw new Error("Null input. (diff_main)");
    if (a == b)return a ? [[DIFF_EQUAL, a]] : [];
    "undefined" == typeof c && (c = !0);
    var f = c, g = this.diff_commonPrefix(a, b), h = a.substring(0, g);
    a = a.substring(g), b = b.substring(g), g = this.diff_commonSuffix(a, b);
    var i = a.substring(a.length - g);
    a = a.substring(0, a.length - g), b = b.substring(0, b.length - g);
    var j = this.diff_compute_(a, b, f, e);
    return h && j.unshift([DIFF_EQUAL, h]), i && j.push([DIFF_EQUAL, i]), this.diff_cleanupMerge(j), j
}, diff_match_patch.prototype.diff_compute_ = function (a, b, c, d) {
    var e;
    if (!a)return [[DIFF_INSERT, b]];
    if (!b)return [[DIFF_DELETE, a]];
    var f = a.length > b.length ? a : b, g = a.length > b.length ? b : a, h = f.indexOf(g);
    if (-1 != h)return e = [[DIFF_INSERT, f.substring(0, h)], [DIFF_EQUAL, g], [DIFF_INSERT, f.substring(h + g.length)]], a.length > b.length && (e[0][0] = e[2][0] = DIFF_DELETE), e;
    if (1 == g.length)return [[DIFF_DELETE, a], [DIFF_INSERT, b]];
    var i = this.diff_halfMatch_(a, b);
    if (i) {
        var j = i[0], k = i[1], l = i[2], m = i[3], n = i[4], o = this.diff_main(j, l, c, d), p = this.diff_main(k, m, c, d);
        return o.concat([[DIFF_EQUAL, n]], p)
    }
    return c && a.length > 100 && b.length > 100 ? this.diff_lineMode_(a, b, d) : this.diff_bisect_(a, b, d)
}, diff_match_patch.prototype.diff_lineMode_ = function (a, b, c) {
    var d = this.diff_linesToChars_(a, b);
    a = d.chars1, b = d.chars2;
    var e = d.lineArray, f = this.diff_main(a, b, !1, c);
    this.diff_charsToLines_(f, e), this.diff_cleanupSemantic(f), f.push([DIFF_EQUAL, ""]);
    for (var g = 0, h = 0, i = 0, j = "", k = ""; g < f.length;) {
        switch (f[g][0]) {
            case DIFF_INSERT:
                i++, k += f[g][1];
                break;
            case DIFF_DELETE:
                h++, j += f[g][1];
                break;
            case DIFF_EQUAL:
                if (h >= 1 && i >= 1) {
                    f.splice(g - h - i, h + i), g = g - h - i;
                    for (var d = this.diff_main(j, k, !1, c), l = d.length - 1; l >= 0; l--)f.splice(g, 0, d[l]);
                    g += d.length
                }
                i = 0, h = 0, j = "", k = ""
        }
        g++
    }
    return f.pop(), f
}, diff_match_patch.prototype.diff_bisect_ = function (a, b, c) {
    for (var d = a.length, e = b.length, f = Math.ceil((d + e) / 2), g = f, h = 2 * f, i = new Array(h), j = new Array(h), k = 0; h > k; k++)i[k] = -1, j[k] = -1;
    i[g + 1] = 0, j[g + 1] = 0;
    for (var l = d - e, m = l % 2 != 0, n = 0, o = 0, p = 0, q = 0, r = 0; f > r && !((new Date).getTime() > c); r++) {
        for (var s = -r + n; r - o >= s; s += 2) {
            var t, u = g + s;
            t = s == -r || s != r && i[u - 1] < i[u + 1] ? i[u + 1] : i[u - 1] + 1;
            for (var v = t - s; d > t && e > v && a.charAt(t) == b.charAt(v);)t++, v++;
            if (i[u] = t, t > d)o += 2; else if (v > e)n += 2; else if (m) {
                var w = g + l - s;
                if (w >= 0 && h > w && -1 != j[w]) {
                    var x = d - j[w];
                    if (t >= x)return this.diff_bisectSplit_(a, b, t, v, c)
                }
            }
        }
        for (var y = -r + p; r - q >= y; y += 2) {
            var x, w = g + y;
            x = y == -r || y != r && j[w - 1] < j[w + 1] ? j[w + 1] : j[w - 1] + 1;
            for (var z = x - y; d > x && e > z && a.charAt(d - x - 1) == b.charAt(e - z - 1);)x++, z++;
            if (j[w] = x, x > d)q += 2; else if (z > e)p += 2; else if (!m) {
                var u = g + l - y;
                if (u >= 0 && h > u && -1 != i[u]) {
                    var t = i[u], v = g + t - u;
                    if (x = d - x, t >= x)return this.diff_bisectSplit_(a, b, t, v, c)
                }
            }
        }
    }
    return [[DIFF_DELETE, a], [DIFF_INSERT, b]]
}, diff_match_patch.prototype.diff_bisectSplit_ = function (a, b, c, d, e) {
    var f = a.substring(0, c), g = b.substring(0, d), h = a.substring(c), i = b.substring(d), j = this.diff_main(f, g, !1, e), k = this.diff_main(h, i, !1, e);
    return j.concat(k)
}, diff_match_patch.prototype.diff_linesToChars_ = function (a, b) {
    function c(a) {
        for (var b = "", c = 0, f = -1, g = d.length; f < a.length - 1;) {
            f = a.indexOf("\n", c), -1 == f && (f = a.length - 1);
            var h = a.substring(c, f + 1);
            c = f + 1, (e.hasOwnProperty ? e.hasOwnProperty(h) : void 0 !== e[h]) ? b += String.fromCharCode(e[h]) : (b += String.fromCharCode(g), e[h] = g, d[g++] = h)
        }
        return b
    }

    var d = [], e = {};
    d[0] = "";
    var f = c(a), g = c(b);
    return {chars1: f, chars2: g, lineArray: d}
}, diff_match_patch.prototype.diff_charsToLines_ = function (a, b) {
    for (var c = 0; c < a.length; c++) {
        for (var d = a[c][1], e = [], f = 0; f < d.length; f++)e[f] = b[d.charCodeAt(f)];
        a[c][1] = e.join("")
    }
}, diff_match_patch.prototype.diff_commonPrefix = function (a, b) {
    if (!a || !b || a.charAt(0) != b.charAt(0))return 0;
    for (var c = 0, d = Math.min(a.length, b.length), e = d, f = 0; e > c;)a.substring(f, e) == b.substring(f, e) ? (c = e, f = c) : d = e, e = Math.floor((d - c) / 2 + c);
    return e
}, diff_match_patch.prototype.diff_commonSuffix = function (a, b) {
    if (!a || !b || a.charAt(a.length - 1) != b.charAt(b.length - 1))return 0;
    for (var c = 0, d = Math.min(a.length, b.length), e = d, f = 0; e > c;)a.substring(a.length - e, a.length - f) == b.substring(b.length - e, b.length - f) ? (c = e, f = c) : d = e, e = Math.floor((d - c) / 2 + c);
    return e
}, diff_match_patch.prototype.diff_commonOverlap_ = function (a, b) {
    var c = a.length, d = b.length;
    if (0 == c || 0 == d)return 0;
    c > d ? a = a.substring(c - d) : d > c && (b = b.substring(0, c));
    var e = Math.min(c, d);
    if (a == b)return e;
    for (var f = 0, g = 1; ;) {
        var h = a.substring(e - g), i = b.indexOf(h);
        if (-1 == i)return f;
        g += i, (0 == i || a.substring(e - g) == b.substring(0, g)) && (f = g, g++)
    }
}, diff_match_patch.prototype.diff_halfMatch_ = function (a, b) {
    function c(a, b, c) {
        for (var d, e, f, h, i = a.substring(c, c + Math.floor(a.length / 4)), j = -1, k = ""; -1 != (j = b.indexOf(i, j + 1));) {
            var l = g.diff_commonPrefix(a.substring(c), b.substring(j)), m = g.diff_commonSuffix(a.substring(0, c), b.substring(0, j));
            k.length < m + l && (k = b.substring(j - m, j) + b.substring(j, j + l), d = a.substring(0, c - m), e = a.substring(c + l), f = b.substring(0, j - m), h = b.substring(j + l))
        }
        return 2 * k.length >= a.length ? [d, e, f, h, k] : null
    }

    if (this.Diff_Timeout <= 0)return null;
    var d = a.length > b.length ? a : b, e = a.length > b.length ? b : a;
    if (d.length < 4 || 2 * e.length < d.length)return null;
    var f, g = this, h = c(d, e, Math.ceil(d.length / 4)), i = c(d, e, Math.ceil(d.length / 2));
    if (!h && !i)return null;
    f = i ? h ? h[4].length > i[4].length ? h : i : i : h;
    var j, k, l, m;
    a.length > b.length ? (j = f[0], k = f[1], l = f[2], m = f[3]) : (l = f[0], m = f[1], j = f[2], k = f[3]);
    var n = f[4];
    return [j, k, l, m, n]
}, diff_match_patch.prototype.diff_cleanupSemantic = function (a) {
    for (var b = !1, c = [], d = 0, e = null, f = 0, g = 0, h = 0, i = 0, j = 0; f < a.length;)a[f][0] == DIFF_EQUAL ? (c[d++] = f, g = i, h = j, i = 0, j = 0, e = a[f][1]) : (a[f][0] == DIFF_INSERT ? i += a[f][1].length : j += a[f][1].length, e && e.length <= Math.max(g, h) && e.length <= Math.max(i, j) && (a.splice(c[d - 1], 0, [DIFF_DELETE, e]), a[c[d - 1] + 1][0] = DIFF_INSERT, d--, d--, f = d > 0 ? c[d - 1] : -1, g = 0, h = 0, i = 0, j = 0, e = null, b = !0)), f++;
    for (b && this.diff_cleanupMerge(a), this.diff_cleanupSemanticLossless(a), f = 1; f < a.length;) {
        if (a[f - 1][0] == DIFF_DELETE && a[f][0] == DIFF_INSERT) {
            var k = a[f - 1][1], l = a[f][1], m = this.diff_commonOverlap_(k, l), n = this.diff_commonOverlap_(l, k);
            m >= n ? (m >= k.length / 2 || m >= l.length / 2) && (a.splice(f, 0, [DIFF_EQUAL, l.substring(0, m)]), a[f - 1][1] = k.substring(0, k.length - m), a[f + 1][1] = l.substring(m), f++) : (n >= k.length / 2 || n >= l.length / 2) && (a.splice(f, 0, [DIFF_EQUAL, k.substring(0, n)]), a[f - 1][0] = DIFF_INSERT, a[f - 1][1] = l.substring(0, l.length - n), a[f + 1][0] = DIFF_DELETE, a[f + 1][1] = k.substring(n), f++), f++
        }
        f++
    }
}, diff_match_patch.prototype.diff_cleanupSemanticLossless = function (a) {
    function b(a, b) {
        if (!a || !b)return 6;
        var c = a.charAt(a.length - 1), d = b.charAt(0), e = c.match(diff_match_patch.nonAlphaNumericRegex_), f = d.match(diff_match_patch.nonAlphaNumericRegex_), g = e && c.match(diff_match_patch.whitespaceRegex_), h = f && d.match(diff_match_patch.whitespaceRegex_), i = g && c.match(diff_match_patch.linebreakRegex_), j = h && d.match(diff_match_patch.linebreakRegex_), k = i && a.match(diff_match_patch.blanklineEndRegex_), l = j && b.match(diff_match_patch.blanklineStartRegex_);
        return k || l ? 5 : i || j ? 4 : e && !g && h ? 3 : g || h ? 2 : e || f ? 1 : 0
    }

    for (var c = 1; c < a.length - 1;) {
        if (a[c - 1][0] == DIFF_EQUAL && a[c + 1][0] == DIFF_EQUAL) {
            var d = a[c - 1][1], e = a[c][1], f = a[c + 1][1], g = this.diff_commonSuffix(d, e);
            if (g) {
                var h = e.substring(e.length - g);
                d = d.substring(0, d.length - g), e = h + e.substring(0, e.length - g), f = h + f
            }
            for (var i = d, j = e, k = f, l = b(d, e) + b(e, f); e.charAt(0) === f.charAt(0);) {
                d += e.charAt(0), e = e.substring(1) + f.charAt(0), f = f.substring(1);
                var m = b(d, e) + b(e, f);
                m >= l && (l = m, i = d, j = e, k = f)
            }
            a[c - 1][1] != i && (i ? a[c - 1][1] = i : (a.splice(c - 1, 1), c--), a[c][1] = j, k ? a[c + 1][1] = k : (a.splice(c + 1, 1), c--))
        }
        c++
    }
}, diff_match_patch.nonAlphaNumericRegex_ = /[^a-zA-Z0-9]/, diff_match_patch.whitespaceRegex_ = /\s/, diff_match_patch.linebreakRegex_ = /[\r\n]/, diff_match_patch.blanklineEndRegex_ = /\n\r?\n$/, diff_match_patch.blanklineStartRegex_ = /^\r?\n\r?\n/, diff_match_patch.prototype.diff_cleanupEfficiency = function (a) {
    for (var b = !1, c = [], d = 0, e = null, f = 0, g = !1, h = !1, i = !1, j = !1; f < a.length;)a[f][0] == DIFF_EQUAL ? (a[f][1].length < this.Diff_EditCost && (i || j) ? (c[d++] = f, g = i, h = j, e = a[f][1]) : (d = 0, e = null), i = j = !1) : (a[f][0] == DIFF_DELETE ? j = !0 : i = !0, e && (g && h && i && j || e.length < this.Diff_EditCost / 2 && g + h + i + j == 3) && (a.splice(c[d - 1], 0, [DIFF_DELETE, e]), a[c[d - 1] + 1][0] = DIFF_INSERT, d--, e = null, g && h ? (i = j = !0, d = 0) : (d--, f = d > 0 ? c[d - 1] : -1, i = j = !1), b = !0)), f++;
    b && this.diff_cleanupMerge(a)
}, diff_match_patch.prototype.diff_cleanupMerge = function (a) {
    a.push([DIFF_EQUAL, ""]);
    for (var b, c = 0, d = 0, e = 0, f = "", g = ""; c < a.length;)switch (a[c][0]) {
        case DIFF_INSERT:
            e++, g += a[c][1], c++;
            break;
        case DIFF_DELETE:
            d++, f += a[c][1], c++;
            break;
        case DIFF_EQUAL:
            d + e > 1 ? (0 !== d && 0 !== e && (b = this.diff_commonPrefix(g, f), 0 !== b && (c - d - e > 0 && a[c - d - e - 1][0] == DIFF_EQUAL ? a[c - d - e - 1][1] += g.substring(0, b) : (a.splice(0, 0, [DIFF_EQUAL, g.substring(0, b)]), c++), g = g.substring(b), f = f.substring(b)), b = this.diff_commonSuffix(g, f), 0 !== b && (a[c][1] = g.substring(g.length - b) + a[c][1], g = g.substring(0, g.length - b), f = f.substring(0, f.length - b))), 0 === d ? a.splice(c - e, d + e, [DIFF_INSERT, g]) : 0 === e ? a.splice(c - d, d + e, [DIFF_DELETE, f]) : a.splice(c - d - e, d + e, [DIFF_DELETE, f], [DIFF_INSERT, g]), c = c - d - e + (d ? 1 : 0) + (e ? 1 : 0) + 1) : 0 !== c && a[c - 1][0] == DIFF_EQUAL ? (a[c - 1][1] += a[c][1], a.splice(c, 1)) : c++, e = 0, d = 0, f = "", g = ""
    }
    "" === a[a.length - 1][1] && a.pop();
    var h = !1;
    for (c = 1; c < a.length - 1;)a[c - 1][0] == DIFF_EQUAL && a[c + 1][0] == DIFF_EQUAL && (a[c][1].substring(a[c][1].length - a[c - 1][1].length) == a[c - 1][1] ? (a[c][1] = a[c - 1][1] + a[c][1].substring(0, a[c][1].length - a[c - 1][1].length), a[c + 1][1] = a[c - 1][1] + a[c + 1][1], a.splice(c - 1, 1), h = !0) : a[c][1].substring(0, a[c + 1][1].length) == a[c + 1][1] && (a[c - 1][1] += a[c + 1][1], a[c][1] = a[c][1].substring(a[c + 1][1].length) + a[c + 1][1], a.splice(c + 1, 1), h = !0)), c++;
    h && this.diff_cleanupMerge(a)
}, diff_match_patch.prototype.diff_xIndex = function (a, b) {
    var c, d = 0, e = 0, f = 0, g = 0;
    for (c = 0; c < a.length && (a[c][0] !== DIFF_INSERT && (d += a[c][1].length), a[c][0] !== DIFF_DELETE && (e += a[c][1].length), !(d > b)); c++)f = d, g = e;
    return a.length != c && a[c][0] === DIFF_DELETE ? g : g + (b - f)
}, diff_match_patch.prototype.diff_prettyHtml = function (a) {
    for (var b = [], c = /&/g, d = /</g, e = />/g, f = /\n/g, g = 0; g < a.length; g++) {
        var h = a[g][0], i = a[g][1], j = i.replace(c, "&amp;").replace(d, "&lt;").replace(e, "&gt;").replace(f, "<br>");
        switch (h) {
            case DIFF_INSERT:
                b[g] = '<span class="insert diff">' + j + "</span>";
                break;
            case DIFF_DELETE:
                b[g] = '<span class="delete diff">' + j + "</span>";
                break;
            case DIFF_EQUAL:
                b[g] = "<span>" + j + "</span>"
        }
    }
    return b.join("")
}, diff_match_patch.prototype.diff_text1 = function (a) {
    for (var b = [], c = 0; c < a.length; c++)a[c][0] !== DIFF_INSERT && (b[c] = a[c][1]);
    return b.join("")
}, diff_match_patch.prototype.diff_text2 = function (a) {
    for (var b = [], c = 0; c < a.length; c++)a[c][0] !== DIFF_DELETE && (b[c] = a[c][1]);
    return b.join("")
}, diff_match_patch.prototype.diff_levenshtein = function (a) {
    for (var b = 0, c = 0, d = 0, e = 0; e < a.length; e++) {
        var f = a[e][0], g = a[e][1];
        switch (f) {
            case DIFF_INSERT:
                c += g.length;
                break;
            case DIFF_DELETE:
                d += g.length;
                break;
            case DIFF_EQUAL:
                b += Math.max(c, d), c = 0, d = 0
        }
    }
    return b += Math.max(c, d)
}, diff_match_patch.prototype.diff_toDelta = function (a) {
    for (var b = [], c = 0; c < a.length; c++)switch (a[c][0]) {
        case DIFF_INSERT:
            b[c] = "+" + encodeURI(a[c][1]);
            break;
        case DIFF_DELETE:
            b[c] = "-" + a[c][1].length;
            break;
        case DIFF_EQUAL:
            b[c] = "=" + a[c][1].length
    }
    return b.join("	").replace(/%20/g, " ")
}, diff_match_patch.prototype.diff_fromDelta = function (a, b) {
    for (var c = [], d = 0, e = 0, f = b.split(/\t/g), g = 0; g < f.length; g++) {
        var h = f[g].substring(1);
        switch (f[g].charAt(0)) {
            case"+":
                try {
                    c[d++] = [DIFF_INSERT, decodeURI(h)]
                } catch (i) {
                    throw new Error("Illegal escape in diff_fromDelta: " + h)
                }
                break;
            case"-":
            case"=":
                var j = parseInt(h, 10);
                if (isNaN(j) || 0 > j)throw new Error("Invalid number in diff_fromDelta: " + h);
                var k = a.substring(e, e += j);
                c[d++] = "=" == f[g].charAt(0) ? [DIFF_EQUAL, k] : [DIFF_DELETE, k];
                break;
            default:
                if (f[g])throw new Error("Invalid diff operation in diff_fromDelta: " + f[g])
        }
    }
    if (e != a.length)throw new Error("Delta length (" + e + ") does not equal source text length (" + a.length + ").");
    return c
}, diff_match_patch.prototype.match_main = function (a, b, c) {
    if (null == a || null == b || null == c)throw new Error("Null input. (match_main)");
    return c = Math.max(0, Math.min(c, a.length)), a == b ? 0 : a.length ? a.substring(c, c + b.length) == b ? c : this.match_bitap_(a, b, c) : -1
}, diff_match_patch.prototype.match_bitap_ = function (a, b, c) {
    function d(a, d) {
        var e = a / b.length, g = Math.abs(c - d);
        return f.Match_Distance ? e + g / f.Match_Distance : g ? 1 : e
    }

    if (b.length > this.Match_MaxBits)throw new Error("Pattern too long for this browser.");
    var e = this.match_alphabet_(b), f = this, g = this.Match_Threshold, h = a.indexOf(b, c);
    -1 != h && (g = Math.min(d(0, h), g), h = a.lastIndexOf(b, c + b.length), -1 != h && (g = Math.min(d(0, h), g)));
    var i = 1 << b.length - 1;
    h = -1;
    for (var j, k, l, m = b.length + a.length, n = 0; n < b.length; n++) {
        for (j = 0, k = m; k > j;)d(n, c + k) <= g ? j = k : m = k, k = Math.floor((m - j) / 2 + j);
        m = k;
        var o = Math.max(1, c - k + 1), p = Math.min(c + k, a.length) + b.length, q = Array(p + 2);
        q[p + 1] = (1 << n) - 1;
        for (var r = p; r >= o; r--) {
            var s = e[a.charAt(r - 1)];
            if (q[r] = 0 === n ? (q[r + 1] << 1 | 1) & s : (q[r + 1] << 1 | 1) & s | ((l[r + 1] | l[r]) << 1 | 1) | l[r + 1], q[r] & i) {
                var t = d(n, r - 1);
                if (g >= t) {
                    if (g = t, h = r - 1, !(h > c))break;
                    o = Math.max(1, 2 * c - h)
                }
            }
        }
        if (d(n + 1, c) > g)break;
        l = q
    }
    return h
}, diff_match_patch.prototype.match_alphabet_ = function (a) {
    for (var b = {}, c = 0; c < a.length; c++)b[a.charAt(c)] = 0;
    for (var c = 0; c < a.length; c++)b[a.charAt(c)] |= 1 << a.length - c - 1;
    return b
}, diff_match_patch.prototype.patch_addContext_ = function (a, b) {
    if (0 != b.length) {
        for (var c = b.substring(a.start2, a.start2 + a.length1), d = 0; b.indexOf(c) != b.lastIndexOf(c) && c.length < this.Match_MaxBits - this.Patch_Margin - this.Patch_Margin;)d += this.Patch_Margin, c = b.substring(a.start2 - d, a.start2 + a.length1 + d);
        d += this.Patch_Margin;
        var e = b.substring(a.start2 - d, a.start2);
        e && a.diffs.unshift([DIFF_EQUAL, e]);
        var f = b.substring(a.start2 + a.length1, a.start2 + a.length1 + d);
        f && a.diffs.push([DIFF_EQUAL, f]), a.start1 -= e.length, a.start2 -= e.length, a.length1 += e.length + f.length, a.length2 += e.length + f.length
    }
}, diff_match_patch.prototype.patch_make = function (a, b, c) {
    var d, e;
    if ("string" == typeof a && "string" == typeof b && "undefined" == typeof c)d = a, e = this.diff_main(d, b, !0), e.length > 2 && (this.diff_cleanupSemantic(e), this.diff_cleanupEfficiency(e)); else if (a && "object" == typeof a && "undefined" == typeof b && "undefined" == typeof c)e = a, d = this.diff_text1(e); else if ("string" == typeof a && b && "object" == typeof b && "undefined" == typeof c)d = a, e = b; else {
        if ("string" != typeof a || "string" != typeof b || !c || "object" != typeof c)throw new Error("Unknown call format to patch_make.");
        d = a, e = c
    }
    if (0 === e.length)return [];
    for (var f = [], g = new diff_match_patch.patch_obj, h = 0, i = 0, j = 0, k = d, l = d, m = 0; m < e.length; m++) {
        var n = e[m][0], o = e[m][1];
        switch (h || n === DIFF_EQUAL || (g.start1 = i, g.start2 = j), n) {
            case DIFF_INSERT:
                g.diffs[h++] = e[m], g.length2 += o.length, l = l.substring(0, j) + o + l.substring(j);
                break;
            case DIFF_DELETE:
                g.length1 += o.length, g.diffs[h++] = e[m], l = l.substring(0, j) + l.substring(j + o.length);
                break;
            case DIFF_EQUAL:
                o.length <= 2 * this.Patch_Margin && h && e.length != m + 1 ? (g.diffs[h++] = e[m], g.length1 += o.length, g.length2 += o.length) : o.length >= 2 * this.Patch_Margin && h && (this.patch_addContext_(g, k), f.push(g), g = new diff_match_patch.patch_obj, h = 0, k = l, i = j)
        }
        n !== DIFF_INSERT && (i += o.length), n !== DIFF_DELETE && (j += o.length)
    }
    return h && (this.patch_addContext_(g, k), f.push(g)), f
}, diff_match_patch.prototype.patch_deepCopy = function (a) {
    for (var b = [], c = 0; c < a.length; c++) {
        var d = a[c], e = new diff_match_patch.patch_obj;
        e.diffs = [];
        for (var f = 0; f < d.diffs.length; f++)e.diffs[f] = d.diffs[f].slice();
        e.start1 = d.start1, e.start2 = d.start2, e.length1 = d.length1, e.length2 = d.length2, b[c] = e
    }
    return b
}, diff_match_patch.prototype.patch_apply = function (a, b) {
    if (0 == a.length)return [b, []];
    a = this.patch_deepCopy(a);
    var c = this.patch_addPadding(a);
    b = c + b + c, this.patch_splitMax(a);
    for (var d = 0, e = [], f = 0; f < a.length; f++) {
        var g, h = a[f].start2 + d, i = this.diff_text1(a[f].diffs), j = -1;
        if (i.length > this.Match_MaxBits ? (g = this.match_main(b, i.substring(0, this.Match_MaxBits), h), -1 != g && (j = this.match_main(b, i.substring(i.length - this.Match_MaxBits), h + i.length - this.Match_MaxBits), (-1 == j || g >= j) && (g = -1))) : g = this.match_main(b, i, h), -1 == g)e[f] = !1, d -= a[f].length2 - a[f].length1; else {
            e[f] = !0, d = g - h;
            var k;
            if (k = -1 == j ? b.substring(g, g + i.length) : b.substring(g, j + this.Match_MaxBits), i == k)b = b.substring(0, g) + this.diff_text2(a[f].diffs) + b.substring(g + i.length); else {
                var l = this.diff_main(i, k, !1);
                if (i.length > this.Match_MaxBits && this.diff_levenshtein(l) / i.length > this.Patch_DeleteThreshold)e[f] = !1; else {
                    this.diff_cleanupSemanticLossless(l);
                    for (var m, n = 0, o = 0; o < a[f].diffs.length; o++) {
                        var p = a[f].diffs[o];
                        p[0] !== DIFF_EQUAL && (m = this.diff_xIndex(l, n)), p[0] === DIFF_INSERT ? b = b.substring(0, g + m) + p[1] + b.substring(g + m) : p[0] === DIFF_DELETE && (b = b.substring(0, g + m) + b.substring(g + this.diff_xIndex(l, n + p[1].length))), p[0] !== DIFF_DELETE && (n += p[1].length)
                    }
                }
            }
        }
    }
    return b = b.substring(c.length, b.length - c.length), [b, e]
}, diff_match_patch.prototype.patch_addPadding = function (a) {
    for (var b = this.Patch_Margin, c = "", d = 1; b >= d; d++)c += String.fromCharCode(d);
    for (var d = 0; d < a.length; d++)a[d].start1 += b, a[d].start2 += b;
    var e = a[0], f = e.diffs;
    if (0 == f.length || f[0][0] != DIFF_EQUAL)f.unshift([DIFF_EQUAL, c]), e.start1 -= b, e.start2 -= b, e.length1 += b, e.length2 += b; else if (b > f[0][1].length) {
        var g = b - f[0][1].length;
        f[0][1] = c.substring(f[0][1].length) + f[0][1], e.start1 -= g, e.start2 -= g, e.length1 += g, e.length2 += g
    }
    if (e = a[a.length - 1], f = e.diffs, 0 == f.length || f[f.length - 1][0] != DIFF_EQUAL)f.push([DIFF_EQUAL, c]), e.length1 += b, e.length2 += b; else if (b > f[f.length - 1][1].length) {
        var g = b - f[f.length - 1][1].length;
        f[f.length - 1][1] += c.substring(0, g), e.length1 += g, e.length2 += g
    }
    return c
}, diff_match_patch.prototype.patch_splitMax = function (a) {
    for (var b = this.Match_MaxBits, c = 0; c < a.length; c++)if (!(a[c].length1 <= b)) {
        var d = a[c];
        a.splice(c--, 1);
        for (var e = d.start1, f = d.start2, g = ""; 0 !== d.diffs.length;) {
            var h = new diff_match_patch.patch_obj, i = !0;
            for (h.start1 = e - g.length, h.start2 = f - g.length, "" !== g && (h.length1 = h.length2 = g.length, h.diffs.push([DIFF_EQUAL, g])); 0 !== d.diffs.length && h.length1 < b - this.Patch_Margin;) {
                var j = d.diffs[0][0], k = d.diffs[0][1];
                j === DIFF_INSERT ? (h.length2 += k.length, f += k.length, h.diffs.push(d.diffs.shift()), i = !1) : j === DIFF_DELETE && 1 == h.diffs.length && h.diffs[0][0] == DIFF_EQUAL && k.length > 2 * b ? (h.length1 += k.length, e += k.length, i = !1, h.diffs.push([j, k]), d.diffs.shift()) : (k = k.substring(0, b - h.length1 - this.Patch_Margin), h.length1 += k.length, e += k.length, j === DIFF_EQUAL ? (h.length2 += k.length, f += k.length) : i = !1, h.diffs.push([j, k]), k == d.diffs[0][1] ? d.diffs.shift() : d.diffs[0][1] = d.diffs[0][1].substring(k.length))
            }
            g = this.diff_text2(h.diffs), g = g.substring(g.length - this.Patch_Margin);
            var l = this.diff_text1(d.diffs).substring(0, this.Patch_Margin);
            "" !== l && (h.length1 += l.length, h.length2 += l.length, 0 !== h.diffs.length && h.diffs[h.diffs.length - 1][0] === DIFF_EQUAL ? h.diffs[h.diffs.length - 1][1] += l : h.diffs.push([DIFF_EQUAL, l])), i || a.splice(++c, 0, h)
        }
    }
}, diff_match_patch.prototype.patch_toText = function (a) {
    for (var b = [], c = 0; c < a.length; c++)b[c] = a[c];
    return b.join("")
}, diff_match_patch.prototype.patch_fromText = function (a) {
    var b = [];
    if (!a)return b;
    for (var c = a.split("\n"), d = 0, e = /^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/; d < c.length;) {
        var f = c[d].match(e);
        if (!f)throw new Error("Invalid patch string: " + c[d]);
        var g = new diff_match_patch.patch_obj;
        for (b.push(g), g.start1 = parseInt(f[1], 10), "" === f[2] ? (g.start1--, g.length1 = 1) : "0" == f[2] ? g.length1 = 0 : (g.start1--, g.length1 = parseInt(f[2], 10)), g.start2 = parseInt(f[3], 10), "" === f[4] ? (g.start2--, g.length2 = 1) : "0" == f[4] ? g.length2 = 0 : (g.start2--, g.length2 = parseInt(f[4], 10)), d++; d < c.length;) {
            var h = c[d].charAt(0);
            try {
                var i = decodeURI(c[d].substring(1))
            } catch (j) {
                throw new Error("Illegal escape in patch_fromText: " + i)
            }
            if ("-" == h)g.diffs.push([DIFF_DELETE, i]); else if ("+" == h)g.diffs.push([DIFF_INSERT, i]); else if (" " == h)g.diffs.push([DIFF_EQUAL, i]); else {
                if ("@" == h)break;
                if ("" !== h)throw new Error('Invalid patch mode "' + h + '" in: ' + i)
            }
            d++
        }
    }
    return b
}, diff_match_patch.patch_obj = function () {
    this.diffs = [], this.start1 = null, this.start2 = null, this.length1 = 0, this.length2 = 0
}, diff_match_patch.patch_obj.prototype.toString = function () {
    var a, b;
    a = 0 === this.length1 ? this.start1 + ",0" : 1 == this.length1 ? this.start1 + 1 : this.start1 + 1 + "," + this.length1, b = 0 === this.length2 ? this.start2 + ",0" : 1 == this.length2 ? this.start2 + 1 : this.start2 + 1 + "," + this.length2;
    for (var c, d = ["@@ -" + a + " +" + b + " @@\n"], e = 0; e < this.diffs.length; e++) {
        switch (this.diffs[e][0]) {
            case DIFF_INSERT:
                c = "+";
                break;
            case DIFF_DELETE:
                c = "-";
                break;
            case DIFF_EQUAL:
                c = " "
        }
        d[e + 1] = c + encodeURI(this.diffs[e][1]) + "\n"
    }
    return d.join("").replace(/%20/g, " ")
}, this.diff_match_patch = diff_match_patch, this.DIFF_DELETE = DIFF_DELETE, this.DIFF_INSERT = DIFF_INSERT, this.DIFF_EQUAL = DIFF_EQUAL, function (a) {
    a(["jquery"], function (a) {
        return function () {
            function b(a, b, c) {
                return o({type: v.error, iconClass: p().iconClasses.error, message: a, optionsOverride: c, title: b})
            }

            function c(b, c) {
                return b || (b = p()), r = a("#" + b.containerId), r.length ? r : (c && (r = l(b)), r)
            }

            function d(a, b, c) {
                return o({type: v.info, iconClass: p().iconClasses.info, message: a, optionsOverride: c, title: b})
            }

            function e(a) {
                s = a
            }

            function f(a, b, c) {
                return o({
                    type: v.success,
                    iconClass: p().iconClasses.success,
                    message: a,
                    optionsOverride: c,
                    title: b
                })
            }

            function g(a, b, c) {
                return o({
                    type: v.warning,
                    iconClass: p().iconClasses.warning,
                    message: a,
                    optionsOverride: c,
                    title: b
                })
            }

            function h(a, b) {
                var d = p();
                r || c(d), k(a, d, b) || j(d)
            }

            function i(b) {
                var d = p();
                return r || c(d), b && 0 === a(":focus", b).length ? void q(b) : void(r.children().length && r.remove())
            }

            function j(b) {
                for (var c = r.children(), d = c.length - 1; d >= 0; d--)k(a(c[d]), b)
            }

            function k(b, c, d) {
                var e = d && d.force ? d.force : !1;
                return b && (e || 0 === a(":focus", b).length) ? (b[c.hideMethod]({
                    duration: c.hideDuration,
                    easing: c.hideEasing,
                    complete: function () {
                        q(b)
                    }
                }), !0) : !1
            }

            function l(b) {
                return r = a("<div/>").attr("id", b.containerId).addClass(b.positionClass).attr("aria-live", "polite").attr("role", "alert"), r.appendTo(a(b.target)), r
            }

            function m() {
                return {
                    tapToDismiss: !0,
                    toastClass: "toast",
                    containerId: "toast-container",
                    debug: !1,
                    showMethod: "fadeIn",
                    showDuration: 300,
                    showEasing: "swing",
                    onShown: void 0,
                    hideMethod: "fadeOut",
                    hideDuration: 1e3,
                    hideEasing: "swing",
                    onHidden: void 0,
                    extendedTimeOut: 1e3,
                    iconClasses: {
                        error: "toast-error",
                        info: "toast-info",
                        success: "toast-success",
                        warning: "toast-warning"
                    },
                    iconClass: "toast-info",
                    positionClass: "toast-top-right",
                    timeOut: 5e3,
                    titleClass: "toast-title",
                    messageClass: "toast-message",
                    target: "body",
                    closeHtml: '<button type="button">&times;</button>',
                    newestOnTop: !0,
                    preventDuplicates: !1,
                    progressBar: !1
                }
            }

            function n(a) {
                s && s(a)
            }

            function o(b) {
                function d() {
                    g(), i(), j(), k(), l(), h()
                }

                function e() {
                    A.hover(v, s), !x.onclick && x.tapToDismiss && A.click(o), x.closeButton && E && E.click(function (a) {
                        a.stopPropagation ? a.stopPropagation() : void 0 !== a.cancelBubble && a.cancelBubble !== !0 && (a.cancelBubble = !0), o(!0)
                    }), x.onclick && A.click(function () {
                        x.onclick(), o()
                    })
                }

                function f() {
                    A.hide(), A[x.showMethod]({
                        duration: x.showDuration,
                        easing: x.showEasing,
                        complete: x.onShown
                    }), x.timeOut > 0 && (z = setTimeout(o, x.timeOut), F.maxHideTime = parseFloat(x.timeOut), F.hideEta = (new Date).getTime() + F.maxHideTime, x.progressBar && (F.intervalId = setInterval(w, 10)))
                }

                function g() {
                    b.iconClass && A.addClass(x.toastClass).addClass(y)
                }

                function h() {
                    x.newestOnTop ? r.prepend(A) : r.append(A)
                }

                function i() {
                    b.title && (B.append(b.title).addClass(x.titleClass), A.append(B))
                }

                function j() {
                    b.message && (C.append(b.message).addClass(x.messageClass), A.append(C))
                }

                function k() {
                    x.closeButton && (E.addClass("toast-close-button").attr("role", "button"), A.prepend(E))
                }

                function l() {
                    x.progressBar && (D.addClass("toast-progress"), A.prepend(D))
                }

                function m(a, b) {
                    if (a.preventDuplicates) {
                        if (b.message === t)return !0;
                        t = b.message
                    }
                    return !1
                }

                function o(b) {
                    return !a(":focus", A).length || b ? (clearTimeout(F.intervalId), A[x.hideMethod]({
                        duration: x.hideDuration,
                        easing: x.hideEasing,
                        complete: function () {
                            q(A), x.onHidden && "hidden" !== G.state && x.onHidden(), G.state = "hidden", G.endTime = new Date, n(G)
                        }
                    })) : void 0
                }

                function s() {
                    (x.timeOut > 0 || x.extendedTimeOut > 0) && (z = setTimeout(o, x.extendedTimeOut), F.maxHideTime = parseFloat(x.extendedTimeOut), F.hideEta = (new Date).getTime() + F.maxHideTime)
                }

                function v() {
                    clearTimeout(z), F.hideEta = 0, A.stop(!0, !0)[x.showMethod]({
                        duration: x.showDuration,
                        easing: x.showEasing
                    })
                }

                function w() {
                    var a = (F.hideEta - (new Date).getTime()) / F.maxHideTime * 100;
                    D.width(a + "%")
                }

                var x = p(), y = b.iconClass || x.iconClass;
                if ("undefined" != typeof b.optionsOverride && (x = a.extend(x, b.optionsOverride), y = b.optionsOverride.iconClass || y), !m(x, b)) {
                    u++, r = c(x, !0);
                    var z = null, A = a("<div/>"), B = a("<div/>"), C = a("<div/>"), D = a("<div/>"), E = a(x.closeHtml), F = {
                        intervalId: null,
                        hideEta: null,
                        maxHideTime: null
                    }, G = {toastId: u, state: "visible", startTime: new Date, options: x, map: b};
                    return d(), f(), e(), n(G), x.debug && console && console.log(G), A
                }
            }

            function p() {
                return a.extend({}, m(), w.options)
            }

            function q(a) {
                r || (r = c()), a.is(":visible") || (a.remove(), a = null, 0 === r.children().length && (r.remove(), t = void 0))
            }

            var r, s, t, u = 0, v = {
                error: "error",
                info: "info",
                success: "success",
                warning: "warning"
            }, w = {
                clear: h,
                remove: i,
                error: b,
                getContainer: c,
                info: d,
                options: {},
                subscribe: e,
                success: f,
                version: "2.1.1",
                warning: g
            };
            return w
        }()
    })
}("function" == typeof define && define.amd ? define : function (a, b) {
    "undefined" != typeof module && module.exports ? module.exports = b(require("jquery")) : window.toastr = b(window.jQuery)
});